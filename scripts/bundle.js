!function r(n,s,o){function a(e,t){if(!s[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw(i=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",i}i=s[e]={exports:{}},n[e][0].call(i.exports,function(t){return a(n[e][1][t]||t)},i,i.exports,r,n,s,o)}return s[e].exports}for(var l="function"==typeof require&&require,t=0;t<o.length;t++)a(o[t]);return a}({1:[function(t,e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=t("@pixi/math");!function(t){t[t.HORIZONTAL=0]="HORIZONTAL";t[t.VERTICAL=1]="VERTICAL"}(l.AreaOrientation||(l.AreaOrientation={}));class h{static makeArea(t,e,i){return t|e<<15|i<<30}static getOpenOffset(t){return 32767&t}static getCloseOffset(t){return t>>15&32767}static getOrientation(t){return t>>30&1}static setOpenOffset(t,e){return h.makeArea(e,h.getCloseOffset(t),h.getOrientation(t))}static setCloseOffset(t,e){return h.makeArea(h.getOpenOffset(e),e,h.getOrientation(t))}}!function(t){t[t.HOR=0]="HOR";t[t.VERT=1]="VERT";t[t.NONE=2]="NONE"}(l.SPLIT_ORIENTATION||(l.SPLIT_ORIENTATION={}));const c=new o.Rectangle;l.Area=h,l.GuilloteneAllocator=class{constructor(t,e){this._width=t,this._height=e,this._root=[null,h.makeArea(0,this._height,l.AreaOrientation.HORIZONTAL),!1]}allocate(t,e,i){var r=this.findArea(t,e);if(!r)return null;i=i||new o.Rectangle,this.getFrame(r,i);e=new o.Rectangle(i.x,i.y,t,e),r=this.split(r,i,e);return i.copyFrom(e),i.__mem_area=r,i}free(t){const e=t.__mem_area;e[2]=!1,this.merge(e)}get width(){return this._width}get height(){return this._height}getAreaField(t){return t[1]}getFrame(t,e){e=e||new o.Rectangle;var i=this.getAreaField(t),r=this.getParent(t),n=h.getOrientation(i),s=h.getOpenOffset(i),t=h.getCloseOffset(i),i=r?h.getOpenOffset(r[1]):0,r=r?h.getCloseOffset(r[1]):this._width;return n?(e.x=s,e.y=i,e.width=t-e.x,e.height=r-i):(e.x=i,e.y=s,e.width=r-e.x,e.height=t-e.y),e}getParent(t){return t[0]}hasChildren(t){return Array.isArray(t[2])&&0!==t[2].length}getChildren(t){if(!Array.isArray(t[2]))throw new Error("Children don't exist");return t[2]}addChild(t,...e){t[2]=Array.isArray(t[2])?t[2]:[],t[2].push(...e)}findArea(t,e){return this.findAreaRecursive(this._root,t,e)}findAreaRecursive(t,i,r){var e=this.getFrame(t,c);if(e.width<i||e.height<r)return null;if(!this.hasChildren(t)){var n=e.width-i,e=e.height-r;return n<0||e<0||t[2]?null:t}var s=this.getChildren(t);let o=null,a=1/0;for(let t=0,e=s.length;t<e;t++){var l=this.findAreaRecursive(s[t],i,r);if(l){var h=this.getFrame(l,c),u=h.width-i,h=h.height-r;if(!(u<0||h<0)){if(!u&&!h)return l;h=Math.min(u,h);a>h&&(o=l,a=h)}}}return o}splitOrientation(t,e){if(e.width===t.width&&e.height===t.height)return l.SPLIT_ORIENTATION.NONE;if(e.width===t.width)return l.SPLIT_ORIENTATION.VERT;if(e.height===t.height)return l.SPLIT_ORIENTATION.HOR;var i=Math.abs((t.width-e.width)*t.height-e.width*(t.height-e.height));return Math.abs(t.width*(t.height-e.height)-(t.width-e.width)*e.height)<i?l.SPLIT_ORIENTATION.HOR:l.SPLIT_ORIENTATION.VERT}split(t,e,i,r=this.getParent(t)?this.splitOrientation(e,i):l.SPLIT_ORIENTATION.HOR){if(!0===t[2])throw new Error("Cannot deallocate");return r===l.SPLIT_ORIENTATION.NONE?(t[2]=!0,t):this[r===l.SPLIT_ORIENTATION.HOR?"splitPrimaryHorizontal":"splitPrimaryVertical"](t,e,i)}splitPrimaryHorizontal(t,e,i){var r=this.getAreaField(t),n=h.getOrientation(r),r=this.getParent(t);if(this.hasChildren(t))throw new Error("Can't split non-leaf node");const s=[t,h.makeArea(e.left,e.x+i.width,l.AreaOrientation.VERTICAL),[]],o=[t,h.makeArea(e.x+i.width,e.right,l.AreaOrientation.VERTICAL),!1];if(n===l.AreaOrientation.HORIZONTAL?this.addChild(t,s,o):(a=this.getChildren(r).indexOf(t),s[0]=r,o[0]=r,this.getChildren(r).splice(a,1,s,o)),i.height===e.height)return s[2]=!0,s;var a=[s,h.makeArea(e.top,e.y+i.height,l.AreaOrientation.HORIZONTAL),!0],e=[s,h.makeArea(e.y+i.height,e.bottom,l.AreaOrientation.HORIZONTAL),!1];return this.addChild(s,a,e),a}splitPrimaryVertical(t,e,i){var r=this.getAreaField(t),n=h.getOrientation(r),r=this.getParent(t);if(this.hasChildren(t))throw new Error("Can't split non-leaf node");const s=[t,h.makeArea(e.top,e.y+i.height,l.AreaOrientation.HORIZONTAL),[]],o=[t,h.makeArea(e.y+i.height,e.bottom,l.AreaOrientation.HORIZONTAL),!1];if(n===l.AreaOrientation.VERTICAL?this.addChild(t,s,o):(a=this.getChildren(r).indexOf(t),s[0]=r,o[0]=r,this.getChildren(r).splice(a,1,s,o)),i.width===e.height)return s[2]=!0,s;var a=[s,h.makeArea(e.left,e.x+i.width,l.AreaOrientation.VERTICAL),!0],e=[s,h.makeArea(e.x+i.width,e.right,l.AreaOrientation.VERTICAL),!1];return this.addChild(s,a,e),a}merge(t){if(this.hasChildren(t))throw new Error("Cannot merge a non-leaf node");const e=this.getParent(t);if(e){const s=this.getChildren(e);var i=s.indexOf(t),r=s[i-1],n=s[i+1];n&&!1===n[2]&&(t[1]=h.setCloseOffset(t[1],h.getCloseOffset(n[1])),s.splice(i+1,1)),r&&!1===r[2]&&(t[1]=h.setOpenOffset(t[1],h.getOpenOffset(r[1])),s.splice(i-1,1)),1===s.length&&(e[2]=!1,this.merge(e))}}printState(t){this.hasChildren(t)&&this.getChildren(t).forEach(t=>this.printState(t))}}},{"@pixi/math":23}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=new(t("@pixi/math").Rectangle);i.Cull=class{constructor(t={}){this._recursive="boolean"!=typeof t.recursive||t.recursive,this._toggle=t.toggle||"visible",this._targetList=new Set}add(t){return this._targetList.add(t),this}addAll(i){for(let t=0,e=i.length;t<e;t++)this._targetList.add(i[t]);return this}remove(t){return this._targetList.delete(t),this}removeAll(i){for(let t=0,e=i.length;t<e;t++)this._targetList.delete(i[t]);return this}clear(){return this._targetList.clear(),this}cull(e,i=!1){return i||this.uncull(),this._targetList.forEach(t=>{i||t.getBounds(!1,n),this._recursive?this.cullRecursive(e,t,i):(i&&t._bounds.getRectangle(e),t[this._toggle]=n.right>e.left&&n.left<e.right&&n.bottom>e.top&&n.top<e.bottom)}),this}uncull(){return this._targetList.forEach(t=>{this._recursive?this.uncullRecursive(t):t[this._toggle]=!1}),this}cullRecursive(i,t,e){e=e?t._bounds.getRectangle(n):t.getBounds(!0,n);if(t[this._toggle]=e.right>i.left&&e.left<i.right&&e.bottom>i.top&&e.top<i.bottom,!(e.left>=i.left&&e.top>=i.top&&e.right<=i.right&&e.bottom<=i.bottom)&&t[this._toggle]&&t.children&&t.children.length){var r=t.children;for(let t=0,e=r.length;t<e;t++)this.cullRecursive(i,r[t])}}uncullRecursive(t){if(t[this._toggle]=!0,t.children&&t.children.length){var i=t.children;for(let t=0,e=i.length;t<e;t++)this.uncullRecursive(i[t])}}}},{"@pixi/math":23}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/math"),y=t("@pixi/core"),_=t("@pixi/sprite");function g(t){let e=t.toString(16);for(;e.length<6;)e="0"+e;return"#"+e}const v=new r.Rectangle,b=new r.Rectangle;i.GradientFactory=class{static createLinearGradient(t,e,i){const{x0:r,y0:n,x1:s,y1:o,colorStops:a}=i,l=document.createElement("canvas");l.width=e.width,l.height=e.height;const h=l.getContext("2d"),u=h.createLinearGradient(r,n,s,o);a.forEach(t=>{u.addColorStop(t.offset,g(t.color))}),h.fillStyle=u,h.fillRect(0,0,e.width,e.height);var c=t.renderTexture.current,d=v.copyFrom(t.renderTexture.sourceFrame),i=b.copyFrom(t.renderTexture.destinationFrame);const f=new _.Sprite(y.Texture.from(l));return t.batch.flush(),t.renderTexture.bind(e),f.render(t),t.batch.flush(),t.renderTexture.bind(c,d,i),e}static createRadialGradient(t,e,i){const{x0:r,y0:n,r0:s,x1:o,y1:a,r1:l,colorStops:h}=i,u=document.createElement("canvas");u.width=e.width,u.height=e.height;const c=u.getContext("2d"),d=c.createRadialGradient(r,n,s,o,a,l);h.forEach(t=>{d.addColorStop(t.offset,g(t.color))}),c.fillStyle=d,c.fillRect(0,0,e.width,e.height);var f=t.renderTexture.current,p=v.copyFrom(t.renderTexture.sourceFrame),i=b.copyFrom(t.renderTexture.destinationFrame);const m=new _.Sprite(y.Texture.from(u));return t.batch.flush(),t.renderTexture.bind(e),m.render(t),t.batch.flush(),t.renderTexture.bind(f,p,i),e}}},{"@pixi/core":10,"@pixi/math":23,"@pixi/sprite":36}],4:[function(t,e,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var i=t("tinycolor2"),r=t("@pixi-essentials/gradients"),n=t("@pixi/display"),D=t("@pixi/graphics"),x=t("@pixi/math"),E=t("@pixi/core"),s=t("libtess"),o=t("d-path-parser"),a=t("@pixi-essentials/texture-allocator"),l=t("@pixi-essentials/cull"),h=t("@pixi/sprite"),u=t("@pixi/filter-color-matrix"),d=t("@pixi/text");function f(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function p(i){if(i&&i.__esModule)return i;var r=Object.create(null);return i&&Object.keys(i).forEach(function(t){var e;"default"!==t&&(e=Object.getOwnPropertyDescriptor(i,t),Object.defineProperty(r,t,e.get?e:{enumerable:!0,get:function(){return i[t]}}))}),r.default=i,Object.freeze(r)}var m,y=f(i),_=p(s),g=f(o);const v=new Map;async function S(t){const e=new URL(t,document.baseURI);t=e.host+e.pathname;let i=v.get(t);return i||(i=await fetch(e.toString()).then(t=>t.text()).then(t=>(new DOMParser).parseFromString(t,"image/svg+xml").documentElement),v.set(t,i)),i}class A{constructor(t,e){this.parent=t,this.provider=e}get dirtyId(){return this.parent.dirtyId+this.provider.dirtyId}get fill(){return(null!==this.provider.fill?this.provider:this.parent).fill}get opacity(){return("number"==typeof this.provider.opacity?this.provider:this.parent).opacity}get stroke(){return(null!==this.provider.stroke?this.provider:this.parent).stroke}get strokeDashArray(){return(Array.isArray(this.provider.strokeDashArray)?this.provider:this.parent).strokeDashArray}get strokeDashOffset(){return("number"==typeof this.provider.strokeDashOffset?this.provider:this.parent).strokeDashOffset}get strokeLineCap(){return("string"==typeof this.provider.strokeLineCap?this.provider:this.parent).strokeLineCap}get strokeLineJoin(){return("string"==typeof this.provider.strokeLineJoin?this.provider:this.parent).strokeLineJoin}get strokeMiterLimit(){return("number"==typeof this.provider.strokeMiterLimit?this.provider:this.parent).strokeMiterLimit}get strokeWidth(){return("number"==typeof this.provider.strokeWidth?this.provider:this.parent).strokeWidth}}class b{__init(){this.dirtyId=0}constructor(t){b.prototype.__init.call(this);var e=(this.element=t).getAttribute("fill"),i=t.getAttribute("opacity"),r=t.getAttribute("stroke"),n=t.getAttribute("stroke-dasharray"),s=t.getAttribute("stroke-dashoffset"),o=t.getAttribute("stroke-linecap"),a=t.getAttribute("stroke-linejoin"),l=t.getAttribute("stroke-miterlimit"),h=t.getAttribute("stroke-width");this.fill=null!==e?"none"===e?"none":b.parseColor(e):null,this.opacity=i&&parseFloat(i),this.stroke=r&&b.parseColor(t.getAttribute("stroke")),this.strokeDashArray=n&&function(t){let e=void 0,i=t[0],r=1;for(;r<t.length;){var n=t[r];const s=t[r+1];if(r+=2,("optionalAccess"===n||"optionalCall"===n)&&null==i)return;"access"===n||"optionalAccess"===n?(e=i,i=s(i)):"call"!==n&&"optionalCall"!==n||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}([n,"optionalAccess",t=>t.split,"call",t=>t(/[, ]+/g),"access",t=>t.map,"call",t=>t(t=>parseFloat(t.trim()))]),this.strokeDashOffset=s&&parseFloat(s),this.strokeLineCap=o,this.strokeLineJoin=a,this.strokeMiterLimit=l&&parseFloat(l),this.strokeWidth=h&&parseFloat(h)}static parseColor(t){if(!t)return 0;if("none"===t||t.startsWith("url"))return t;if("#"===t[0])return 3===(t=t.substr(1)).length&&(t=t.replace(/([a-f0-9])/gi,"$1$1")),parseInt(t,16);var{r:e,g:i,b:t}=y.default(t).toRgb();return(e<<16)+(i<<8)+t}}function T(t){t.x1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.y1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.x2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.y2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE)}class P{constructor(t,e){this.paintServer=t,this.paintTexture=e,this.paintContexts={},this.dirtyId=0}resolvePaint(t){var e=this.paintContexts[t.CONTEXT_UID],i=this.dirtyId;(void 0===e||e<i)&&(this.updatePaint(t),this.paintContexts[t.CONTEXT_UID]=i)}resolvePaintDimensions(i){var r=Math.ceil(i.width),n=Math.ceil(i.height),s=r/n,o=this.paintServer;const a=this.paintTexture;if(o instanceof SVGLinearGradientElement){T(o);var l=o.children,h=o.x1.baseVal.valueInSpecifiedUnits,u=o.y1.baseVal.valueInSpecifiedUnits,i=o.x2.baseVal.valueInSpecifiedUnits,o=o.y2.baseVal.valueInSpecifiedUnits,h=Math.atan2(o-u,i-h),l=1===l.length?2:64;let t=Math.max(1,l*Math.cos(h)),e=Math.max(1,l*Math.sin(h));if(t<r&&e<n)return.01<Math.abs(h)&&.01<Math.abs(h)%(Math.PI/2)&&(s<t/e?e=t/s:t=s*e),void a.resize(t,e,!0)}a.resize(r,n,!0)}updatePaint(t){this.paintServer instanceof SVGLinearGradientElement?this.linearGradient(t):this.paintServer instanceof SVGRadialGradientElement&&this.radialGradient(t)}linearGradient(t){var e=this.paintServer,i=this.paintTexture;return T(e),r.GradientFactory.createLinearGradient(t,i,{x0:e.x1.baseVal.valueInSpecifiedUnits*i.width/100,y0:e.y1.baseVal.valueInSpecifiedUnits*i.height/100,x1:e.x2.baseVal.valueInSpecifiedUnits*i.width/100,y1:e.y2.baseVal.valueInSpecifiedUnits*i.height/100,colorStops:this.createColorStops(e.children)})}radialGradient(t){const e=this.paintServer;var i=this.paintTexture;return e.fx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.fy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),r.GradientFactory.createRadialGradient(t,i,{x0:e.fx.baseVal.valueInSpecifiedUnits*i.width/100,y0:e.fy.baseVal.valueInSpecifiedUnits*i.height/100,r0:e.fr.baseVal.valueInSpecifiedUnits*i.width/100,x1:e.cx.baseVal.valueInSpecifiedUnits*i.height/100,y1:e.cy.baseVal.valueInSpecifiedUnits*i.width/100,r1:e.r.baseVal.valueInSpecifiedUnits*i.width/100,colorStops:this.createColorStops(e.children)})}createColorStops(i){const r=[];for(let t=0,e=i.length;t<e;t++){const n=i.item(t);r.push({offset:n.offset.baseVal,color:b.parseColor(n.getAttribute("stop-color"))})}return r}}c.FILL_RULE=void 0,function(t){t.NONZERO="nonzero";t.EVENODD="evenodd"}(c.FILL_RULE||(c.FILL_RULE={}));class w{__init(){this.bounds=new n.Bounds}constructor(){w.prototype.__init.call(this),this.contours=[],this.fillRule=c.FILL_RULE.NONZERO,this.type=100,this.dirty=!0}get points(){return this.contours.length||this.contours.push([]),this.contours[this.contours.length-1]}contains(t,e){this.dirty&&(this.calculateBounds(),this.dirty=!1);var i=this.bounds;return!(t<i.minX||e<i.minY||t>i.maxX||e>i.maxY)&&(this.fillRule===c.FILL_RULE.EVENODD?this.hitEvenOdd(t,e):this.fillRule===c.FILL_RULE.NONZERO&&this.hitNonZero(t,e))}clone(){var t=this.contours.map(t=>[...t]);const e=new w;return e.contours=t,e.fillRule=this.fillRule,e}closeContour(){0!==this.points.length&&this.contours.push([])}invalidate(){this.dirty=!0}toString(){return"[@pixi-essentials/svg:Path Don't expect points to be printed :P]"}calculateBounds(){const t=this.bounds;let i=1/0,r=1/0,n=-1/0,s=-1/0;for(const l of this.contours)for(let t=0,e=l.length;t<e;){var o=l[t++],a=l[t++];i=o<i?o:i,r=a<r?a:r,n=o>n?o:n,s=a>s?a:s}t.minX=i,t.minY=r,t.maxX=n,t.maxY=s}hitEvenOdd(i,r){let n=0;for(const h of this.contours)for(let t=0,e=h.length;t<e;){var s=h[t++],o=h[t++],a=h[t%h.length],l=h[(t+1)%h.length];(o<r&&r<l||r<o&&l<r)&&i<s+(r-o)/(l-o)*(a-s)&&++n}return!!(n%2)}hitNonZero(i,r){let n=0;for(const h of this.contours)for(let t=0,e=h.length;t<e;){var s=h[t++],o=h[t++],a=h[t%h.length],l=h[(t+1)%h.length];o<=r?r<l&&0<O(i,r,s,o,a,l)&&++n:l<=r&&O(i,r,s,o,a,l)<0&&--n}return 0!==n}}function O(t,e,i,r,n,s){return(n-i)*(e-r)-(t-i)*(s-r)}function N(t,e,i,r,n,s,o,a){let l,h;h=o?(l=r,-i):(l=-r,i);o=t-i*n+l,n=e-r*n+h,i=t+i*s+l,s=e+r*s+h;return a.push(o,n),a.push(i,s),2}function F(i,r,t,e,n,s,o,a){var l=t-i,h=e-r;let u=Math.atan2(l,h),c=Math.atan2(n-i,s-r);a&&u<c?u+=2*Math.PI:!a&&u>c&&(c+=2*Math.PI);var d=u,f=c-u,p=Math.abs(f),m=Math.sqrt(l*l+h*h),y=1+(15*p*Math.sqrt(m)/Math.PI>>0),_=f/y;if(d+=_,a){o.push(i,r),o.push(t,e);for(let t=1,e=d;t<y;t++,e+=_)o.push(i,r),o.push(i+Math.sin(e)*m,r+Math.cos(e)*m);o.push(i,r),o.push(n,s)}else{o.push(t,e),o.push(i,r);for(let t=1,e=d;t<y;t++,e+=_)o.push(i+Math.sin(e)*m,r+Math.cos(e)*m),o.push(i,r);o.push(n,s),o.push(i,r)}return 2*y}function R(e,i,t){const r=t.points;var n=e.length/2;let s=e.length;var o=r.length/2,a=i.width/2,l=a*a,h=i.miterLimit*i.miterLimit;let u=e[0],c=e[1],d=e[2],f=e[3],p=0,m=0,y=-(c-f),_=u-d;var g,v;let b=Math.sqrt(y*y+_*_);y/=b,_/=b,y*=a,_*=a;var T=i.alignment,x=2*(1-T),E=2*T;i.cap===D.LINE_CAP.ROUND?s+=F(u-y*(x-E)*.5,c-_*(x-E)*.5,u-y*x,c-_*x,u+y*E,c+_*E,r,!0)+2:i.cap===D.LINE_CAP.SQUARE&&(s+=N(u,c,y,_,x,E,!0,r)),r.push(u-y*x,c-_*x),r.push(u+y*E,c+_*E);for(let t=1;t<n-1;++t){u=e[2*(t-1)],c=e[2*(t-1)+1],d=e[2*t],f=e[2*t+1],p=e[2*(t+1)],m=e[2*(t+1)+1],y=-(c-f),_=u-d,b=Math.sqrt(y*y+_*_),y/=b,_/=b,y*=a,_*=a,g=-(f-m),v=d-p,b=Math.sqrt(g*g+v*v),g/=b,v/=b,g*=a,v*=a;var S,A=d-u,P=c-f,w=d-p,O=m-f,R=P*w-O*A,M=R<0;Math.abs(R)<.1?(r.push(d-y*x,f-_*x),r.push(d+y*E,f+_*E)):(P=(O*(S=(-y+u)*(-_+f)-(-y+d)*(-_+c))-P*(O=(-g+p)*(-v+f)-(-g+d)*(-v+m)))/R,w=((O=(A*O-w*S)/R)-d)*(O-d)+(P-f)*(P-f),S=d+(O-d)*x,R=f+(P-f)*x,O=d-(O-d)*E,P=f-(P-f)*E,i.join===D.LINE_JOIN.BEVEL||h<w/l?(M?(r.push(S,R),r.push(d+y*E,f+_*E),r.push(S,R),r.push(d+g*E,f+v*E)):(r.push(d-y*x,f-_*x),r.push(O,P),r.push(d-g*x,f-v*x),r.push(O,P)),s+=2):i.join===D.LINE_JOIN.ROUND?M?(r.push(S,R),r.push(d+y*E,f+_*E),s+=F(d,f,d+y*E,f+_*E,d+g*E,f+v*E,r,!0)+4,r.push(S,R),r.push(d+g*E,f+v*E)):(r.push(d-y*x,f-_*x),r.push(O,P),s+=F(d,f,d-y*x,f-_*x,d-g*x,f-v*x,r,!1)+4,r.push(d-g*x,f-v*x),r.push(O,P)):(r.push(S,R),r.push(O,P)))}u=e[2*(n-2)],c=e[2*(n-2)+1],d=e[2*(n-1)],f=e[2*(n-1)+1],y=-(c-f),_=u-d,b=Math.sqrt(y*y+_*_),y/=b,_/=b,y*=a,_*=a,r.push(d-y*x,f-_*x),r.push(d+y*E,f+_*E),i.cap===D.LINE_CAP.ROUND?s+=F(d-y*(x-E)*.5,f-_*(x-E)*.5,d-y*x,f-_*x,d+y*E,f+_*E,r,!1)+2:i.cap===D.LINE_CAP.SQUARE&&(s+=N(d,f,y,_,x,E,!1,r));const C=t.indices;var I=D.GRAPHICS_CURVES.epsilon*D.GRAPHICS_CURVES.epsilon;for(let t=o;t<s+o-2;++t)u=r[2*t],c=r[2*t+1],d=r[2*(t+1)],f=r[2*(t+1)+1],p=r[2*(t+2)],m=r[2*(t+2)+1],Math.abs(u*(f-m)+d*(m-c)+p*(c-f))<I||C.push(t,t+1,t+2)}function M(t){return t%2==0}function C(t,n){const e=t.shape;let s=t.points||e.points.slice();var o=n.closePointEps;if(0!==s.length){var a=new x.Point(s[0],s[1]);const _=new x.Point(s[s.length-2],s[s.length-1]);var l=e.type!==x.SHAPES.POLY||e.closeStroke,o=Math.abs(a.x-_.x)<o&&Math.abs(a.y-_.y)<o;l&&(s=s.slice(),o&&(s.pop(),s.pop(),_.set(s[s.length-2],s[s.length-1])),o=.5*(a.x+_.x),a=.5*(_.y+a.y),s.unshift(o,a),s.push(o,a));var h=t.lineStyle;let i=h.dashOffset||0;var u=h.dashArray||[10,5],c=s.length/2-1;const g=new x.Point,v=new x.Point,b=[],T=new x.Point;let r=0;b.push(s[0],s[1]);for(let e=0;e<c;e++){g.set(s[2*e],s[2*e+1]),v.set(s[2*e+2],s[2*e+3]);var d=(d=g,f=v,Math.sqrt((d.x-f.x)**2+(d.y-f.y)**2)),f=Math.atan2(v.y-g.y,v.x-g.x),p=Math.sin(f),m=Math.cos(f);let t=d;for(T.copyFrom(g);t>=u[r]-i;){var y=u[r]-i;T.x+=m*y,T.y+=p*y,b.push(T.x,T.y),M(r)&&(R(b,h,n),b.length=0),t-=y,r=(r+1)%u.length,i=0}0<t&&(M(r)&&b.push(v.x,v.y),i+=t)}M(r)&&R(b,h,n)}}const I=new n.Bounds;!function(t){t[t.POLY=0]="POLY";t[t.RECT=1]="RECT";t[t.CIRC=2]="CIRC";t[t.ELIP=3]="ELIP";t[t.RREC=4]="RREC"}(m=m||{});class k extends D.GraphicsGeometry{processLine(t){100!==t.shape.type?t.lineStyle.dashArray?C(t,this):super.processLine(t):this.processPathLine(t)}processPathLine(t){const e=t.shape,i=t.lineStyle;e.contours.forEach(t=>{void 0===t.find(t=>isNaN(t))&&(i.dashArray?C({points:t,holes:[],shape:{points:t,type:m.POLY},lineStyle:i},this):super.processLine({closeStroke:!0,points:t.slice(),holes:[],shape:{points:t,type:m.POLY},lineStyle:i}))})}calculateBounds(){const i=this._bounds,r=I;let n=x.Matrix.IDENTITY;this._bounds.clear(),r.clear();for(let e=0;e<this.graphicsData.length;e++){var s=this.graphicsData[e],o=s.shape,a=s.type,l=s.lineStyle,h=s.matrix||x.Matrix.IDENTITY;let t=0;if(l&&l.visible&&(s=l.alignment,t=l.width,a===m.POLY?t*=.5+Math.abs(.5-s):t*=Math.max(0,s)),n!==h&&(r.isEmpty()||(i.addBoundsMatrix(r,n),r.clear()),n=h),a===m.RECT||a===m.RREC)r.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,t,t);else if(a===m.CIRC)r.addFramePad(o.x,o.y,o.x,o.y,o.radius+t,o.radius+t);else if(a===m.ELIP)r.addFramePad(o.x,o.y,o.x,o.y,o.width+t,o.height+t);else if(100===a){const u=o;u.contours.forEach(t=>{i.addVerticesMatrix(x.Matrix.IDENTITY,new Float32Array(t),0,t.length)})}else i.addVerticesMatrix(n,o.points,0,o.points.length,t,t)}r.isEmpty()||i.addBoundsMatrix(r,n),i.pad(this.boundsPadding,this.boundsPadding)}}class L extends D.LineStyle{constructor(...t){super(...t),L.prototype.__init.call(this),L.prototype.__init2.call(this)}__init(){this.dashArray=null}__init2(){this.dashOffset=0}clone(){const t=super.clone();return t.dashArray=this.dashArray?[...this.dashArray]:null,t.dashOffset=this.dashOffset,t}reset(){super.reset(),this.dashArray=null,this.dashOffset=0}}const B={calculateArcLength(t,e,i,r,n=.05){var s=Math.sign(r),o=Math.abs(r),a=t*t,l=e*e-a;let h=0;for(let t=i+.5*n,e=0;e<o;t+=s*n,e+=n){var u=Math.cos(t),u=Math.sqrt(a+l*(u*u));h+=n*u}return h}},G=new x.Matrix,U=D.GRAPHICS_CURVES._segmentsCount.bind(D.GRAPHICS_CURVES);class V extends D.Graphics{constructor(t){super(),this.context=t,this._geometry=new k,this._geometry.refCount++,this._lineStyle=new L,this.paintServers=[]}lineTextureStyle(t){t=Object.assign({width:0,texture:E.Texture.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:D.LINE_CAP.BUTT,join:D.LINE_JOIN.MITER,miterLimit:10,dashArray:null,dashOffset:0},t),this.currentPath&&this.startPoly();var e=0<t.width&&0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}ellipticArc(e,i,r,n,s,t,o=0,a=!1){var l=t-s,h=D.GRAPHICS_CURVES.adaptive?4*U(B.calculateArcLength(r,n,s,t-s)):20,u=(a?-1:1)*Math.abs(l)/(h-1);G.identity().translate(-e,-i).rotate(o).translate(e,i);for(let t=0;t<h;t++){var c=s+t*u,d=e+r*Math.cos(c),c=i+n*Math.sin(c),{x:d,y:c}=0!==o?G.apply({x:d,y:c}):{x:d,y:c};0!==t?this.currentPath.points.push(d,c):this._initCurve(d,c)}return this}ellipticArcTo(t,e,i,r,n=0,s=!1,o=!1){if(0===i||0===r)return this.lineTo(t,e);var a=this.currentPath.points,l=a[a.length-2],h=a[a.length-1],u=(l+t)/2,c=(h+e)/2;const d=G.identity().translate(-u,-c).rotate(-n);var{x:f,y:a}=d.apply({x:l,y:h}),t=Math.pow(f/i,2)+Math.pow(a/r,2);1<t&&(i=Math.sqrt(t)*i,r=Math.sqrt(t)*r);var e=i*i,u=r*r,c=(s===o?1:-1)*Math.sqrt(Math.abs(e*u-e*a*a-u*f*f)/(e*a*a+u*f*f)),l=i*a/r*c,h=r*f/i*-c,{x:t,y:o}=d.applyInverse({x:l,y:h}),e=(f-l)/i,u=(a-h)/r,c=Math.sqrt(e**2+u**2),c=(0<=u?1:-1)*Math.acos(e/c),l=(-f-l)/i,a=(-a-h)/r,h=Math.sqrt(l**2+a**2);let p=(0<=a?1:-1)*Math.acos(l/h);return p>c&&s?p-=2*Math.PI:c>p&&!s&&(p+=2*Math.PI),this.ellipticArc(t,o,i,r,c,p,n,s),this}embedCircle(t){t.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.r.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.cx.baseVal.valueInSpecifiedUnits,i=t.cy.baseVal.valueInSpecifiedUnits,t=t.r.baseVal.valueInSpecifiedUnits;this.drawCircle(e,i,t)}embedEllipse(t){t.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.rx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.ry.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.cx.baseVal.valueInSpecifiedUnits,i=t.cy.baseVal.valueInSpecifiedUnits,r=t.rx.baseVal.valueInSpecifiedUnits,t=t.ry.baseVal.valueInSpecifiedUnits;this.ellipticArc(e,i,r,t,0,2*Math.PI)}embedLine(t){t.x1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.x2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x1.baseVal.valueInSpecifiedUnits,i=t.y1.baseVal.valueInSpecifiedUnits,r=t.x2.baseVal.valueInSpecifiedUnits,t=t.y2.baseVal.valueInSpecifiedUnits;this.moveTo(e,i),this.lineTo(r,t)}embedRect(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.rx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.ry.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,i=t.y.baseVal.valueInSpecifiedUnits,r=t.width.baseVal.valueInSpecifiedUnits,n=t.height.baseVal.valueInSpecifiedUnits,s=t.rx.baseVal.valueInSpecifiedUnits,t=t.ry.baseVal.valueInSpecifiedUnits||s;0===s||0===t?this.drawRect(e,i,r,n):(this.moveTo(e,i+t),this.ellipticArcTo(e+s,i,s,t,0,!1,!1),this.lineTo(e+r-s,i),this.ellipticArcTo(e+r,i+t,s,t,0,!1,!1),this.lineTo(e+r,i+n-t),this.ellipticArcTo(e+r-s,i+n,s,t,0,!1,!1),this.lineTo(e+s,i+n),this.ellipticArcTo(e,i+n-t,s,t,0,!1,!1),this.closePath())}embedPolygon(t){var e=t.getAttribute("points").split(/[ ,]/g).map(t=>parseInt(t,10));this.moveTo(e[0],e[1]);for(let t=2;t<e.length;t+=2)this.lineTo(e[t],e[t+1]);this.closePath()}embedPolyline(t){var e=t.getAttribute("points").split(/[ ,]/g).map(t=>parseInt(t,10));this.moveTo(e[0],e[1]);for(let t=2;t<e.length;t+=2)this.lineTo(e[t],e[t+1])}render(i){const r=this.paintServers;for(let t=0,e=r.length;t<e;t++)r[t].resolvePaint(i);super.render(i)}}const j=new x.Matrix;class H extends V{embedImage(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,i=t.y.baseVal.valueInSpecifiedUnits,r=t.width.baseVal.valueInSpecifiedUnits,n=t.height.baseVal.valueInSpecifiedUnits,s=Number.parseFloat(t.getAttribute("opacity")||"1"),o=t instanceof SVGGraphicsElement?t.transform.baseVal.consolidate():null,{a,b:l,c:h,d:u}=o?o.matrix:j.identity(),o=Math.min(1,Math.sqrt(a*a+l*l)),a=Math.min(1,Math.sqrt(h*h+u*u)),l=Math.ceil(r*o),h=Math.ceil(n*a);this.initTexture(l,h);u=function(t){let e=void 0,i=t[0],r=1;for(;r<t.length;){var n=t[r];const s=t[r+1];if(r+=2,("optionalAccess"===n||"optionalCall"===n)&&null==i)return;"access"===n||"optionalAccess"===n?(e=i,i=s(i)):"call"!==n&&"optionalCall"!==n||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}([globalThis,"optionalAccess",t=>t.location,"access",t=>t.href]),l=t.getAttribute("href")||t.getAttribute("xlink:href"),h=new URL(l).origin;let c=t;h&&h!==u&&(c=document.createElement("img"),c.crossOrigin="anonymous",c.src=l),c.onload=()=>{this.drawTexture(c)},this.beginTextureFill({texture:this._texture,alpha:s,matrix:(new x.Matrix).scale(1/o,1/a)}),this.drawRect(e,i,r,n),this.endFill()}initTexture(t,e){this._texture&&(this._texture.width<=this.context.atlas.maxWidth&&this._texture.height<=this.context.atlas.maxHeight?this.context.atlas.free(this._texture):this._texture.destroy()),this._texture=null,this._texture=this.context.atlas.allocate(t,e),this._texture?(this._canvas=this._texture.baseTexture.resource.source,this._context=this._canvas.getContext("2d")):(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e,this._context=this._canvas.getContext("2d"),this._texture=E.Texture.from(this._canvas))}drawTexture(t){var e=this._texture.frame;this._context.clearRect(e.x,e.y,e.width,e.height),this._context.drawImage(t,e.x,e.y,e.width,e.height),this._texture.update()}}o={build(){},triangulate(t,e){try{const a=t.shape;var i=a.contours.filter(t=>0<t.length).filter(t=>void 0===t.find(t=>isNaN(t)));const l=new _.GluTesselator;var r=[];l.gluTessProperty(_.gluEnum.GLU_TESS_WINDING_RULE,a.fillRule===c.FILL_RULE.EVENODD?_.windingRule.GLU_TESS_WINDING_ODD:_.windingRule.GLU_TESS_WINDING_NONZERO),l.gluTessCallback(_.gluEnum.GLU_TESS_VERTEX_DATA,function(t,e){e[e.length]=t[0],e[e.length]=t[1]}),l.gluTessCallback(_.gluEnum.GLU_TESS_BEGIN,function(t){_.primitiveType.GL_TRIANGLES}),l.gluTessCallback(_.gluEnum.GLU_TESS_ERROR,function(t){}),l.gluTessCallback(_.gluEnum.GLU_TESS_COMBINE,function(t,e,i){return[t[0],t[1],t[2]]}),l.gluTessCallback(_.gluEnum.GLU_TESS_EDGE_FLAG,function(t){}),l.gluTessNormal(0,0,1),l.gluTessBeginPolygon(r);for(let t=0;t<i.length;t++){var n=i[t];l.gluTessBeginContour();for(let t=0;t<n.length;){var s=[n[t++],n[t++],0];l.gluTessVertex(s,s)}l.gluTessEndContour()}l.gluTessEndPolygon();const h=e.points,u=e.indices;var o=h.length/2;for(let t=0;t<r.length;)h.push(r[t++],r[t++]);for(let t=0;t<r.length/2;t++)u.push(t+o)}catch(t){}}};function X(t){let e=void 0,i=t[0],r=1;for(;r<t.length;){var n=t[r];const s=t[r+1];if(r+=2,("optionalAccess"===n||"optionalCall"===n)&&null==i)return;"access"===n||"optionalAccess"===n?(e=i,i=s(i)):"call"!==n&&"optionalCall"!==n||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}D.graphicsUtils.FILL_COMMANDS[100]=o;class q extends V{constructor(...t){super(...t),q.prototype.__init.call(this),q.prototype.__init2.call(this)}startPath(){this.currentPath2?0<this.currentPath2.points.length&&this.currentPath2.closeContour():this.currentPath2=new w}finishPath(){this.currentPath2&&this.currentPath2.closeContour()}get currentPath(){return this.currentPath2}set currentPath(t){if(t)throw new Error("currentPath cannot be set")}closePath(){return this.currentPath2.points.push(this.currentPath2.points[0],this.currentPath2.points[1]),this.finishPath(),this}checkPath(){if(void 0!==this.currentPath2.points.find(t=>isNaN(t)))throw new Error("NaN is bad")}__init(){this.startPoly=this.startPath}__init2(){this.finishPoly=this.finishPath}embedPath(t){const e=t.getAttribute("d");var i=g.default(e.trim());let n=0,s=0;for(let t=0,e=i.length;t<e;t++){var o=i[t-1],a=i[t];if(isNaN(n)||isNaN(s))throw new Error("Data corruption");switch(a.code){case"m":this.moveTo(n+=a.end.x,s+=a.end.y);break;case"M":this.moveTo(n=a.end.x,s=a.end.y);break;case"H":this.lineTo(n=a.value,s);break;case"h":this.lineTo(n+=a.value,s);break;case"V":this.lineTo(n,s=a.value);break;case"v":this.lineTo(n,s+=a.value);break;case"z":case"Z":n=X([this,"access",t=>t.currentPath2,"optionalAccess",t=>t.points,"access",t=>t[0]])||0,s=X([this,"access",t=>t.currentPath2,"optionalAccess",t=>t.points,"access",t=>t[1]])||0,this.closePath();break;case"L":this.lineTo(n=a.end.x,s=a.end.y);break;case"l":this.lineTo(n+=a.end.x,s+=a.end.y);break;case"C":this.bezierCurveTo(a.cp1.x,a.cp1.y,a.cp2.x,a.cp2.y,n=a.end.x,s=a.end.y);break;case"c":var r=n,l=s;this.bezierCurveTo(r+a.cp1.x,l+a.cp1.y,r+a.cp2.x,l+a.cp2.y,n+=a.end.x,s+=a.end.y);break;case"s":case"S":{const c={x:n,y:s};l=i[t-1]?i[t-1].code:null;if(0<t&&("s"===l||"S"===l||"c"===l||"C"===l)){l=i[t-1];const f={...l.cp2||l.cp};i[t-1].relative&&(f.x+=n-l.end.x,f.y+=s-l.end.y),c.x=2*n-f.x,c.y=2*s-f.y}const d={x:a.cp.x,y:a.cp.y};a.relative?(d.x+=n,d.y+=s,n+=a.end.x,s+=a.end.y):(n=a.end.x,s=a.end.y),this.bezierCurveTo(c.x,c.y,d.x,d.y,n,s);break}case"q":var h=n,u=s;this.quadraticCurveTo(h+a.cp.x,u+a.cp.y,n+=a.end.x,s+=a.end.y);break;case"Q":this.quadraticCurveTo(a.cp.x,a.cp.y,n=a.end.x,s=a.end.y);break;case"A":this.ellipticArcTo(n=a.end.x,s=a.end.y,a.radii.x,a.radii.y,(a.rotation||0)*Math.PI/180,!a.clockwise,a.large);break;case"a":this.ellipticArcTo(n+=a.end.x,s+=a.end.y,a.radii.x,a.radii.y,(a.rotation||0)*Math.PI/180,!a.clockwise,a.large);break;case"t":case"T":{let i,r;if(o&&o.cp){let t=o.cp.x,e=o.cp.y;o.relative&&(h=n-o.end.x,u=s-o.end.y,t+=h,e+=u),i=2*n-t,r=2*s-e}else i=n,r=s;"t"===a.code?this.quadraticCurveTo(i,r,n+=a.end.x,s+=a.end.y):this.quadraticCurveTo(i,r,n=a.end.x,s=a.end.y);break}}}return this.currentPath2&&(this.currentPath2.fillRule=t.getAttribute("fill-rule")||this.currentPath2.fillRule,this.drawShape(this.currentPath2),this.currentPath2=null),this}}const z=new u.ColorMatrixFilter;z.matrix=[.33,.33,.33,0,0,0,0,0,0,0,0,0,0,0,0,.33,.33,.33,0,0];const Y=new x.Rectangle,W=new x.Rectangle;class $ extends h.Sprite{render(t){}}class Q extends h.Sprite{constructor(t){super(t),this.dirtyId=0,this.updateId=-1}render(i){if(this.dirtyId!==this.updateId){this.texture.baseTexture.setSize(this.texture.width,this.texture.height,i.resolution),i.batch.flush();var t=i.renderTexture.current,e=Y.copyFrom(i.renderTexture.sourceFrame),r=W.copyFrom(i.renderTexture.destinationFrame);const n=this.getLocalBounds(null),s=this.children;i.renderTexture.bind(this.texture,n),i.renderTexture.clear(),i.filter.push({filterArea:n,getBounds:()=>n},[z]);for(let t=0,e=s.length;t<e;t++){const o=s[t];o.enableTempParent(),o.updateTransform(),s[t].render(i),o.disableTempParent(this)}i.batch.flush(),i.filter.pop(),i.renderTexture.bind(t,e,r),this.updateId=this.dirtyId,this.getBounds()}}createMask(t){return new $(this.texture)}}class Z extends h.Sprite{constructor(){super(E.Texture.EMPTY),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.texture=E.Texture.from(this.canvas),this.contentList=new Map,this.dirtyId=0,this.updateId=0}async clear(){this.contentList.clear(),this.dirtyId++,this.position.set(0,0)}async put(t,e,i,r,n){this.contentList.set(t,{position:e,content:i,style:r,matrix:n});r=d.TextMetrics.measureText(i,new d.TextStyle(r),!1,this.canvas);return this.dirtyId++,{x:e.x+r.width,y:e.y}}updateText(){let r=0,n=0;this.contentList.forEach(({position:t,content:e,style:i})=>{i=d.TextMetrics.measureText(e,new d.TextStyle(i),!1,this.canvas);r=Math.max(r,t.x+i.width),n=Math.max(n,t.y+i.height+i.fontProperties.descent)});var t,e,i,s,o=window.devicePixelRatio||1;this.canvas.width=r*o,this.canvas.height=n*o,this.texture.baseTexture.setRealSize(r,n,o),this.texture.update(),this.context.clearRect(0,0,r*o,n*o),this.context.setTransform(1,0,0,1,0,0),this.context.scale(o,o);let a=0;for([t,{position:e,content:i,style:s}]of this.contentList){var l=d.TextMetrics.measureText(i,new d.TextStyle(s),!1,this.canvas);const h=new d.TextStyle(s);this.context.fillStyle="string"==typeof h.fill?h.fill:"black",this.context.font=h.toFontString(),this.context.fillText(i,e.x,e.y+l.height),0===a&&(this.y-=l.height),a++}this.updateId=this.dirtyId}render(t){this.updateId!==this.dirtyId&&(this.updateText(),this.updateTransform()),super.render(t)}}class K extends n.Container{static __initStatic(){this.defaultEngine=Z}constructor(){super(),this.currentTextPosition={x:0,y:0},this.engine=new K.defaultEngine,this.addChild(this.engine)}async embedText(t,i={}){const r=this.engine;t instanceof SVGTextElement&&(await r.clear(),this.currentTextPosition.x=0<t.x.baseVal.length?t.x.baseVal.getItem(0).value:0,this.currentTextPosition.y=0<t.y.baseVal.length?t.y.baseVal.getItem(0).value:0);var e,n,s,o=t.getAttribute("fill"),a=t.getAttribute("font-family"),l=parseFloat(t.getAttribute("font-size")),h=t.getAttribute("font-weight"),e=([e,n=16]=[t.getAttribute("letter-spacing"),l],e?e.includes("em")?parseFloat(e)*n:parseFloat(e):0);i.fill=o||i.fill||"black",i.fontFamily=a||!i.fontFamily?`${a||"serif"}, serif`:i.fontFamily,i.fontSize=isNaN(l)?i.fontSize:l,i.fontWeight=h||i.fontWeight||"normal",i.letterSpacing=isNaN(e)?i.letterSpacing||0:e,i.wordWrap=!0,i.wordWrapWidth=400;const u=t.childNodes;for(let t=0,e=u.length;t<e;t++){const c=u.item(t);c instanceof globalThis.Text?(s=c.data,this.currentTextPosition=await r.put(c,{x:this.currentTextPosition.x,y:this.currentTextPosition.y},s,i),this.emit("nodetransformdirty")):c instanceof SVGTSpanElement&&(0<c.x.baseVal.length&&(this.currentTextPosition.x=c.x.baseVal.getItem(0).value),0<c.y.baseVal.length&&(this.currentTextPosition.y=c.y.baseVal.getItem(0).value),await this.embedText(c,{...i}))}}}K.__initStatic();class J extends n.Container{constructor(...t){super(...t),J.prototype.__init.call(this)}__init(){this.isRefExternal=!1}embedUse(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,t=t.y.baseVal.valueInSpecifiedUnits;this.position.set(e,t)}get ref(){return this._ref}set ref(t){if(this._ref){if(this._ref===t)return;this.removeChild(this._ref)}this._ref=t,this.addChild(this._ref)}}const tt=new x.Matrix,et=new x.Rectangle;class it extends n.DisplayObject{__init(){this.sortDirty=!1}constructor(t,e){super(),it.prototype.__init.call(this),it.prototype.__init2.call(this),this.content=t,this.initContext(e),this._width=t.viewBox.baseVal.width,this._height=t.viewBox.baseVal.height,this._cull=new l.Cull({recursive:!0,toggle:"renderable"}),this._elementToPaint=new Map,this._elementToMask=new Map,this._transformDirty=!0,this.renderServers=new n.Container,e&&e.disableRootPopulation||this.populateScene()}initContext(t){(t=t||{}).atlas=t.atlas||new a.CanvasTextureAllocator(2048,2048),t.disableHrefSVGLoading=void 0!==t.disableHrefSVGLoading&&t.disableHrefSVGLoading,this._context=t}calculateBounds(){this._bounds.clear(),this._bounds.addFrameMatrix(this.worldTransform,0,0,this.content.viewBox.baseVal.width,this.content.viewBox.baseVal.height)}removeChild(){}render(t){this.visible&&this.renderable&&(this.renderServers.render(t),this._cull.cull(t.renderTexture.sourceFrame,!0),this.root.render(t),this._cull.uncull())}updateTransform(){super.updateTransform(),this.root.alpha=this.worldAlpha;var t=this.worldTransform,e=this.root.transform.worldTransform;e.a===t.a&&e.b===t.b&&e.c===t.c&&e.d===t.d&&e.tx===t.tx&&e.ty===t.ty&&0!==e._worldID&&!this._transformDirty||(this.root.enableTempParent(),this.root.transform.setFromMatrix(this.worldTransform),this.root.updateTransform(),this.root.disableTempParent(null),this.root.calculateBounds(),this._transformDirty=!1)}createNode(t){let e=null;switch(t.nodeName.toLowerCase()){case"circle":case"ellipse":case"g":case"line":case"polyline":case"polygon":case"rect":e=new V(this._context);break;case"image":e=new H(this._context);break;case"mask":case"svg":e=new n.Container;break;case"path":e=new q(this._context);break;case"text":e=new K;break;case"use":e=new J;break;default:e=null}return e}createPaint(t){return t instanceof SVGElement?new b(t):null}createPaintServer(t){var e=E.RenderTexture.create({width:128,height:128});return new P(t,e)}createMask(t){var e=(t=t instanceof SVGElement?this.populateSceneRecursive(t,{basePaint:this.queryInheritedPaint(t)}):t).getLocalBounds();t.getBounds();e=E.RenderTexture.create({width:e.width,height:e.height});const i=new Q(e);return i.addChild(t),i}queryMask(t){let e=this._elementToMask.get(t);return e||(e=this.createMask(t),this._elementToMask.set(t,e)),e}queryPaint(t){let e=this._elementToPaint.get(t);return e||(e=this.createPaint(t),this._elementToPaint.set(t,e)),e}queryInheritedPaint(t){var e=this.queryPaint(t),t=t.parentElement&&this.queryPaint(t.parentElement);return t?new A(t,e):e}parseReference(e){if(e.startsWith("url")){let t=e.slice(4,-1);return t.startsWith("'")&&t.endsWith("'")&&(t=t.slice(1,-1)),t}return e}embedIntoNode(r,t,e={}){var i=e["basePaint"],n=i?new A(i,this.queryPaint(t)):this.queryPaint(t);const{fill:s,opacity:o,stroke:a,strokeDashArray:l,strokeDashOffset:h,strokeLineCap:u,strokeLineJoin:c,strokeMiterLimit:d,strokeWidth:f}=n;var p,m,e=t instanceof SVGGraphicsElement?t.transform.baseVal.consolidate():null,i=e?e.matrix:tt.identity();if(r instanceof V){"none"===s?r.beginFill(0,0):"number"==typeof s?r.beginFill(s,null===o?1:o):s?(e=this.parseReference(s),(e=this.content.querySelector(e))&&e instanceof SVGGradientElement&&(m=(p=this.createPaintServer(e)).paintTexture,r.paintServers.push(p),r.beginTextureFill({texture:m,alpha:null===o?1:o,matrix:new x.Matrix}))):r.beginFill(0);let t;"string"==typeof a&&a.startsWith("url")&&(p=this.parseReference(a),(m=this.content.querySelector(p))&&m instanceof SVGGradientElement&&(m=(p=this.createPaintServer(m)).paintTexture,r.paintServers.push(p),t=m)),r.lineTextureStyle({color:null===a?0:"number"==typeof a?a:16777215,cap:null===u?D.LINE_CAP.SQUARE:u,dashArray:l,dashOffset:null===h?h:0,join:null===c?D.LINE_JOIN.MITER:c,matrix:new x.Matrix,miterLimit:null===d?150:d,texture:t||E.Texture.WHITE,width:null===f?"number"==typeof a?1:0:f})}switch(t.nodeName.toLowerCase()){case"circle":r.embedCircle(t);break;case"ellipse":r.embedEllipse(t);break;case"image":r.embedImage(t);break;case"line":r.embedLine(t);break;case"path":r.embedPath(t);break;case"polyline":r.embedPolyline(t);break;case"polygon":r.embedPolygon(t);break;case"rect":r.embedRect(t);break;case"text":r.embedText(t);break;case"use":{const _=t,g=_.getAttribute("href")||_.getAttribute("xlink:href"),v=this.queryPaint(_);if(r.embedUse(_),g.startsWith("#")){var y=this.content.querySelector(g);const b=this.populateSceneRecursive(y,{basePaint:v});r.ref=b,b.transform.setFromMatrix(x.Matrix.IDENTITY)}else this._context.disableHrefSVGLoading||(r.isRefExternal=!0,S(g).then(t=>[new it(t,{...this._context,disableRootPopulation:!0}),t.querySelector("#"+g.split("#")[1])]).then(([t,e])=>{const i=t.populateSceneRecursive(e,{basePaint:v});r.ref=i,i.transform.setFromMatrix(x.Matrix.IDENTITY),this._transformDirty=!0,t.on("transformdirty",()=>{this._transformDirty=!0})}))}}r.transform.setFromMatrix(tt.set(i.a,i.b,i.c,i.d,i instanceof x.Matrix?i.tx:i.e,i instanceof x.Matrix?i.ty:i.f)),t instanceof SVGMaskElement&&this._elementToMask.set(t,this.createMask(r));i=t.getAttribute("mask");if(i){i=this.content.querySelector(this.parseReference(i));if(i){const T=this.queryMask(i);i=T.createMask(r);this.renderServers.addChild(T),r.mask=i,r.addChild(i)}}return{paint:n}}populateSceneRecursive(i,t){const r=this.createNode(i);if(!r)return null;r.on("nodetransformdirty",this.onNodeTransformDirty);let n;(i instanceof SVGGraphicsElement||i instanceof SVGMaskElement)&&(t=this.embedIntoNode(r,i,t),n=t.paint);for(let t=0,e=i.children.length;t<e;t++){var s=this.populateSceneRecursive(i.children[t],{basePaint:n});s&&r.addChild(s)}if(r instanceof V){const e=r.getLocalBounds(et),o=r.paintServers,{x:a,y:l,width:h,height:u}=e;r.paintServers.forEach(t=>{t.resolvePaintDimensions(e)});const c=r.geometry,d=c.graphicsData;d&&(d.forEach(t=>{const e=t.fillStyle,i=t.lineStyle;var r,n;e.texture&&o.find(t=>t.paintTexture===e.texture)&&(r=e.texture.width,n=e.texture.height,t.fillStyle.matrix.invert().scale(h/r,u/n).invert()),e.matrix&&e.matrix.invert().translate(a,l).invert(),i.texture&&o.find(t=>t.paintTexture===i.texture)&&(r=i.texture.width,n=i.texture.height,t.lineStyle.matrix.invert().scale(h/r,u/n).invert()),i.matrix&&i.matrix.invert().translate(a,l).invert()}),c.updateBatches())}return i instanceof SVGMaskElement?null:r}populateScene(){this.root&&this._cull.remove(this.root);var t=this.populateSceneRecursive(this.content);this.root=t,this._cull.add(this.root)}__init2(){this.onNodeTransformDirty=()=>{this._transformDirty=!0,this.emit("transformdirty",this)}}get width(){return this._width}set width(t){this._width=t,this.scale.x=this._width/this.content.viewBox.baseVal.width}get height(){return this._height}set height(t){this._height=t,this.scale.y=this._height/this.content.viewBox.baseVal.height}static async from(t,e){return new it(await S(t),e)}}c.InheritedPaintProvider=A,c.MaskServer=Q,c.MaskSprite=$,c.PATH=100,c.PaintProvider=b,c.PaintServer=P,c.Path=w,c.SVGGraphicsGeometry=k,c.SVGGraphicsNode=V,c.SVGImageNode=H,c.SVGPathNode=q,c.SVGScene=it,c.SVGTextEngineImpl=Z,c.SVGTextNode=K,c.SVGUseNode=J,c.getLoaderCache=function(){return{clear(){v.clear()},size:v.size}}},{"@pixi-essentials/cull":2,"@pixi-essentials/gradients":3,"@pixi-essentials/texture-allocator":5,"@pixi/core":10,"@pixi/display":11,"@pixi/filter-color-matrix":15,"@pixi/graphics":19,"@pixi/math":23,"@pixi/sprite":36,"@pixi/text":39,"d-path-parser":43,libtess:52,tinycolor2:64}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("@pixi/constants"),r=t("@pixi/core"),n=t("@pixi-essentials/area-allocator"),t=t("@pixi/math");class s extends r.Resource{constructor(t,e){super(t,e),this.managedItems=[]}upload(i,r,t){const e=i.gl;var n=r.realWidth,s=r.realHeight;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===a.ALPHA_MODES.UNPACK),t.width===n&&t.height===s||e.texImage2D(r.target,0,r.format,n,s,0,r.format,r.type,void 0);var o=this.managedItems;for(let t=0,e=o.length;t<e;t++)this.uploadItem(i,r.target,r.format,r.type,o[t]);return!0}uploadItem(t,e,i,r,n){if(n.updateId!==n.dirtyId){const o=t.gl;var s=n.source,t=n.frame;o.texSubImage2D(e,0,t.x,t.y,t.width,t.height,i,r,s),n.updateId=n.dirtyId}}}const o=new t.Rectangle;class l{constructor(t=2048,e=2048){this.slabWidth=t,this.slabHeight=e,this.textureSlabs=[]}get maxWidth(){return this.slabWidth-2*this.calculatePadding(this.slabWidth,this.slabHeight)}get maxHeight(){return this.slabHeight-2*this.calculatePadding(this.slabWidth,this.slabHeight)}allocate(i,r,n=this.calculatePadding(i,r)){if(i+2*n>this.slabWidth||r+2*n>this.slabHeight)return null;var s=this.textureSlabs;for(let t=0,e=s.length;t<e;t++){const a=s[t];var o=this.issueTexture(a,i,r,n);if(o)return o}const a=this.createSlab();return this.textureSlabs.unshift(a),this.issueTexture(a,i,r,n)}free(e){const i=e.baseTexture,t=this.textureSlabs.find(t=>t.slab===i);if(!t)throw new Error("The texture cannot be freed because its base-texture is not pooled by this allocator. This is either a bug in TextureAllocator or you tried to free a texture that was never allocated by one.");var r=t.managedTextures.find(t=>t.texture===e);if(!r)throw new Error("The texture cannot be freed because it was not found in the managed list of issued textures on its slab. This may be because you duplicated this texture or a bug in TextureAllocator");t.managedArea.free(r.area),t.managedTextures.splice(t.managedTextures.indexOf(r),1)}calculatePadding(t,e){e=Math.max(t,e);return e<64?2:e<128?4:e<1024?8:16}createSlab(){return{managedArea:new n.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new r.BaseTexture(null,{width:this.slabWidth,height:this.slabHeight})}}createTexture(t,e){return new r.Texture(t,e)}issueTexture(t,e,i,r=0){i=t.managedArea.allocate(e+2*r,i+2*r);if(!i)return null;o.copyFrom(i),o.pad(-r);r=t.slab,r=this.createTexture(r,o.clone());return t.managedTextures.push({area:i,texture:r}),r}}i.AtlasAllocator=class extends l{createSlab(){return{managedArea:new n.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new r.BaseTexture(new s(this.slabWidth,this.slabHeight),{width:this.slabWidth,height:this.slabHeight})}}allocate(t,e,i,r){let n;"number"==typeof i?n=i:(n=this.calculatePadding(t,e),r=i);e=super.allocate(t,e,n);if(r){const s=e.baseTexture.resource;s.managedItems.push({frame:e.frame,source:r,dirtyId:0,updateId:-1,texture:e})}return e}free(e){super.free(e);const t=e.baseTexture.resource;var i=t.managedItems.find(t=>t.texture===e);i&&t.managedItems.splice(t.managedItems.indexOf(i),1)}},i.AtlasResource=s,i.CanvasTextureAllocator=class extends l{createSlab(){const t=document.createElement("canvas");return t.width=this.slabWidth,t.height=this.slabHeight,{managedArea:new n.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new r.BaseTexture(t,{width:this.slabWidth,height:this.slabHeight})}}},i.RenderTextureAllocator=class extends l{createSlab(){return{managedArea:new n.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new r.BaseRenderTexture({width:this.slabWidth,height:this.slabHeight})}}createTexture(t,e){return new r.RenderTexture(t,e)}},i.TextureAllocator=l},{"@pixi-essentials/area-allocator":1,"@pixi/constants":9,"@pixi/core":10,"@pixi/math":23}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/display"),p=t("@pixi/utils"),t={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};r.DisplayObject.mixin(t);Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null!==(t=this.renderer.view.parentNode)&&void 0!==t&&t.appendChild(this.div))},n.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null!==(t=this.div.parentNode)&&void 0!==t&&t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(p.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.left,r=e.top,n=e.width,s=e.height,o=this.renderer,t=o.width,e=o.height,o=o.resolution,a=n/t*o,l=s/e*o;(u=this.div).style.left=i+"px",u.style.top=r+"px",u.style.width=t+"px",u.style.height=e+"px";for(var h=0;h<this.children.length;h++){var u,c,d,f=this.children[h];f.renderId!==this.renderId?(f._accessibleActive=!1,p.removeItems(this.children,h,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,h--):(u=f._accessibleDiv,c=f.hitArea,d=f.worldTransform,f.hitArea?(u.style.left=(d.tx+c.x*d.a)*a+"px",u.style.top=(d.ty+c.y*d.d)*l+"px",u.style.width=c.width*d.a*a+"px",u.style.height=c.height*d.d*l+"px"):(c=f.getBounds(),this.capHitArea(c),u.style.left=c.x*a+"px",u.style.top=c.y*l+"px",u.style.width=c.width*a+"px",u.style.height=c.height*l+"px",u.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(u.title=f.accessibleTitle),u.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&u.setAttribute("aria-label",f.accessibleHint)),f.accessibleTitle===u.title&&f.tabIndex===u.tabIndex||(u.title=f.accessibleTitle,u.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(u)))}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,e=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>e&&(t.height=e-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"click",t),e.dispatchEvent(i,"pointertap",t),e.dispatchEvent(i,"tap",t)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"mouseover",t)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"mouseout",t)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},r=n;function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(p.isMobile.tablet||p.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}i.AccessibilityManager=r,i.accessibleTarget=t},{"@pixi/display":11,"@pixi/utils":41}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/display"),n=t("@pixi/core"),s=(o.registerPlugin=function(t){o._plugins.push(t)},o.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(o.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),o.prototype.destroy=function(t,e){var i=this,r=o._plugins.slice(0);r.reverse(),r.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},o._plugins=[],o);function o(e){var i=this;this.stage=new r.Container,e=Object.assign({forceCanvas:!1},e),this.renderer=n.autoDetectRenderer(e),o._plugins.forEach(function(t){t.init.call(i,e)})}a.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){var t,e;i._resizeTo&&(i.cancelResize(),e=i._resizeTo===self?(t=self.innerWidth,self.innerHeight):(t=(e=i._resizeTo).clientWidth,e.clientHeight),i.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},a.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t=a;function a(){}s.registerPlugin(t),i.Application=s},{"@pixi/core":10,"@pixi/display":11}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=t("@pixi/core"),d=t("@pixi/loaders"),f=t("@pixi/utils"),r=t("@pixi/constants");(p=i.INTERNAL_FORMATS||(i.INTERNAL_FORMATS={}))[p.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",p[p.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",p[p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",p[p.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",p[p.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",p[p.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",p[p.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",p[p.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",p[p.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",p[p.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",p[p.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",p[p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",p[p.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",p[p.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",p[p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",p[p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",p[p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",p[p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",p[p.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",p[p.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",p[p.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",p[p.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";var P=((W={})[i.INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,W),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function u(i,r){var n,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,s&&(o=2&e[0]?s.return:e[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,e[1])).done)return o;switch(s=0,(e=o?[2&e[0],o.value]:e)[0]){case 0:case 1:o=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,s=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){a.label=e[1];break}if(6===e[0]&&a.label<o[1]){a.label=o[1],o=e;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(e);break}o[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(i,a)}catch(t){e=[6,t],s=0}finally{n=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var o,t=(s(a,o=h.BufferResource),a.prototype.onBlobLoaded=function(t){},a.prototype.load=function(){return s=this,o=void 0,a=Promise,l=function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new h.ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}})},new(a=a||Promise)(function(t,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,r)}n((l=l.apply(s,o||[])).next())});var s,o,a,l},a);function a(t,e){void 0===e&&(e={width:1,height:1,autoLoad:!0});var i,r=this,t="string"==typeof t?(i=t,new Uint8Array):(i=null,t);return(r=o.call(this,t,e)||this).origin=i,r.buffer=t?new h.ViewableBuffer(t):null,r.origin&&!1!==e.autoLoad&&r.load(),t&&t.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}var l,w=(s(c,l=t),c.prototype.upload=function(t,e,i){var r=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,s=this.levels;n<s;n++){var o=this._levelBuffers[n],a=o.levelID,l=o.levelWidth,h=o.levelHeight,o=o.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,a,this.format,l,h,0,o)}return!0},c.prototype.onBlobLoaded=function(){this._levelBuffers=c._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},c._formatToExtension=function(t){if(33776<=t&&t<=33779)return"s3tc";if(37488<=t&&t<=37497)return"etc";if(35840<=t&&t<=35843)return"pvrtc";if(36196<=t)return"etc1";if(35986<=t&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},c._createLevelBuffers=function(t,e,i,r,n,s,o){for(var a=new Array(i),l=t.byteOffset,h=s,u=o,c=h+r-1&~(r-1),d=u+n-1&~(n-1),f=c*d*P[e],p=0;p<i;p++)a[p]={levelID:p,levelWidth:1<i?h:c,levelHeight:1<i?u:d,levelBuffer:new Uint8Array(t.buffer,l,f)},l+=f,f=(c=(h=h>>1||1)+r-1&~(r-1))*(d=(u=u>>1||1)+n-1&~(n-1))*P[e];return a},c);function c(t,e){var i=l.call(this,t,e)||this;return i.format=e.format,i.levels=e.levels||1,i._width=e.width,i._height=e.height,i._extension=c._formatToExtension(i.format),(e.levelBuffers||i.buffer)&&(i._levelBuffers=e.levelBuffers||c._createLevelBuffers(t instanceof Uint8Array?t:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}var p=(m.use=function(i,r){var t=i.data;if(i.type===d.LoaderResource.TYPE.JSON&&t&&t.cacheID&&t.textures){for(var e,n,s=t.textures,o=void 0,a=void 0,l=0,h=s.length;l<h;l++){var u=s[l],c=u.src,u=u.format;if(u||(a=c),m.textureFormats[u]){o=c;break}}(o=o||a)?o!==i.url?(e={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},n=f.url.resolve(i.url.replace(this.baseUrl,""),o),t=t.cacheID,this.add(t,n,e,function(t){var e;t.error?r(t.error):(e=t.texture,t=t.textures,Object.assign(i,{texture:void 0===e?null:e,textures:void 0===t?{}:t}),r())})):r(new Error("URL of compressed texture cannot be the same as the manifest's URL")):r(new Error("Cannot load compressed-textures in "+i.url+", make sure you provide a fallback"))}else r()},m.add=function(){var t=document.createElement("canvas").getContext("webgl");if(t){var e,i={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};for(e in m.textureExtensions=i,m.textureFormats={},i){var r=i[e];r&&Object.assign(m.textureFormats,Object.getPrototypeOf(r))}}},m);function m(){}function y(n,t,e){var s={textures:{},texture:null};return t&&t.map(function(t){return new h.Texture(new h.BaseTexture(t,Object.assign({mipmap:r.MIPMAP_MODES.OFF,alphaMode:r.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA},e)))}).forEach(function(t,e){var i=t.baseTexture,r=n+"-"+(e+1);h.BaseTexture.addToCache(i,r),h.Texture.addToCache(t,r),0===e&&(h.BaseTexture.addToCache(i,n),h.Texture.addToCache(t,n),s.texture=t),s.textures[r]=t}),s}d.LoaderResource.setExtensionXhrType("dds",d.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var g,v=3,b=4,T=7,x=19,E=2,S=0,A=1,O=2,R=3;(W=_=_||{})[W.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",W[W.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",W[W.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",W[W.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",W[W.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",W[W.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",W[W.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",W[W.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",W[W.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",W[W.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",W[W.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",W[W.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",W[W.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",W[W.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",W[W.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",W[W.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",W[W.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",W[W.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",W[W.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",W[W.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",W[W.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",W[W.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",W[W.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",W[W.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",W[W.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",W[W.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",W[W.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",W[W.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",W[W.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",W[W.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",W[W.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",W[W.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",W[W.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",W[W.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",W[W.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",W[W.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",W[W.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",W[W.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",W[W.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",W[W.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",W[W.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",W[W.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",W[W.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",W[W.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",W[W.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",W[W.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",W[W.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",W[W.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",W[W.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",W[W.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",W[W.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",W[W.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",W[W.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",W[W.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",W[W.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",W[W.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",W[W.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",W[W.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",W[W.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",W[W.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",W[W.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",W[W.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",W[W.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",W[W.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",W[W.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",W[W.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",W[W.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",W[W.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",W[W.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",W[W.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",W[W.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",W[W.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",W[W.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",W[W.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",W[W.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",W[W.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",W[W.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",W[W.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",W[W.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",W[W.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",W[W.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",W[W.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",W[W.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",W[W.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",W[W.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",W[W.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",W[W.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",W[W.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",W[W.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",W[W.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",W[W.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",W[W.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",W[W.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",W[W.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",W[W.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",W[W.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",W[W.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",W[W.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",W[W.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",W[W.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",W[W.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",W[W.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",W[W.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",W[W.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",W[W.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",W[W.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",W[W.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",W[W.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",W[W.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",W[W.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",W[W.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",W[W.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",W[W.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",W[W.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",W[W.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",W[W.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",W[W.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",W[W.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",W[W.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",W[W.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",W[W.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",W[W.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",(W=g=g||{})[W.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",W[W.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",W[W.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D";var M=((W={})[827611204]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[861165636]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[894720068]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W),C=((W={})[_.DXGI_FORMAT_BC1_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC1_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC2_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC2_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC3_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W[_.DXGI_FORMAT_BC3_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W[_.DXGI_FORMAT_BC1_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC2_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC3_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,W),_=(I.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,y(t.name||t.url,I.parse(t.data),t.metadata))}catch(t){return void e(t)}e()},I.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),r=i[v],n=i[b],s=i[T],o=new Uint32Array(t,x*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),i=o[1];if(4&i){o=o[E];if(808540228!==o){var a=M[o],l=new Uint8Array(t,128);return[new w(l,{format:a,width:n,height:r,levels:s})]}var o=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),l=o[S],a=o[A],e=o[O],h=o[R],u=C[l];if(void 0===u)throw new Error("DDSLoader cannot parse texture data with DXGI format "+l);if(4===e)throw new Error("DDSLoader does not support cubemap textures");if(a===g.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var c=new Array;if(1===h)c.push(new Uint8Array(t,148));else{for(var d=P[u],f=0,p=n,m=r,y=0;y<s;y++)f+=Math.max(1,p+3&-4)*Math.max(1,m+3&-4)*d,p>>>=1,m>>>=1;for(var _=148,y=0;y<h;y++)c.push(new Uint8Array(t,_,f)),_+=f}return c.map(function(t){return new w(t,{format:u,width:n,height:r,levels:s})})}if(64&i)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&i)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&i)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&i)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},I);function I(){}d.LoaderResource.setExtensionXhrType("ktx",d.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var D=[171,75,84,88,32,49,49,187,13,10,26,10],N=12,F=16,k=24,L=28,B=36,G=40,U=44,V=48,j=52,H=56,X=60,q=((W={})[r.TYPES.UNSIGNED_BYTE]=1,W[r.TYPES.UNSIGNED_SHORT]=2,W[r.TYPES.FLOAT]=4,W[r.TYPES.HALF_FLOAT]=8,W),z=((W={})[r.FORMATS.RGBA]=4,W[r.FORMATS.RGB]=3,W[r.FORMATS.LUMINANCE]=1,W[r.FORMATS.LUMINANCE_ALPHA]=2,W[r.FORMATS.ALPHA]=1,W),Y=((W={})[r.TYPES.UNSIGNED_SHORT_4_4_4_4]=2,W[r.TYPES.UNSIGNED_SHORT_5_5_5_1]=2,W[r.TYPES.UNSIGNED_SHORT_5_6_5]=2,W),W=($.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,y(i,$.parse(i,t.data),t.metadata))}catch(t){return void e(t)}e()},$.parse=function(t,e){var i=new DataView(e);if(!$.validate(t,i))return null;var r=67305985===i.getUint32(N,!0),n=i.getUint32(F,r),s=i.getUint32(k,r),o=i.getUint32(L,r),a=i.getUint32(B,r),l=i.getUint32(G,r)||1,h=i.getUint32(U,r)||1,u=i.getUint32(V,r)||1,c=i.getUint32(j,r),d=i.getUint32(H,r),f=i.getUint32(X,r);if(0===l||1!==h)throw new Error("Only 2D textures are supported");if(1!==c)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");var t=a+3&-4,h=l+3&-4,p=new Array(u),c=0===n?t*h:a*l,m=0!==n?q[n]?q[n]*z[s]:Y[n]:P[o];if(void 0===m)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var y=c*m,_=a,g=l,v=t,b=h,T=64+f,x=0;x<d;x++){for(var E=i.getUint32(T,r),S=T+4,A=0;A<u;A++)(p[A]||(p[A]=new Array(d)))[x]={levelID:x,levelWidth:1<d?_:v,levelHeight:1<d?g:b,levelBuffer:new Uint8Array(e,S,y)},S+=y;T=(T+=E+4)%4!=0?T+4-T%4:T,y=(v=(_=_>>1||1)+4-1&-4)*(b=(g=g>>1||1)+4-1&-4)*m}if(0!==n)throw new Error("TODO: Uncompressed");return p.map(function(t){return new w(null,{format:o,width:a,height:l,levels:d,levelBuffers:t})})},$.validate=function(t,e){for(var i=0;i<D.length;i++)if(e.getUint8(i)!==D[i])return!1;return!0},$);function $(){}i.BlobResource=t,i.CompressedTextureLoader=p,i.CompressedTextureResource=w,i.DDSLoader=_,i.FORMATS_TO_COMPONENTS=z,i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=P,i.KTXLoader=W,i.TYPES_TO_BYTES_PER_COMPONENT=q,i.TYPES_TO_BYTES_PER_PIXEL=Y},{"@pixi/constants":9,"@pixi/core":10,"@pixi/loaders":21,"@pixi/utils":41}],9:[function(t,e,i){"use strict";var r;Object.defineProperty(i,"__esModule",{value:!0}),(r=i.ENV||(i.ENV={}))[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",(r=i.RENDERER_TYPE||(i.RENDERER_TYPE={}))[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",(r=i.BUFFER_BITS||(i.BUFFER_BITS={}))[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",(r=i.BLEND_MODES||(i.BLEND_MODES={}))[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",(r=i.DRAW_MODES||(i.DRAW_MODES={}))[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",(r=i.FORMATS||(i.FORMATS={}))[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(r=i.TARGETS||(i.TARGETS={}))[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(r=i.TYPES||(i.TYPES={}))[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",(r=i.SAMPLER_TYPES||(i.SAMPLER_TYPES={}))[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",(r=i.SCALE_MODES||(i.SCALE_MODES={}))[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",(r=i.WRAP_MODES||(i.WRAP_MODES={}))[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(r=i.MIPMAP_MODES||(i.MIPMAP_MODES={}))[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",(r=i.ALPHA_MODES||(i.ALPHA_MODES={}))[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(r=i.CLEAR_MODES||(i.CLEAR_MODES={}))[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",(r=i.GC_MODES||(i.GC_MODES={}))[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",(r=i.PRECISION||(i.PRECISION={})).LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",(r=i.MASK_TYPES||(i.MASK_TYPES={}))[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",(r=i.MSAA_QUALITY||(i.MSAA_QUALITY={}))[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",(i=i.BUFFER_TYPE||(i.BUFFER_TYPE={}))[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var p=t("@pixi/settings"),m=t("@pixi/constants"),y=t("@pixi/utils"),r=t("@pixi/runner"),n=t("@pixi/ticker"),l=t("@pixi/math");p.settings.PREFER_ENV=y.isMobile.any?m.ENV.WEBGL:m.ENV.WEBGL2,p.settings.STRICT_TEXTURE_CACHE=!1;var o=[];function _(t,e){if(!t)return null;var i,r="";"string"!=typeof t||(i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(r=i[1].toLowerCase());for(var n=o.length-1;0<=n;--n){var s=o[n];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h=function(){return(h=Object.assign||function(t){for(var e,i=arguments,r=1,n=arguments.length;r<n;r++)for(var s in e=i[r])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};var g=(u.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},u.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},u.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(u.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),u.prototype.update=function(){this.destroyed||this.onUpdate.emit()},u.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),u.prototype.style=function(t,e,i){return!1},u.prototype.dispose=function(){},u.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},u.test=function(t,e){return!1},u);function u(t,e){void 0===e&&(e=0),this._width=t=void 0===t?0:t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new r.Runner("setRealSize"),this.onUpdate=new r.Runner("update"),this.onError=new r.Runner("onError")}var c,d=(a(f,c=g),f.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK);var n=e.realWidth,t=e.realHeight;return i.width===n&&i.height===t?r.texSubImage2D(e.target,0,0,0,n,t,e.format,i.type,this.data):(i.width=n,i.height=t,r.texImage2D(e.target,0,i.internalFormat,n,t,0,e.format,i.type,this.data)),!0},f.prototype.dispose=function(){this.data=null},f.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},f);function f(t,e){var i=this,r=e||{},e=r.width,r=r.height;if(!e||!r)throw new Error("BufferResource width or height invalid");return(i=c.call(this,e,r)||this).data=t,i}var v,b={scaleMode:m.SCALE_MODES.NEAREST,format:m.FORMATS.RGBA,alphaMode:m.ALPHA_MODES.NPM},T=(a(x,v=y.EventEmitter),Object.defineProperty(x.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),x.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},x.prototype.setSize=function(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)},x.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},x.prototype._refreshPOT=function(){this.isPowerOfTwo=y.isPow2(this.realWidth)&&y.isPow2(this.realHeight)},x.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},x.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},x.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},x.prototype.onError=function(t){this.emit("error",this,t)},x.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete y.BaseTextureCache[this.cacheId],delete y.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),x.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},x.prototype.dispose=function(){this.emit("dispose",this)},x.prototype.castToBaseTexture=function(){return this},x.from=function(t,e,i){void 0===i&&(i=p.settings.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:(t._pixiId||(s=e&&e.pixiIdPrefix||"pixiid",t._pixiId=s+"_"+y.uid()),t._pixiId),s=y.BaseTextureCache[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in BaseTextureCache.');return s||((s=new x(t,e)).cacheId=n,x.addToCache(s,n)),s},x.fromBuffer=function(t,e,i,r){t=t||new Float32Array(e*i*4);var n=new d(t,{width:e,height:i}),t=t instanceof Float32Array?m.TYPES.FLOAT:m.TYPES.UNSIGNED_BYTE;return new x(n,Object.assign(b,r||{width:e,height:i,type:t}))},x.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),y.BaseTextureCache[e],y.BaseTextureCache[e]=t)},x.removeFromCache=function(t){if("string"==typeof t){var e=y.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete y.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete y.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},x._globalBatch=0,x);function x(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=v.call(this)||this,r=(e=e||{}).alphaMode,n=e.mipmap,s=e.anisotropicLevel,o=e.scaleMode,a=e.width,l=e.height,h=e.wrapMode,u=e.format,c=e.type,d=e.target,f=e.resolution,e=e.resourceOptions;return!t||t instanceof g||((t=_(t,e)).internal=!0),i.resolution=f||p.settings.RESOLUTION,i.width=Math.round((a||0)*i.resolution)/i.resolution,i.height=Math.round((l||0)*i.resolution)/i.resolution,i._mipmap=void 0!==n?n:p.settings.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:p.settings.ANISOTROPIC_LEVEL,i._wrapMode=h||p.settings.WRAP_MODE,i._scaleMode=void 0!==o?o:p.settings.SCALE_MODE,i.format=u||m.FORMATS.RGBA,i.type=c||m.TYPES.UNSIGNED_BYTE,i.target=d||m.TARGETS.TEXTURE_2D,i.alphaMode=void 0!==r?r:m.ALPHA_MODES.UNPACK,i.uid=y.uid(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=0<a&&0<l,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}var E,S=(a(A,E=g),A.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof g?this.addResourceAt(t[i],i):this.addResourceAt(_(t[i],e),i))},A.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},A.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},A.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");E.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},A.prototype.unbind=function(t){E.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},A.prototype.load=function(){var i=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=i.items[0],e=t.realWidth,t=t.realHeight;return i.resize(e,t),Promise.resolve(i)}),this._load},A);function A(t,e){var i=this,r=e||{},e=r.width,r=r.height;(i=E.call(this,e,r)||this).items=[],i.itemDirtyIds=[];for(var n=0;n<t;n++){var s=new T;i.items.push(s),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}var P,w=(a(O,P=S),O.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},O.prototype.bind=function(t){P.prototype.bind.call(this,t),t.target=m.TARGETS.TEXTURE_2D_ARRAY},O.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,r,0,e.format,i.type,null);for(var a=0;a<r;a++){var l=s[a];n[a]<l.dirtyId&&(n[a]=l.dirtyId,l.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,l.resource.width,l.resource.height,1,e.format,i.type,l.resource.source))}return!0},O);function O(t,e){var i,r=this,n=e||{},s=n.width,n=n.height,t=Array.isArray(t)?(i=t).length:t,r=P.call(this,t,{width:s,height:n})||this;return i&&r.initFromArray(i,e),r}var R,M=(a(C,R=g),C.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=y.determineCrossOrigin(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},C.prototype.upload=function(t,e,i,r){var n=t.gl,s=e.realWidth,t=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==n.TEXTURE_2D||i.width!==s||i.height!==t?(i.width=s,i.height=t,n.texImage2D(e.target,0,i.internalFormat,e.format,i.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,i.type,r),!0},C.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),R.prototype.update.call(this))},C.prototype.dispose=function(){this.source=null},C);function C(t){var e=this,i=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;return(e=R.call(this,i,r)||this).source=t,e.noSubImage=!1,e}var I,D=(a(N,I=M),N.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},N);function N(t){return I.call(this,t)||this}var F,k=(a(L,F=S),L.prototype.bind=function(t){F.prototype.bind.call(this,t),t.target=m.TARGETS.TEXTURE_CUBE_MAP},L.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},L.prototype.upload=function(t,e,i){for(var r=this.itemDirtyIds,n=0;n<L.SIDES;n++){var s=this.items[n];r[n]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),r[n]=s.dirtyId):r[n]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),r[n]=-1))}return!0},L.test=function(t){return Array.isArray(t)&&t.length===L.SIDES},L.SIDES=6,L);function L(t,e){var i=this,r=e||{},n=r.width,s=r.height,o=r.autoLoad,r=r.linkBaseTexture;if(t&&t.length!==L.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");for(var i=F.call(this,6,{width:n,height:s})||this,a=0;a<L.SIDES;a++)i.items[a].target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+a;return i.linkBaseTexture=!1!==r,t&&i.initFromArray(t,e),!1!==o&&i.load(),i}var B,G=(a(U,B=M),U.prototype.load=function(t){var n=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var i=n.source;n.url=i.src;function r(){n.destroyed||(i.onload=null,i.onerror=null,n.resize(i.width,i.height),n._load=null,n.createBitmap?t(n.process()):t(n))}i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){e(t),n.onError.emit(t)})}),this._load)},U.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap,t=!i.crossOrigin||"anonymous"===i.crossOrigin;return this._process=fetch(i.src,{mode:t?"cors":"no-cors"}).then(function(t){return t.blob()}).then(function(t){return r(t,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===m.ALPHA_MODES.UNPACK?"premultiply":"none"})}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process},U.prototype.upload=function(t,e,i){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return B.prototype.upload.call(this,t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(B.prototype.upload.call(this,t,e,i,this.bitmap),!this.preserveBitmap){var r,n=!0,s=e._glTextures;for(r in s){var o=s[r];if(o!==i&&o.dirtyId!==e.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},U.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,B.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},U.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},U);function U(t,e){var i,r=this;return e=e||{},t instanceof HTMLImageElement||(i=new Image,M.crossOrigin(i,t,e.crossorigin),i.src=t,t=i),r=B.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==e.createBitmap?e.createBitmap:p.settings.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,r.bitmap=null,r._load=null,!1!==e.autoLoad&&r.load(),r}var V,j=(a(H,V=M),H.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},H.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},H.prototype._loadSvg=function(){var s=this,o=new Image;M.crossOrigin(o,this.svg,this._crossorigin),o.src=this.svg,o.onerror=function(t){s._resolve&&(o.onerror=null,s.onError.emit(t))},o.onload=function(){if(s._resolve){var t=o.width,e=o.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=t*s.scale,r=e*s.scale;(s._overrideWidth||s._overrideHeight)&&(i=s._overrideWidth||s._overrideHeight/e*t,r=s._overrideHeight||s._overrideWidth/t*e);var i=Math.round(i),r=Math.round(r),n=s.source;n.width=i,n.height=r,n._pixiId="canvas_"+y.uid(),n.getContext("2d").drawImage(o,0,0,t,e,0,0,i,r),s._resolve(),s._resolve=null}}},H.getSize=function(t){var e=H.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},H.prototype.dispose=function(){V.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},H.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&H.SVG_XML.test(t)},H.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,H.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,H);function H(t,e){var i=this;return e=e||{},(i=V.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=e.scale||1,i._overrideWidth=e.width,i._overrideHeight=e.height,i._resolve=null,i._crossorigin=e.crossorigin,i._load=null,!1!==e.autoLoad&&i.load(),i}var X,q=(a(z,X=M),z.prototype.update=function(t){var e;this.destroyed||(e=n.Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(X.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},z.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,i.load())}),this._load},z.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},z.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},z.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},z.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},z.prototype._onPlayStop=function(){this._isConnectedToTicker&&(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},z.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},z.prototype.dispose=function(){this._isConnectedToTicker&&(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),X.prototype.dispose.call(this)},Object.defineProperty(z.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(n.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(n.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(z.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),z.test=function(t,e){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||-1<z.TYPES.indexOf(e)},z.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],z.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},z);function z(t,e){var i=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var n=(t="string"==typeof t?[t]:t)[0].src||t[0];M.crossOrigin(r,n,e.crossorigin);for(var s=0;s<t.length;++s){var o=document.createElement("source"),a=t[s],l=a.src,h=a.mime,a=(l=l||t[s]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),h=h||z.MIME_TYPES[a]||"video/"+a;o.src=l,o.type=h,r.appendChild(o)}t=r}return(i=X.call(this,t)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=e.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==e.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==e.autoLoad&&i.load(),i}var Y,W=(a($,Y=M),$.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},$);function $(t){return Y.call(this,t)||this}o.push(G,W,D,q,j,d,k,w);var Q,Z={__proto__:null,Resource:g,BaseImageResource:M,INSTALLED:o,autoDetectResource:_,AbstractMultiResource:S,ArrayResource:w,BufferResource:d,CanvasResource:D,CubeResource:k,ImageResource:G,SVGResource:j,VideoResource:q,ImageBitmapResource:W},K=(a(J,Q=d),J.prototype.upload=function(t,e,i){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK);var n=e.realWidth,t=e.realHeight;return i.width===n&&i.height===t?r.texSubImage2D(e.target,0,0,0,n,t,e.format,i.type,this.data):(i.width=n,i.height=t,r.texImage2D(e.target,0,i.internalFormat,n,t,0,e.format,i.type,this.data)),!0},J);function J(){return null!==Q&&Q.apply(this,arguments)||this}var tt=(Object.defineProperty(et.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),et.prototype.addColorTexture=function(t,e){return this.colorTextures[t=void 0===t?0:t]=e||new T(null,{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,mipmap:m.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},et.prototype.addDepthTexture=function(t){return this.depthTexture=t||new T(new K(null,{width:this.width,height:this.height}),{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:m.MIPMAP_MODES.OFF,format:m.FORMATS.DEPTH_COMPONENT,type:m.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},et.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},et.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},et.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(t/n,e/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(t/n,e/n))}},et.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},et.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},et);function et(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new r.Runner("disposeFramebuffer"),this.multisample=m.MSAA_QUALITY.NONE}var it,rt=(a(nt,it=T),nt.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},nt.prototype.dispose=function(){this.framebuffer.dispose(),it.prototype.dispose.call(this)},nt.prototype.destroy=function(){it.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},nt);function nt(t){var e=this;return(t="number"==typeof t?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t).width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:m.MSAA_QUALITY.NONE,(e=it.call(this,null,t)||this).mipmap=m.MIPMAP_MODES.OFF,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new tt(e.realWidth,e.realHeight).addColorTexture(0,e),e.framebuffer.multisample=t.multisample,e.maskStack=[],e.filterStack=[{}],e}var st=(ot.prototype.set=function(t,e,i){var r,n,s,o=e.width,a=e.height;i?(r=t.width/2/o,n=t.height/2/a,s=t.x/o+r,e=t.y/a+n,i=l.groupD8.add(i,l.groupD8.NW),this.x0=s+r*l.groupD8.uX(i),this.y0=e+n*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x1=s+r*l.groupD8.uX(i),this.y1=e+n*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x2=s+r*l.groupD8.uX(i),this.y2=e+n*l.groupD8.uY(i),i=l.groupD8.add(i,2),this.x3=s+r*l.groupD8.uX(i),this.y3=e+n*l.groupD8.uY(i)):(this.x0=t.x/o,this.y0=t.y/a,this.x1=(t.x+t.width)/o,this.y1=t.y/a,this.x2=(t.x+t.width)/o,this.y2=(t.y+t.height)/a,this.x3=t.x/o,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},ot.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},ot);function ot(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}var at,lt=new st,ht=(a(ut,at=y.EventEmitter),ut.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},ut.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},ut.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture.resource)&&t.url&&y.TextureCache[t.url]&&ut.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ut.removeFromCache(this),this.textureCacheIds=null},ut.prototype.clone=function(){var t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),e=new ut(this.baseTexture,!this.noFrame&&t,e,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(e._frame=t),e},ut.prototype.updateUvs=function(){this._uvs===lt&&(this._uvs=new st),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},ut.from=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=p.settings.STRICT_TEXTURE_CACHE);var r="string"==typeof t,n=null,n=r?t:t instanceof T?(t.cacheId||(s=e&&e.pixiIdPrefix||"pixiid",t.cacheId=s+"-"+y.uid(),T.addToCache(t,t.cacheId)),t.cacheId):(t._pixiId||(s=e&&e.pixiIdPrefix||"pixiid",t._pixiId=s+"_"+y.uid()),t._pixiId),s=y.TextureCache[n];if(r&&i&&!s)throw new Error('The cacheId "'+n+'" does not exist in TextureCache.');return s||t instanceof T?!s&&t instanceof T&&(s=new ut(t),ut.addToCache(s,n)):(e.resolution||(e.resolution=y.getResolutionOfUrl(t)),(s=new ut(new T(t,e))).baseTexture.cacheId=n,T.addToCache(s.baseTexture,n),ut.addToCache(s,n)),s},ut.fromURL=function(t,e){var i=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),r=ut.from(t,Object.assign({resourceOptions:i},e),!1),e=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):e.load().then(function(){return Promise.resolve(r)})},ut.fromBuffer=function(t,e,i,r){return new ut(T.fromBuffer(t,e,i,r))},ut.fromLoader=function(t,e,i,r){t=new T(t,Object.assign({scaleMode:p.settings.SCALE_MODE,resolution:y.getResolutionOfUrl(e)},r)),r=t.resource;r instanceof G&&(r.url=e);var n=new ut(t);return T.addToCache(n.baseTexture,i=i||e),ut.addToCache(n,i),i!==e&&(T.addToCache(n.baseTexture,e),ut.addToCache(n,e)),n.baseTexture.valid?Promise.resolve(n):new Promise(function(t){n.baseTexture.once("loaded",function(){return t(n)})})},ut.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),y.TextureCache[e],y.TextureCache[e]=t)},ut.removeFromCache=function(t){if("string"==typeof t){var e=y.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete y.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)y.TextureCache[t.textureCacheIds[r]]===t&&delete y.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(ut.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,s=e+r>this.baseTexture.width,o=i+n>this.baseTexture.height;if(s||o){e="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,i="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(s&&o?"and":"or")+" "+i)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),ut.prototype.castToBaseTexture=function(){return this.baseTexture},ut);function ut(t,e,i,r,n,s){var o=at.call(this)||this;if(o.noFrame=!1,e||(o.noFrame=!0,e=new l.Rectangle(0,0,1,1)),t instanceof ut&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=r,o.valid=!1,o._uvs=lt,o.uvMatrix=null,o.orig=i||e,o._rotate=Number(n||0),!0===n)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return o.defaultAnchor=s?new l.Point(s.x,s.y):new l.Point(0,0),o._updateID=0,o.textureCacheIds=[],t.valid?o.noFrame?t.valid&&o.onBaseTextureUpdated(t):o.frame=e:t.once("loaded",o.onBaseTextureUpdated,o),o.noFrame&&t.on("update",o.onBaseTextureUpdated,o),o}function ct(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}ht.EMPTY=new ht(new T),ct(ht.EMPTY),ct(ht.EMPTY.baseTexture),ht.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new ht(new T(new D(t)))}(),ct(ht.WHITE),ct(ht.WHITE.baseTexture);var dt,ft=(a(pt,dt=ht),Object.defineProperty(pt.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(pt.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),pt.prototype.resize=function(t,e,i){void 0===i&&(i=!0);var r=this.baseTexture.resolution,t=Math.round(t*r)/r,r=Math.round(e*r)/r;this.valid=0<t&&0<r,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=r,i&&this.baseTexture.resize(t,r),this.updateUvs()},pt.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},pt.create=function(t){for(var e=arguments,i=[],r=1;r<arguments.length;r++)i[r-1]=e[r];return"number"==typeof t&&(y.deprecation("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new pt(new rt(t))},pt);function pt(t,e){e=dt.call(this,t,e)||this;return e.valid=!0,e.filterFrame=null,e.filterPoolKey=null,e.updateUvs(),e}var mt=(yt.prototype.createTexture=function(t,e,i){void 0===i&&(i=m.MSAA_QUALITY.NONE);i=new rt(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new ft(i)},yt.prototype.getOptimalTexture=function(t,e,i,r){var n;void 0===i&&(i=1),void 0===r&&(r=m.MSAA_QUALITY.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?n=1<r?-r:-1:(n=((65535&(t=y.nextPow2(t)))<<16|65535&(e=y.nextPow2(e)))>>>0,1<r&&(n+=4294967296*r)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return(s=s||this.createTexture(t,e,r)).filterPoolKey=n,s.setResolution(i),s},yt.prototype.getFilterTexture=function(t,e,i){i=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||m.MSAA_QUALITY.NONE);return i.filterFrame=t.filterFrame,i},yt.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},yt.prototype.returnFilterTexture=function(t){this.returnTexture(t)},yt.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},yt.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=0<t.width&&0<t.height,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},yt.SCREEN_KEY=-1,yt);function yt(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}var _t=(gt.prototype.destroy=function(){this.buffer=null},gt.from=function(t,e,i,r,n){return new gt(t,e,i,r,n)},gt);function gt(t,e,i,r,n,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=m.TYPES.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=o}var vt=0,bt=(Tt.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},Tt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Tt.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(Tt.prototype,"index",{get:function(){return this.type===m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:m.BUFFER_TYPE.ARRAY_BUFFER},enumerable:!1,configurable:!0}),Tt.from=function(t){return new Tt(t=t instanceof Array?new Float32Array(t):t)},Tt);function Tt(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=vt++,this.disposeRunner=new r.Runner("disposeBuffer")}var xt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Et={5126:4,5123:2,5121:1},St=0,At={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Pt=(wt.prototype.addAttribute=function(t,e,i,r,n,s,o,a){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof bt||(e instanceof Array&&(e=new Float32Array(e)),e=new bt(e));var l=t.split("|");if(1<l.length){for(var h=0;h<l.length;h++)this.addAttribute(l[h],e,i,r,n);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new _t(u,i,r,n,s,o,a),this.instanced=this.instanced||a,this},wt.prototype.getAttribute=function(t){return this.attributes[t]},wt.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},wt.prototype.addIndex=function(t){return t instanceof bt||(t instanceof Array&&(t=new Uint16Array(t)),t=new bt(t)),t.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},wt.prototype.getIndex=function(){return this.indexBuffer},wt.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new bt;for(t in this.attributes){var n=this.attributes[t],s=this.buffers[n.buffer];e.push(s.data),i.push(n.size*Et[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,l=0,s=0;s<t.length;s++){var h=e[s],u=t[s],c=y.getBufferType(u);n[c]||(n[c]=new xt[c](o));for(var a=n[c],d=0;d<u.length;d++)a[(d/h|0)*r+l+d%h]=u[d];l+=h}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},wt.prototype.getSize=function(){for(var t in this.attributes){t=this.attributes[t];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},wt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},wt.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},wt.prototype.clone=function(){for(var t=new wt,e=0;e<this.buffers.length;e++)t.buffers[e]=new bt(this.buffers[e].data.slice(0));for(e in this.attributes){var i=this.attributes[e];t.attributes[e]=new _t(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t},wt.merge=function(t){for(var e=new wt,i=[],r=[],n=[],s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.buffers.length;a++)r[a]=r[a]||0,r[a]+=o.buffers[a].data.length,n[a]=0;for(s=0;s<o.buffers.length;s++)i[s]=new At[y.getBufferType(o.buffers[s].data)](r[s]),e.buffers[s]=new bt(i[s]);for(s=0;s<t.length;s++){o=t[s];for(a=0;a<o.buffers.length;a++)i[a].set(o.buffers[a].data,n[a]),n[a]+=o.buffers[a].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;for(var l=0,h=0,u=0,c=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){c=s;break}for(s in o.attributes){var d=o.attributes[s];(0|d.buffer)===c&&(h+=d.size*Et[d.type]/4)}for(s=0;s<t.length;s++){for(var f=t[s].indexBuffer.data,a=0;a<f.length;a++)e.indexBuffer.data[a+u]+=l;l+=t[s].buffers[c].data.length/h,u+=f.length}}return e},wt);function wt(t,e){void 0===e&&(e={}),this.buffers=t=void 0===t?[]:t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=St++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new r.Runner("disposeGeometry"),this.refCount=0}var Ot,Rt=(a(Mt,Ot=Pt),Mt);function Mt(){var t=Ot.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}var Ct,It=(a(Dt,Ct=Pt),Dt.prototype.map=function(t,e){var i,r;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},Dt.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},Dt);function Dt(){var t=Ct.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new bt(t.vertices),t.uvBuffer=new bt(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}var Nt=0,Ft=(kt.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},kt.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new kt(e,i)},kt.from=function(t,e,i){return new kt(t,e,i)},kt.uboFrom=function(t,e){return new kt(t,null==e||e,!0)},kt);function kt(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Nt++,this.static=!!e,this.ubo=!!i,t instanceof bt?(this.buffer=t,this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new bt(new Float32Array(1)),this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}var Lt=(Bt.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},Bt);function Bt(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=m.MSAA_QUALITY.NONE,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.bindingSourceFrame=new l.Rectangle,this.bindingDestinationFrame=new l.Rectangle,this.filters=[],this.transform=null}var Gt=[new l.Point,new l.Point,new l.Point,new l.Point],Ut=new l.Matrix,Vt=(jt.prototype.push=function(t,e){for(var i=this.renderer,r=this.defaultFilterStack,n=this.statePool.pop()||new Lt,s=this.renderer.renderTexture,o=e[0].resolution,a=e[0].multisample,l=e[0].padding,h=e[0].autoFit,u=e[0].legacy,c=1;c<e.length;c++)var d=e[c],o=Math.min(o,d.resolution),a=Math.min(a,d.multisample),l=this.useMaxPadding?Math.max(l,d.padding):l+d.padding,h=h&&d.autoFit,u=u||d.legacy;1===r.length&&(this.defaultFilterStack[0].renderTexture=s.current),r.push(n),n.resolution=o,n.multisample=a,n.legacy=u,n.target=t,n.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),n.sourceFrame.pad(l),h&&(f=this.tempRect.copyFrom(s.sourceFrame),i.projection.transform&&this.transformAABB(Ut.copyFrom(i.projection.transform).invert(),f),n.sourceFrame.fit(f)),this.roundFrame(n.sourceFrame,(s.current||i).resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o,a),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height;var f=this.tempRect;f.x=0,f.y=0,f.width=n.sourceFrame.width,f.height=n.sourceFrame.height,n.renderTexture.filterFrame=n.sourceFrame,n.bindingSourceFrame.copyFrom(s.sourceFrame),n.bindingDestinationFrame.copyFrom(s.destinationFrame),n.transform=i.projection.transform,i.projection.transform=null,s.bind(n.renderTexture,n.sourceFrame,f),i.framebuffer.clear(0,0,0,0)},jt.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,s=r.inputPixel,o=r.inputClamp;n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*e.resolution),s[1]=Math.round(n[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*n[2]-.5*s[2],o[3]=e.sourceFrame.height*n[3]-.5*s[3],e.legacy&&((s=r.filterArea)[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,t.renderTexture,m.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(u=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var l=0,l=0;l<i.length-1;++l){1===l&&1<e.multisample&&((u=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame),i[l].apply(this,a,u,m.CLEAR_MODES.CLEAR,e);var h=a,a=u,u=h}i[l].apply(this,a,t.renderTexture,m.CLEAR_MODES.BLEND,e),1<l&&1<e.multisample&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(a),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)},jt.prototype.bindAndClear=function(t,e){void 0===e&&(e=m.CLEAR_MODES.CLEAR);var i=this.renderer,r=i.renderTexture,n=i.state;t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame?((i=this.tempRect).x=0,i.y=0,i.width=t.filterFrame.width,i.height=t.filterFrame.height,r.bind(t,t.filterFrame,i)):t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);n=1&n.stateId||this.forceClear;(e===m.CLEAR_MODES.CLEAR||e===m.CLEAR_MODES.BLIT&&n)&&this.renderer.framebuffer.clear(0,0,0,0)},jt.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(m.DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(m.DRAW_MODES.TRIANGLE_STRIP))},jt.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,i=e._texture.orig,n=t.set(n.width,0,0,n.height,r.x,r.y),r=e.worldTransform.copyTo(l.Matrix.TEMP_MATRIX);return r.invert(),n.prepend(r),n.scale(1/i.width,1/i.height),n.translate(e.anchor.x,e.anchor.y),n},jt.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},jt.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===r&&(r=m.MSAA_QUALITY.NONE),this.texturePool.getOptimalTexture(t,e,i=void 0===i?1:i,r)},jt.prototype.getFilterTexture=function(t,e,i){var r;"number"==typeof t&&(r=t,t=e,e=r),t=t||this.activeState.renderTexture;i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||m.MSAA_QUALITY.NONE);return i.filterFrame=t.filterFrame,i},jt.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},jt.prototype.emptyPool=function(){this.texturePool.clear(!0)},jt.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},jt.prototype.transformAABB=function(t,e){var i=Gt[0],r=Gt[1],n=Gt[2],s=Gt[3];i.set(e.left,e.top),r.set(e.left,e.bottom),n.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(n,n),t.apply(s,s);var o=Math.min(i.x,r.x,n.x,s.x),a=Math.min(i.y,r.y,n.y,s.y),t=Math.max(i.x,r.x,n.x,s.x),s=Math.max(i.y,r.y,n.y,s.y);e.x=o,e.y=a,e.width=t-o,e.height=s-a},jt.prototype.roundFrame=function(t,e,i,r,n){if(n){var s=n.a,o=n.b,a=n.c,l=n.d;if((1e-4<Math.abs(o)||1e-4<Math.abs(a))&&(1e-4<Math.abs(s)||1e-4<Math.abs(l)))return}(n=n?Ut.copyFrom(n):Ut.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,t),t.ceil(e),this.transformAABB(n.invert(),t)},jt);function jt(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new mt,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Rt,this.quadUv=new It,this.tempRect=new l.Rectangle,this.activeState={},this.globalUniforms=new Ft({outputFrame:new l.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}var Ht=(Xt.prototype.flush=function(){},Xt.prototype.destroy=function(){this.renderer=null},Xt.prototype.start=function(){},Xt.prototype.stop=function(){this.flush()},Xt.prototype.render=function(t){},Xt);function Xt(t){this.renderer=t}var qt=(zt.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},zt.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},zt.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},zt.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;0<=r;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},zt.prototype.boundArray=function(t,e,i,r){for(var n=t.elements,s=t.ids,o=t.count,a=0,l=0;l<o;l++){var h=n[l],u=h._batchLocation;if(0<=u&&u<r&&e[u]===h)s[l]=u;else for(;a<r;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[l]=a,e[h._batchLocation=a]=h;break}a++}}},zt.prototype.destroy=function(){this.renderer=null},zt);function zt(t){this.renderer=t,this.emptyRenderer=new Ht(t),this.currentRenderer=this.emptyRenderer}var Yt=0,Wt=(Object.defineProperty($t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),$t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Yt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},$t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Yt++,this.renderer.runners.contextChange.emit(t)},$t.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},$t.prototype.createContext=function(t,e){var i;if(i=p.settings.PREFER_ENV>=m.ENV.WEBGL2?t.getContext("webgl2",e):i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},$t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},$t.prototype.handleContextLost=function(t){t.preventDefault()},$t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},$t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},$t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},$t.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil;t=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=t},$t);function $t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}var Qt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=m.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Zt=new l.Rectangle,Kt=(Jt.prototype.contextChange=function(){var e,t,i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new l.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,p.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY&&(t=e=null),e?i.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,i.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},Jt.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var n=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,n.mipLevel=i),n.dirtyId!==t.dirtyId&&(n.dirtyId=t.dirtyId,n.dirtyFormat!==t.dirtyFormat?(n.dirtyFormat=t.dirtyFormat,n.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):n.dirtySize!==t.dirtySize&&(n.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s,o,a=0;a<t.colorTextures.length;a++){var l=t.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?(s=e.width>>i,o=e.height>>i,n=s/e.width,this.setViewport(e.x*n,e.y*n,s,o)):(s=t.width>>i,o=t.height>>i,this.setViewport(0,0,s,o))}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},Jt.prototype.setViewport=function(t,e,i,r){var n=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(Jt.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),Jt.prototype.clear=function(t,e,i,r,n){void 0===n&&(n=m.BUFFER_BITS.COLOR|m.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(n)},Jt.prototype.initFramebuffer=function(t){var e=this.gl,e=new Qt(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},Jt.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,n=r.length;e.drawBuffers||(n=Math.min(n,1));for(var s=0;s<n;s++){var o=r[s],o=o.parentTextureArray||o;this.renderer.texture.bind(o,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},Jt.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],n=t.colorTextures,s=n.length;i.drawBuffers||(s=Math.min(s,1)),1<r.multisample&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var o,a=[],l=0;l<s;l++){var h=n[l],u=h.parentTextureArray||h;this.renderer.texture.bind(u,0),0===l&&r.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,h.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}1<a.length&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(o=t.depthTexture,this.renderer.texture.bind(o,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,e)),!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},Jt.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},Jt.prototype.detectSamples=function(t){var e=this.msaaSamples,i=m.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return i=1===i?m.MSAA_QUALITY.NONE:i},Jt.prototype.blit=function(t,e,i){var r=this.current,n=this.renderer,s=this.gl,o=this.CONTEXT_UID;if(2===n.context.webGLVersion&&r){n=r.glFramebuffers[o];if(n){if(!t){if(!n.msaaBuffer)return;o=r.colorTextures[0];if(!o)return;n.blitFramebuffer||(n.blitFramebuffer=new tt(r.width,r.height),n.blitFramebuffer.addColorTexture(0,o)),(t=n.blitFramebuffer).colorTextures[0]!==o&&(t.colorTextures[0]=o,t.dirtyId++,t.dirtyFormat++),t.width===r.width&&t.height===r.height||(t.width=r.width,t.height=r.height,t.dirtyId++,t.dirtySize++)}e||((e=Zt).width=r.width,e.height=r.height);r=e.width===(i=i||e).width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,n.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,r?s.NEAREST:s.LINEAR)}}},Jt.prototype.disposeFramebuffer=function(t,e){var i,r=t.glFramebuffers[this.CONTEXT_UID],n=this.gl;r&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(i=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(n.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&n.deleteRenderbuffer(r.msaaBuffer),r.stencil&&n.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose())},Jt.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},Jt.prototype.forceStencil=function(){var t,e,i,r,n=this.current;!n||(t=n.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(n.stencil=!0,e=n.width,i=n.height,n=(r=this.gl).createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,n),t.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,t.multisample,r.DEPTH24_STENCIL8,e,i):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,i),t.stencil=n,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n))},Jt.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new l.Rectangle},Jt.prototype.destroy=function(){this.renderer=null},Jt);function Jt(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new tt(10,10),this.msaaSamples=null}var te={5126:4,5123:2,5121:1},ee=(ie.prototype.contextChange=function(){this.disposeAll(!0);var e,s,t=this.gl=this.renderer.gl,i=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,(e=p.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY?null:e)?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==i.webGLVersion&&((s=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return s.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,r,n){return s.drawElementsInstancedANGLE(t,e,i,r,n)},t.drawArraysInstanced=function(t,e,i,r){return s.drawArraysInstancedANGLE(t,e,i,r)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},ie.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);n=r[e.program.id]||this.initGeometryVao(t,e,n);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},ie.prototype.reset=function(){this.unbind()},ie.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++){var r=t.buffers[i];e.update(r)}},ie.prototype.checkCompatibility=function(t,e){var i,r=t.attributes;for(i in e.attributeData)if(!r[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},ie.prototype.getSignature=function(t,e){var i,r=t.attributes,n=e.attributeData,s=["g",t.id];for(i in r)n[i]&&s.push(i);return s.join("-")},ie.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.program;o.glPrograms[n]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,o);var a=this.getSignature(t,o),l=t.glVertexArrayObjects[this.CONTEXT_UID],e=l[a];if(e)return l[o.id]=e;var h,u=t.buffers,c=t.attributes,d={},f={};for(h in u)d[h]=0,f[h]=0;for(h in c)!c[h].size&&o.attributeData[h]?c[h].size=o.attributeData[h].size:c[h].size,d[c[h].buffer]+=c[h].size*te[c[h].type];for(h in c){var p=c[h],m=p.size;void 0===p.stride&&(d[p.buffer]===m*te[p.type]?p.stride=0:p.stride=d[p.buffer]),void 0===p.start&&(p.start=f[p.buffer],f[p.buffer]+=m*te[p.type])}e=r.createVertexArray(),r.bindVertexArray(e);for(var y=0;y<u.length;y++){var _=u[y];s.bind(_),i&&_._glBuffers[n].refCount++}return this.activateVao(t,o),this._activeVao=e,l[o.id]=e,l[a]=e},ie.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=t.buffers,o=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(o)for(var a=0;a<s.length;a++){var l=s[a]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||e||o.dispose(s[a],e))}if(!e)for(var h in r)"g"===h[0]&&(h=r[h],this._activeVao===h&&this.unbind(),n.deleteVertexArray(h));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ie.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},ie.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,s=t.buffers,o=t.attributes;t.indexBuffer&&n.bind(t.indexBuffer);var a,l=null;for(a in o){var h=o[a],u=s[h.buffer],c=u._glBuffers[r];if(e.attributeData[a]){l!==c&&(n.bind(u),l=c);c=e.attributeData[a].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(c,1)}}}},ie.prototype.draw=function(t,e,i,r){var n,s,o=this.gl,a=this._activeGeometry;return a.indexBuffer?(s=2===(n=a.indexBuffer.data.BYTES_PER_ELEMENT)?o.UNSIGNED_SHORT:o.UNSIGNED_INT,(2===n||4===n&&this.canUseUInt32ElementIndex)&&(a.instanced?o.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(i||0)*n,r||1):o.drawElements(t,e||a.indexBuffer.data.length,s,(i||0)*n))):a.instanced?o.drawArraysInstanced(t,i,e||a.getSize(),r||1):o.drawArrays(t,i,e||a.getSize()),this},ie.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ie.prototype.destroy=function(){this.renderer=null},ie);function ie(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}var re=(Object.defineProperty(ne.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),ne.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=m.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},ne.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},ne);function ne(t){void 0===t&&(t=null),this.type=m.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=p.settings.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}function se(t,e,i){e=t.createShader(e);return t.shaderSource(e,i),t.compileShader(e),e}function oe(t,e){var i=t.getShaderSource(e).split("\n").map(function(t,e){return e+": "+t}),e=t.getShaderInfoLog(e).split("\n"),r={},e=e.map(function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(t){return!(!t||r[t])&&(r[t]=!0)}),n=[""];e.forEach(function(t){i[t-1]="%c"+i[t-1]+"%c",n.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});e=i.join("\n");n[0]=e,console.warn.apply(console,n)}function ae(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function le(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ae(2*e);case"bvec3":return ae(3*e);case"bvec4":return ae(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var he,ue={},ce=ue;function de(){var t,e;return(ce===ue||ce&&ce.isContextLost())&&(t=document.createElement("canvas"),e=void 0,(e=p.settings.PREFER_ENV>=m.ENV.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),ce=e),ce}function fe(t,e,i){if("precision"===t.substring(0,9))return i!==m.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var r=e;return"precision "+(r=e===m.PRECISION.HIGH&&i!==m.PRECISION.HIGH?m.PRECISION.MEDIUM:r)+" float;\n"+t}var pe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function me(t){return pe[t]}var ye=null,_e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ge(t,e){if(!ye){var i=Object.keys(_e);ye={};for(var r=0;r<i.length;++r){var n=i[r];ye[t[n]]=_e[n]}}return ye[e]}var ve=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],be={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Te={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var xe,Ee=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Se(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=Ee.replace(/%forloop%/gi,function(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}var Ae=0,Pe={},we=(Object.defineProperty(Oe,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Oe,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Oe.from=function(t,e,i){var r=t+e,n=y.ProgramCache[r];return n||(y.ProgramCache[r]=n=new Oe(t,e,i)),n},Oe);function Oe(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Ae++,this.vertexSrc=t||Oe.defaultVertexSrc,this.fragmentSrc=e||Oe.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Pe[i]?(Pe[i]++,i+="-"+Pe[i]):Pe[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=fe(this.vertexSrc,p.settings.PRECISION_VERTEX,m.PRECISION.HIGH),this.fragmentSrc=fe(this.fragmentSrc,p.settings.PRECISION_FRAGMENT,(he||(he=m.PRECISION.MEDIUM,(i=de())&&i.getShaderPrecisionFormat&&(i=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT),he=i.precision?m.PRECISION.HIGH:m.PRECISION.MEDIUM)),he))),this.glPrograms={},this.syncUniforms=null}var Re=(Me.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){i=e.uniforms[i];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Me.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Me.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Me.from=function(t,e,i){return new Me(we.from(t,e),i)},Me);function Me(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Ft?e:new Ft(e):new Ft({})}var Ce=(Object.defineProperty(Ie.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==m.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Ie.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},Ie.for2d=function(){var t=new Ie;return t.depthTest=!1,t.blend=!0,t},Ie);function Ie(){this.data=0,this.blendMode=m.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}var De,Ne=(a(Fe,De=Re),Fe.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},Object.defineProperty(Fe.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Fe.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(Fe,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Fe,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),Fe);function Fe(t,e,i){var r=this,e=we.from(t||Fe.defaultVertexSrc,e||Fe.defaultFragmentSrc);return(r=De.call(this,e,i)||this).padding=0,r.resolution=p.settings.FILTER_RESOLUTION,r.multisample=p.settings.FILTER_MULTISAMPLE,r.enabled=!0,r.autoFit=!0,r.state=new Ce,r}var ke=new l.Matrix,Le=(Object.defineProperty(Be.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),Be.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],s=t[r+1];e[r]=n*i.a+s*i.c+i.tx,e[r+1]=n*i.b+s*i.d+i.ty}return e},Be.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(ke.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(ke));t=e.baseTexture,i=this.uClampFrame,r=this.clampMargin/t.resolution,n=this.clampOffset;return i[0]=(e._frame.x+r+n)/t.width,i[1]=(e._frame.y+r+n)/t.height,i[2]=(e._frame.x+e._frame.width-r+n)/t.width,i[3]=(e._frame.y+e._frame.height-r+n)/t.height,this.uClampOffset[0]=n/t.realWidth,this.uClampOffset[1]=n/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},Be);function Be(t,e){this._texture=t,this.mapCoord=new l.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}var Ge,Ue=(a(Ve,Ge=Ne),Object.defineProperty(Ve.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),Ve.prototype.apply=function(t,e,i,r){var n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Le(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,i,r))},Ve);function Ve(t,e,i){var r=this,n=null;return"string"!=typeof t&&void 0===e&&void 0===i&&(n=t,i=e=t=void 0),(r=Ge.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",e||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=n,r.maskMatrix=new l.Matrix,r}var je=(He.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},He.prototype.push=function(t,e){var i=e;i.isMaskData||((r=this.maskDataPool.pop()||new re).pooled=!0,r.maskObject=e,i=r);var r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(r),i.autoDetect&&this.detect(i),i._target=t,i.type!==m.MASK_TYPES.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.push(i);break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.push(i);break;case m.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===m.MASK_TYPES.SPRITE&&this.maskStack.push(i)},He.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case m.MASK_TYPES.SPRITE:this.popSpriteMask(e)}e.reset(),e.pooled&&this.maskDataPool.push(e),0===this.maskStack.length||(t=this.maskStack[this.maskStack.length-1]).type===m.MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}},He.prototype.detect=function(t){t.maskObject.isSprite?t.type=m.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=m.MASK_TYPES.SCISSOR:t.type=m.MASK_TYPES.STENCIL},He.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,n=t._target,s=(s=t._filters)||((s=this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new Ue])),o=this.renderer,a=o.renderTexture;l=a.current?(e=a.current,i=t.resolution||e.resolution,null!==(a=t.multisample)&&void 0!==a?a:e.multisample):(i=t.resolution||o.resolution,null!==(l=t.multisample)&&void 0!==l?l:o.multisample),s[0].resolution=i,s[0].multisample=l,s[0].maskSprite=r;var l=n.filterArea;n.filterArea=r.getBounds(!0),o.filter.push(n,s),n.filterArea=l,t._filters||this.alphaMaskIndex++},He.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},He.prototype.destroy=function(){this.renderer=null},He);function He(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}var Xe=(qe.prototype.getStackLength=function(){return this.maskStack.length},qe.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==i&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},qe.prototype._useCurrent=function(){},qe.prototype.destroy=function(){this.renderer=null,this.maskStack=null},qe);function qe(t){this.renderer=t,this.maskStack=[],this.glConst=0}var ze,Ye=new l.Matrix,We=(a($e,ze=Xe),$e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},$e.prototype.calcScissorRect=function(t){var e,i,r,n,s;t._scissorRectLocal||(e=t._scissorRect,i=t.maskObject,n=(r=this.renderer).renderTexture,i.renderable=!0,s=i.getBounds(),this.roundFrameToPixels(s,(n.current||r).resolution,n.sourceFrame,n.destinationFrame,r.projection.transform),i.renderable=!1,e&&s.fit(e),t._scissorRectLocal=s)},$e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,i=t.b,r=t.c,t=t.d;return(1e-4<Math.abs(i)||1e-4<Math.abs(r))&&(1e-4<Math.abs(e)||1e-4<Math.abs(t))},$e.prototype.testScissor=function(t){var e=t.maskObject;if(!e.isFastRect||!e.isFastRect())return!1;if($e.isMatrixRotated(e.worldTransform))return!1;if($e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);t=t._scissorRectLocal;return 0<t.width&&0<t.height},$e.prototype.roundFrameToPixels=function(t,e,i,r,n){$e.isMatrixRotated(n)||((n=n?Ye.copyFrom(n):Ye.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.renderer.filter.transformAABB(n,t),t.fit(r),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))},$e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},$e.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},$e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y;this.renderer.gl.scissor(t.x,e,t.width,t.height)},$e);function $e(t){t=ze.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}var Qe,Ze=(a(Ke,Qe=Xe),Ke.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},Ke.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},Ke.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clearStencil(0),e.clear(e.STENCIL_BUFFER_BIT)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},Ke.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},Ke);function Ke(t){t=Qe.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}var Je=(ti.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},ti.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix,r=r?-1:1;n.identity(),n.a=1/e.width*2,n.d=r*(1/e.height*2),n.tx=-1-e.x*n.a,n.ty=-r-e.y*n.d},ti.prototype.setTransform=function(t){},ti.prototype.destroy=function(){this.renderer=null},ti);function ti(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new l.Matrix,this.transform=null}var ei=new l.Rectangle,ii=new l.Rectangle,ri=(ni.prototype.bind=function(t,e,i){var r,n,s,o=this.renderer;(this.current=t=void 0===t?null:t)?(s=(r=t.baseTexture).resolution,e||(ei.width=t.frame.width,ei.height=t.frame.height,e=ei),i||(ii.x=t.frame.x,ii.y=t.frame.y,ii.width=e.width,ii.height=e.height,i=ii),n=r.framebuffer):(s=o.resolution,e||(ei.width=o.screen.width,ei.height=o.screen.height,e=ei),i||((i=ei).width=e.width,i.height=e.height));var a=this.viewportFrame;a.x=i.x*s,a.y=i.y*s,a.width=i.width*s,a.height=i.height*s,t||(a.y=o.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(i,e,s,!n),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},ni.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i,r,n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==s.width||n.height!==s.height;o&&(i=(r=this.viewportFrame).x,n=r.y,s=r.width,r=r.height,i=Math.round(i),n=Math.round(n),s=Math.round(s),r=Math.round(r),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(i,n,s,r)),this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},ni.prototype.resize=function(){this.bind(null)},ni.prototype.reset=function(){this.bind(null)},ni.prototype.destroy=function(){this.renderer=null},ni);function ni(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.viewportFrame=new l.Rectangle}function si(t,e,i,r,n){i.buffer.update(n)}var oi={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},ai={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function li(t){for(var e=t.map(function(t){return{data:t,offset:0,dataLen:0,dirty:0}}),i=0,r=0,n=0,s=0;s<e.length;s++){var o,a=e[s],i=ai[a.data.type];1<a.data.size&&(i=Math.max(i,16)*a.data.size),r%(a.dataLen=i)!=0&&r<16&&(r+=o=r%i%16,n+=o),16<r+i?(n=16*Math.ceil(n/16),a.offset=n,n+=i,r=i):(a.offset=n,r+=i,n+=i)}return{uboElements:e,size:n=16*Math.ceil(n/16)}}function hi(t,e){var i,r=[];for(i in t)e[i]&&r.push(e[i]);return r.sort(function(t,e){return t.index-e.index}),r}function ui(t,e){if(!t.autoManage)return{size:0,syncFunc:si};for(var e=li(hi(t.uniforms,e)),i=e.uboElements,e=e.size,r=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],n=0;n<i.length;n++){for(var s,o,a=i[n],l=t.uniforms[a.data.name],h=a.data.name,u=!1,c=0;c<ve.length;c++){var d=ve[c];if(d.codeUbo&&d.test(a.data,l)){r.push("offset = "+a.offset/4+";",ve[c].codeUbo(a.data.name,l)),u=!0;break}}u||(1<a.data.size?(s=me(a.data.type),o=Math.max(ai[a.data.type]/16,1),r.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*o+"; i++)\n                {\n                    for(var j = 0; j < "+(o=s/o)+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-o%4)%4+";\n                }\n\n                ")):(o=oi[a.data.type],r.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n                "+o+";\n                ")))}return r.push("\n       renderer.buffer.update(buffer);\n    "),{size:e,syncFunc:new Function("ud","uv","renderer","syncData","buffer",r.join("\n"))}}function ci(){}var di=(fi.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},fi);function fi(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}function pi(t,e){var i,r,n,s,o=se(t,t.VERTEX_SHADER,e.vertexSrc),a=se(t,t.FRAGMENT_SHADER,e.fragmentSrc),l=t.createProgram();if(t.attachShader(l,o),t.attachShader(l,a),t.linkProgram(l),t.getProgramParameter(l,t.LINK_STATUS)||(r=l,n=o,s=a,(i=t).getProgramParameter(r,i.LINK_STATUS)||(i.getShaderParameter(n,i.COMPILE_STATUS)||oe(i,n),i.getShaderParameter(s,i.COMPILE_STATUS)||oe(i,s),i.getProgramInfoLog(r))),e.attributeData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var s,o=e.getActiveAttrib(t,n);0!==o.name.indexOf("gl_")&&(s={type:s=ge(e,o.type),name:o.name,size:me(s),location:e.getAttribLocation(t,o.name)},i[o.name]=s)}return i}(l,t),e.uniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=ge(e,s.type);i[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:le(l,s.size)}}return i}(l,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var h=Object.keys(e.attributeData);h.sort(function(t,e){return e<t?1:-1});for(var u=0;u<h.length;u++)e.attributeData[h[u]].location=u,t.bindAttribLocation(l,u,h[u]);t.linkProgram(l)}t.deleteShader(o),t.deleteShader(a);var c={};for(u in e.uniformData){var d=e.uniformData[u];c[u]={location:t.getUniformLocation(l,u),value:le(d.type,d.size)}}return new di(l,c)}var mi=0,yi={textureCount:0,uboCount:0},_i=(gi.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof xe)return xe;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");xe=!0===t({a:"b"},"a","b")}catch(t){xe=!1}return xe}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},gi.prototype.contextChange=function(t){this.gl=t,this.reset()},gi.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(yi.textureCount=0,yi.uboCount=0,this.syncUniformGroup(t.uniformGroup,yi)),r},gi.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},gi.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();t.static&&t.dirtyId===i.uniformDirtyGroups[t.id]||(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},gi.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},gi.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var i,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(i in t.uniforms){var n=e[i];if(n){for(var s,o=t.uniforms[i],a=!1,l=0;l<ve.length;l++)if(ve[l].test(n,o)){r.push(ve[l].code(i,o)),a=!0;break}a||(s=(1===n.size?be:Te)[n.type].replace("location",'ud["'+i+'"].location'),r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+s+";"))}else null!==(s=t.uniforms[i])&&void 0!==s&&s.group&&(t.uniforms[i].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},gi.prototype.syncUniformBufferGroup=function(t,e){var i,r=this.getGlProgram();t.static&&0===t.dirtyId&&r.uniformGroups[t.id]||(t.dirtyId=0,i=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,e),t.buffer.update(),i(r.uniformData,t.uniforms,this.renderer,yi,t.buffer)),this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[e])},gi.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var n=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;r=this.getSignature(t,this.shader.program.uniformData,"ubo"),n=(n=this._uboCache[r])||(this._uboCache[r]=ui(t,this.shader.program.uniformData));return t.autoManage&&(r=new Float32Array(n.size/4),t.buffer.update(r)),e.uniformGroups[t.id]=n.syncFunc,e.uniformGroups[t.id]},gi.prototype.getSignature=function(t,e,i){var r,n=[i+"-"];for(r in t.uniforms)n.push(r),e[r]&&n.push(e[r].type);return n.join("-")},gi.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},gi.prototype.generateProgram=function(t){var e=this.gl,t=t.program,e=pi(e,t);return t.glPrograms[this.renderer.CONTEXT_UID]=e},gi.prototype.reset=function(){this.program=null,this.shader=null},gi.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},gi);function gi(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=mi++}var vi=(bi.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,(e=void 0===e?[]:e)[m.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[m.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.NONE]=[0,0],e[m.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[m.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[m.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[m.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[m.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[m.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[m.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},bi.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},bi.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},bi.prototype.setBlend=function(t){this.updateCheck(bi.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},bi.prototype.setOffset=function(t){this.updateCheck(bi.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},bi.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},bi.prototype.setDepthMask=function(t){this.gl.depthMask(t)},bi.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},bi.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},bi.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},bi.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},bi.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},bi.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},bi.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},bi.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},bi.prototype.destroy=function(){this.gl=null},bi);function bi(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=m.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Ce,this.defaultState.blend=!0}var Ti=(xi.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==m.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},xi.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),i=!(e[r]=null))}if(i){for(var s=0,r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},xi.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var r=t.children.length-1;0<=r;r--)this.unload(t.children[r])},xi.prototype.destroy=function(){this.renderer=null},xi);function xi(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=p.settings.GC_MAX_IDLE,this.checkCountMax=p.settings.GC_MAX_CHECK_COUNT,this.mode=p.settings.GC_MODE}var Ei=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=m.TYPES.UNSIGNED_BYTE,this.internalFormat=m.FORMATS.RGBA,this.samplerType=0},Si=(Ai.prototype.contextChange=function(){var t,e,i,r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=(t=r,o="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((i={})[m.TYPES.UNSIGNED_BYTE]=((e={})[m.FORMATS.RGBA]=t.RGBA8,e[m.FORMATS.RGB]=t.RGB8,e[m.FORMATS.RG]=t.RG8,e[m.FORMATS.RED]=t.R8,e[m.FORMATS.RGBA_INTEGER]=t.RGBA8UI,e[m.FORMATS.RGB_INTEGER]=t.RGB8UI,e[m.FORMATS.RG_INTEGER]=t.RG8UI,e[m.FORMATS.RED_INTEGER]=t.R8UI,e[m.FORMATS.ALPHA]=t.ALPHA,e[m.FORMATS.LUMINANCE]=t.LUMINANCE,e[m.FORMATS.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),i[m.TYPES.BYTE]=((e={})[m.FORMATS.RGBA]=t.RGBA8_SNORM,e[m.FORMATS.RGB]=t.RGB8_SNORM,e[m.FORMATS.RG]=t.RG8_SNORM,e[m.FORMATS.RED]=t.R8_SNORM,e[m.FORMATS.RGBA_INTEGER]=t.RGBA8I,e[m.FORMATS.RGB_INTEGER]=t.RGB8I,e[m.FORMATS.RG_INTEGER]=t.RG8I,e[m.FORMATS.RED_INTEGER]=t.R8I,e),i[m.TYPES.UNSIGNED_SHORT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA16UI,e[m.FORMATS.RGB_INTEGER]=t.RGB16UI,e[m.FORMATS.RG_INTEGER]=t.RG16UI,e[m.FORMATS.RED_INTEGER]=t.R16UI,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,e),i[m.TYPES.SHORT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA16I,e[m.FORMATS.RGB_INTEGER]=t.RGB16I,e[m.FORMATS.RG_INTEGER]=t.RG16I,e[m.FORMATS.RED_INTEGER]=t.R16I,e),i[m.TYPES.UNSIGNED_INT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA32UI,e[m.FORMATS.RGB_INTEGER]=t.RGB32UI,e[m.FORMATS.RG_INTEGER]=t.RG32UI,e[m.FORMATS.RED_INTEGER]=t.R32UI,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,e),i[m.TYPES.INT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA32I,e[m.FORMATS.RGB_INTEGER]=t.RGB32I,e[m.FORMATS.RG_INTEGER]=t.RG32I,e[m.FORMATS.RED_INTEGER]=t.R32I,e),i[m.TYPES.FLOAT]=((e={})[m.FORMATS.RGBA]=t.RGBA32F,e[m.FORMATS.RGB]=t.RGB32F,e[m.FORMATS.RG]=t.RG32F,e[m.FORMATS.RED]=t.R32F,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,e),i[m.TYPES.HALF_FLOAT]=((e={})[m.FORMATS.RGBA]=t.RGBA16F,e[m.FORMATS.RGB]=t.RGB16F,e[m.FORMATS.RG]=t.RG16F,e[m.FORMATS.RED]=t.R16F,e),i[m.TYPES.UNSIGNED_SHORT_5_6_5]=((e={})[m.FORMATS.RGB]=t.RGB565,e),i[m.TYPES.UNSIGNED_SHORT_4_4_4_4]=((e={})[m.FORMATS.RGBA]=t.RGBA4,e),i[m.TYPES.UNSIGNED_SHORT_5_5_5_1]=((e={})[m.FORMATS.RGBA]=t.RGB5_A1,e),i[m.TYPES.UNSIGNED_INT_2_10_10_10_REV]=((e={})[m.FORMATS.RGBA]=t.RGB10_A2,e[m.FORMATS.RGBA_INTEGER]=t.RGB10_A2UI,e),i[m.TYPES.UNSIGNED_INT_10F_11F_11F_REV]=((e={})[m.FORMATS.RGB]=t.R11F_G11F_B10F,e),i[m.TYPES.UNSIGNED_INT_5_9_9_9_REV]=((e={})[m.FORMATS.RGB]=t.RGB9_E5,e),i[m.TYPES.UNSIGNED_INT_24_8]=((e={})[m.FORMATS.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,e),i[m.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]=((e={})[m.FORMATS.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,e),i):((o={})[m.TYPES.UNSIGNED_BYTE]=((i={})[m.FORMATS.RGBA]=t.RGBA,i[m.FORMATS.RGB]=t.RGB,i[m.FORMATS.ALPHA]=t.ALPHA,i[m.FORMATS.LUMINANCE]=t.LUMINANCE,i[m.FORMATS.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,i),o[m.TYPES.UNSIGNED_SHORT_5_6_5]=((i={})[m.FORMATS.RGB]=t.RGB,i),o[m.TYPES.UNSIGNED_SHORT_4_4_4_4]=((i={})[m.FORMATS.RGBA]=t.RGBA,i),o[m.TYPES.UNSIGNED_SHORT_5_5_5_1]=((i={})[m.FORMATS.RGBA]=t.RGBA,i),o));var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var s=0;s<n;s++)this.boundTextures[s]=null;this.emptyTextures={};var o=new Ei(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new Ei(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(s=0;s<6;s++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(s=0;s<this.boundTextures.length;s++)this.bind(null,s)},Ai.prototype.bind=function(t,e){void 0===e&&(e=0);var i,r=this.gl;(t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray?(t.touched=this.renderer.textureGC.count,i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,r.activeTexture(r.TEXTURE0+e)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[e]=null)},Ai.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Ai.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[r]=null)},Ai.prototype.ensureSamplerType=function(t){var e=this.boundTextures,i=this.hasIntegerTextures,r=this.CONTEXT_UID;if(i)for(var n=t-1;0<=n;--n){var s=e[n];s&&s._glTextures[r].samplerType!==m.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}},Ai.prototype.initTexture=function(t){var e=new Ei(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Ai.prototype.initTextureType=function(t,e){var i;e.internalFormat=null!==(i=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==i?i:t.format,2===this.webGLVersion&&t.type===m.TYPES.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},Ai.prototype.updateTexture=function(t){var e,i,r,n=t._glTextures[this.CONTEXT_UID];n&&(r=this.renderer,this.initTextureType(t,n),t.resource&&t.resource.upload(r,t,n)?n.samplerType!==m.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0):(e=t.realWidth,i=t.realHeight,r=r.gl,(n.width!==e||n.height!==i||n.dirtyId<0)&&(n.width=e,n.height=i,r.texImage2D(t.target,0,n.internalFormat,e,i,0,t.format,n.type,null))),t.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(t),n.dirtyId=t.dirtyId)},Ai.prototype.destroyTexture=function(t,e){var i=this.gl;(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e||-1!==(t=this.managedTextures.indexOf(t))&&y.removeItems(this.managedTextures,t,1))},Ai.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==m.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=m.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Ai.prototype.setStyle=function(t,e){var i,r=this.gl;e.mipmap&&t.mipmap!==m.MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,e.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST),(i=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===m.SCALE_MODES.LINEAR&&(e=Math.min(t.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),r.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,e))):r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST),r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)},Ai.prototype.destroy=function(){this.renderer=null},Ai);function Ai(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new T,this.hasIntegerTextures=!1}var Pi,wi={__proto__:null,FilterSystem:Vt,BatchSystem:qt,ContextSystem:Wt,FramebufferSystem:Kt,GeometrySystem:ee,MaskSystem:je,ScissorSystem:We,StencilSystem:Ze,ProjectionSystem:Je,RenderTextureSystem:ri,ShaderSystem:_i,StateSystem:vi,TextureGCSystem:Ti,TextureSystem:Si},Oi=new l.Matrix,Ri=(a(Mi,Pi=y.EventEmitter),Mi.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(Mi.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(Mi.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),Mi.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);t=this.view.width/this.resolution,e=this.view.height/this.resolution;this.screen.width=t,this.screen.height=e,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},Mi.prototype.generateTexture=function(t,e,i,r){"number"==typeof(e=void 0===e?{}:e)&&(y.deprecation("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:i,region:r});i=e.region,e=function(t,e){var i={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&(i[n[r]]=t[n[r]]);return i}(e,["region"]);0===(r=i||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);e=ft.create(h({width:r.width,height:r.height},e));return Oi.tx=-r.x,Oi.ty=-r.y,this.render(t,{renderTexture:e,clear:!1,transform:Oi,skipUpdateTransform:!!t.parent}),e},Mi.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);t=this;t.plugins=null,t.type=m.RENDERER_TYPE.UNKNOWN,t.view=null,t.screen=null,t._tempDisplayObjectParent=null,t.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(Mi.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=y.hex2string(t),y.hex2rgb(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(Mi.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),Mi);function Mi(t,e){void 0===t&&(t=m.RENDERER_TYPE.UNKNOWN);var i=Pi.call(this)||this;return e=Object.assign({},p.settings.RENDER_OPTIONS,e),i.options=e,i.type=t,i.screen=new l.Rectangle(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||p.settings.RESOLUTION,i.useContextAlpha=e.useContextAlpha,i.autoDensity=!!e.autoDensity,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i.backgroundAlpha=e.backgroundAlpha,void 0!==e.transparent&&(y.deprecation("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=e.transparent,i.backgroundAlpha=e.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}var Ci=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ii=(Di.prototype.destroy=function(){this.renderer=null},Di.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},Di.prototype.bind=function(t){var e=this.gl,i=this.CONTEXT_UID,i=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,i.buffer)},Di.prototype.bindBufferBase=function(t,e){var i=this.gl,r=this.CONTEXT_UID;this.boundBufferBases[e]!==t&&(r=t._glBuffers[r]||this.createGLBuffer(t),this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,r.buffer))},Di.prototype.bindBufferRange=function(t,e,i){var r=this.gl,n=this.CONTEXT_UID;i=i||0;t=t._glBuffers[n]||this.createGLBuffer(t);r.bindBufferRange(r.UNIFORM_BUFFER,e||0,t.buffer,256*i,256)},Di.prototype.update=function(t){var e=this.gl,i=this.CONTEXT_UID,r=t._glBuffers[i];t._updateID!==r.updateID&&(r.updateID=t._updateID,e.bindBuffer(t.type,r.buffer),r.byteLength>=t.data.byteLength?e.bufferSubData(t.type,0,t.data):(i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,r.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)))},Di.prototype.dispose=function(t,e){var i,r;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],i=t._glBuffers[this.CONTEXT_UID],r=this.gl,t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID]))},Di.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},Di.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,i=this.gl;return t._glBuffers[e]=new Ci(i.createBuffer()),(this.managedBuffers[t.id]=t).disposeRunner.add(this),t._glBuffers[e]},Di);function Di(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}var Ni,Fi=(a(ki,Ni=Ri),ki.create=function(t){if(y.isWebGLSupported())return new ki(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},ki.prototype.contextChange=function(){var t,e,i=this.gl;1===this.context.webGLVersion?(e=i.getParameter(i.FRAMEBUFFER_BINDING),i.bindFramebuffer(i.FRAMEBUFFER,null),t=i.getParameter(i.SAMPLES),i.bindFramebuffer(i.FRAMEBUFFER,e)):(e=i.getParameter(i.DRAW_FRAMEBUFFER_BINDING),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),t=i.getParameter(i.SAMPLES),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,e)),t>=m.MSAA_QUALITY.HIGH?this.multisample=m.MSAA_QUALITY.HIGH:t>=m.MSAA_QUALITY.MEDIUM?this.multisample=m.MSAA_QUALITY.MEDIUM:t>=m.MSAA_QUALITY.LOW?this.multisample=m.MSAA_QUALITY.LOW:this.multisample=m.MSAA_QUALITY.NONE},ki.prototype.addSystem=function(t,e){var i,r=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(i in this[e]=r,this.runners)this.runners[i].add(r);return this},ki.prototype.render=function(t,e){var i,r,n,s;e&&(s=e instanceof ft?(y.deprecation("6.0.0","Renderer#render arguments changed, use options instead."),i=e,r=arguments[2],n=arguments[3],arguments[4]):(i=e.renderTexture,r=e.clear,n=e.transform,e.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,this.context.isLost||(i||(this._lastObjectRendered=t),s||(s=t.enableTempParent(),t.updateTransform(),t.disableTempParent(s)),this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},ki.prototype.generateTexture=function(t,e,i,r){r=Ni.prototype.generateTexture.call(this,t,e=void 0===e?{}:e,i,r);return this.framebuffer.blit(),r},ki.prototype.resize=function(t,e){Ni.prototype.resize.call(this,t,e),this.runners.resize.emit(this.screen.height,this.screen.width)},ki.prototype.reset=function(){return this.runners.reset.emit(),this},ki.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},ki.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();Ni.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(ki.prototype,"extract",{get:function(){return y.deprecation("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),ki.registerPlugin=function(t,e){(ki.__plugins=ki.__plugins||{})[t]=e},ki);function ki(t){var e=Ni.call(this,m.RENDERER_TYPE.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new r.Runner("destroy"),contextChange:new r.Runner("contextChange"),reset:new r.Runner("reset"),update:new r.Runner("update"),postrender:new r.Runner("postrender"),prerender:new r.Runner("prerender"),resize:new r.Runner("resize")},e.runners.contextChange.add(e),e.globalUniforms=new Ft({projectionMatrix:new l.Matrix},!0),e.addSystem(je,"mask").addSystem(Wt,"context").addSystem(vi,"state").addSystem(_i,"shader").addSystem(Si,"texture").addSystem(Ii,"buffer").addSystem(ee,"geometry").addSystem(Kt,"framebuffer").addSystem(We,"scissor").addSystem(Ze,"stencil").addSystem(Je,"projection").addSystem(Ti,"textureGC").addSystem(Vt,"filter").addSystem(ri,"renderTexture").addSystem(qt,"batch"),e.initPlugins(ki.__plugins),e.multisample=void 0,t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.useContextAlpha,antialias:t.antialias,premultipliedAlpha:e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,y.sayHello(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}var Li=(Bi.prototype.destroy=function(){this.renderer=null},Bi);function Bi(t){y.deprecation("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}var Gi=function(){this.texArray=null,this.blend=0,this.type=m.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},Ui=(Vi.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},Vi);function Vi(){this.elements=[],this.ids=[],this.count=0}var ji=(Object.defineProperty(Hi.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),Hi.prototype.view=function(t){return this[t+"View"]},Hi.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Hi.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Hi);function Hi(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}var Xi,qi=(a(zi,Xi=Ht),zi.prototype.contextChange=function(){var t=this.renderer.gl;p.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Se(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},zi.prototype.initFlushBuffers=function(){for(var t=zi._drawCallPool,e=zi._textureArrayPool,i=this.size/4,r=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new Gi);for(;e.length<r;)e.push(new Ui);for(var n=0;n<this.MAX_TEXTURES;n++)this._tempBoundTextures[n]=null},zi.prototype.onPrerender=function(){this._flushId=0},zi.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},zi.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,i=zi._textureArrayPool,r=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++T._globalBatch,a=0,l=i[0],h=0;r.copyBoundTextures(n,e);for(var u=0;u<this._bufferSize;++u){var c=t[u];t[u]=null,c._batchEnabled!==o&&(l.count>=e&&(r.boundArray(l,n,o,e),this.buildDrawCalls(l,h,u),h=u,l=i[++a],++o),c._batchEnabled=o,c.touched=s,l.elements[l.count++]=c)}0<l.count&&(r.boundArray(l,n,o,e),this.buildDrawCalls(l,h,this._bufferSize),++a,++o);for(u=0;u<n.length;u++)n[u]=null;T._globalBatch=o},zi.prototype.buildDrawCalls=function(t,e,i){var r=this._bufferedElements,n=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,a=zi._drawCallPool,l=this._dcIndex,h=this._aIndex,u=this._iIndex,c=a[l];c.start=this._iIndex,c.texArray=t;for(var d=e;d<i;++d){var f=r[d],p=f._texture.baseTexture,p=y.premultiplyBlendMode[p.alphaMode?1:0][f.blendMode];r[d]=null,e<d&&c.blend!==p&&(c.size=u-c.start,e=d,(c=a[++l]).texArray=t,c.start=u),this.packInterleavedGeometry(f,n,s,h,u),h+=f.vertexData.length/2*o,u+=f.indices.length,c.blend=p}e<i&&(c.size=u-c.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=u},zi.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},zi.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;p.settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},zi.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,i=e.gl,r=e.state,n=zi._drawCallPool,s=null,o=0;o<t;o++){var a=n[o],l=a.texArray,h=a.type,u=a.size,c=a.start,a=a.blend;s!==l&&this.bindAndClearTexArray(s=l),this.state.blendMode=a,r.set(this.state),i.drawElements(h,u,i.UNSIGNED_SHORT,2*c)}},zi.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},zi.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),p.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},zi.prototype.stop=function(){this.flush()},zi.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),Xi.prototype.destroy.call(this)},zi.prototype.getAttributeBuffer=function(t){var e=y.nextPow2(Math.ceil(t/8)),t=y.log2(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new ji(e*this.vertexSize*4)),t},zi.prototype.getIndexBuffer=function(t){var e=y.nextPow2(Math.ceil(t/12)),i=y.log2(e),t=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);e=this._iBuffers[i];return e||(this._iBuffers[i]=e=new Uint16Array(t)),e},zi.prototype.packInterleavedGeometry=function(t,e,i,r,n){for(var s=e.uint32View,o=e.float32View,a=r/this.vertexSize,l=t.uvs,h=t.indices,u=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),d=e<1&&t._texture.baseTexture.alphaMode?y.premultiplyTint(t._tintRGB,e):t._tintRGB+(255*e<<24),f=0;f<u.length;f+=2)o[r++]=u[f],o[r++]=u[f+1],o[r++]=l[f],o[r++]=l[f+1],s[r++]=d,o[r++]=c;for(f=0;f<h.length;f++)i[n++]=a+h[f]},zi._drawCallPool=[],zi._textureArrayPool=[],zi);function zi(t){var e=Xi.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Ce.for2d(),e.size=4*p.settings.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}var Yi=(Wi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Ft.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new we(this.vertexSrc,r)}r={tint:new Float32Array([1,1,1,1]),translationMatrix:new l.Matrix,default:this.defaultGroupCache[t]};return new Re(this.programCache[t],r)},Wi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},Wi);function Wi(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}var $i,Qi=(a(Zi,$i=Pt),Zi);function Zi(t){void 0===t&&(t=!1);var e=$i.call(this)||this;return e._buffer=new bt(null,t,!1),e._indexBuffer=new bt(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,m.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,m.TYPES.FLOAT).addIndex(e._indexBuffer),e}var Ki="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Ji="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",t=(tr.create=function(t){var e,t=Object.assign({vertex:Ki,fragment:Ji,geometryClass:Qi,vertexSize:6},t),i=t.vertex,r=t.fragment,n=t.vertexSize,s=t.geometryClass;return a(o,e=qi),o;function o(t){t=e.call(this,t)||this;return t.shaderGenerator=new Yi(i,r),t.geometryClass=s,t.vertexSize=n,t}},Object.defineProperty(tr,"defaultVertexSrc",{get:function(){return Ki},enumerable:!1,configurable:!0}),Object.defineProperty(tr,"defaultFragmentTemplate",{get:function(){return Ji},enumerable:!1,configurable:!0}),tr);function tr(){}var Xe=t.create(),er={};for(ir in Z)!function(t){Object.defineProperty(er,t,{get:function(){return y.deprecation("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Z[t]}})}(ir);var ir,rr={};for(ir in wi)!function(t){Object.defineProperty(rr,t,{get:function(){return y.deprecation("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),wi[t]}})}(ir);i.AbstractBatchRenderer=qi,i.AbstractMultiResource=S,i.AbstractRenderer=Ri,i.ArrayResource=w,i.Attribute=_t,i.BaseImageResource=M,i.BaseRenderTexture=rt,i.BaseTexture=T,i.BatchDrawCall=Gi,i.BatchGeometry=Qi,i.BatchPluginFactory=t,i.BatchRenderer=Xe,i.BatchShaderGenerator=Yi,i.BatchSystem=qt,i.BatchTextureArray=Ui,i.Buffer=bt,i.BufferResource=d,i.CanvasResource=D,i.ContextSystem=Wt,i.CubeResource=k,i.Filter=Ne,i.FilterState=Lt,i.FilterSystem=Vt,i.Framebuffer=tt,i.FramebufferSystem=Kt,i.GLFramebuffer=Qt,i.GLProgram=di,i.GLTexture=Ei,i.Geometry=Pt,i.GeometrySystem=ee,i.IGLUniformData=ci,i.INSTALLED=o,i.ImageBitmapResource=W,i.ImageResource=G,i.MaskData=re,i.MaskSystem=je,i.ObjectRenderer=Ht,i.Program=we,i.ProjectionSystem=Je,i.Quad=Rt,i.QuadUv=It,i.RenderTexture=ft,i.RenderTexturePool=mt,i.RenderTextureSystem=ri,i.Renderer=Fi,i.Resource=g,i.SVGResource=j,i.ScissorSystem=We,i.Shader=Re,i.ShaderSystem=_i,i.SpriteMaskFilter=Ue,i.State=Ce,i.StateSystem=vi,i.StencilSystem=Ze,i.System=Li,i.Texture=ht,i.TextureGCSystem=Ti,i.TextureMatrix=Le,i.TextureSystem=Si,i.TextureUvs=st,i.UniformGroup=Ft,i.VideoResource=q,i.ViewableBuffer=ji,i.autoDetectRenderer=function(t){return Fi.create(t)},i.autoDetectResource=_,i.checkMaxIfStatementsInShader=Se,i.createUBOElements=li,i.defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",i.defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",i.generateProgram=pi,i.generateUniformBufferSync=ui,i.getTestContext=de,i.getUBOData=hi,i.resources=er,i.systems=rr,i.uniformParsers=ve},{"@pixi/constants":9,"@pixi/math":23,"@pixi/runner":32,"@pixi/settings":33,"@pixi/ticker":40,"@pixi/utils":41}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/settings"),s=t("@pixi/math"),o=t("@pixi/utils");r.settings.SORTABLE_CHILDREN=!1;var a=(n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?s.Rectangle.EMPTY:((t=t||new s.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var i=t.a,r=t.b,n=t.c,s=t.d,o=t.tx,t=t.ty,o=i*e.x+n*e.y+o,t=r*e.x+s*e.y+t;this.minX=Math.min(this.minX,o),this.maxX=Math.max(this.maxX,o),this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=t[0],o=t[1],e=s<e?s:e,i=o<i?o:i,r=r<s?s:r,n=n<o?o:n;e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,r=r<s?s:r,n=n<o?o:n,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,r=r<s?s:r,n=n<o?o:n,s=t[6],i=(o=t[7])<i?o:i,r=r<s?s:r,n=n<o?o:n,this.minX=e=s<e?s:e,this.minY=i,this.maxX=r,this.maxY=n},n.prototype.addFrame=function(t,e,i,r,n){this.addFrameMatrix(t.worldTransform,e,i,r,n)},n.prototype.addFrameMatrix=function(t,e,i,r,n){var s=t.a,o=t.b,a=t.c,l=t.d,h=t.tx,u=t.ty,c=s*e+a*i+h,d=o*e+l*i+u,f=c<(f=this.minX)?c:f,p=d<(p=this.minY)?d:p,m=(m=this.maxX)<c?c:m,t=(t=this.maxY)<d?d:t;f=(c=s*r+a*i+h)<f?c:f,p=(d=o*r+l*i+u)<p?d:p,m=m<c?c:m,t=t<d?d:t,f=(c=s*e+a*n+h)<f?c:f,p=(d=o*e+l*n+u)<p?d:p,t=t<d?d:t,p=(d=o*r+l*n+u)<p?d:p,m=(m=m<c?c:m)<(c=s*r+a*n+h)?c:m,t=t<d?d:t,this.minX=f=c<f?c:f,this.minY=p,this.maxX=m,this.maxY=t},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2)var l=t[a],h=t[a+1],r=l<r?l:r,n=h<n?h:n,s=s<l?l:s,o=o<h?h:o;this.minX=r,this.minY=n,this.maxX=s,this.maxY=o},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=t.a,a=t.b,l=t.c,h=t.d,u=t.tx,c=t.ty,d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,y=i;y<r;y+=2)var _=e[y],g=e[y+1],v=o*_+l*g+u,_=h*g+a*_+c,d=Math.min(d,v-n),p=Math.max(p,v+n),f=Math.min(f,_-s),m=Math.max(m,_+s);this.minX=d,this.minY=f,this.maxX=p,this.maxY=m},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},n.prototype.addBoundsMask=function(t,e){var i,r,n=(t.minX>e.minX?t:e).minX,s=(t.minY>e.minY?t:e).minY,o=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i,r,n=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;n<=o&&s<=a&&(i=this.minX,r=this.minY,t=this.maxX,e=this.maxY,this.minX=n<i?n:i,this.minY=s<r?s:r,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,n,s){e-=s,i+=n,r+=s,this.minX=this.minX<(t-=n)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n);function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u,t=(h(c,u=o.EventEmitter),c.mixin=function(t){for(var e=Object.keys(t),i=0;i<e.length;++i){var r=e[i];Object.defineProperty(c.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),c.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},c.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},c.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new s.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},c.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new a);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-n,t},c.prototype.toGlobal=function(t,e,i){return(i=void 0===i?!1:i)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},c.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},c.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},c.prototype.setTransform=function(t,e,i,r,n,s,o,a,l){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),this.position.x=t=void 0===t?0:t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this},c.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(c.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new C),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),c.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},c.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(c.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"angle",{get:function(){return this.transform.rotation*s.RAD_TO_DEG},set:function(t){this.transform.rotation=t*s.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask!==t&&(this._mask&&((e=this._mask.maskObject||this._mask)._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1)),this._mask=t,this._mask&&(0===(e=this._mask.maskObject||this._mask)._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++))},enumerable:!1,configurable:!0}),c);function c(){var t=u.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new s.Transform,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new a,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}var d,f,p,m,y,_,g,v,b,T,x,E,S,A,P,w,O,R,M,C=(h(I,d=t),I);function I(){var t=null!==d&&d.apply(this,arguments)||this;return t.sortDirty=null,t}function D(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}t.prototype.displayObjectUpdateTransform=t.prototype.updateTransform,(f=f=f||{})[f.WEBGL_LEGACY=0]="WEBGL_LEGACY",f[f.WEBGL=1]="WEBGL",f[f.WEBGL2=2]="WEBGL2",(p=p=p||{})[p.UNKNOWN=0]="UNKNOWN",p[p.WEBGL=1]="WEBGL",p[p.CANVAS=2]="CANVAS",(m=m=m||{})[m.COLOR=16384]="COLOR",m[m.DEPTH=256]="DEPTH",m[m.STENCIL=1024]="STENCIL",(y=y=y||{})[y.NORMAL=0]="NORMAL",y[y.ADD=1]="ADD",y[y.MULTIPLY=2]="MULTIPLY",y[y.SCREEN=3]="SCREEN",y[y.OVERLAY=4]="OVERLAY",y[y.DARKEN=5]="DARKEN",y[y.LIGHTEN=6]="LIGHTEN",y[y.COLOR_DODGE=7]="COLOR_DODGE",y[y.COLOR_BURN=8]="COLOR_BURN",y[y.HARD_LIGHT=9]="HARD_LIGHT",y[y.SOFT_LIGHT=10]="SOFT_LIGHT",y[y.DIFFERENCE=11]="DIFFERENCE",y[y.EXCLUSION=12]="EXCLUSION",y[y.HUE=13]="HUE",y[y.SATURATION=14]="SATURATION",y[y.COLOR=15]="COLOR",y[y.LUMINOSITY=16]="LUMINOSITY",y[y.NORMAL_NPM=17]="NORMAL_NPM",y[y.ADD_NPM=18]="ADD_NPM",y[y.SCREEN_NPM=19]="SCREEN_NPM",y[y.NONE=20]="NONE",y[y.SRC_OVER=0]="SRC_OVER",y[y.SRC_IN=21]="SRC_IN",y[y.SRC_OUT=22]="SRC_OUT",y[y.SRC_ATOP=23]="SRC_ATOP",y[y.DST_OVER=24]="DST_OVER",y[y.DST_IN=25]="DST_IN",y[y.DST_OUT=26]="DST_OUT",y[y.DST_ATOP=27]="DST_ATOP",y[y.ERASE=26]="ERASE",y[y.SUBTRACT=28]="SUBTRACT",y[y.XOR=29]="XOR",(_=_=_||{})[_.POINTS=0]="POINTS",_[_.LINES=1]="LINES",_[_.LINE_LOOP=2]="LINE_LOOP",_[_.LINE_STRIP=3]="LINE_STRIP",_[_.TRIANGLES=4]="TRIANGLES",_[_.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_[_.TRIANGLE_FAN=6]="TRIANGLE_FAN",(g=g=g||{})[g.RGBA=6408]="RGBA",g[g.RGB=6407]="RGB",g[g.RG=33319]="RG",g[g.RED=6403]="RED",g[g.RGBA_INTEGER=36249]="RGBA_INTEGER",g[g.RGB_INTEGER=36248]="RGB_INTEGER",g[g.RG_INTEGER=33320]="RG_INTEGER",g[g.RED_INTEGER=36244]="RED_INTEGER",g[g.ALPHA=6406]="ALPHA",g[g.LUMINANCE=6409]="LUMINANCE",g[g.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",g[g.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",g[g.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(v=v=v||{})[v.TEXTURE_2D=3553]="TEXTURE_2D",v[v.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",v[v.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",v[v.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",v[v.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",v[v.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",v[v.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",v[v.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",v[v.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(b=b=b||{})[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.UNSIGNED_INT=5125]="UNSIGNED_INT",b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",b[b.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",b[b.BYTE=5120]="BYTE",b[b.SHORT=5122]="SHORT",b[b.INT=5124]="INT",b[b.FLOAT=5126]="FLOAT",b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",b[b.HALF_FLOAT=36193]="HALF_FLOAT",(T=T=T||{})[T.FLOAT=0]="FLOAT",T[T.INT=1]="INT",T[T.UINT=2]="UINT",(x=x=x||{})[x.NEAREST=0]="NEAREST",x[x.LINEAR=1]="LINEAR",(E=E=E||{})[E.CLAMP=33071]="CLAMP",E[E.REPEAT=10497]="REPEAT",E[E.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(S=S=S||{})[S.OFF=0]="OFF",S[S.POW2=1]="POW2",S[S.ON=2]="ON",S[S.ON_MANUAL=3]="ON_MANUAL",(A=A=A||{})[A.NPM=0]="NPM",A[A.UNPACK=1]="UNPACK",A[A.PMA=2]="PMA",A[A.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",A[A.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",A[A.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",A[A.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(P=P=P||{})[P.NO=0]="NO",P[P.YES=1]="YES",P[P.AUTO=2]="AUTO",P[P.BLEND=0]="BLEND",P[P.CLEAR=1]="CLEAR",P[P.BLIT=2]="BLIT",(w=w=w||{})[w.AUTO=0]="AUTO",w[w.MANUAL=1]="MANUAL",(R=R=R||{}).LOW="lowp",R.MEDIUM="mediump",R.HIGH="highp",(R=O=O||{})[R.NONE=0]="NONE",R[R.SCISSOR=1]="SCISSOR",R[R.STENCIL=2]="STENCIL",R[R.SPRITE=3]="SPRITE",(M=M=M||{})[M.NONE=0]="NONE",M[M.LOW=2]="LOW",M[M.MEDIUM=4]="MEDIUM",M[M.HIGH=8]="HIGH",(F=F=F||{})[F.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",F[F.ARRAY_BUFFER=34962]="ARRAY_BUFFER",F[F.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var N,F=(h(k,N=t),k.prototype.onChildrenChange=function(t){},k.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var n=e[0];n.parent&&n.parent.removeChild(n),(n.parent=this).sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return e[0]},k.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},k.prototype.swapChildren=function(t,e){var i,r;t!==e&&(i=this.getChildIndex(t),r=this.getChildIndex(e),this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r))},k.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},k.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);o.removeItems(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},k.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},k.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var n=e[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,o.removeItems(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return e[0]},k.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,o.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},k.prototype.removeChildren=function(t,e){var i=t=void 0===t?0:t,r=(e=void 0===e?this.children.length:e)-i;if(0<r&&r<=e){for(var n=this.children.splice(i,r),s=0;s<n.length;++s)n[s].parent=null,n[s].transform&&(n[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(s=0;s<n.length;++s)n[s].emit("removed",this),this.emit("childRemoved",n[s],this,s);return n}if(0==r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},k.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(D),this.sortDirty=!1},k.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},k.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,i=this.children[t];i.visible&&i.renderable&&(i.calculateBounds(),i._mask?((e=i._mask.maskObject||i._mask).calculateBounds(),this._bounds.addBoundsMask(i._bounds,e._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._bounds.updateID=this._boundsID},k.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=N.prototype.getLocalBounds.call(this,t);if(!e)for(var i=0,r=this.children.length;i<r;++i){var n=this.children[i];n.visible&&n.updateTransform()}return t},k.prototype._calculateBounds=function(){},k.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},k.prototype.renderAdvanced=function(t){var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r])}var n=e&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==O.NONE));n&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this._render(t);for(var r=0,s=this.children.length;r<s;r++)this.children[r].render(t);n&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},k.prototype._render=function(t){},k.prototype.destroy=function(t){N.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var r=0;r<i.length;++r)i[r].destroy(t)},Object.defineProperty(k.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),k);function k(){var t=N.call(this)||this;return t.children=[],t.sortableChildren=r.settings.SORTABLE_CHILDREN,t.sortDirty=!1,t}F.prototype.containerUpdateTransform=F.prototype.updateTransform,i.Bounds=a,i.Container=F,i.DisplayObject=t,i.TemporaryDisplayObject=C},{"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=t("@pixi/utils"),r=t("@pixi/math"),c=t("@pixi/core"),d=new r.Rectangle,r=(f.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},f.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},f.prototype.canvas=function(t){var e,i,r,n=this.renderer,s=!1,o=!1;t&&(t instanceof c.RenderTexture?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,s=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,s=!0,(i=d).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=Math.floor(i.width*e+1e-4),l=Math.floor(i.height*e+1e-4),h=new u.CanvasRenderTarget(a,l,1),t=new Uint8Array(4*a*l),n=n.gl;n.readPixels(i.x*e,i.y*e,a,l,n.RGBA,n.UNSIGNED_BYTE,t);a=h.context.getImageData(0,0,a,l);return f.arrayPostDivide(t,a.data),h.context.putImageData(a,0,0),s&&((s=new u.CanvasRenderTarget(h.width,h.height,1)).context.scale(1,-1),s.context.drawImage(h.canvas,0,-l),h.destroy(),h=s),o&&r.destroy(!0),h.canvas},f.prototype.pixels=function(t){var e,i,r,n=this.renderer,s=!1;t&&(t instanceof c.RenderTexture?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=d).width=n.width,i.height=n.height,n.renderTexture.bind(null));var o=i.width*e,a=i.height*e,t=new Uint8Array(4*o*a),n=n.gl;return n.readPixels(i.x*e,i.y*e,o,a,n.RGBA,n.UNSIGNED_BYTE,t),s&&r.destroy(!0),f.arrayPostDivide(t,t),t},f.prototype.destroy=function(){this.renderer=null},f.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},f);function f(t){this.renderer=t}i.Extract=r},{"@pixi/core":10,"@pixi/math":23,"@pixi/utils":41}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=r.Filter,n(o=h,a=s),o.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l),Object.defineProperty(h.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),h);function l(){this.constructor=o}function h(t){void 0===t&&(t=1);var e=s.call(this,r.defaultVertex,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}i.AlphaFilter=t},{"@pixi/core":10}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),a=t("@pixi/settings"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var o,h,u,c,d,f,p,m,y,_,g,v,b,T,x,E,S,A,P,w={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},O=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(o=o=o||{})[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2",(h=h=h||{})[h.UNKNOWN=0]="UNKNOWN",h[h.WEBGL=1]="WEBGL",h[h.CANVAS=2]="CANVAS",(u=u=u||{})[u.COLOR=16384]="COLOR",u[u.DEPTH=256]="DEPTH",u[u.STENCIL=1024]="STENCIL",(c=c=c||{})[c.NORMAL=0]="NORMAL",c[c.ADD=1]="ADD",c[c.MULTIPLY=2]="MULTIPLY",c[c.SCREEN=3]="SCREEN",c[c.OVERLAY=4]="OVERLAY",c[c.DARKEN=5]="DARKEN",c[c.LIGHTEN=6]="LIGHTEN",c[c.COLOR_DODGE=7]="COLOR_DODGE",c[c.COLOR_BURN=8]="COLOR_BURN",c[c.HARD_LIGHT=9]="HARD_LIGHT",c[c.SOFT_LIGHT=10]="SOFT_LIGHT",c[c.DIFFERENCE=11]="DIFFERENCE",c[c.EXCLUSION=12]="EXCLUSION",c[c.HUE=13]="HUE",c[c.SATURATION=14]="SATURATION",c[c.COLOR=15]="COLOR",c[c.LUMINOSITY=16]="LUMINOSITY",c[c.NORMAL_NPM=17]="NORMAL_NPM",c[c.ADD_NPM=18]="ADD_NPM",c[c.SCREEN_NPM=19]="SCREEN_NPM",c[c.NONE=20]="NONE",c[c.SRC_OVER=0]="SRC_OVER",c[c.SRC_IN=21]="SRC_IN",c[c.SRC_OUT=22]="SRC_OUT",c[c.SRC_ATOP=23]="SRC_ATOP",c[c.DST_OVER=24]="DST_OVER",c[c.DST_IN=25]="DST_IN",c[c.DST_OUT=26]="DST_OUT",c[c.DST_ATOP=27]="DST_ATOP",c[c.ERASE=26]="ERASE",c[c.SUBTRACT=28]="SUBTRACT",c[c.XOR=29]="XOR",(d=d=d||{})[d.POINTS=0]="POINTS",d[d.LINES=1]="LINES",d[d.LINE_LOOP=2]="LINE_LOOP",d[d.LINE_STRIP=3]="LINE_STRIP",d[d.TRIANGLES=4]="TRIANGLES",d[d.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",d[d.TRIANGLE_FAN=6]="TRIANGLE_FAN",(f=f=f||{})[f.RGBA=6408]="RGBA",f[f.RGB=6407]="RGB",f[f.RG=33319]="RG",f[f.RED=6403]="RED",f[f.RGBA_INTEGER=36249]="RGBA_INTEGER",f[f.RGB_INTEGER=36248]="RGB_INTEGER",f[f.RG_INTEGER=33320]="RG_INTEGER",f[f.RED_INTEGER=36244]="RED_INTEGER",f[f.ALPHA=6406]="ALPHA",f[f.LUMINANCE=6409]="LUMINANCE",f[f.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",f[f.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",f[f.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(p=p=p||{})[p.TEXTURE_2D=3553]="TEXTURE_2D",p[p.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",p[p.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",p[p.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",p[p.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",p[p.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",p[p.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",p[p.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(m=m=m||{})[m.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",m[m.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",m[m.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",m[m.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",m[m.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",m[m.UNSIGNED_INT=5125]="UNSIGNED_INT",m[m.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",m[m.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",m[m.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",m[m.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",m[m.BYTE=5120]="BYTE",m[m.SHORT=5122]="SHORT",m[m.INT=5124]="INT",m[m.FLOAT=5126]="FLOAT",m[m.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",m[m.HALF_FLOAT=36193]="HALF_FLOAT",(y=y=y||{})[y.FLOAT=0]="FLOAT",y[y.INT=1]="INT",y[y.UINT=2]="UINT",(_=_=_||{})[_.NEAREST=0]="NEAREST",_[_.LINEAR=1]="LINEAR",(g=g=g||{})[g.CLAMP=33071]="CLAMP",g[g.REPEAT=10497]="REPEAT",g[g.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(v=v=v||{})[v.OFF=0]="OFF",v[v.POW2=1]="POW2",v[v.ON=2]="ON",v[v.ON_MANUAL=3]="ON_MANUAL",(T=T=T||{})[T.NPM=0]="NPM",T[T.UNPACK=1]="UNPACK",T[T.PMA=2]="PMA",T[T.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",T[T.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",T[T.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",T[T.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(T=b=b||{})[T.NO=0]="NO",T[T.YES=1]="YES",T[T.AUTO=2]="AUTO",T[T.BLEND=0]="BLEND",T[T.CLEAR=1]="CLEAR",T[T.BLIT=2]="BLIT",(x=x=x||{})[x.AUTO=0]="AUTO",x[x.MANUAL=1]="MANUAL",(E=E=E||{}).LOW="lowp",E.MEDIUM="mediump",E.HIGH="highp",(S=S=S||{})[S.NONE=0]="NONE",S[S.SCISSOR=1]="SCISSOR",S[S.STENCIL=2]="STENCIL",S[S.SPRITE=3]="SPRITE",(A=A=A||{})[A.NONE=0]="NONE",A[A.LOW=2]="LOW",A[A.MEDIUM=4]="MEDIUM",A[A.HIGH=8]="HIGH",(P=P=P||{})[P.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",P[P.ARRAY_BUFFER=34962]="ARRAY_BUFFER",P[P.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var R,M=(s(C,R=r.Filter),C.prototype.apply=function(t,e,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var n=t.getFilterTexture(),s=t.renderer,o=e,a=n;this.state.blend=!1,t.applyFilter(this,o,a,b.CLEAR);for(var l=1;l<this.passes-1;l++){t.bindAndClear(o,b.BLIT);var h=this.uniforms.uSampler=a,a=o,o=h;s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,r),t.returnFilterTexture(n)}},Object.defineProperty(C.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),C);function C(t,e,i,r,n){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=a.settings.FILTER_RESOLUTION);var s=this,o=function(t,e){for(var i=Math.ceil(t/2),r=l,n="",s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",o=0;o<t;o++)n+=s.replace("%index%",o.toString()).replace("%sampleIndex%",o-(i-1)+".0"),n+="\n";return r=(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n=void 0===n?5:n,t),n=function(t){for(var e=w[t],i=e.length,r=O,n="",s=0;s<t;s++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString()),a=s;n+=o=o.replace("%value%",e[a=i<=s?t-s-1:a].toString()),n+="\n"}return r=(r=r.replace("%blur%",n)).replace("%size%",t.toString())}(n);return(s=R.call(this,o,n)||this).horizontal=t,s.resolution=r,s._quality=0,s.quality=i,s.blur=e,s}var I,r=(s(D,I=r.Filter),D.prototype.apply=function(t,e,i,r){var n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);n&&s?(n=t.getFilterTexture(),this.blurXFilter.apply(t,e,n,b.CLEAR),this.blurYFilter.apply(t,n,i,r),t.returnFilterTexture(n)):(s?this.blurYFilter:this.blurXFilter).apply(t,e,i,r)},D.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(D.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),D);function D(t,e,i,r){void 0===t&&(t=8),void 0===e&&(e=4),void 0===i&&(i=a.settings.FILTER_RESOLUTION),void 0===r&&(r=5);var n=I.call(this)||this;return n.blurXFilter=new M(!0,t,e,i,r),n.blurYFilter=new M(!1,t,e,i,r),n.resolution=i,n.quality=e,n.blur=t,n.repeatEdgePixels=!1,n}i.BlurFilter=r,i.BlurFilterPass=M},{"@pixi/core":10,"@pixi/settings":33}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=r.Filter,n(o=h,a=s),o.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l),h.prototype._loadMatrix=function(t,e){var i=t;(e=void 0===e?!1:e)&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},h.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},h.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},h.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},h.prototype.tint=function(t,e){this._loadMatrix([(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0],e)},h.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},h.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},h.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),t=(0,Math.sqrt)(1/3);this._loadMatrix([i+1/3*(1-i),1/3*(1-i)-t*r,1/3*(1-i)+t*r,0,0,1/3*(1-i)+t*r,i+1/3*(1-i),1/3*(1-i)-t*r,0,0,1/3*(1-i)-t*r,1/3*(1-i)+t*r,i+1/3*(1-i),0,0,0,0,0,1,0],e)},h.prototype.contrast=function(t,e){var i=(t||0)+1,t=-.5*(i-1);this._loadMatrix([i,0,0,0,t,0,i,0,0,t,0,0,i,0,t,0,0,0,1,0],e)},h.prototype.saturate=function(t,e){var i=2*(t=void 0===t?0:t)/3+1,t=-.5*(i-1);this._loadMatrix([i,t,t,0,0,t,i,t,0,0,t,t,i,0,0,0,0,0,1,0],e)},h.prototype.desaturate=function(){this.saturate(-1)},h.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},h.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},h.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},h.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},h.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},h.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},h.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},h.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},h.prototype.colorTone=function(t,e,i,r,n){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,l=((r=r||3375104)>>16&255)/255,i=(r>>8&255)/255,r=(255&r)/255;this._loadMatrix([.3,.59,.11,0,0,s,o,a,t=t||.2,0,l,i,r,e=e||.15,0,s-l,o-i,a-r,0,0],n)},h.prototype.night=function(t,e){this._loadMatrix([-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},h.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},h.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},h.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(h.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),h);function l(){this.constructor=o}function h(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=s.call(this,r.defaultFilterVertex,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}t.prototype.grayscale=t.prototype.greyscale,i.ColorMatrixFilter=t},{"@pixi/core":10}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),n=t("@pixi/math"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var o,a,l,r=(o=r.Filter,s(a=u,l=o),a.prototype=null===l?Object.create(l):(h.prototype=l.prototype,new h),u.prototype.apply=function(t,e,i,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,i,r)},Object.defineProperty(u.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),u);function h(){this.constructor=a}function u(t,e){var i=this,r=new n.Matrix;return t.renderable=!1,(i=o.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=r,i.scale=new n.Point(e=null==e?20:e,e),i}i.DisplacementFilter=r},{"@pixi/core":10,"@pixi/math":23}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=t("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var n,s,o,t=(n=t.Filter,r(s=l,o=n),s.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a),l);function a(){this.constructor=s}function l(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}i.FXAAFilter=t},{"@pixi/core":10}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=r.Filter,n(o=h,a=s),o.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l),Object.defineProperty(h.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),h);function l(){this.constructor=o}function h(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var i=s.call(this,r.defaultFilterVertex,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=e,i}i.NoiseFilter=t},{"@pixi/core":10}],19:[function(t,e,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0});var p=t("@pixi/core"),X=t("@pixi/math"),c=t("@pixi/utils"),y=t("@pixi/constants"),i=t("@pixi/display");(u=H.LINE_JOIN||(H.LINE_JOIN={})).MITER="miter",u.BEVEL="bevel",u.ROUND="round",(U=H.LINE_CAP||(H.LINE_CAP={})).BUTT="butt",U.ROUND="round",U.SQUARE="square";var q={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},r=(n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=p.Texture.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n);function n(){this.color=16777215,this.alpha=1,this.texture=p.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,r=t.holes,n=e.points,s=e.indices;if(6<=i.length){for(var o=[],a=0;a<r.length;a++){var l=r[a];o.push(i.length/2),i=i.concat(l.points)}var h=c.earcut(i,o,2);if(h){for(var u=n.length/2,a=0;a<h.length;a+=3)s.push(h[a]+u),s.push(h[a+1]+u),s.push(h[a+2]+u);for(a=0;a<i.length;a++)n.push(i[a])}}}},l={build:function(t){var e,i,r=t.shape,n=t.points,s=r.x,o=r.y;if(n.length=0,i=t.type===X.SHAPES.CIRC?(e=r.radius,r.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+i));a/=2.3;for(var l=2*Math.PI/a,h=0;h<a-.5;h++)n.push(s+Math.sin(-l*h)*e,o+Math.cos(-l*h)*i);n.push(n[0],n[1])}},triangulate:function(t,e){var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=s,a=t.shape,l=t.matrix,e=a.x,a=a.y;r.push(t.matrix?l.a*e+l.c*a+l.tx:e,t.matrix?l.b*e+l.d*a+l.ty:a);for(var h=0;h<i.length;h+=2)r.push(i[h],i[h+1]),n.push(s++,o,s)}},t={build:function(t){var e=t.shape,i=e.x,r=e.y,n=e.width,e=e.height,t=t.points;t.length=0,t.push(i,r,i+n,r,i+n,r+e,i,r+e)},triangulate:function(t,e){var i=t.points,r=e.points,t=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function _(t,e,i){return t+(e-t)*i}function h(t,e,i,r,n,s,o){for(var a,l,h,u,c,d,f,p=o=void 0===o?[]:o,m=0;m<=20;++m)a=_(t,i,f=m/20),l=_(e,r,f),h=_(i,n,f),u=_(r,s,f),c=_(a,h,f),d=_(l,u,f),0===m&&p[p.length-2]===c&&p[p.length-1]===d||p.push(c,d);return p}var u={build:function(t){var e=t.shape,i=t.points,r=e.x,n=e.y,s=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(s,t)/2));i.length=0,e?(h(r,n+e,r,n,r+e,n,i),h(r+s-e,n,r+s,n,r+s,n+e,i),h(r+s,n+t-e,r+s,n+t,r+s-e,n+t,i),h(r+e,n+t,r,n+t,r,n+t-e,i)):i.push(r,n,r+s,n,r+s,n+t,r,n+t)},triangulate:function(t,e){for(var i=t.points,r=e.points,n=e.indices,s=r.length/2,o=c.earcut(i,null,2),a=0,l=o.length;a<l;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(a=0,l=i.length;a<l;a++)r.push(i[a],i[++a])}};function z(t,e,i,r,n,s,o,a){var l,h=o?(l=r,-i):(l=-r,i),o=t+i*s+l,s=e+r*s+h;return a.push(t-i*n+l,e-r*n+h),a.push(o,s),2}function Y(t,e,i,r,n,s,o,a){var l=i-t,h=r-e,u=Math.atan2(l,h),c=Math.atan2(n-t,s-e);a&&u<c?u+=2*Math.PI:!a&&c<u&&(c+=2*Math.PI);var d=u,c=c-u,u=Math.abs(c),f=Math.sqrt(l*l+h*h),p=1+(15*u*Math.sqrt(f)/Math.PI>>0),m=c/p;if(d+=m,a){o.push(t,e),o.push(i,r);for(var y=1,_=d;y<p;y++,_+=m)o.push(t,e),o.push(t+Math.sin(_)*f,e+Math.cos(_)*f);o.push(t,e),o.push(n,s)}else{o.push(i,r),o.push(t,e);for(y=1,_=d;y<p;y++,_+=m)o.push(t+Math.sin(_)*f,e+Math.cos(_)*f),o.push(t,e);o.push(n,s),o.push(t,e)}return 2*p}function d(t,e){(t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,r=r.type!==X.SHAPES.POLY||r.closeStroke;if(0!==n.length){var s=e.points,o=e.indices,a=n.length/2,e=s.length/2,l=e;for(s.push(n[0],n[1]),i=1;i<a;i++)s.push(n[2*i],n[2*i+1]),o.push(l,l+1),l++;r&&o.push(l,e)}}:function(t,e){var i=t.shape,r=t.points||i.points.slice(),n=e.closePointEps;if(0!==r.length){var s=t.lineStyle,o=new X.Point(r[0],r[1]),t=new X.Point(r[r.length-2],r[r.length-1]),i=i.type!==X.SHAPES.POLY||i.closeStroke,n=Math.abs(o.x-t.x)<n&&Math.abs(o.y-t.y)<n;i&&(r=r.slice(),n&&(r.pop(),r.pop(),t.set(r[r.length-2],r[r.length-1])),n=.5*(o.x+t.x),A=.5*(t.y+o.y),r.unshift(n,A),r.push(n,A));var a,l,h=e.points,u=r.length/2,c=r.length,d=h.length/2,f=s.width/2,p=f*f,m=s.miterLimit*s.miterLimit,y=r[0],_=r[1],g=r[2],v=r[3],b=0,T=0,x=-(_-v),E=y-g,S=Math.sqrt(x*x+E*E);x/=S,E/=S,x*=f,E*=f;var A=s.alignment,P=2*(1-A),w=2*A;i||(s.cap===H.LINE_CAP.ROUND?c+=Y(y-x*(P-w)*.5,_-E*(P-w)*.5,y-x*P,_-E*P,y+x*w,_+E*w,h,!0)+2:s.cap===H.LINE_CAP.SQUARE&&(c+=z(y,_,x,E,P,w,!0,h))),h.push(y-x*P,_-E*P),h.push(y+x*w,_+E*w);for(var O=1;O<u-1;++O){y=r[2*(O-1)],_=r[2*(O-1)+1],g=r[2*O],v=r[2*O+1],b=r[2*(O+1)],T=r[2*(O+1)+1],x=-(_-v),E=y-g,x/=S=Math.sqrt(x*x+E*E),E/=S,x*=f,E*=f,a=-(v-T),l=g-b,a/=S=Math.sqrt(a*a+l*l),l/=S,a*=f,l*=f;var R,M,C,I,D,N,F=g-y,k=_-v,L=g-b,B=T-v,G=k*L-B*F,U=G<0;Math.abs(G)<.1?(h.push(g-x*P,v-E*P),h.push(g+x*w,v+E*w)):(C=g+((R=(F*(N=(-a+b)*(-l+v)-(-a+g)*(-l+T))-L*(D=(-x+y)*(-E+v)-(-x+g)*(-E+_)))/G)-g)*P,I=v+((M=(B*D-k*N)/G)-v)*P,D=g-(R-g)*w,N=v-(M-v)*w,G=U?P:w,(M=(R-g)*(R-g)+(M-v)*(M-v))<=Math.min(F*F+k*k,L*L+B*B)+G*G*p?s.join===H.LINE_JOIN.BEVEL||m<M/p?(U?(h.push(C,I),h.push(g+x*w,v+E*w),h.push(C,I),h.push(g+a*w,v+l*w)):(h.push(g-x*P,v-E*P),h.push(D,N),h.push(g-a*P,v-l*P),h.push(D,N)),c+=2):s.join===H.LINE_JOIN.ROUND?U?(h.push(C,I),h.push(g+x*w,v+E*w),c+=Y(g,v,g+x*w,v+E*w,g+a*w,v+l*w,h,!0)+4,h.push(C,I),h.push(g+a*w,v+l*w)):(h.push(g-x*P,v-E*P),h.push(D,N),c+=Y(g,v,g-x*P,v-E*P,g-a*P,v-l*P,h,!1)+4,h.push(g-a*P,v-l*P),h.push(D,N)):(h.push(C,I),h.push(D,N)):(h.push(g-x*P,v-E*P),h.push(g+x*w,v+E*w),s.join===H.LINE_JOIN.BEVEL||m<M/p||(s.join===H.LINE_JOIN.ROUND?c+=U?Y(g,v,g+x*w,v+E*w,g+a*w,v+l*w,h,!0)+2:Y(g,v,g-x*P,v-E*P,g-a*P,v-l*P,h,!1)+2:(U?(h.push(D,N),h.push(D,N)):(h.push(C,I),h.push(C,I)),c+=2)),h.push(g-a*P,v-l*P),h.push(g+a*w,v+l*w),c+=2))}y=r[2*(u-2)],_=r[2*(u-2)+1],g=r[2*(u-1)],x=-(_-(v=r[2*(u-1)+1])),E=y-g,x/=S=Math.sqrt(x*x+E*E),E/=S,h.push(g-(x*=f)*P,v-(E*=f)*P),h.push(g+x*w,v+E*w),i||(s.cap===H.LINE_CAP.ROUND?c+=Y(g-x*(P-w)*.5,v-E*(P-w)*.5,g-x*P,v-E*P,g+x*w,v+E*w,h,!1)+2:s.cap===H.LINE_CAP.SQUARE&&(c+=z(g,v,x,E,P,w,!1,h)));for(var V=e.indices,j=q.epsilon*q.epsilon,O=d;O<c+d-2;++O)y=h[2*O],_=h[2*O+1],g=h[2*(O+1)],v=h[2*(O+1)+1],b=h[2*(O+2)],T=h[2*(O+2)+1],Math.abs(y*(v-T)+g*(T-_)+b*(_-v))<j||V.push(O,O+1,O+2)}})(t,e)}var f=(m.curveTo=function(t,e,i,r,n,s){var o=s[s.length-2],a=s[s.length-1]-e,l=o-t,h=r-e,u=i-t,c=Math.abs(a*u-l*h);if(c<1e-8||0===n)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var d=a*a+l*l,f=h*h+u*u,o=a*h+l*u,r=n*Math.sqrt(d)/c,i=n*Math.sqrt(f)/c,s=r*o/d,c=i*o/f,d=r*u+i*l,o=r*h+i*a,f=u*(r+c),c=h*(r+c);return{cx:d+t,cy:o+e,radius:n,startAngle:Math.atan2(a*(i+s)-o,l*(i+s)-d),endAngle:Math.atan2(c-o,f-d),anticlockwise:u*a<l*h}},m.arc=function(t,e,i,r,n,s,o,a,l){for(var h=o-s,o=q._segmentsCount(Math.abs(h)*n,40*Math.ceil(Math.abs(h)/X.PI_2)),u=h/(2*o),c=2*u,d=Math.cos(u),f=Math.sin(u),p=o-1,m=p%1/p,y=0;y<=p;++y){var _=u+s+c*(y+m*y),g=Math.cos(_),_=-Math.sin(_);l.push((d*g+f*_)*n+i,(d*-_+f*g)*n+r)}},m);function m(){}var g=(v.curveLength=function(t,e,i,r,n,s,o,a){for(var l,h,u,c,d,f,p,m,y,_,g=0,v=t,b=e,T=1;T<=10;++T)y=v-(p=(f=(d=(c=1-(l=T/10))*c)*c)*t+3*d*l*i+3*c*(h=l*l)*n+(u=h*l)*o),_=b-(m=f*e+3*d*l*r+3*c*h*s+u*a),v=p,b=m,g+=Math.sqrt(y*y+_*_);return g},v.curveTo=function(t,e,i,r,n,s,o){var a=o[o.length-2],l=o[o.length-1];o.length-=2;var h,u,c,d,f,p=q._segmentsCount(v.curveLength(a,l,t,e,i,r,n,s));o.push(a,l);for(var m,y=1;y<=p;++y)o.push((c=(u=(h=1-(m=y/p))*h)*h)*a+3*u*m*t+3*h*(d=m*m)*i+(f=d*m)*n,c*l+3*u*m*e+3*h*d*r+f*s)},v);function v(){}var b=(T.curveLength=function(t,e,i,r,n,s){var o=t-2*i+n,a=e-2*r+s,n=2*i-2*t,s=2*r-2*e,i=4*(o*o+a*a),t=4*(o*n+a*s),r=n*n+s*s,e=2*Math.sqrt(i+t+r),o=Math.sqrt(i),a=2*i*o,n=2*Math.sqrt(r),s=t/o;return(a*e+o*t*(e-n)+(4*r*i-t*t)*Math.log((2*o+s+e)/(s+n)))/(4*a)},T.curveTo=function(t,e,i,r,n){for(var s=n[n.length-2],o=n[n.length-1],a=q._segmentsCount(T.curveLength(s,o,t,e,i,r)),l=0,h=0,u=1;u<=a;++u){var c=u/a;n.push((l=s+(t-s)*c)+(t+(i-t)*c-l)*c,(h=o+(e-o)*c)+(e+(r-e)*c-h)*c)}},T);function T(){}var x=(E.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},E.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},E.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},E);function E(){this.reset()}var S=((U={})[X.SHAPES.POLY]=a,U[X.SHAPES.CIRC]=l,U[X.SHAPES.ELIP]=l,U[X.SHAPES.RECT]=t,U[X.SHAPES.RREC]=u,U),A=[],P=[];var w=(O.prototype.clone=function(){return new O(this.shape,this.fillStyle,this.lineStyle,this.matrix)},O.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},O);function O(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}var R,M=new X.Point,C=new i.Bounds,I=(o(D,R=p.BatchGeometry),Object.defineProperty(D.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),D.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),P.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),A.push(e)}this.batches.length=0},D.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},D.prototype.drawShape=function(t,e,i,r){r=new w(t,e=void 0===e?null:e,i=void 0===i?null:i,r=void 0===r?null:r);return this.graphicsData.push(r),this.dirty++,this},D.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;t=new w(t,null,null,e=void 0===e?null:e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},D.prototype.destroy=function(){R.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},D.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,M):M.copyFrom(t),r.shape.contains(M.x,M.y)))){var n=!1;if(r.holes)for(var s=0;s<r.holes.length;s++)if(r.holes[s].shape.contains(M.x,M.y)){n=!0;break}if(!n)return!0}}return!1},D.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,r=null,n=null;0<this.batches.length&&(n=(r=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var o=i[s],a=o.fillStyle,l=o.lineStyle;S[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var u,c,d,f=0===h?a:l;f.visible&&(d=f.texture.baseTexture,u=this.indices.length,c=this.points.length/2,d.wrapMode=y.WRAP_MODES.REPEAT,0===h?this.processFill(o):this.processLine(o),0!=(d=this.points.length/2-c)&&(r&&!this._compareStyles(n,f)&&(r.end(u,c),r=null),r||((r=A.pop()||new x).begin(f,u,c),this.batches.push(r),n=f),this.addUvs(this.points,e,f.texture,c,d,f.matrix)))}}var p=this.indices.length,m=this.points.length/2;r&&r.end(p,m),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=new(65535<m&&t?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},D.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},D.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],r=i.fillStyle,i=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},D.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var r=t[e],n=0;n<r.size;n++){var s=r.start+n;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}},D.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*D.BATCHABLE_SIZE},D.prototype.buildDrawCalls=function(){for(var t=++p.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),P.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=P.pop();n||((n=new p.BatchDrawCall).texArray=new p.BatchTextureArray),n.texArray.count=0,n.start=0,n.size=0,n.type=y.DRAW_MODES.TRIANGLES;var s,o=0,a=null,l=!1,h=y.DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(n);for(e=0;e<this.batches.length;e++){var c=this.batches[e],d=c.style,f=d.texture.baseTexture;l!==!!d.native&&(h=(l=!!d.native)?y.DRAW_MODES.LINES:y.DRAW_MODES.TRIANGLES,a=null,o=8,t++),a!==f&&(a=f)._batchEnabled!==t&&(8===o&&(t++,(o=0)<n.size&&((n=P.pop())||((n=new p.BatchDrawCall).texArray=new p.BatchTextureArray),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=h),f.touched=1,f._batchEnabled=t,f._batchLocation=o,f.wrapMode=y.WRAP_MODES.REPEAT,n.texArray.elements[n.texArray.count++]=f,o++),n.size+=c.size,u+=c.size,s=f._batchLocation,this.addColors(i,d.color,d.alpha,c.attribSize,c.attribStart),this.addTextureIds(r,s,c.attribSize,c.attribStart)}p.BaseTexture._globalBatch=t,this.packAttributes()},D.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*t.length*4),s=new Float32Array(n),o=new Uint32Array(n),a=0,l=0;l<t.length/2;l++)s[a++]=t[2*l],s[a++]=t[2*l+1],s[a++]=e[2*l],s[a++]=e[2*l+1],o[a++]=i[l],s[a++]=r[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},D.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),a.triangulate(t,this)):S[t.type].triangulate(t,this)},D.prototype.processLine=function(t){d(t,this);for(var e=0;e<t.holes.length;e++)d(t.holes[e],this)},D.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];S[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},D.prototype.calculateBounds=function(){var t=this._bounds,e=C,i=X.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],s=n.shape,o=n.type,a=n.lineStyle,l=n.matrix||X.Matrix.IDENTITY,h=0;a&&a.visible&&(n=a.alignment,h=a.width,o===X.SHAPES.POLY?!function(t){for(var e=t.points,i=0,r=0;r<e.length-2;r+=2)i+=(e[r+2]-e[r])*(e[r+3]+e[r+1]);return 0<i}(s)?h*=n:h*=1-n:h*=Math.max(0,n)),i!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=l),o===X.SHAPES.RECT||o===X.SHAPES.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,h,h):o===X.SHAPES.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+h,s.radius+h):o===X.SHAPES.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+h,s.height+h):t.addVerticesMatrix(i,s.points,0,s.points.length,h,h)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},D.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},D.prototype.addColors=function(t,e,i,r,n){void 0===n&&(n=0);var s=c.premultiplyTint((e>>16)+(65280&e)+((255&e)<<16),i);t.length=Math.max(t.length,n+r);for(var o=0;o<r;o++)t[n+o]=s},D.prototype.addTextureIds=function(t,e,i,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+i);for(var n=0;n<i;n++)t[r+n]=e},D.prototype.addUvs=function(t,e,i,r,n,s){void 0===s&&(s=null);for(var o=0,a=e.length,l=i.frame;o<n;){var h,u=t[2*(r+o)],c=t[2*(r+o)+1];s&&(h=s.a*u+s.c*c+s.tx,c=s.b*u+s.d*c+s.ty,u=h),o++,e.push(u/l.width,c/l.height)}var d=i.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(e,i,a,n)},D.prototype.adjustUvs=function(t,e,i,r){for(var n=e.baseTexture,s=i+2*r,e=e.frame,o=e.width/n.width,a=e.height/n.height,l=e.x/e.width,h=e.y/e.height,u=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),d=i+2;d<s;d+=2)u=Math.min(u,Math.floor(t[d]+1e-6)),c=Math.min(c,Math.floor(t[d+1]+1e-6));l-=u,h-=c;for(d=i;d<s;d+=2)t[d]=(t[d]+l)*o,t[d+1]=(t[d+1]+h)*a},D.BATCHABLE_SIZE=100,D);function D(){var t=R.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new i.Bounds,t.boundsDirty=-1,t}var N,F=(o(k,N=r),k.prototype.clone=function(){var t=new k;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},k.prototype.reset=function(){N.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},k);function k(){var t=null!==N&&N.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=H.LINE_CAP.BUTT,t.join=H.LINE_JOIN.MITER,t.miterLimit=10,t}var L,B=new Float32Array(3),G={},U=(o(V,L=i.Container),Object.defineProperty(V.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),V.prototype.clone=function(){return this.finishPoly(),new V(this._geometry)},Object.defineProperty(V.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),V.prototype.lineStyle=function(t,e,i,r,n){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),this.lineTextureStyle(t="number"==typeof(t=void 0===t?null:t)?{width:t,color:e,alpha:i,alignment:r,native:n}:t)},V.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:p.Texture.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:H.LINE_CAP.BUTT,join:H.LINE_JOIN.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=0<t.width&&0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},V.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1)},V.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},V.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},V.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||i.push(t,e),this},V.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},V.prototype.quadraticCurveTo=function(t,e,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),b.curveTo(t,e,i,r,n),this},V.prototype.bezierCurveTo=function(t,e,i,r,n,s){return this._initCurve(),g.curveTo(t,e,i,r,n,s,this.currentPath.points),this},V.prototype.arcTo=function(t,e,i,r,n){this._initCurve(t,e);var s=this.currentPath.points,t=f.curveTo(t,e,i,r,n,s);return t&&(e=t.cx,i=t.cy,r=t.radius,n=t.startAngle,s=t.endAngle,t=t.anticlockwise,this.arc(e,i,r,n,s,t)),this},V.prototype.arc=function(t,e,i,r,n,s){if(r===n)return this;if(!(s=void 0===s?!1:s)&&n<=r?n+=X.PI_2:s&&r<=n&&(r+=X.PI_2),0==n-r)return this;var o,a,l=t+Math.cos(r)*i,h=e+Math.sin(r)*i,u=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(o=Math.abs(c[c.length-2]-l),a=Math.abs(c[c.length-1]-h),o<u&&a<u||c.push(l,h)):(this.moveTo(l,h),c=this.currentPath.points),f.arc(l,h,t,e,i,r,n,s,c),this},V.prototype.beginFill=function(t,e){return this.beginTextureFill({texture:p.Texture.WHITE,color:t=void 0===t?0:t,alpha:e=void 0===e?1:e})},V.prototype.beginTextureFill=function(t){t=Object.assign({texture:p.Texture.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},V.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},V.prototype.drawRect=function(t,e,i,r){return this.drawShape(new X.Rectangle(t,e,i,r))},V.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new X.RoundedRectangle(t,e,i,r,n))},V.prototype.drawCircle=function(t,e,i){return this.drawShape(new X.Circle(t,e,i))},V.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new X.Ellipse(t,e,i,r))},V.prototype.drawPolygon=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=!0,n=e[0],n=n.points?(r=n.closeStroke,n.points):Array.isArray(e[0])?e[0]:e,n=new X.Polygon(n);return n.closeStroke=r,this.drawShape(n),this},V.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},V.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},V.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==X.SHAPES.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},V.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},V.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var r=0;r<i;r++){var n=t.batches[r],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),n={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:c.hex2rgb(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=n}},V.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},V.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,r=this.tint,n=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*n,s.tint[1]=(r>>8&255)/255*n,s.tint[2]=(255&r)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},V.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,r=e.type,n=e.size,e=e.start,s=i.count,o=0;o<s;o++)t.texture.bind(i.elements[o],o);t.geometry.draw(r,n,e)},V.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!G[i]){for(var r=t.plugins.batch.MAX_TEXTURES,n=new Int32Array(r),s=0;s<r;s++)n[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new X.Matrix,default:p.UniformGroup.from({uSamplers:n},!0)},t=t.plugins[i]._shader.program;G[i]=new p.Shader(t,o)}e=G[i]}return e},V.prototype._calculateBounds=function(){this.finishPoly();var t,e,i,r=this._geometry;r.graphicsData.length&&(t=(i=r.bounds).minX,e=i.minY,r=i.maxX,i=i.maxY,this._bounds.addFrame(this.transform,t,e,r,i))},V.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,V._TEMP_POINT),this._geometry.containsPoint(V._TEMP_POINT)},V.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=c.hex2rgb(this.tint,B),e=0;e<this.batches.length;e++){var i=this.batches[e],r=i._batchRGB,r=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);i._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},V.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,i=t.b,r=t.c,n=t.d,s=t.tx,o=t.ty,a=this._geometry.points,l=this.vertexData,h=0,u=0;u<a.length;u+=2){var c=a[u],d=a[u+1];l[h++]=e*c+r*d+s,l[h++]=n*d+i*c+o}}},V.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},V.prototype.setMatrix=function(t){return this._matrix=t,this},V.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},V.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},V.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,L.prototype.destroy.call(this,t)},V._TEMP_POINT=new X.Point,V);function V(t){void 0===t&&(t=null);var e=L.call(this)||this;return e.shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new r,e._lineStyle=new F,e._matrix=null,e._holeMode=!1,e.state=p.State.for2d(),e._geometry=t||new I,e._geometry.refCount++,e._transformID=-1,e.tint=16777215,e.blendMode=y.BLEND_MODES.NORMAL,e}u={buildPoly:a,buildCircle:l,buildRectangle:t,buildRoundedRectangle:u,buildLine:d,ArcUtils:f,BezierUtils:g,QuadraticUtils:b,BatchPart:x,FILL_COMMANDS:S,BATCH_POOL:A,DRAW_CALL_POOL:P};H.FillStyle=r,H.GRAPHICS_CURVES=q,H.Graphics=U,H.GraphicsData=w,H.GraphicsGeometry=I,H.LineStyle=F,H.graphicsUtils=u},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/utils":41}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/math"),n=t("@pixi/ticker"),s=t("@pixi/display"),o=t("@pixi/utils"),a=(Object.defineProperty(l.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),l.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},l.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},l.prototype.reset=function(){this.isPrimary=!1},l);function l(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new r.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var u=(c.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},c.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},c);function c(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}var d=(f.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(f.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"none",{get:function(){return this._flags===f.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"over",{get:function(){return 0!=(this._flags&f.FLAGS.OVER)},set:function(t){this._doSet(f.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"rightDown",{get:function(){return 0!=(this._flags&f.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(f.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"leftDown",{get:function(){return 0!=(this._flags&f.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(f.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),f.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),f);function f(t){this._pointerId=t,this._flags=f.FLAGS.NONE}var p=(m.prototype.recursiveFindHit=function(t,e,i,r,n){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=n=e.interactive||n,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:l=r=!1),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),l&&e.interactiveChildren&&e.children)for(var h=e.children,u=h.length-1;0<=u;u--){var c=h[u],d=this.recursiveFindHit(t,c,i,r,a);d&&c.parent&&(a=!1,d&&(t.target&&(r=!1),o=!0))}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},m.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},m);function m(){this._tempPoint=new r.Point}t={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};s.DisplayObject.mixin(t);var y,_,g,v={target:null,data:{global:null}},o=(y=o.EventEmitter,h(_=T,g=y),_.prototype=null===g?Object.create(g):(b.prototype=g.prototype,new b),Object.defineProperty(T.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),T.prototype.hitTest=function(t,e){return v.target=null,v.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(v,e,null,!0),v.target},T.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},T.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(n.Ticker.system.add(this.tickerUpdate,this,n.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},T.prototype.removeTickerListener=function(){this.tickerAdded&&(n.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},T.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0)},T.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1)},T.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},T.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},T.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},T.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},T.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},T.prototype.mapPositionToPoint=function(t,e,i){var r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0},n=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},T.prototype.processInteractive=function(t,e,i,r){var r=this.search.findHit(t,e,i,r),n=this.delayedEvents;if(!n.length)return r;t.stopPropagationHint=!1;var s=n.length;this.delayedEvents=[];for(var o=0;o<s;o++){var a=n[o],l=a.displayObject,h=a.eventString,a=a.eventData;a.stopsPropagatingAt===l&&(a.stopPropagationHint=!0),this.dispatchEvent(l,h,a)}return r},T.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);!this.autoPreventDefault||!e[0].isNormalized||!t.cancelable&&"cancelable"in t||t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType?this.emit("touchstart",s):"mouse"!==n.pointerType&&"pen"!==n.pointerType||(n=2===n.button,this.emit(n?"rightdown":"mousedown",this.eventData))}}},T.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;i&&(e.trackedPointers[n]||(e.trackedPointers[n]=new d(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==r.pointerType&&"pen"!==r.pointerType||((r=2===r.button)?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)))},T.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=r[o],l=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,l);h.data.originalEvent=t,this.processInteractive(h,this.lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,h),"mouse"===a.pointerType||"pen"===a.pointerType?(l=2===a.button,this.emit(l?"rightup"+s:"mouseup"+s,h)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(a.pointerId))}},T.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},T.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},T.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},T.prototype.processPointerUp=function(t,e,i){var r,n=t.data,s=t.data.identifier,o=e.trackedPointers[s],a="touch"===n.pointerType,l="mouse"===n.pointerType||"pen"===n.pointerType,h=!1;l&&(r=2===n.button,n=d.FLAGS,n=r?n.RIGHT_DOWN:n.LEFT_DOWN,n=void 0!==o&&o.flags&n,i?(this.dispatchEvent(e,r?"rightup":"mouseup",t),n&&(this.dispatchEvent(e,r?"rightclick":"click",t),h=!0)):n&&this.dispatchEvent(e,r?"rightupoutside":"mouseupoutside",t),o&&(r?o.rightDown=!1:o.leftDown=!1)),i?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(l&&!h||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[s]},T.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],s=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},T.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,r="mouse"===r.pointerType||"pen"===r.pointerType;r&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},T.prototype.onPointerOut=function(t){var e,i;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),i=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,i)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(i.identifier))},T.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,s="mouse"===r.pointerType||"pen"===r.pointerType,r=e.trackedPointers[n];void 0!==(r=i&&!r?e.trackedPointers[n]=new d(n):r)&&(i&&this.mouseOverRenderer?(r.over||(r.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):r.over&&(r.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),r.none&&delete e.trackedPointers[n]))},T.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},T.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new a).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},T.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},T.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},T.prototype.normalizeToPointerData=function(t){var e,i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var r=0,n=t.changedTouches.length;r<n;r++){var s=t.changedTouches[r];void 0===s.button&&(s.button=t.touches.length?1:0),void 0===s.buttons&&(s.buttons=t.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else!self.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof self.PointerEvent)?(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,i.push(e)):i.push(t);return i},T.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},T);function b(){this.constructor=_}function T(t,e){var i=y.call(this)||this;return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new a,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new u,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new p,i._tempDisplayObject=new s.TemporaryDisplayObject,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}i.InteractionData=a,i.InteractionEvent=u,i.InteractionManager=o,i.InteractionTrackingData=d,i.interactiveTarget=t},{"@pixi/display":11,"@pixi/math":23,"@pixi/ticker":40,"@pixi/utils":41}],21:[function(t,e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=t("@pixi/core"),i=(r.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},r);function r(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}function n(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}var a=(s.prototype.handlers=function(t){var e=this._head;if(t=void 0===t?!1:t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},s.prototype.has=function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},s.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},s.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new i(t,!1,e))},s.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new i(t,!0,e))},s.prototype.detach=function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},s.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},s);function s(){this._head=this._tail=void 0}function h(t,e){for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),n={},s=14;s--;)n[r.key[s]]=i[s]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}var u=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;function d(){}function f(t,e,i){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=i)}function p(t){return t.toString().replace("object ","")}function m(t,e,i){if(this._dequeue=d,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(m.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=m.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=d,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a,this.onProgress=new a,this.onComplete=new a,this.onAfterMiddleware=new a}function y(){}l.LoaderResource=(m.setExtensionLoadType=function(t,e){f(m._loadTypeMap,t,e)},m.setExtensionXhrType=function(t,e){f(m._xhrTypeMap,t,e)},Object.defineProperty(m.prototype,"isDataUrl",{get:function(){return this._hasFlag(m.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isComplete",{get:function(){return this._hasFlag(m.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isLoading",{get:function(){return this._hasFlag(m.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),m.prototype.complete=function(){this._clearEvents(),this._finish()},m.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=m.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},m.prototype.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(m.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case m.LOAD_TYPE.IMAGE:this.type=m.TYPE.IMAGE,this._loadElement("image");break;case m.LOAD_TYPE.AUDIO:this.type=m.TYPE.AUDIO,this._loadSourceElement("audio");break;case m.LOAD_TYPE.VIDEO:this.type=m.TYPE.VIDEO,this._loadSourceElement("video");break;default:m.LOAD_TYPE.XHR;u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},m.prototype._hasFlag=function(t){return 0!=(this._flags&t)},m.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},m.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},m.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(m.STATUS_FLAGS.COMPLETE,!0),this._setFlag(m.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},m.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==self.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},m.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},m.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===m.XHR_RESPONSE_TYPE.JSON||this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=m.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},m.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},m.prototype._createSource=function(t,e,i){i=i||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=i,t},m.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},m.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},m.prototype._onTimeout=function(){this.abort("Load timed out.")},m.prototype._xhrOnError=function(){var t=this.xhr;this.abort(p(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},m.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(p(t)+" Request timed out.")},m.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(p(t)+" Request was aborted by the user.")},m.prototype._xhrOnLoad=function(){var t,e,i=this.xhr,r="",n=void 0===i.status?200:i.status;if(""!==i.responseType&&"text"!==i.responseType&&void 0!==i.responseType||(r=i.responseText),0===n&&(0<r.length||i.responseType===m.XHR_RESPONSE_TYPE.BUFFER)?n=200:1223===n&&(n=204),2==(n/100|0)){if(this.xhrType===m.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=m.TYPE.TEXT;else if(this.xhrType===m.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=m.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT)try{self.DOMParser?(t=new DOMParser,this.data=t.parseFromString(r,"text/xml")):((e=document.createElement("div")).innerHTML=r,this.data=e),this.type=m.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=i.response||r;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},m.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,(c=c||document.createElement("a")).href=t;var i=h(c.href,{strictMode:!0}),r=!i.port&&""===e.port||i.port===e.port,t=i.protocol?i.protocol+":":"";return i.host===e.hostname&&r&&t===e.protocol?"":"anonymous"},m.prototype._determineXhrType=function(){return m._xhrTypeMap[this.extension]||m.XHR_RESPONSE_TYPE.TEXT},m.prototype._determineLoadType=function(){return m._loadTypeMap[this.extension]||m.LOAD_TYPE.XHR},m.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e,i;return(this.isDataUrl?(i=t.indexOf("/"),t.substring(i+1,t.indexOf(";",i))):(e=t.indexOf("?"),i=t.indexOf("#"),i=Math.min(-1<e?e:t.length,-1<i?i:t.length),(t=t.substring(0,i)).substring(t.lastIndexOf(".")+1))).toLowerCase()},m.prototype._getMimeFromXhrType=function(t){switch(t){case m.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case m.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case m.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case m.XHR_RESPONSE_TYPE.JSON:return"application/json";case m.XHR_RESPONSE_TYPE.DEFAULT:case m.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},m),S=l.LoaderResource||(l.LoaderResource={}),(t=S.STATUS_FLAGS||(S.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",(t=S.TYPE||(S.TYPE={}))[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT",(t=S.LOAD_TYPE||(S.LOAD_TYPE={}))[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO",(t=S.XHR_RESPONSE_TYPE||(S.XHR_RESPONSE_TYPE={})).DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text",S._loadTypeMap={gif:S.LOAD_TYPE.IMAGE,png:S.LOAD_TYPE.IMAGE,bmp:S.LOAD_TYPE.IMAGE,jpg:S.LOAD_TYPE.IMAGE,jpeg:S.LOAD_TYPE.IMAGE,tif:S.LOAD_TYPE.IMAGE,tiff:S.LOAD_TYPE.IMAGE,webp:S.LOAD_TYPE.IMAGE,tga:S.LOAD_TYPE.IMAGE,svg:S.LOAD_TYPE.IMAGE,"svg+xml":S.LOAD_TYPE.IMAGE,mp3:S.LOAD_TYPE.AUDIO,ogg:S.LOAD_TYPE.AUDIO,wav:S.LOAD_TYPE.AUDIO,mp4:S.LOAD_TYPE.VIDEO,webm:S.LOAD_TYPE.VIDEO},S._xhrTypeMap={xhtml:S.XHR_RESPONSE_TYPE.DOCUMENT,html:S.XHR_RESPONSE_TYPE.DOCUMENT,htm:S.XHR_RESPONSE_TYPE.DOCUMENT,xml:S.XHR_RESPONSE_TYPE.DOCUMENT,tmx:S.XHR_RESPONSE_TYPE.DOCUMENT,svg:S.XHR_RESPONSE_TYPE.DOCUMENT,tsx:S.XHR_RESPONSE_TYPE.DOCUMENT,gif:S.XHR_RESPONSE_TYPE.BLOB,png:S.XHR_RESPONSE_TYPE.BLOB,bmp:S.XHR_RESPONSE_TYPE.BLOB,jpg:S.XHR_RESPONSE_TYPE.BLOB,jpeg:S.XHR_RESPONSE_TYPE.BLOB,tif:S.XHR_RESPONSE_TYPE.BLOB,tiff:S.XHR_RESPONSE_TYPE.BLOB,webp:S.XHR_RESPONSE_TYPE.BLOB,tga:S.XHR_RESPONSE_TYPE.BLOB,json:S.XHR_RESPONSE_TYPE.JSON,text:S.XHR_RESPONSE_TYPE.TEXT,txt:S.XHR_RESPONSE_TYPE.TEXT,ttf:S.XHR_RESPONSE_TYPE.BUFFER,otf:S.XHR_RESPONSE_TYPE.BUFFER},S.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var _=function(t,e){this.data=t,this.callback=e},g=(v.prototype._next=function(r){var n=this;return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];--n.workers,r.callback.apply(r,e),null!=e[0]&&n.error(e[0],r.data),n.workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}},v.prototype.push=function(t,e){this._insert(t,!1,e)},v.prototype.kill=function(){this.workers=0,this.drain=y,this.started=!1,this._tasks=[]},v.prototype.unshift=function(t,e){this._insert(t,!0,e)},v.prototype.length=function(){return this._tasks.length},v.prototype.running=function(){return this.workers},v.prototype.idle=function(){return this._tasks.length+this.workers===0},v.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},v.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},v.eachSeries=function(i,r,n,s){var o=0,a=i.length;!function t(e){e||o===a?n&&n(e):s?setTimeout(function(){r(i[o++],t)},1):r(i[o++],t)}()},v.queue=function(t,e){return new v(t,e)},v);function v(t,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=y,this.unsaturated=y,this.empty=y,this.drain=y,this.error=y,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,i){if(i&&"function"!=typeof i)throw new Error("task callback must be a function");r.started=!0,null==t&&r.idle()?setTimeout(function(){return r.drain()},1):(i=new _(t,"function"==typeof i?i:y),e?r._tasks.unshift(i):r._tasks.push(i),setTimeout(r.process,1))},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(t.data,function(n){return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(null===n)throw new Error("Callback was already called.");var r=n;n=null,r.apply(this,e)}}(r._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}var b=/(#[\w-]+)?$/,T=(x.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new l.LoaderResource(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var n=i.parentResource,s=[],o=0;o<n.children.length;++o)n.children[o].isComplete||s.push(n.children[o]);var a=n.progressChunk*(s.length+1)/(s.length+2);n.children.push(this.resources[t]),n.progressChunk=a;for(o=0;o<s.length;++o)s[o].progressChunk=a;this.resources[t].progressChunk=a}return this._queue.push(this.resources[t]),this},x.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},x.prototype.use=function(t){return this._afterMiddleware.push(t),this},x.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},x.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(x.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),x.prototype._prepareUrl=function(t){var e=h(t,{strictMode:!0});return e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(t=b.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},x.prototype._loadResource=function(i,t){var r=this;i._dequeue=t,g.eachSeries(this._beforeMiddleware,function(t,e){t.call(r,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?r._onLoad(i):(i._onLoadBinding=i.onComplete.once(r._onLoad,r),i.load())},!0)},x.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},x.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},x.prototype._onLoad=function(i){var r=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),g.eachSeries(this._afterMiddleware,function(t,e){t.call(r,i,e)},function(){i.onAfterMiddleware.dispatch(i),r.progress=Math.min(100,r.progress+i.progressChunk),r.onProgress.dispatch(r,i),i.error?r.onError.dispatch(i.error,r,i):r.onLoad.dispatch(r,i),r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},x.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(x,"shared",{get:function(){var t=x._shared;return t||((t=new x)._protected=!0,x._shared=t),t},enumerable:!1,configurable:!0}),x.registerPlugin=function(t){return x._plugins.push(t),t.add&&t.add(),x},x._plugins=[],x);function x(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this.resources={},this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=g.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new a,this.onError=new a,this.onLoad=new a,this.onStart=new a,this.onComplete=new a;for(var r=0;r<x._plugins.length;++r){var n=x._plugins[r],s=n.pre,n=n.use;s&&this.pre(s),n&&this.use(n)}this._protected=!1}T.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};E.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?T.shared:new T},E.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t=E;function E(){}var S=(A.add=function(){l.LoaderResource.setExtensionLoadType("svg",l.LoaderResource.LOAD_TYPE.XHR),l.LoaderResource.setExtensionXhrType("svg",l.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},A.use=function(e,i){var t,r,n,s;!e.data||e.type!==l.LoaderResource.TYPE.IMAGE&&"svg"!==e.extension?i():(t=e.data,r=e.url,n=e.name,s=e.metadata,o.Texture.fromLoader(t,r,n,s).then(function(t){e.texture=t,i()}).catch(i))},A);function A(){}var P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var w=self.URL||self.webkitURL;T.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===l.LoaderResource.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=w.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=l.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){w.revokeObjectURL(i),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)i<t.length?r[s]=255&t.charCodeAt(i++):r[s]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(s=0;s<n.length;++s)e+=P.charAt(n[s])}return e}(t.xhr.responseText),t.type=l.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),T.registerPlugin(S),l.AppLoaderPlugin=t,l.Loader=T,l.TextureLoader=S},{"@pixi/core":10}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=t("@pixi/math"),t={add:function(t,e){return(e=e||new h.Point).x=this.x+t.x,e.y=this.y+t.y,e},subtract:function(t,e){return(e=e||new h.Point).x=this.x-t.x,e.y=this.y-t.y,e},multiply:function(t,e){return(e=e||new h.Point).x=this.x*t.x,e.y=this.y*t.y,e},multiplyScalar:function(t,e){return(e=e||new h.Point).x=this.x*t,e.y=this.y*t,e},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},normalize:function(t){t=t||new h.Point;var e=Math.sqrt(this.x*this.x+this.y*this.y);return t.x=this.x/e,t.y=this.y/e,t},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},project:function(t,e){e=e||new h.Point;var i=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return e.x=t.x*i,e.y=t.y*i,e},reflect:function(t,e){e=e||new h.Point;var i=this.x*t.x+this.y*t.y;return e.x=this.x-2*i*t.x,e.y=this.y-2*i*t.y,e}};function u(t,e,i){return void 0===i&&(i=Number.EPSILON),t===e||Math.abs(t-e)<i}function s(t,e,i,r,n,s){s=s||new h.Point;var o=e.x-t.x,a=e.y-t.y,l=r.x-i.x,e=r.y-i.y,r=e*o-l*a;if(u(r,0))return s.x=NaN,s.y=NaN,s;l=(l*(t.y-i.y)-e*(t.x-i.x))/r,r=(o*(t.y-i.y)-a*(t.x-i.x))/r;return!n&&(l<0||1<l||r<0||1<r)?(s.x=NaN,s.y=NaN):(s.x=t.x+l*o,s.y=i.y+r*e),s}Object.assign(h.Point.prototype,t),Object.assign(h.ObservablePoint.prototype,t),h.Rectangle.prototype.intersects=function(t){var e=(this.x<t.x?t:this).x;return!((this.right>t.right?t:this).right<=e)&&(this.y<t.y?t:this).y<(this.bottom>t.bottom?t:this).bottom},h.Rectangle.prototype.containsRect=function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.right<this.right&&t.bottom<this.bottom:t.x>=this.x&&t.y>=this.y&&t.right<=this.right&&t.bottom<=this.bottom},h.Rectangle.prototype.equals=function(t){return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},h.Rectangle.prototype.intersection=function(t,e){e=e||new h.Rectangle;var i=(this.x<t.x?t:this).x,r=(this.right>t.right?t:this).right;if(r<=i)return e.x=e.y=e.width=e.height=0,e;var n=(this.y<t.y?t:this).y,t=(this.bottom>t.bottom?t:this).bottom;return t<=n?e.x=e.y=e.width=e.height=0:(e.x=i,e.y=n,e.width=r-i,e.height=t-n),e},h.Rectangle.prototype.union=function(t,e){e=e||new h.Rectangle;var i=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return e.x=i,e.y=n,e.width=r-i,e.height=t-n,e},i.floatEqual=u,i.lineIntersection=function(t,e,i,r,n){return s(t,e,i,r,!0,n)},i.segmentIntersection=function(t,e,i,r,n){return s(t,e,i,r,!1,n)}},{"@pixi/math":23}],23:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var h=2*Math.PI,i=180/Math.PI,r=Math.PI/180;(M=a.SHAPES||(a.SHAPES={}))[M.POLY=0]="POLY",M[M.RECT=1]="RECT",M[M.CIRC=2]="CIRC",M[M.ELIP=3]="ELIP",M[M.RREC=4]="RREC";var n=(Object.defineProperty(s.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(s,"EMPTY",{get:function(){return new s(0,0,0,0)},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},s.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},s.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},s.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},s.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(t-r,0),this},s.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},s.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=t-r,this},s.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},s);function s(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=a.SHAPES.RECT}var o=(l.prototype.clone=function(){return new l(this.x,this.y,this.radius)},l.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=i},l.prototype.getBounds=function(){return new n(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},l.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},l);function l(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.x=t=void 0===t?0:t,this.y=e,this.radius=i,this.type=a.SHAPES.CIRC}var u=(c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)},c.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+(e*=e)<=1},c.prototype.getBounds=function(){return new n(this.x-this.width,this.y-this.height,this.width,this.height)},c.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},c);function c(t,e,i,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.type=a.SHAPES.ELIP}var d=(f.prototype.clone=function(){var t=new f(this.points.slice());return t.closeStroke=this.closeStroke,t},f.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var o=this.points[2*n],a=this.points[2*n+1],l=this.points[2*s],h=this.points[2*s+1];e<a!=e<h&&t<(e-a)/(h-a)*(l-o)+o&&(i=!i)}return i},f.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},f);function f(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var n=[],s=0,o=r.length;s<o;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=a.SHAPES.POLY,this.closeStroke=!0}var p=(m.prototype.clone=function(){return new m(this.x,this.y,this.width,this.height,this.radius)},m.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},m.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},m);function m(t,e,i,r,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=a.SHAPES.RREC}var y=(_.prototype.clone=function(){return new _(this.x,this.y)},_.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},_.prototype.copyTo=function(t){return t.set(this.x,this.y),t},_.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},_.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},_.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},_);function _(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}var g=(v.prototype.clone=function(t,e){return new v(t=void 0===t?this.cb:t,e=void 0===e?this.scope:e,this._x,this._y)},v.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},v.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},v.prototype.copyTo=function(t){return t.set(this._x,this._y),t},v.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},v.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(v.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),v);function v(t,e,i,r){void 0===r&&(r=0),this._x=i=void 0===i?0:i,this._y=r,this.cb=t,this.scope=e}var b=(T.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},T.prototype.set=function(t,e,i,r,n,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s,this},T.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},T.prototype.apply=function(t,e){e=e||new y;var i=t.x,t=t.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},T.prototype.applyInverse=function(t,e){e=e||new y;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,t=t.y;return e.x=this.d*i*r+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},T.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},T.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},T.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,t=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=t*e-this.ty*i,this.ty=t*i+this.ty*e,this},T.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},T.prototype.setTransform=function(t,e,i,r,n,s,o,a,l){return this.a=Math.cos(o+l)*n,this.b=Math.sin(o+l)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},T.prototype.prepend=function(t){var e,i,r=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,i=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d),this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},T.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,s=t.pivot,o=-Math.atan2(-r,n),a=Math.atan2(i,e),l=Math.abs(o+a);return l<1e-5||Math.abs(h-l)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*n),t},T.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(t*this.ty-e*n)/s,this},T.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},T.prototype.clone=function(){var t=new T;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},T.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},T.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},T.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(T,"IDENTITY",{get:function(){return new T},enumerable:!1,configurable:!0}),Object.defineProperty(T,"TEMP_MATRIX",{get:function(){return new T},enumerable:!1,configurable:!0}),T);function T(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=s}var x=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],E=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],S=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],A=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],P=[],w=[],O=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];P.push(e);for(var i=0;i<16;i++)for(var r=O(x[t]*x[i]+S[t]*E[i]),n=O(E[t]*x[i]+A[t]*E[i]),s=O(x[t]*S[i]+S[t]*A[i]),o=O(E[t]*S[i]+A[t]*A[i]),a=0;a<16;a++)if(x[a]===r&&E[a]===n&&S[a]===s&&A[a]===o){e.push(a);break}}for(t=0;t<16;t++){var l=new b;l.set(x[t],E[t],S[t],A[t],0,0),w.push(l)}}();var R={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return x[t]},uY:function(t){return E[t]},vX:function(t){return S[t]},vY:function(t){return A[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return P[t][e]},sub:function(t,e){return P[t][R.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?R.S:R.N:2*Math.abs(e)<=Math.abs(t)?0<t?R.E:R.W:0<e?0<t?R.SE:R.SW:0<t?R.NE:R.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);e=w[R.inv(e)];e.tx=i,e.ty=r,t.append(e)}},M=(C.prototype.onChange=function(){this._localID++},C.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},C.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},C.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},C.prototype.updateTransform=function(t){var e,i,r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(i=this.worldTransform).a=r.a*e.a+r.b*e.c,i.b=r.a*e.b+r.b*e.d,i.c=r.c*e.a+r.d*e.c,i.d=r.c*e.b+r.d*e.d,i.tx=r.tx*e.a+r.ty*e.c+e.tx,i.ty=r.tx*e.b+r.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},C.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(C.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),C.IDENTITY=new C,C);function C(){this.worldTransform=new b,this.localTransform=new b,this.position=new g(this.onChange,this,0,0),this.scale=new g(this.onChange,this,1,1),this.pivot=new g(this.onChange,this,0,0),this.skew=new g(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}a.Circle=o,a.DEG_TO_RAD=r,a.Ellipse=u,a.Matrix=b,a.ObservablePoint=g,a.PI_2=h,a.Point=y,a.Polygon=d,a.RAD_TO_DEG=i,a.Rectangle=n,a.RoundedRectangle=p,a.Transform=M,a.groupD8=R},{}],24:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("@pixi/mesh"),s=t("@pixi/constants"),a=t("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l,h=(n(u,l=o.MeshGeometry),u.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],r=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s,l=0;l<t;l++){var h=l%this.segWidth,u=l/this.segWidth|0;e.push(h*o,u*a),i.push(h/n,u/s)}for(var c=n*s,l=0;l<c;l++){var d=l%n,f=l/n|0,p=f*this.segWidth+d,m=f*this.segWidth+d+1,y=(1+f)*this.segWidth+d,d=(1+f)*this.segWidth+d+1;r.push(p,m,y,m,d,y)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},u);function u(t,e,i,r){void 0===t&&(t=100),void 0===e&&(e=100),void 0===i&&(i=10),void 0===r&&(r=10);var n=l.call(this)||this;return n.segWidth=i,n.segHeight=r,n.width=t,n.height=e,n.build(),n}var c,d=(n(f,c=o.MeshGeometry),Object.defineProperty(f.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),f.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var n=i.data,s=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var o=0,a=t[0],l=this._width*this.textureScale,h=t.length,u=0;u<h;u++){var c,d,f=4*u;0<this.textureScale?(c=a.x-t[u].x,d=a.y-t[u].y,d=Math.sqrt(c*c+d*d),a=t[u],o+=d/l):o=u/(h-1),n[f]=o,n[f+1]=0,n[f+2]=o,n[f+3]=1}for(var p=0,u=0;u<h-1;u++){f=2*u;s[p++]=f,s[p++]=f+1,s[p++]=f+2,s[p++]=f+2,s[p++]=f+1,s[p++]=f+3}i.update(),r.update(),this.updateVertices()}}},f.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],i=this.buffers[0].data,r=t.length,n=0;n<r;n++){var s=t[n],o=4*n,a=-((u=n<t.length-1?t[n+1]:s).x-e.x),l=u.y-e.y,h=Math.sqrt(l*l+a*a),u=0<this.textureScale?this.textureScale*this._width/2:this._width/2;l/=h,a/=h,l*=u,a*=u,i[o]=s.x+l,i[1+o]=s.y+a,i[2+o]=s.x-l,i[3+o]=s.y-a,e=s}this.buffers[0].update()}},f.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},f);function f(t,e,i){void 0===t&&(t=200),void 0===i&&(i=0);var r=c.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return r.points=e,r._width=t,r.textureScale=i,r.build(),r}var p,m=(n(y,p=o.Mesh),y.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),p.prototype._render.call(this,t)},y);function y(t,e,i){var r=this,n=new d(t.height,e,i=void 0===i?0:i),e=new o.MeshMaterial(t);return 0<i&&(t.baseTexture.wrapMode=s.WRAP_MODES.REPEAT),(r=p.call(this,n,e)||this).autoUpdate=!0,r}var _,g=(n(v,_=o.Mesh),v.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,i=e.width,e=e.height;!this.autoResize||t.width===i&&t.height===e||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(v.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),v.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),_.prototype._render.call(this,t)},v.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),_.prototype.destroy.call(this,t)},v);function v(t,e,i){var r=this,e=new h(t.width,t.height,e,i),i=new o.MeshMaterial(a.Texture.WHITE);return(r=_.call(this,e,i)||this).texture=t,r.autoResize=!0,r}var b,T=(n(x,b=o.Mesh),Object.defineProperty(x.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),x.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),b.prototype._render.call(this,t)},x);function x(t,e,i,r,n){void 0===t&&(t=a.Texture.EMPTY);var s=this,r=new o.MeshGeometry(e,i,r);r.getBuffer("aVertexPosition").static=!1;t=new o.MeshMaterial(t);return(s=b.call(this,r,t,null,n)||this).autoUpdate=!0,s}var E,t=(n(S,E=g),S.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(S.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),S.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},S.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},S.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(S.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),S.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},S);function S(t,e,i,r,n){void 0===e&&(e=10),void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10);var s=E.call(this,a.Texture.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=e,s._rightWidth=r,s._topHeight=i,s._bottomHeight=n,s.texture=t,s}i.NineSlicePlane=t,i.PlaneGeometry=h,i.RopeGeometry=d,i.SimpleMesh=T,i.SimplePlane=g,i.SimpleRope=m},{"@pixi/constants":9,"@pixi/core":10,"@pixi/mesh":25}],25:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t("@pixi/core"),n=t("@pixi/math"),o=t("@pixi/constants"),r=t("@pixi/display"),p=t("@pixi/settings"),a=t("@pixi/utils"),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=(c.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},c);function c(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var d,f=new n.Point,m=new n.Polygon,y=(h(_,d=r.Container),Object.defineProperty(_.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),_.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===o.DRAW_MODES.TRIANGLES&&e.length<2*_.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},_.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},_.prototype._renderToBatch=function(t){var e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},_.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var t=this.transform.worldTransform,r=t.a,n=t.b,s=t.c,o=t.d,a=t.tx,l=t.ty,h=this.vertexData,u=0;u<h.length/2;u++){var c=e[2*u],d=e[2*u+1];h[2*u]=r*c+s*d+a,h[2*u+1]=n*c+o*d+l}if(this._roundPixels)for(var f=p.settings.RESOLUTION,u=0;u<h.length;++u)h[u]=Math.round((h[u]*f|0)/f);this.vertexDirty=i}},_.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},_.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},_.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,f);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=m.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1,o=0;o+2<n;o+=s){var a=2*r[o],l=2*r[o+1],h=2*r[o+2];if(i[0]=e[a],i[1]=e[1+a],i[2]=e[l],i[3]=e[1+l],i[4]=e[h],i[5]=e[1+h],m.contains(f.x,f.y))return!0}return!1},_.prototype.destroy=function(t){d.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},_.BATCHABLE_SIZE=100,_);function _(t,e,i,r){void 0===r&&(r=o.DRAW_MODES.TRIANGLES);var n=d.call(this)||this;return n.geometry=t,n.shader=e,n.state=i||s.State.for2d(),n.drawMode=r,n.start=0,n.size=0,n.uvs=null,n.indices=null,n.vertexData=new Float32Array(1),n.vertexDirty=-1,n._transformID=-1,n._roundPixels=p.settings.ROUND_PIXELS,n.batchUvs=null,n}var g,t=(h(v,g=s.Shader),Object.defineProperty(v.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),v.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,a.premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},v);function v(t,e){var i=this,r={uSampler:t,alpha:1,uTextureMatrix:n.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(r,e.uniforms),(i=g.call(this,e.program||s.Program.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),r)||this)._colorDirty=!1,i.uvMatrix=new s.TextureMatrix(t),i.batchable=void 0===e.program,i.pluginName=e.pluginName,i.tint=e.tint,i.alpha=e.alpha,i}var b,r=(h(T,b=s.Geometry),Object.defineProperty(T.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),T);function T(t,e,i){var r=b.call(this)||this,t=new s.Buffer(t),e=new s.Buffer(e,!0),i=new s.Buffer(i,!0,!0);return r.addAttribute("aVertexPosition",t,2,!1,o.TYPES.FLOAT).addAttribute("aTextureCoord",e,2,!1,o.TYPES.FLOAT).addIndex(i),r._updateId=-1,r}i.Mesh=y,i.MeshBatchUvs=u,i.MeshGeometry=r,i.MeshMaterial=t},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n,s,o,a,l,h,u,c,d,f,p,m,y,_,g,v,b,T,x=t("@pixi/core"),E=t("@pixi/sprite"),S=t("@pixi/display"),A=t("@pixi/math"),P=t("@pixi/utils"),w=t("@pixi/settings");(r=r=r||{})[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",(n=n=n||{})[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",(s=s=s||{})[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",(o=o=o||{})[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR",(a=a=a||{})[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",(l=l=l||{})[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.RG=33319]="RG",l[l.RED=6403]="RED",l[l.RGBA_INTEGER=36249]="RGBA_INTEGER",l[l.RGB_INTEGER=36248]="RGB_INTEGER",l[l.RG_INTEGER=33320]="RG_INTEGER",l[l.RED_INTEGER=36244]="RED_INTEGER",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(h=h=h||{})[h.TEXTURE_2D=3553]="TEXTURE_2D",h[h.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",h[h.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",h[h.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",h[h.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",h[h.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",h[h.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",h[h.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(u=u=u||{})[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.UNSIGNED_INT=5125]="UNSIGNED_INT",u[u.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",u[u.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",u[u.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",u[u.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",u[u.BYTE=5120]="BYTE",u[u.SHORT=5122]="SHORT",u[u.INT=5124]="INT",u[u.FLOAT=5126]="FLOAT",u[u.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",u[u.HALF_FLOAT=36193]="HALF_FLOAT",(c=c=c||{})[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT",(d=d=d||{})[d.NEAREST=0]="NEAREST",d[d.LINEAR=1]="LINEAR",(f=f=f||{})[f.CLAMP=33071]="CLAMP",f[f.REPEAT=10497]="REPEAT",f[f.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(p=p=p||{})[p.OFF=0]="OFF",p[p.POW2=1]="POW2",p[p.ON=2]="ON",p[p.ON_MANUAL=3]="ON_MANUAL",(m=m=m||{})[m.NPM=0]="NPM",m[m.UNPACK=1]="UNPACK",m[m.PMA=2]="PMA",m[m.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",m[m.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",m[m.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",m[m.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(y=y=y||{})[y.NO=0]="NO",y[y.YES=1]="YES",y[y.AUTO=2]="AUTO",y[y.BLEND=0]="BLEND",y[y.CLEAR=1]="CLEAR",y[y.BLIT=2]="BLIT",(_=_=_||{})[_.AUTO=0]="AUTO",_[_.MANUAL=1]="MANUAL",(g=g=g||{}).LOW="lowp",g.MEDIUM="mediump",g.HIGH="highp",(b=b=b||{})[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE",(b=v=v||{})[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH",(T=T=T||{})[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var O=new A.Matrix;S.DisplayObject.prototype._cacheAsBitmap=!1,S.DisplayObject.prototype._cacheData=null,S.DisplayObject.prototype._cacheAsBitmapResolution=null,S.DisplayObject.prototype._cacheAsBitmapMultisample=v.NONE;var R=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(S.DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new R),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),S.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},S.DisplayObject.prototype._initCachedDisplayObject=function(t){var e,i,r,n,s,o,a,l;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),i=this.getLocalBounds(null,!0).clone(),this.filters&&(l=this.filters[0].padding,i.pad(l)),i.ceil(w.settings.RESOLUTION),r=t.renderTexture.current,n=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,l=x.RenderTexture.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(a=this.cacheAsBitmapMultisample)&&void 0!==a?a:t.multisample}),a="cacheAsBitmap_"+P.uid(),this._cacheData.textureCacheId=a,x.BaseTexture.addToCache(l.baseTexture,a),x.Texture.addToCache(l,a),a=this.transform.localTransform.copyTo(O).invert().translate(-i.x,-i.y),this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:a,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(r,n,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e,(l=new E.Sprite(l)).transform.worldTransform=this.transform.worldTransform,l.anchor.x=-(i.x/i.width),l.anchor.y=-(i.y/i.height),l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l))},S.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},S.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){var e,i,r,n,s,o;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),i=this.alpha,this.alpha=1,r=t.context,n=t._projTransform,e.ceil(w.settings.RESOLUTION),o=x.RenderTexture.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+P.uid(),this._cacheData.textureCacheId=s,x.BaseTexture.addToCache(o.baseTexture,s),x.Texture.addToCache(o,s),this.transform.localTransform.copyTo(s=O),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:s,skipUpdateTransform:!1}),t.context=r,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i,(o=new E.Sprite(o)).transform.worldTransform=this.transform.worldTransform,o.anchor.x=-(e.x/e.width),o.anchor.y=-(e.y/e.height),o.alpha=i,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o))},S.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},S.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},S.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,x.BaseTexture.removeFromCache(this._cacheData.textureCacheId),x.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},S.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},i.CacheData=R},{"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/utils":41}],27:[function(t,e,i){"use strict";t=t("@pixi/display");t.DisplayObject.prototype.name=null,t.Container.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var n=this.children[i].getChildByName(t,!0);if(n)return n}return null}},{"@pixi/display":11}],28:[function(t,e,i){"use strict";var r=t("@pixi/display"),n=t("@pixi/math");r.DisplayObject.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new n.Point),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"@pixi/display":11,"@pixi/math":23}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("@pixi/constants"),r=t("@pixi/display"),m=t("@pixi/utils"),a=t("@pixi/core"),n=t("@pixi/math"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h,t=(l(u,h=r.Container),u.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},u.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(u.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,m.hex2rgb(t,this.tintRgb)},enumerable:!1,configurable:!0}),u.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},u.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},u.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},u.prototype.destroy=function(t){h.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},u);function u(t,e,i,r){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===r&&(r=!1);var n=h.call(this)||this;return 16384<i&&(i=16384),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._buffers=null,n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=o.BLEND_MODES.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}var c=(d.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new a.Buffer(m.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new a.Buffer(this.dynamicData,!1,!1);for(var n=0,i=this.staticStride=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=n,n+=s.size,this.staticStride+=s.size;r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new a.Buffer(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===o.TYPES.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i){s=this.staticProperties[i];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===o.TYPES.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},d.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===o.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},d.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===o.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},d.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},d);function d(t,e,i){this.geometry=new a.Geometry,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n={attributeName:(n=t[r]).attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||o.TYPES.FLOAT,offset:n.offset};(e[r]?this.dynamicProperties:this.staticProperties).push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}var f,r=(l(p,f=a.ObjectRenderer),p.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,s=e.length;if(0!==s){i<s&&!t.autoResize&&(s=i);var o=(o=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=m.correctBlendMode(t.blendMode,a.alphaMode),n.state.set(this.state);var l=n.gl,i=t.worldTransform.copyTo(this.tempMatrix);i.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=i.toArray(!0),this.shader.uniforms.uColor=m.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var h=!1,u=0,c=0;u<s;u+=r,c+=1){var d=s-u;r<d&&(d=r),c>=o.length&&o.push(this._generateOneMoreBuffer(t));var f=o[c];f.uploadDynamic(e,u,d);var p=t._bufferUpdateIDs[c]||0;(h=h||f._updateID<p)&&(f._updateID=t._updateID,f.uploadStatic(e,u,d)),n.geometry.bind(f.geometry),l.drawElements(l.TRIANGLES,6*d,l.UNSIGNED_SHORT,0)}}},p.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,s=0;s<i;s+=r)e.push(new c(this.properties,n,r));return e},p.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new c(this.properties,t,e)},p.prototype.uploadVertices=function(t,e,i,r,n,s){for(var o=0,a=0,l=0,h=0,u=0;u<i;++u){var c=t[e+u],d=c._texture,f=c.scale.x,p=c.scale.y,m=d.trim,d=d.orig;m?(o=(a=m.x-c.anchor.x*d.width)+m.width,l=(h=m.y-c.anchor.y*d.height)+m.height):(o=d.width*(1-c.anchor.x),a=d.width*-c.anchor.x,l=d.height*(1-c.anchor.y),h=d.height*-c.anchor.y),r[s]=a*f,r[s+1]=h*p,r[s+n]=o*f,r[s+n+1]=h*p,r[s+2*n]=o*f,r[s+2*n+1]=l*p,r[s+3*n]=a*f,r[s+3*n+1]=l*p,s+=4*n}},p.prototype.uploadPosition=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].position;r[s]=a.x,r[s+1]=a.y,r[s+n]=a.x,r[s+n+1]=a.y,r[s+2*n]=a.x,r[s+2*n+1]=a.y,r[s+3*n]=a.x,r[s+3*n+1]=a.y,s+=4*n}},p.prototype.uploadRotation=function(t,e,i,r,n,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;r[s]=a,r[s+n]=a,r[s+2*n]=a,r[s+3*n]=a,s+=4*n}},p.prototype.uploadUvs=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(r[s]=a.x0,r[s+1]=a.y0,r[s+n]=a.x1,r[s+n+1]=a.y1,r[s+2*n]=a.x2,r[s+2*n+1]=a.y2,r[s+3*n]=a.x3,r[s+3*n+1]=a.y3):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0),s+=4*n}},p.prototype.uploadTint=function(t,e,i,r,n,s){for(var o=0;o<i;++o){var a=t[e+o],l=0<a._texture.baseTexture.alphaMode,h=a.alpha,h=h<1&&l?m.premultiplyTint(a._tintRGB,h):a._tintRGB+(255*h<<24);r[s]=h,r[s+n]=h,r[s+2*n]=h,r[s+3*n]=h,s+=4*n}},p.prototype.destroy=function(){f.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},p);function p(t){t=f.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new n.Matrix,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:o.TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=a.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=a.State.for2d(),t}i.ParticleContainer=t,i.ParticleRenderer=r},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/utils":41}],30:[function(t,e,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var n=r(t("promise-polyfill")),t=r(t("object-assign"));self.Promise||(self.Promise=n),Object.assign||(Object.assign=t);var s;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),self.performance&&self.performance.now||(s=Date.now(),self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-s});for(var o=Date.now(),a=["ms","moz","webkit","o"],l=0;l<a.length&&!self.requestAnimationFrame;++l){var h=a[l];self.requestAnimationFrame=self[h+"RequestAnimationFrame"],self.cancelAnimationFrame=self[h+"CancelAnimationFrame"]||self[h+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+o-e;return i<0&&(i=0),o=e,self.setTimeout(function(){o=Date.now(),t(performance.now())},i)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array)},{"object-assign":54,"promise-polyfill":57}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/settings"),s=t("@pixi/core"),o=t("@pixi/graphics"),a=t("@pixi/ticker"),n=t("@pixi/display"),l=t("@pixi/text");r.settings.UPLOADS_PER_FRAME=4;var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var u=(c.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},c.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},c);function c(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function d(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r,n=0;n<t._textures.length;n++)t._textures[n]instanceof s.Texture&&(r=t._textures[n].baseTexture,-1===e.indexOf(r)&&(e.push(r),i=!0));return i}function f(t,e){if(t.baseTexture instanceof s.BaseTexture){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function p(t,e){if(t._texture&&t._texture instanceof s.Texture){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function m(t,e){return e instanceof l.Text&&(e.updateText(!0),!0)}function y(t,e){if(e instanceof l.TextStyle){e=e.toFontString();return l.TextMetrics.measureFont(e),!0}return!1}function _(t,e){if(t instanceof l.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function g(t,e){return t instanceof l.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}var v=(b.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY))):e&&e()},b.prototype.tick=function(){setTimeout(this.delayedTick,0)},b.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),i=this.completes.length=0,r=n.length;i<r;i++)n[i]()}},b.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},b.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},b.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.Container)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},b.prototype.destroy=function(){this.ticking&&a.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},b);function b(t){var e=this;this.limiter=new u(r.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(_),this.registerFindHook(g),this.registerFindHook(d),this.registerFindHook(f),this.registerFindHook(p),this.registerUploadHook(m),this.registerUploadHook(y)}function T(t,e){return e instanceof s.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function x(t,e){if(!(e instanceof o.Graphics))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&T(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function E(t,e){return t instanceof o.Graphics&&(e.push(t),!0)}var S,A,P,w=(h(A=R,P=S=v),A.prototype=null===P?Object.create(P):(O.prototype=P.prototype,new O),R);function O(){this.constructor=A}function R(t){t=S.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(E),t.registerUploadHook(T),t.registerUploadHook(x),t}M.prototype.beginFrame=function(){this.frameStart=Date.now()},M.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t=M;function M(t){this.maxMilliseconds=t,this.frameStart=0}i.BasePrepare=v,i.CountLimiter=u,i.Prepare=w,i.TimeLimiter=t},{"@pixi/core":10,"@pixi/display":11,"@pixi/graphics":19,"@pixi/settings":33,"@pixi/text":39,"@pixi/ticker":40}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=(n.prototype.emit=function(t,e,i,r,n,s,o,a){if(8<arguments.length)throw new Error("max arguments reached");var l=this.name,h=this.items;this._aliasCount++;for(var u=0,c=h.length;u<c;u++)h[u][l](t,e,i,r,n,s,o,a);return h===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n);function n(t){this.items=[],this._name=t,this._aliasCount=0}Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}}),i.Runner=r},{}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n,s,o,a,l,h,u,c,d,f,p,m,y,_,g,v,b,T,x=((r=t("ismobilejs"))&&"object"==typeof r&&"default"in r?r.default:r)(self.navigator);(n=n=n||{})[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",(s=s=s||{})[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",(o=o=o||{})[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL",(a=a=a||{})[a.NORMAL=0]="NORMAL",a[a.ADD=1]="ADD",a[a.MULTIPLY=2]="MULTIPLY",a[a.SCREEN=3]="SCREEN",a[a.OVERLAY=4]="OVERLAY",a[a.DARKEN=5]="DARKEN",a[a.LIGHTEN=6]="LIGHTEN",a[a.COLOR_DODGE=7]="COLOR_DODGE",a[a.COLOR_BURN=8]="COLOR_BURN",a[a.HARD_LIGHT=9]="HARD_LIGHT",a[a.SOFT_LIGHT=10]="SOFT_LIGHT",a[a.DIFFERENCE=11]="DIFFERENCE",a[a.EXCLUSION=12]="EXCLUSION",a[a.HUE=13]="HUE",a[a.SATURATION=14]="SATURATION",a[a.COLOR=15]="COLOR",a[a.LUMINOSITY=16]="LUMINOSITY",a[a.NORMAL_NPM=17]="NORMAL_NPM",a[a.ADD_NPM=18]="ADD_NPM",a[a.SCREEN_NPM=19]="SCREEN_NPM",a[a.NONE=20]="NONE",a[a.SRC_OVER=0]="SRC_OVER",a[a.SRC_IN=21]="SRC_IN",a[a.SRC_OUT=22]="SRC_OUT",a[a.SRC_ATOP=23]="SRC_ATOP",a[a.DST_OVER=24]="DST_OVER",a[a.DST_IN=25]="DST_IN",a[a.DST_OUT=26]="DST_OUT",a[a.DST_ATOP=27]="DST_ATOP",a[a.ERASE=26]="ERASE",a[a.SUBTRACT=28]="SUBTRACT",a[a.XOR=29]="XOR",(l=l=l||{})[l.POINTS=0]="POINTS",l[l.LINES=1]="LINES",l[l.LINE_LOOP=2]="LINE_LOOP",l[l.LINE_STRIP=3]="LINE_STRIP",l[l.TRIANGLES=4]="TRIANGLES",l[l.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",l[l.TRIANGLE_FAN=6]="TRIANGLE_FAN",(h=h=h||{})[h.RGBA=6408]="RGBA",h[h.RGB=6407]="RGB",h[h.RG=33319]="RG",h[h.RED=6403]="RED",h[h.RGBA_INTEGER=36249]="RGBA_INTEGER",h[h.RGB_INTEGER=36248]="RGB_INTEGER",h[h.RG_INTEGER=33320]="RG_INTEGER",h[h.RED_INTEGER=36244]="RED_INTEGER",h[h.ALPHA=6406]="ALPHA",h[h.LUMINANCE=6409]="LUMINANCE",h[h.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",h[h.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",h[h.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(u=u=u||{})[u.TEXTURE_2D=3553]="TEXTURE_2D",u[u.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",u[u.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",u[u.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",u[u.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",u[u.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",u[u.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(c=c=c||{})[c.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",c[c.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",c[c.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",c[c.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",c[c.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",c[c.UNSIGNED_INT=5125]="UNSIGNED_INT",c[c.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",c[c.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",c[c.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",c[c.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",c[c.BYTE=5120]="BYTE",c[c.SHORT=5122]="SHORT",c[c.INT=5124]="INT",c[c.FLOAT=5126]="FLOAT",c[c.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",c[c.HALF_FLOAT=36193]="HALF_FLOAT",(m=m=m||{})[m.FLOAT=0]="FLOAT",m[m.INT=1]="INT",m[m.UINT=2]="UINT",(m=d=d||{})[m.NEAREST=0]="NEAREST",m[m.LINEAR=1]="LINEAR",(m=f=f||{})[m.CLAMP=33071]="CLAMP",m[m.REPEAT=10497]="REPEAT",m[m.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(m=p=p||{})[m.OFF=0]="OFF",m[m.POW2=1]="POW2",m[m.ON=2]="ON",m[m.ON_MANUAL=3]="ON_MANUAL",(y=y=y||{})[y.NPM=0]="NPM",y[y.UNPACK=1]="UNPACK",y[y.PMA=2]="PMA",y[y.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",y[y.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",y[y.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",y[y.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(g=g=g||{})[g.NO=0]="NO",g[g.YES=1]="YES",g[g.AUTO=2]="AUTO",g[g.BLEND=0]="BLEND",g[g.CLEAR=1]="CLEAR",g[g.BLIT=2]="BLIT",(g=_=_||{})[g.AUTO=0]="AUTO",g[g.MANUAL=1]="MANUAL",(g=P=P||{}).LOW="lowp",g.MEDIUM="mediump",g.HIGH="highp",(b=b=b||{})[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE",(b=v=v||{})[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH",(T=T=T||{})[T.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",T[T.ARRAY_BUFFER=34962]="ARRAY_BUFFER",T[T.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var E,S,A,P={MIPMAP_TEXTURES:p.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:v.NONE,SPRITE_MAX_TEXTURES:(E=32,A=!0,(x.tablet||x.phone)&&(x.apple.device&&(S=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(S[1],10)<11&&(A=!1),x.android.device&&(S=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(S[1],10)<7&&(A=!1)),A?E:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:_.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:f.CLAMP,SCALE_MODE:d.LINEAR,PRECISION_VERTEX:P.HIGH,PRECISION_FRAGMENT:x.apple.device?P.HIGH:P.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!x.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};i.isMobile=x,i.settings=P},{ismobilejs:47}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),n=t("@pixi/sprite"),s=t("@pixi/ticker"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var a,l,h,n=(a=n.Sprite,o(l=c,h=a),l.prototype=null===h?Object.create(h):(u.prototype=h.prototype,new u),c.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},c.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},c.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},c.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},c.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},c.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},c.prototype.destroy=function(t){this.stop(),a.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},c.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(r.Texture.from(t[i]));return new c(e)},c.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(r.Texture.from(t[i]));return new c(e)},Object.defineProperty(c.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),c);function u(){this.constructor=l}function c(t,e){void 0===e&&(e=!0);var i=a.call(this,t[0]instanceof r.Texture?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=e,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}i.AnimatedSprite=n},{"@pixi/core":10,"@pixi/sprite":36,"@pixi/ticker":40}],35:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),s=t("@pixi/math"),r=t("@pixi/sprite"),f=t("@pixi/constants"),p=t("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l,h=new s.Point,t=(a(u,l=r.Sprite),Object.defineProperty(u.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),u.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},u.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},u.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},u.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):l.prototype.getLocalBounds.call(this,t)},u.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._width,i=this._height,t=-e*this.anchor._x;if(h.x>=t&&h.x<t+e){e=-i*this.anchor._y;if(h.y>=e&&h.y<e+i)return!0}return!1},u.prototype.destroy=function(t){l.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},u.from=function(t,e){return new u(t instanceof n.Texture?t:n.Texture.from(t,e),e.width,e.height)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),u);function u(t,e,i){void 0===e&&(e=100),void 0===i&&(i=100);var r=l.call(this,t)||this;return r.tileTransform=new s.Transform,r._width=e,r._height=i,r.uvMatrix=r.texture.uvMatrix||new n.TextureMatrix(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}var c,d="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",m=new s.Matrix,r=(a(y,c=n.ObjectRenderer),y.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=n.Shader.from(d,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=1<t.context.webGLVersion?n.Shader.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):n.Shader.from(d,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},y.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y);var n=t.uvRespectAnchor?t.anchor.x:0,s=t.uvRespectAnchor?t.anchor.y:0;(r=i.uvs)[0]=r[6]=-n,r[1]=r[3]=-s,r[2]=r[4]=1-n,r[5]=r[7]=1-s,i.invalidate();var o=t._texture,a=o.baseTexture,l=t.tileTransform.localTransform,h=t.uvMatrix,u=a.isPowerOfTwo&&o.frame.width===a.width&&o.frame.height===a.height;u&&(a._glTextures[e.CONTEXT_UID]?u=a.wrapMode!==f.WRAP_MODES.CLAMP:a.wrapMode===f.WRAP_MODES.CLAMP&&(a.wrapMode=f.WRAP_MODES.REPEAT));var c=u?this.simpleShader:this.shader,d=o.width,n=o.height,r=t._width,s=t._height;m.set(l.a*d/r,l.b*d/s,l.c*n/r,l.d*n/s,l.tx/r,l.ty/s),m.invert(),u?m.prepend(h.mapCoord):(c.uniforms.uMapCoord=h.mapCoord.toArray(!0),c.uniforms.uClampFrame=h.uClampFrame,c.uniforms.uClampOffset=h.uClampOffset),c.uniforms.uTransform=m.toArray(!0),c.uniforms.uColor=p.premultiplyTintToRgba(t.tint,t.worldAlpha,c.uniforms.uColor,a.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,e.shader.bind(c),e.geometry.bind(i),this.state.blendMode=p.correctBlendMode(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},y);function y(t){var e=c.call(this,t)||this;return t.runners.contextChange.add(e),e.quad=new n.QuadUv,e.state=n.State.for2d(),e}i.TilingSprite=t,i.TilingSpriteRenderer=r},{"@pixi/constants":9,"@pixi/core":10,"@pixi/math":23,"@pixi/sprite":36,"@pixi/utils":41}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/constants"),n=t("@pixi/core"),s=t("@pixi/display"),o=t("@pixi/math"),y=t("@pixi/settings"),a=t("@pixi/utils"),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var h,u,c,d=new o.Point,f=new Uint16Array([0,1,2,0,2,3]),s=(h=s.Container,l(u=m,c=h),u.prototype=null===c?Object.create(c):(p.prototype=c.prototype,new p),m.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=a.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=a.sign(this.scale.y)*this._height/this._texture.orig.height)},m.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},m.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=this.vertexData,h=t.trim,u=t.orig,c=this._anchor,d=0,f=0,e=0,t=0,e=h?(d=(f=h.x-c._x*u.width)+h.width,(t=h.y-c._y*u.height)+h.height):(d=(f=-c._x*u.width)+u.width,(t=-c._y*u.height)+u.height);if(l[0]=i*f+n*t+o,l[1]=s*t+r*f+a,l[2]=i*d+n*t+o,l[3]=s*t+r*d+a,l[4]=i*d+n*e+o,l[5]=s*e+r*d+a,l[6]=i*f+n*e+o,l[7]=s*e+r*f+a,this._roundPixels)for(var p=y.settings.RESOLUTION,m=0;m<l.length;++m)l[m]=Math.round((l[m]*p|0)/p)}},m.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,h=n.tx,u=n.ty,t=-r._x*i.width,n=t+i.width,r=-r._y*i.height,i=r+i.height;e[0]=s*t+a*r+h,e[1]=l*r+o*t+u,e[2]=s*n+a*r+h,e[3]=l*r+o*n+u,e[4]=s*n+a*i+h,e[5]=l*i+o*n+u,e[6]=s*t+a*i+h,e[7]=l*i+o*t+u},m.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},m.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},m.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):h.prototype.getLocalBounds.call(this,t)},m.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,d);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,t=0;return d.x>=r&&d.x<r+e&&(t=-i*this.anchor.y,d.y>=t&&d.y<t+i)},m.prototype.destroy=function(t){h.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},m.from=function(t,e){return new m(t instanceof n.Texture?t:n.Texture.from(t,e))},Object.defineProperty(m.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=a.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=a.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||n.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),m);function p(){this.constructor=u}function m(t){var e=h.call(this)||this;return e._anchor=new o.ObservablePoint(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=r.BLEND_MODES.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||n.Texture.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=f,e.pluginName="batch",e.isSprite=!0,e._roundPixels=y.settings.ROUND_PIXELS,e}i.Sprite=s},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var h=t("@pixi/math"),u=t("@pixi/core"),l=t("@pixi/utils"),c=t("@pixi/loaders"),d=(f.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=l.getResolutionOfUrl(t=void 0===t?null:t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},f.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=f.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},f.prototype._processFrames=function(t){for(var e=t,i=f.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r,n,s,o=this._frameKeys[e],a=this._frames[o],l=a.frame;l&&(r=s=null,n=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,n=new h.Rectangle(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),s=a.rotated?new h.Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):new h.Rectangle(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(r=new h.Rectangle(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[o]=new u.Texture(this.baseTexture,s,n,r,a.rotated?2:0,a.anchor),u.Texture.addToCache(this.textures[o],o)),e++}},f.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var r=e[t][i];this.animations[t].push(this.textures[r])}}},f.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},f.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*f.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*f.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},f.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},f.BATCH_SIZE=1e3,f);function f(t,e,i){void 0===i&&(i=null),this._texture=t instanceof u.Texture?t:null,this.baseTexture=t instanceof u.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(i||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}p.use=function(r,i){var n=this,t=r.name+"_image";if(r.data&&r.type===c.LoaderResource.TYPE.JSON&&r.data.frames&&!n.resources[t]){var e=null===(a=null===(e=r.data)||void 0===e?void 0:e.meta)||void 0===a?void 0:a.related_multi_packs;if(Array.isArray(e))for(var s=0,o=e;s<o.length;s++)!function(t){if("string"!=typeof t)return;var e=t.replace(".json",""),i=l.url.resolve(r.url.replace(n.baseUrl,""),t);if(n.resources[e]||Object.values(n.resources).some(function(t){return l.url.format(l.url.parse(t.url))===i}))return;t={crossOrigin:r.crossOrigin,loadType:c.LoaderResource.LOAD_TYPE.XHR,xhrType:c.LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:r,metadata:r.metadata};n.add(e,i,t)}(o[s]);var a={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},e=p.getResourcePath(r,n.baseUrl);n.add(t,e,a,function(t){var e;t.error?i(t.error):(e=new d(t.texture,r.data,r.url)).parse(function(){r.spritesheet=e,r.textures=e.textures,i()})})}else i()},p.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:l.url.resolve(t.url.replace(e,""),t.data.meta.image)},t=p;function p(){}i.Spritesheet=d,i.SpritesheetLoader=t},{"@pixi/core":10,"@pixi/loaders":21,"@pixi/math":23,"@pixi/utils":41}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var J=t("@pixi/math"),l=t("@pixi/settings"),tt=t("@pixi/mesh"),et=t("@pixi/utils"),it=t("@pixi/core"),M=t("@pixi/text"),rt=t("@pixi/constants"),r=t("@pixi/display"),p=t("@pixi/loaders"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var C=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},s=(o.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},o.parse=function(t){var e,i=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(e in i){var n,s=i[e].match(/^[a-z]+/gm)[0],o=i[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(n in o){var l=o[n].split("="),h=l[0],u=l[1].replace(/"/gm,""),l=parseFloat(u),l=isNaN(l)?u:l;a[h]=l}r[s].push(a)}var c=new C;return r.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),r.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),r.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),r.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),r.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),r.distanceField.forEach(function(t){return c.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})}),c},o);function o(){}var a=(h.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},h.parse=function(t){for(var e=new C,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),a=t.getElementsByTagName("distanceField"),l=0;l<i.length;l++)e.info.push({face:i[l].getAttribute("face"),size:parseInt(i[l].getAttribute("size"),10)});for(l=0;l<r.length;l++)e.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(l=0;l<n.length;l++)e.page.push({id:parseInt(n[l].getAttribute("id"),10)||0,file:n[l].getAttribute("file")});for(l=0;l<s.length;l++){var h=s[l];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(l=0;l<o.length;l++)e.kerning.push({first:parseInt(o[l].getAttribute("first"),10),second:parseInt(o[l].getAttribute("second"),10),amount:parseInt(o[l].getAttribute("amount"),10)});for(l=0;l<a.length;l++)e.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return e},h);function h(){}u.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return a.test(t)}return!1},u.parse=function(t){t=(new self.DOMParser).parseFromString(t,"text/xml");return a.parse(t)},t=u;function u(){}var c=[s,a,t];function m(t){for(var e=0;e<c.length;e++)if(c[e].test(t))return c[e];return null}function I(t,e,i,r,n,s,o){var a=i.text,l=i.fontProperties;e.translate(r,n),e.scale(s,s);r=o.strokeThickness/2,n=-o.strokeThickness/2;e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=function(t,e,i,r,n,s){var o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a=i.dropShadow?i.dropShadowDistance:0,l=i.padding||0,h=t.width/r-a-2*l,u=t.height/r-a-2*l,c=o.slice(),d=i.fillGradientStops.slice();if(!d.length)for(var f=c.length+1,p=1;p<f;++p)d.push(p/f);if(c.unshift(o[0]),d.unshift(0),c.push(o[o.length-1]),d.push(1),i.fillGradientType===M.TEXT_GRADIENT.LINEAR_VERTICAL)for(var m=e.createLinearGradient(h/2,l,h/2,u+l),y=0,_=(s.fontProperties.fontSize+i.strokeThickness)/u,p=0;p<n.length;p++)for(var g=s.lineHeight*p,v=0;v<c.length;v++){var b=0,b="number"==typeof d[v]?d[v]:v/c.length,b=Math.max(y,g/u+b*_),b=Math.min(b,1);m.addColorStop(b,c[v]),y=b}else{m=e.createLinearGradient(l,u/2,h+l,u/2);for(var T=c.length+1,x=1,p=0;p<c.length;p++){var E=void 0,E="number"==typeof d[p]?d[p]:x/T;m.addColorStop(E,c[p]),x++}}return m}(t,e,o,s,[a],i),e.strokeStyle=o.stroke;s=o.dropShadowColor,s=et.hex2rgb("number"==typeof s?s:et.string2hex(s));o.dropShadow?(e.shadowColor="rgba("+255*s[0]+","+255*s[1]+","+255*s[2]+","+o.dropShadowAlpha+")",e.shadowBlur=o.dropShadowBlur,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),o.stroke&&o.strokeThickness&&e.strokeText(a,r,n+i.lineHeight-l.descent),o.fill&&e.fillText(a,r,n+i.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function nt(t){return Array.from?Array.from(t):t.split("")}function st(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var ot=(D.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},D.install=function(t,e,i){var r;if(t instanceof C)r=t;else{var n=m(t);if(!n)throw new Error("Unrecognized data format for font.");r=n.parse(t)}i=new D(r,e=e instanceof it.Texture?[e]:e,i);return D.available[i.font]=i},D.uninstall=function(t){var e=D.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete D.available[t]},D.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},D.defaultOptions,i),i=r.chars,n=r.padding,s=r.resolution,o=r.textureWidth,a=r.textureHeight,l=function(t){for(var e=[],i=0,r=(t="string"==typeof t?[t]:t).length;i<r;i++){var n=t[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,nt(n))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(i),h=e instanceof M.TextStyle?e:new M.TextStyle(e),u=o,c=new C;c.info[0]={face:h.fontFamily,size:h.fontSize},c.common[0]={lineHeight:h.fontSize};for(var d,f,p,m=0,y=0,_=0,g=[],v=0;v<l.length;v++){d||((d=document.createElement("canvas")).width=o,d.height=a,f=d.getContext("2d"),p=new it.BaseTexture(d,{resolution:s}),g.push(new it.Texture(p)),c.page.push({id:g.length-1,file:""}));var b=M.TextMetrics.measureText(l[v],h,!1,d),T=b.width,x=Math.ceil(b.height),E=Math.ceil(("italic"===h.fontStyle?2:1)*T);if(a-x*s<=y){if(0===y)throw new Error("[BitmapFont] textureHeight "+a+"px is too small for "+h.fontSize+"px fonts");--v,p=f=d=null,_=m=y=0}else{_=Math.max(x+b.fontProperties.descent,_);u<=E*s+m?(--v,y+=_*s,y=Math.ceil(y),_=m=0):(I(d,f,b,m,y,s,h),b=st(b.text),c.char.push({id:b,page:g.length-1,x:m/s,y:y/s,width:E,height:x,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),m+=(E+2*n)*s,m=Math.ceil(m))}}for(var v=0,S=l.length;v<S;v++)for(var A=l[v],P=0;P<S;P++){var w=l[P],O=f.measureText(A).width,R=f.measureText(w).width,R=f.measureText(A+w).width-(O+R);R&&c.kerning.push({first:st(A),second:st(w),amount:R})}e=new D(c,g,!0);return void 0!==D.available[t]&&D.uninstall(t),D.available[t]=e},D.ALPHA=[["a","z"],["A","Z"]," "],D.NUMERIC=[["0","9"]],D.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],D.ASCII=[[" ","~"]],D.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:D.ALPHANUMERIC},D.available={},D);function D(t,e,i){var r=t.info[0],n=t.common[0],s=t.page[0],o=t.distanceField[0],a=et.getResolutionOfUrl(s.file),l={};this._ownsTextures=i,this.font=r.face,this.size=r.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=l;for(var h=0;h<t.page.length;h++){var u=t.page[h],c=u.id,u=u.file;l[c]=e instanceof Array?e[h]:e[u],null!=o&&o.fieldType&&"none"!==o.fieldType&&(l[c].baseTexture.alphaMode=rt.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA)}for(h=0;h<t.char.length;h++){var d=t.char[h],c=d.id,f=d.page,p=t.char[h],m=p.x,y=p.y,_=p.width,g=p.height,v=p.xoffset,d=p.yoffset,p=p.xadvance;m/=a,y/=a,_/=a,g/=a,v/=a,d/=a,p/=a;g=new J.Rectangle(m+l[f].frame.x/a,y+l[f].frame.y/a,_,g);this.chars[c]={xOffset:v,yOffset:d,xAdvance:p,kerning:{},texture:new it.Texture(l[f].baseTexture,g),page:f}}for(h=0;h<t.kerning.length;h++){var b=t.kerning[h],T=b.first,x=b.second,b=b.amount;T/=a,x/=a,b/=a,this.chars[x]&&(this.chars[x].kerning[T]=b)}this.distanceFieldRange=null==o?void 0:o.distanceRange,this.distanceFieldType=null!==(n=null===(n=null==o?void 0:o.fieldType)||void 0===n?void 0:n.toLowerCase())&&void 0!==n?n:"none"}var d,f,y,at=[],lt=[],ht=[],t=(d=r.Container,n(f=g,y=d),f.prototype=null===y?Object.create(y):(_.prototype=y.prototype,new _),g.prototype.updateText=function(){for(var t=ot.available[this._fontName],e=this._fontSize/t.size,i=new J.Point,r=[],n=[],s=[],o=nt(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),a=this._maxWidth*t.size/this._fontSize,l="none"===t.distanceFieldType?at:lt,h=null,u=0,c=0,d=0,f=-1,p=0,m=0,y=0,_=0,g=0;g<o.length;g++){var v,b,T=st(L=o[g]);/(?:\s)/.test(L)&&(f=g,p=u,_++),"\r"!==L&&"\n"!==L?(v=t.chars[T])&&(h&&v.kerning[h]&&(i.x+=v.kerning[h]),(b=ht.pop()||{texture:it.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new J.Point}).texture=v.texture,b.line=d,b.charCode=T,b.position.x=i.x+v.xOffset+this._letterSpacing/2,b.position.y=i.y+v.yOffset,b.prevSpaces=_,r.push(b),u=b.position.x+v.texture.orig.width,i.x+=v.xAdvance+this._letterSpacing,y=Math.max(y,v.yOffset+v.texture.height),h=T,-1!==f&&0<a&&i.x>a&&(++m,et.removeItems(r,1+f-m,1+g-f),g=f,f=-1,n.push(p),s.push(0<r.length?r[r.length-1].prevSpaces:0),c=Math.max(c,p),d++,i.x=0,i.y+=t.lineHeight,h=null,_=0)):(n.push(u),s.push(-1),c=Math.max(c,u),++d,++m,i.x=0,i.y+=t.lineHeight,h=null,_=0)}var x=o[o.length-1];"\r"!==x&&"\n"!==x&&(/(?:\s)/.test(x)&&(u=p),n.push(u),c=Math.max(c,u),s.push(-1));for(var E=[],g=0;g<=d;g++){var S=0;"right"===this._align?S=c-n[g]:"center"===this._align?S=(c-n[g])/2:"justify"===this._align&&(S=s[g]<0?0:(c-n[g])/s[g]),E.push(S)}for(var A=r.length,P={},w=[],O=this._activePagesMeshData,g=0;g<O.length;g++)l.push(O[g]);for(g=0;g<A;g++){var R,M,C,I=(B=r[g].texture).baseTexture.uid;P[I]||((q=l.pop())||(R=new tt.MeshGeometry,M=C=void 0,M="none"===t.distanceFieldType?(C=new tt.MeshMaterial(it.Texture.EMPTY),rt.BLEND_MODES.NORMAL):(C=new tt.MeshMaterial(it.Texture.EMPTY,{program:it.Program.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),rt.BLEND_MODES.NORMAL_NPM),(C=new tt.Mesh(R,C)).blendMode=M,q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:C,vertices:null,uvs:null,indices:null}),q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0,(C=this._textureCache)[I]=C[I]||new it.Texture(B.baseTexture),q.mesh.texture=C[I],q.mesh.tint=this._tint,w.push(q),P[I]=q),P[I].total++}for(g=0;g<O.length;g++)-1===w.indexOf(O[g])&&this.removeChild(O[g].mesh);for(g=0;g<w.length;g++)w[g].mesh.parent!==this&&this.addChild(w[g].mesh);for(g in this._activePagesMeshData=w,P){var D=(q=P[g]).total;if(!((null===(N=q.indices)||void 0===N?void 0:N.length)>6*D)||q.vertices.length<2*tt.Mesh.BATCHABLE_SIZE)q.vertices=new Float32Array(8*D),q.uvs=new Float32Array(8*D),q.indices=new Uint16Array(6*D);else for(var N=q.total,F=q.vertices,k=4*N*2;k<F.length;k++)F[k]=0;q.mesh.size=6*D}for(g=0;g<A;g++){var L,B,G=(L=r[g]).position.x+E[L.line]*("justify"===this._align?L.prevSpaces:1),U=(G=this._roundPixels?Math.round(G):G)*e,V=L.position.y*e,j=P[(B=L.texture).baseTexture.uid],H=B.frame,X=B._uvs,G=j.index++;j.indices[6*G+0]=0+4*G,j.indices[6*G+1]=1+4*G,j.indices[6*G+2]=2+4*G,j.indices[6*G+3]=0+4*G,j.indices[6*G+4]=2+4*G,j.indices[6*G+5]=3+4*G,j.vertices[8*G+0]=U,j.vertices[8*G+1]=V,j.vertices[8*G+2]=U+H.width*e,j.vertices[8*G+3]=V,j.vertices[8*G+4]=U+H.width*e,j.vertices[8*G+5]=V+H.height*e,j.vertices[8*G+6]=U,j.vertices[8*G+7]=V+H.height*e,j.uvs[8*G+0]=X.x0,j.uvs[8*G+1]=X.y0,j.uvs[8*G+2]=X.x1,j.uvs[8*G+3]=X.y1,j.uvs[8*G+4]=X.x2,j.uvs[8*G+5]=X.y2,j.uvs[8*G+6]=X.x3,j.uvs[8*G+7]=X.y3}for(g in this._textWidth=c*e,this._textHeight=(i.y+t.lineHeight)*e,P){var q=P[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var z=0,Y=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y,$=0;$<q.total;$++)q.vertices[z++]-=Y,q.vertices[z++]-=W,q.vertices[z++]-=Y,q.vertices[z++]-=W,q.vertices[z++]-=Y,q.vertices[z++]-=W,q.vertices[z++]-=Y,q.vertices[z++]-=W;this._maxLineHeight=y*e;var Q=q.mesh.geometry.getBuffer("aVertexPosition"),Z=q.mesh.geometry.getBuffer("aTextureCoord"),K=q.mesh.geometry.getIndex();Q.data=q.vertices,Z.data=q.uvs,K.data=q.indices,Q.update(),Z.update(),K.update()}for(g=0;g<r.length;g++)ht.push(r[g])},g.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},g.prototype._render=function(t){var e=ot.available[this._fontName],i=e.distanceFieldRange,r=e.distanceFieldType,n=e.size;if("none"!==r)for(var s=this.worldTransform,o=s.a,e=s.b,r=s.c,s=s.d,e=Math.sqrt(o*o+e*e),s=Math.sqrt(r*r+s*s),a=(Math.abs(e)+Math.abs(s))/2,l=this._fontSize/n,h=0,u=this._activePagesMeshData;h<u.length;h++)u[h].mesh.shader.uniforms.uFWidth=a*i*l*t.resolution;d.prototype._render.call(this,t)},g.prototype.getLocalBounds=function(){return this.validate(),d.prototype.getLocalBounds.call(this)},g.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(g.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!ot.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),g.prototype.destroy=function(t){var e,i=this._textureCache;for(e in i)i[e].destroy(),delete i[e];this._textureCache=null,d.prototype.destroy.call(this,t)},g.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},g);function _(){this.constructor=f}function g(t,e){void 0===e&&(e={});var i=d.call(this)||this;i._tint=16777215;var r=Object.assign({},g.styleDefaults,e),n=r.align,s=r.tint,o=r.maxWidth,a=r.letterSpacing,e=r.fontName,r=r.fontSize;if(!ot.available[e])throw new Error('Missing BitmapFont "'+e+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=n,i._tint=s,i._fontName=e,i._fontSize=r||ot.available[e].size,i._text=t,i._maxWidth=o,i._maxLineHeight=0,i._letterSpacing=a,i._anchor=new J.ObservablePoint(function(){i.dirty=!0},i,0,0),i._roundPixels=l.settings.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}v.add=function(){p.LoaderResource.setExtensionXhrType("fnt",p.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},v.use=function(e,i){var t=m(e.data);if(t)for(var r=v.getBaseUrl(this,e),n=t.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===n.page.length&&(e.bitmapFont=ot.install(n,s,!0),i())},a=0;a<n.page.length;++a){var l,h,u=n.page[a].file,c=r+u,d=!1;for(l in this.resources){var f=this.resources[l];if(f.url===c){f.metadata.pageFile=u,f.texture?o(f):f.onAfterMiddleware.add(o),d=!0;break}}d||(h={crossOrigin:e.crossOrigin,loadType:p.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e},this.add(c,h,o))}else i()},v.getBaseUrl=function(t,e){var i=e.isDataUrl?"":v.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},v.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},r=v;function v(){}i.BitmapFont=ot,i.BitmapFontData=C,i.BitmapFontLoader=r,i.BitmapText=t},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/loaders":21,"@pixi/math":23,"@pixi/mesh":25,"@pixi/settings":33,"@pixi/text":39,"@pixi/utils":41}],39:[function(t,e,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var i=t("@pixi/sprite"),o=t("@pixi/core"),a=t("@pixi/settings"),l=t("@pixi/math"),v=t("@pixi/utils"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};(t=P.TEXT_GRADIENT||(P.TEXT_GRADIENT={}))[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var n={align:"left",breakWords:!(t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:P.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],h=(u.prototype.clone=function(){var t={};return f(t,this,n),new u(t)},u.prototype.reset=function(){f(this,n,n)},Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=d(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fill",{get:function(){return this._fill},set:function(t){t=d(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=d(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),u.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,i=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=i;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&s.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},u);function u(t){this.styleID=0,this.reset(),f(this,t,t)}function c(t){return"number"==typeof t?v.hex2string(t):"string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function d(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=c(t[e]);return t}return c(t)}function f(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var b=(A.measureText=function(t,e,i,r){void 0===r&&(r=A._canvas),i=null==i?e.wordWrap:i;var n=e.toFontString(),s=A.measureFont(n);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=r.getContext("2d");o.font=n;for(var a=(i?A.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),l=new Array(a.length),h=0,u=0;u<a.length;u++){var c=o.measureText(a[u]).width+(a[u].length-1)*e.letterSpacing;l[u]=c,h=Math.max(h,c)}n=h+e.strokeThickness;e.dropShadow&&(n+=e.dropShadowDistance);i=e.lineHeight||s.fontSize+e.strokeThickness,r=Math.max(i,s.fontSize+e.strokeThickness)+(a.length-1)*(i+e.leading);return e.dropShadow&&(r+=e.dropShadowDistance),new A(t,e,n,r,a,l,i+e.leading,h,s)},A.wordWrap=function(t,e,i){for(var r=(i=void 0===i?A._canvas:i).getContext("2d"),n=0,s="",o="",a=Object.create(null),l=e.letterSpacing,i=e.whiteSpace,h=A.collapseSpaces(i),u=A.collapseNewlines(i),c=!h,d=e.wordWrapWidth+l,f=A.tokenize(t),p=0;p<f.length;p++){var m=f[p];if(A.isNewline(m)){if(!u){o+=A.addLine(s),c=!h,s="",n=0;continue}m=" "}if(h){var y=A.isBreakingSpace(m),_=A.isBreakingSpace(s[s.length-1]);if(y&&_)continue}y=A.getFromCache(m,l,a,r);if(d<y)if(""!==s&&(o+=A.addLine(s),s="",n=0),A.canBreakWords(m,e.breakWords))for(var g=A.wordWrapSplit(m),v=0;v<g.length;v++){for(var b=g[v],T=1;g[v+T];){var x=g[v+T],E=b[b.length-1];if(A.canBreakChars(E,x,m,v,e.breakWords))break;b+=x,T++}v+=b.length-1;var S=A.getFromCache(b,l,a,r);d<S+n&&(o+=A.addLine(s),c=!1,s="",n=0),s+=b,n+=S}else{0<s.length&&(o+=A.addLine(s),s="",n=0);_=p===f.length-1;o+=A.addLine(m,!_),c=!1,s="",n=0}else d<y+n&&(c=!1,o+=A.addLine(s),s="",n=0),(0<s.length||!A.isBreakingSpace(m)||c)&&(s+=m,n+=y)}return o+=A.addLine(s,!1)},A.addLine=function(t,e){return void 0===e&&(e=!0),t=A.trimRight(t),t=e?t+"\n":t},A.getFromCache=function(t,e,i,r){var n=i[t];return"number"!=typeof n&&(e=t.length*e,n=r.measureText(t).width+e,i[t]=n),n},A.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},A.collapseNewlines=function(t){return"normal"===t},A.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var i=t[e];if(!A.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},A.isNewline=function(t){return"string"==typeof t&&0<=A._newlines.indexOf(t.charCodeAt(0))},A.isBreakingSpace=function(t,e){return"string"==typeof t&&0<=A._breakingSpaces.indexOf(t.charCodeAt(0))},A.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r],s=t[r+1];A.isBreakingSpace(n,s)||A.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},A.canBreakWords=function(t,e){return e},A.canBreakChars=function(t,e,i,r,n){return!0},A.wordWrapSplit=function(t){return t.split("")},A.measureFont=function(t){if(A._fonts[t])return A._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=A._canvas,r=A._context;r.font=t;var n=A.METRICS_STRING+A.BASELINE_SYMBOL,s=Math.ceil(r.measureText(n).width),o=Math.ceil(r.measureText(A.BASELINE_SYMBOL).width),a=Math.ceil(A.HEIGHT_MULTIPLIER*o),o=o*A.BASELINE_MULTIPLIER|0;i.width=s,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,s,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,o);for(var l=r.getImageData(0,0,s,a).data,r=l.length,h=4*s,u=0,c=0,d=!1,u=0;u<o;++u){for(var f=0;f<h;f+=4)if(255!==l[c+f]){d=!0;break}if(d)break;c+=h}for(e.ascent=o-u,c=r-h,d=!1,u=a;o<u;--u){for(f=0;f<h;f+=4)if(255!==l[c+f]){d=!0;break}if(d)break;c-=h}return e.descent=u-o,e.fontSize=e.ascent+e.descent,A._fonts[t]=e},A.clearMetrics=function(t){(t=void 0===t?"":t)?delete A._fonts[t]:A._fonts={}},A);function A(t,e,i,r,n,s,o,a,l){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}t=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();t.width=t.height=10,b._canvas=t,b._context=t.getContext("2d"),b._fonts={},b.METRICS_STRING="|q",b.BASELINE_SYMBOL="M",b.BASELINE_MULTIPLIER=1.4,b.HEIGHT_MULTIPLIER=2,b._newlines=[10,13];var p,m,y,_={texture:!0,children:!(b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},g="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype,i=(p=i.Sprite,r(m=x,y=p),m.prototype=null===y?Object.create(y):(T.prototype=y.prototype,new T),x.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,s=b.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=s.width,o=s.height,a=s.lines,l=s.lineHeight,h=s.lineWidths,u=s.maxLineWidth,c=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*e.padding)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;for(var d=e.dropShadow?2:1,f=0;f<d;++f){var p=e.dropShadow&&0===f,m=p?Math.ceil(Math.max(1,o)+2*e.padding):0,y=m*this._resolution;p?(n.fillStyle="black",n.strokeStyle="black",p=e.dropShadowColor,p=v.hex2rgb("number"==typeof p?p:v.string2hex(p)),n.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+e.dropShadowAlpha+")",n.shadowBlur=e.dropShadowBlur,n.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,n.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+y):(n.fillStyle=this._generateFillStyle(e,a,s),n.strokeStyle=e.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0);var _=(l-c.fontSize)/2;(!x.nextLineHeightBehavior||l-c.fontSize<0)&&(_=0);for(var g=0;g<a.length;g++)i=e.strokeThickness/2,r=e.strokeThickness/2+g*l+c.ascent+_,"right"===e.align?i+=u-h[g]:"center"===e.align&&(i+=(u-h[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-m,!0),e.fill&&this.drawLetterSpacing(a[g],i+e.padding,r+e.padding-m)}this.updateTexture()}},x.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0===n||g)return g&&(this.context.letterSpacing=n,this.context.textLetterSpacing=n),void(r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i));for(var s,o=e,a=Array.from?Array.from(t):t.split(""),l=this.context.measureText(t).width,h=0;h<a.length;++h){var u=a[h];r?this.context.strokeText(u,o,i):this.context.fillText(u,o,i),o+=l-(s=this.context.measureText(t.substring(h+1)).width)+n,l=s}},x.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(r=v.trimCanvas(t)).data&&(t.width=r.width,t.height=r.height,this.context.putImageData(r.data,0,0));var e=this._texture,i=this._style,r=i.trim?0:i.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-r,e.trim.y=-r,e.orig.width=e._frame.width-2*r,e.orig.height=e._frame.height-2*r,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},x.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),p.prototype._render.call(this,t)},x.prototype.getLocalBounds=function(t){return this.updateText(!0),p.prototype.getLocalBounds.call(this,t)},x.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},x.prototype._generateFillStyle=function(t,e,i){var r=t.fill;if(!Array.isArray(r))return r;if(1===r.length)return r[0];var n=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,o=this.canvas.width/this._resolution-n-2*s,a=this.canvas.height/this._resolution-n-2*s,l=r.slice(),h=t.fillGradientStops.slice();if(!h.length)for(var u=l.length+1,c=1;c<u;++c)h.push(c/u);if(l.unshift(r[0]),h.unshift(0),l.push(r[r.length-1]),h.push(1),t.fillGradientType===P.TEXT_GRADIENT.LINEAR_VERTICAL)for(var d=this.context.createLinearGradient(o/2,s,o/2,a+s),f=i.fontProperties.fontSize+t.strokeThickness,c=0;c<e.length;c++)for(var p=i.lineHeight*(c-1)+f,m=i.lineHeight*c,y=m,_=m+f,g=i.lineHeight*(c+1),v=_,b=((v=c+1<e.length&&g<_?(_+g)/2:v)-(y=0<c&&m<p?(m+p)/2:y))/a,T=0;T<l.length;T++){var x=0,x="number"==typeof h[T]?h[T]:T/l.length,x=Math.min(1,Math.max(0,y/a+x*b)),x=Number(x.toFixed(5));d.addColorStop(x,l[T])}else{d=this.context.createLinearGradient(s,a/2,o+s,a/2);for(var E=l.length+1,S=1,c=0;c<l.length;c++){var A=void 0,A="number"==typeof h[c]?h[c]:S/E;d.addColorStop(A,l[c]),S++}}return d},x.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},_,t),p.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(x.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=v.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=v.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof h?t:new h(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),x.nextLineHeightBehavior=!1,x);function T(){this.constructor=m}function x(t,e,i){var r=this,n=!1;i||(i=document.createElement("canvas"),n=!0),i.width=3,i.height=3;var s=o.Texture.from(i);return s.orig=new l.Rectangle,s.trim=new l.Rectangle,(r=p.call(this,s)||this)._ownCanvas=n,r.canvas=i,r.context=r.canvas.getContext("2d"),r._resolution=a.settings.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=t,r.style=e,r.localStyleID=-1,r}P.Text=i,P.TextMetrics=b,P.TextStyle=h},{"@pixi/core":10,"@pixi/math":23,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/utils":41}],40:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@pixi/settings");n.settings.TARGET_FPMS=.06,(t=r.UPDATE_PRIORITY||(r.UPDATE_PRIORITY={}))[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY";var s=(i.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},i.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},i.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},i.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},i);function i(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}var o=(a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(t,e,i){return void 0===i&&(i=r.UPDATE_PRIORITY.NORMAL),this._addListener(new s(t,e,i))},a.prototype.addOnce=function(t,e,i){return void 0===i&&(i=r.UPDATE_PRIORITY.NORMAL),this._addListener(new s(t,e,i,!0))},a.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},a.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(t){if((t=void 0===t?performance.now():t)>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*n.settings.TARGET_FPMS;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,n.settings.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){var t;return a._shared||((t=a._shared=new a).autoStart=!0,t._protected=!0),a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){var t;return a._system||((t=a._system=new a).autoStart=!0,t._protected=!0),a._system},enumerable:!1,configurable:!0}),a);function a(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new s(null,null,1/0),this.deltaMS=1/n.settings.TARGET_FPMS,this.elapsedMS=1/n.settings.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}l.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,r.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},l.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},t=l;function l(){}r.Ticker=o,r.TickerPlugin=t},{"@pixi/settings":33}],41:[function(t,e,i){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(i,"__esModule",{value:!0});var s=t("@pixi/settings"),n=r(t("eventemitter3")),o=r(t("earcut")),a=t("url"),l=t("@pixi/constants"),h={parse:a.parse,format:a.format,resolve:a.resolve};s.settings.RETINA_PREFIX=/@([0-9\.]+)x/;var u,c=s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var f=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[l.BLEND_MODES.NORMAL_NPM]=l.BLEND_MODES.NORMAL,t[l.BLEND_MODES.ADD_NPM]=l.BLEND_MODES.ADD,t[l.BLEND_MODES.SCREEN_NPM]=l.BLEND_MODES.SCREEN,e[l.BLEND_MODES.NORMAL]=l.BLEND_MODES.NORMAL_NPM,e[l.BLEND_MODES.ADD]=l.BLEND_MODES.ADD_NPM,e[l.BLEND_MODES.SCREEN]=l.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function p(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var m={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var y=0;var _={};var g=Object.create(null),v=Object.create(null);b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},b.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},b.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(b.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),a=b;function b(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.settings.RESOLUTION,this.resize(t,e)}var T,x=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;Object.defineProperty(i,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),i.EventEmitter=n,i.earcut=o,i.BaseTextureCache=v,i.CanvasRenderTarget=a,i.DATA_URI=x,i.ProgramCache={},i.TextureCache=g,i.clearTextureCache=function(){for(var t in g)delete g[t];for(t in v)delete v[t]},i.correctBlendMode=function(t,e){return f[e?1:0][t]},i.createIndicesForQuads=function(t,e){var i=6*t;if((e=(e=void 0===e?null:e)||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)e[r+0]=n+0,e[r+1]=n+1,e[r+2]=n+2,e[r+3]=n+0,e[r+4]=n+2,e[r+5]=n+3;return e},i.decomposeDataUri=function(t){if(t=x.exec(t))return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},i.deprecation=function(t,e,i){var r;void 0===i&&(i=3),_[e]||(void 0===(r=(new Error).stack)||(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed),_[e]=!0)},i.destroyTextureCache=function(){for(var t in g)g[t].destroy();for(t in v)v[t].destroy()},i.determineCrossOrigin=function(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,(T=T||document.createElement("a")).href=t;var i=h.parse(T.href),t=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&t&&i.protocol===e.protocol?"":"anonymous"},i.getBufferType=p,i.getResolutionOfUrl=function(t,e){return(t=s.settings.RETINA_PREFIX.exec(t))?parseFloat(t[1]):void 0!==e?e:1},i.hex2rgb=function(t,e){return(e=void 0===e?[]:e)[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},i.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},i.interleaveTypedArrays=function(t,e){for(var i=0,r=0,n={},s=0;s<t.length;s++)r+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,l=0,s=0;s<t.length;s++){var h=e[s],u=t[s],c=p(u);n[c]||(n[c]=new m[c](o));for(var a=n[c],d=0;d<u.length;d++)a[(d/h|0)*r+l+d%h]=u[d];l+=h}return new Float32Array(o)},i.isPow2=function(t){return!(t&t-1||!t)},i.isWebGLSupported=function(){return u=void 0===u?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e,i=document.createElement("canvas"),r=i.getContext("webgl",t)||i.getContext("experimental-webgl",t),n=!(!r||!r.getContextAttributes().stencil);return!r||(e=r.getExtension("WEBGL_lose_context"))&&e.loseContext(),r=null,n}catch(t){return!1}}():u},i.log2=function(t){var e=(65535<t?1:0)<<4,i=(255<(t>>>=e)?1:0)<<3;return e|=i,e|=i=(15<(t>>>=i)?1:0)<<2,(e|=i=(3<(t>>>=i)?1:0)<<1)|(t>>>=i)>>1},i.nextPow2=function(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},i.premultiplyBlendMode=f,i.premultiplyRgba=function(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i},i.premultiplyTint=function(t,e){return 1===e?(255*e<<24)+t:0===e?0:(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)},i.premultiplyTintToRgba=function(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,!r&&void 0!==r||(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i},i.removeItems=function(t,e,i){var r=t.length;if(!(r<=e||0===i)){for(var n=r-(i=r<e+i?r-e:i),s=e;s<n;++s)t[s]=t[s+i];t.length=n}},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.sayHello=function(t){var e;c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=self.console).log.apply(e,["\n %c %c %c PixiJS 6.2.0 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.0 - "+t+" - http://www.pixijs.com/"),c=!0)},i.sign=function(t){return 0===t?0:t<0?-1:1},i.skipHello=function(){c=!0},i.string2hex=function(t){return"string"==typeof t&&"#"===(t=d[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)},i.trimCanvas=function(t){for(var e,i,r=t.width,n=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,r,n).data,a=o.length,l={top:null,left:null,right:null,bottom:null},t=null,h=0;h<a;h+=4)0!==o[h+3]&&(e=h/4%r,i=~~(h/4/r),null===l.top&&(l.top=i),(null===l.left||e<l.left)&&(l.left=e),(null===l.right||l.right<e)&&(l.right=1+e),(null===l.bottom||l.bottom<i)&&(l.bottom=i));return null!==l.top&&(r=l.right-l.left,n=l.bottom-l.top+1,t=s.getImageData(l.left,l.top,r,n)),{height:n,width:r,data:t}},i.uid=function(){return++y},i.url=h},{"@pixi/constants":9,"@pixi/settings":33,earcut:44,eventemitter3:42,url:66}],42:[function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,f="~";function n(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,i,r,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");n=new s(i,r||t,n),e=f?f+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],n]:t._events[e].push(n):(t._events[e]=n,t._eventsCount++),t}function l(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(f=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var t=f?f+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,r=e.length,n=new Array(r);i<r;i++)n[i]=e[i].fn;return n},a.prototype.listenerCount=function(t){t=f?f+t:t,t=this._events[t];return t?t.fn?1:t.length:0},a.prototype.emit=function(t,e,i,r,n,s){var o=f?f+t:t;if(!this._events[o])return!1;var a,l=this._events[o],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,r),!0;case 5:return l.fn.call(l.context,e,i,r,n),!0;case 6:return l.fn.call(l.context,e,i,r,n,s),!0}for(d=1,a=new Array(h-1);d<h;d++)a[d-1]=arguments[d];l.fn.apply(l.context,a)}else for(var u,c=l.length,d=0;d<c;d++)switch(l[d].once&&this.removeListener(t,l[d].fn,void 0,!0),h){case 1:l[d].fn.call(l[d].context);break;case 2:l[d].fn.call(l[d].context,e);break;case 3:l[d].fn.call(l[d].context,e,i);break;case 4:l[d].fn.call(l[d].context,e,i,r);break;default:if(!a)for(u=1,a=new Array(h-1);u<h;u++)a[u-1]=arguments[u];l[d].fn.apply(l[d].context,a)}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,i,r){t=f?f+t:t;if(!this._events[t])return this;if(!e)return l(this,t),this;var n=this._events[t];if(n.fn)n.fn!==e||r&&!n.once||i&&n.context!==i||l(this,t);else{for(var s=0,o=[],a=n.length;s<a;s++)(n[s].fn!==e||r&&!n[s].once||i&&n[s].context!==i)&&o.push(n[s]);o.length?this._events[t]=1===o.length?o[0]:o:l(this,t)}return this},a.prototype.removeAllListeners=function(t){return t?(t=f?f+t:t,this._events[t]&&l(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=f,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],43:[function(t,e,i){var r,n;r=this,n=function(){"use strict";return function(r){for(var n={command:/\s*([achlmqstvz])/gi,number:/\s*([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/gi,comma:/\s*(?:(,)|\s)/g,flag:/\s*([01])/g},s={number:function(t){return+u("number",t)},"coordinate pair":function(t){var e=u("number",t);return null!==e||t?(u("comma"),{x:+e,y:+u("number",!0)}):null},"arc definition":function(t){var e=s["coordinate pair"](t);if(!e&&!t)return null;u("comma");var i=+u("number",!0);u("comma",!0);var r=!!+u("flag",!0);u("comma");t=!!+u("flag",!0);return u("comma"),{radii:e,rotation:i,large:r,clockwise:t,end:s["coordinate pair"](!0)}}},o=0,t=[];o<r.length;){var e,i=u("command"),a=i.toUpperCase(),l=i!==a;switch(a){case"M":e=c("coordinate pair").map(function(t,e){return 1===e&&(i=l?"l":"L"),h({end:t})});break;case"L":case"T":e=c("coordinate pair").map(function(t){return h({end:t})});break;case"C":if((e=c("coordinate pair")).length%3)throw Error("Expected coordinate pair triplet at position "+o);e=e.reduce(function(t,e,i){i%=3;return i?t[t.length-1][1==i?"cp2":"end"]=e:t.push(h({cp1:e})),t},[]);break;case"Q":case"S":if(1&(e=c("coordinate pair")).length)throw Error("Expected coordinate pair couple at position "+o);e=e.reduce(function(t,e,i){return 1&i?t[t.length-1].end=e:t.push(h({cp:e})),t},[]);break;case"H":case"V":e=c("number").map(function(t){return h({value:t})});break;case"A":e=c("arc definition").map(h);break;case"Z":e=[{code:"Z"}]}t.push.apply(t,e)}return t;function h(t){return t.code=i,t.relative=l,t}function u(t,e){n[t].lastIndex=o;var i=n[t].exec(r);if(i&&i.index===o)return o=n[t].lastIndex,i[1];if(!e)return null;throw Error("Expected "+t+" at position "+o)}function c(t){for(var e,i=[],r=!0;e=s[t](r);)i.push(e),r=!!u("comma");return i}}},"function"==typeof define&&define.amd?define([],n):"object"==typeof i?e.exports=n():r.dPathParse=n()},{}],44:[function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,n,s,o,a,l=e&&e.length,h=l?e[0]*i:t.length,u=m(t,0,h,i,!0),c=[];if(!u||u.next===u.prev)return c;if(l&&(u=function(t,e,i,r){var n,s,o,a,l=[];for(n=0,s=e.length;n<s;n++)o=e[n]*r,a=n<s-1?e[n+1]*r:t.length,(a=m(t,o,a,r,!1))===a.next&&(a.steiner=!0),l.push(function(t){var e=t,i=t;for(;(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next,e!==t;);return i}(a));for(l.sort(g),n=0;n<l.length;n++)i=function(t,e){var i=function(t,e){var i,r=e,n=t.x,s=t.y,o=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var a=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&o<a){if((o=a)===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}}while(r=r.next,r!==e);if(!i)return null;if(n===o)return i;var l,h=i,u=i.x,c=i.y,d=1/0;r=i;for(;n>=r.x&&r.x>=u&&n!==r.x&&b(s<c?n:o,s,u,c,s<c?o:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),x(r,t)&&(l<d||l===d&&(r.x>i.x||r.x===i.x&&function(t,e){return T(t.prev,t,e.prev)<0&&T(e.next,t,t.next)<0}(i,r)))&&(i=r,d=l)),r=r.next,r!==h;);return i}(t,e);if(!i)return e;var r=E(i,t),t=y(i,i.next);return y(r,r.next),e===i?t:e}(l[n],i),i=y(i,i.next);return i}(t,e,u,i)),t.length>80*i){for(var d=r=t[0],f=n=t[1],p=i;p<h;p+=i)(s=t[p])<d&&(d=s),(o=t[p+1])<f&&(f=o),r<s&&(r=s),n<o&&(n=o);a=0!==(a=Math.max(r-d,n-f))?1/a:0}return _(u,c,i,d,f,a),c}function m(t,e,i,r,n){var s,o;if(n===0<S(t,e,i,r))for(s=e;s<i;s+=r)o=a(s,t[s],t[s+1],o);else for(s=i-r;e<=s;s-=r)o=a(s,t[s],t[s+1],o);return o&&u(o,o.next)&&(d(o),o=o.next),o}function y(t,e){if(!t)return t;e=e||t;var i,r=t;do{if(i=!1,r.steiner||!u(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(d(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function _(t,e,i,r,n,s,o){if(t){!o&&s&&function(t,e,i,r){var n=t;for(;null===n.z&&(n.z=v(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,s,o,a,l,h=1;do{for(i=t,s=t=null,o=0;i;){for(o++,r=i,e=a=0;e<h&&(a++,r=r.nextZ);e++);for(l=h;0<a||0<l&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(i=(n=i).nextZ,a--):(r=(n=r).nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=r}}while(s.nextZ=null,h*=2,1<o)}(n)}(t,r,n,s);for(var a,l,h=t;t.prev!==t.next;)if(a=t.prev,l=t.next,s?function(t,e,i,r){var n=t.prev,s=t,o=t.next;if(0<=T(n,s,o))return!1;var a=(n.x<s.x?n.x<o.x?n:o:s.x<o.x?s:o).x,l=(n.y<s.y?n.y<o.y?n:o:s.y<o.y?s:o).y,h=(n.x>s.x?n.x>o.x?n:o:s.x>o.x?s:o).x,u=(n.y>s.y?n.y>o.y?n:o:s.y>o.y?s:o).y,c=v(a,l,e,i,r),d=v(h,u,e,i,r),f=t.prevZ,p=t.nextZ;for(;f&&f.z>=c&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&b(n.x,n.y,s.x,s.y,o.x,o.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}return!0}(t,r,n,s):function(t){var e=t.prev,i=t,r=t.next;if(0<=T(e,i,r))return!1;var n=t.next.next;for(;n!==t.prev;){if(b(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=T(n.prev,n,n.next))return!1;n=n.next}return!0}(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),d(t),t=l.next,h=l.next;else if((t=l)===h){o?1===o?_(t=function(t,e,i){var r=t;do{var n=r.prev,s=r.next.next}while(!u(n,s)&&c(n,r,r.next,s)&&x(n,s)&&x(s,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(s.i/i),d(r),d(r.next),r=t=s),r=r.next,r!==t);return y(r)}(y(t),e,i),e,i,r,n,s,2):2===o&&function(t,e,i,r,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&c(i,i.next,t,e))return!0}while(i=i.next,i!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;for(;i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next,i!==t;);return r}(t,e)&&(T(t.prev,t,e.prev)||T(t,e.prev,e))||u(t,e)&&0<T(t.prev,t,t.next)&&0<T(e.prev,e,e.next))}(o,a)){var l=E(o,a);return o=y(o,o.next),l=y(l,l.next),_(o,e,i,r,n,s),_(l,e,i,r,n,s)}a=a.next}}while(o=o.next,o!==t)}(t,e,i,r,n,s):_(y(t),e,i,r,n,s,1);break}}}function g(t,e){return t.x-e.x}function v(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t,e,i,r,n,s,o,a){return 0<=(n-o)*(e-a)-(t-o)*(s-a)&&0<=(t-o)*(r-a)-(i-o)*(e-a)&&0<=(i-o)*(s-a)-(n-o)*(r-a)}function T(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function u(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,i,r){var n=h(T(t,e,i)),s=h(T(t,e,r)),o=h(T(i,r,t)),a=h(T(i,r,e));return n!==s&&o!==a||(0===n&&l(t,i,e)||(0===s&&l(t,r,e)||(0===o&&l(i,t,r)||!(0!==a||!l(i,e,r)))))}function l(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function h(t){return 0<t?1:t<0?-1:0}function x(t,e){return T(t.prev,t,t.next)<0?0<=T(t,e,t.next)&&0<=T(t,t.prev,e):T(t,e,t.prev)<0||T(t,t.next,e)<0}function E(t,e){var i=new o(t.i,t.x,t.y),r=new o(e.i,e.x,e.y),n=t.next,s=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(s.next=r).prev=s,r}function a(t,e,i,r){i=new o(t,e,i);return r?(i.next=r.next,(i.prev=r).next.prev=i,r.next=i):(i.prev=i).next=i,i}function d(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function o(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,r){for(var n=0,s=e,o=i-r;s<i;s+=r)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}e.exports=r,(e.exports.default=r).deviation=function(t,e,i,r){var n=e&&e.length,s=n?e[0]*i:t.length,o=Math.abs(S(t,0,s,i));if(n)for(var a=0,l=e.length;a<l;a++){var h=e[a]*i,u=a<l-1?e[a+1]*i:t.length;o-=Math.abs(S(t,h,u,i))}for(var c=0,a=0;a<r.length;a+=3){var d=r[a]*i,f=r[a+1]*i,p=r[a+2]*i;c+=Math.abs((t[d]-t[p])*(t[1+f]-t[1+d])-(t[d]-t[f])*(t[1+p]-t[1+d]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[n][s][o]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i}},{}],45:[function(t,e,i){var r,n;r=this,n=function(t){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return!1!==t}function e(){return"undefined"!=typeof window}function A(t){return Rt(t)||Ot(t)}function r(t){return(Ht=O(t,jt))&&vi}function P(t,e){return!e&&void 0}function s(t,e){return t&&(jt[t]=e)&&Ht&&(Ht[t]=e)||jt}function w(){return 0}function f(t,e){return(t=t.split(",")).forEach(e)||t}function n(t,e,i,r){zt.length&&ne(),t.render(e,i,r),zt.length&&ne()}function o(t){return t}function k(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function a(t,e){for(var i in e)i in t||"duration"===i||"ease"===i||(t[i]=e[i])}function O(t,e){for(var i in e)t[i]=e[i];return t}function l(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=It(e[i])?l(t[i]||(t[i]={}),e[i]):e[i]);return t}function L(t,e){var i,r={};for(i in t)i in e||(r[i]=t[i]);return r}function R(t){var e=t.parent||Q,i=t.keyframes?a:k;if(F(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t}function B(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function M(t){return!t||t._ts&&M(t.parent)}function h(t){return t._repeat?T(t._tTime,t=t.duration()+t._rDelay)*t:0}function T(t,e){return e=Math.floor(t/=e),t&&e===t?e-1:e}function u(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function c(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=u(t.rawTime(),e),(!e._dur||b(0,e.totalDuration(),i)-e._tTime>Tt)&&e.render(i,!0)),ae(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)0<=i.rawTime()&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Tt}}function C(t,e,i,r){return e.parent&&B(e),e._start=re((Mt(i)?i:i||t!==Q?m(t,i,e):t._time)+e._delay),e._end=re(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,n){void 0===i&&(i="_first");var s,o=t[r=void 0===r?"_last":r];if(n)for(s=e[n];o&&o[n]>s;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),g(e)||(t._recent=e),r||c(t,e),t}function I(t,e){return(jt.ScrollTrigger||Xt("scrollTrigger",e))&&jt.ScrollTrigger.create(e,t)}function y(t,e,i,r){return $e(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&et!==Oe.frame?(zt.push(t),t._lazy=[e,r]):void 0:1}function _(t){return(t=t.parent)&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||_(t))}function g(t){return"isFromStart"===(t=t.data)||"isStart"===t}function p(t,e,i,r){var n=t._repeat,s=re(e)||0;return(e=t._tTime/t._tDur)&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=n?n<0?1e10:re(s*(n+1)+t._rDelay*n):s,e&&!r?he(t,t._tTime=t._tDur*e):t.parent&&le(t),i||ae(t.parent,t),t}function d(t){return t instanceof Xe?ae(t):p(t,t._dur)}function m(t,e,i){var r,n,s,o=t.labels,a=t._recent||ue,l=t.duration()>=bt?a.endTime(!1):t._dur;return Ot(e)&&(isNaN(e)||e in o)?(n=e.charAt(0),s="%"===e.substr(-1),r=e.indexOf("="),"<"===n||">"===n?(0<=r&&(e=e.replace(/=/,"")),("<"===n?a._start:a.endTime(0<=a._repeat))+(parseFloat(e.substr(1))||0)*(s?(r<0?a:i).totalDuration()/100:1)):r<0?(e in o||(o[e]=l),o[e]):(n=parseFloat(e.charAt(r-1)+e.substr(r+1)),s&&i&&(n=n/100*(Nt(i)?i[0]:i).totalDuration()),1<r?m(t,e.substr(0,r-1),i)+n:l+n)):null==e?l:+e}function v(t,e,i){var r,n,s=Mt(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=i,t){for(r=a,n=i;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=F(n.vars.inherit)&&n.parent;a.immediateRender=F(r.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new Je(e[0],a,e[1+o])}function b(t,e,i){return i<t?t:e<i?e:i}function D(t){if(Rt(t))return t;var f=It(t)?t:{each:t},p=ke(f.ease),m=f.from||0,y=parseFloat(f.base)||0,_={},t=0<m&&m<1,g=isNaN(m)||t,v=f.axis,b=m,T=m;return Ot(m)?b=T={center:.5,edges:.5,end:1}[m]||0:!t&&g&&(b=m[0],T=m[1]),function(t,e,i){var r,n,s,o,a,l,h,u,c=(i||f).length,d=_[c];if(!d){if(!(u="auto"===f.grid?0:(f.grid||[1,bt])[1])){for(l=-bt;l<(l=i[u++].getBoundingClientRect().left)&&u<c;);u--}for(d=_[c]=[],r=g?Math.min(u,c)*b-.5:m%u,n=g?c*T/u-.5:m/u|0,h=bt,a=l=0;a<c;a++)s=a%u-r,o=n-(a/u|0),d[a]=o=v?Math.abs("y"===v?o:s):At(s*s+o*o),l<o&&(l=o),o<h&&(h=o);"random"===m&&ye(d),d.max=l-h,d.min=h,d.v=c=(parseFloat(f.amount)||parseFloat(f.each)*(c<u?c-1:v?"y"===v?c/u:u:Math.max(u,c/u))||0)*("edges"===m?-1:1),d.b=c<0?y-c:y,d.u=de(f.amount||f.each)||0,p=p&&c<0?Fe(p):p}return c=(d[t]-d.min)/d.max||0,re(d.b+(p?p(c):c)*d.v)+d.u}}function x(i){var r=Math.pow(10,((i+"").split(".")[1]||"").length);return function(t){var e=Math.round(parseFloat(t)/i)*i*r;return(e-e%1)/r+(Mt(t)?0:de(t))}}function E(t,e,i,r){return ce(Nt(t)?!e:!0===i?!!(i=0):!r,function(){return Nt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})}function N(e,i,t){return ce(t,function(t){return e[~~i(t)]})}function G(e,t,i,r,n){var s=t-e,o=r-i;return ce(n,function(t){return i+((t-e)/s*o||0)})}function U(t,e,i){var r,n,s,o=t.labels,a=bt;for(r in o)(n=o[r]-e)<0==!!i&&n&&a>(n=Math.abs(n))&&(s=r,a=n);return s}function V(t,e,i){var r=t.vars,n=r[e];return n&&(e=r[e+"Params"],t=r.callbackScope||t,i&&zt.length&&ne(),e?n.apply(t,e):n.call(t))}function j(t){return B(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&V(t,"onInterrupt"),t}function H(t,e,i){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*xe+.5|0}function X(t,e,i){var r,n,s,o,a="",l=(t+a).match(Pe),h=e?"hsla(":"rgba(",u=0;if(!l)return t;if(l=l.map(function(t){return(t=Se(t,e,1))&&h+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),i&&(s=Ae(t),(r=i.c).join(a)!==s.c.join(a)))for(o=(n=t.replace(Pe,"1").split(Lt)).length-1;u<o;u++)a+=n[u]+(~r.indexOf(u)?l.shift()||h+"0,0,0,0)":(s.length?s:l.length?l:i).shift());if(!n)for(o=(n=t.split(Pe)).length-1;u<o;u++)a+=n[u]+l[u];return a+n[o]}function q(t){var e=t.join(" ");if(Pe.lastIndex=0,Pe.test(e))return e=we.test(e),t[1]=X(t[1],e),t[0]=X(t[0],e,Ae(t[1])),!0}function z(t,e){for(var i,r=t._first;r;)r instanceof Xe?z(r,e):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===e||(r.timeline?z(r.timeline,e):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=e)),r=r._next}function Y(t,e,i,r){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var n,s={easeIn:e,easeOut:i,easeInOut:r};return f(t,function(t){for(var e in Me[t]=jt[t]=s,Me[n=t.toLowerCase()]=i,s)Me[n+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Me[t+"."+e]=s[e]}),1}function W(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}var $,Q,Z,K,J,tt,et,it,rt,nt,st,ot,at,lt,ht,ut,ct,dt,ft,pt,mt,yt,_t,gt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},vt={duration:.5,overwrite:!1,delay:0},bt=1e8,Tt=1/bt,xt=2*Math.PI,Et=xt/4,St=0,At=Math.sqrt,Pt=Math.cos,wt=Math.sin,Ot=function(t){return"string"==typeof t},Rt=function(t){return"function"==typeof t},Mt=function(t){return"number"==typeof t},Ct=function(t){return void 0===t},It=function(t){return"object"==typeof t},Dt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Nt=Array.isArray,Ft=/(?:-?\.?\d|\.)+/gi,kt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Lt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Bt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Gt=/[+-]=-?[.\d]+/,Ut=/[^,'"\[\]\s]+/gi,Vt=/[\d.+\-=]+(?:e[-+]\d*)*/i,jt={},Ht={},Xt=function(t,e){},qt={},zt=[],Yt={},Wt={},$t={},Qt=30,Zt=[],Kt="",Jt=function(t){var e,i,r=t[0];if(It(r)||Rt(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(i=Zt.length;i--&&!Zt[i].targetTest(r););e=Zt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ve(t[i],e)))||t.splice(i,1);return t},te=function(t){return t._gsap||Jt(me(t))[0]._gsap},ee=function(t,e,i){return(i=t[e])&&Rt(i)?t[e]():Ct(i)&&t.getAttribute&&t.getAttribute(e)||i},ie=function(t){return Math.round(1e5*t)/1e5||0},re=function(t){return Math.round(1e7*t)/1e7||0},ne=function(){var t,e,i=zt.length,r=zt.slice(0);for(Yt={},t=zt.length=0;t<i;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},se=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Ut).length<2?e:Ot(t)?t.trim():t},oe=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var n=e._prev,s=e._next;n?n._next=s:t[i]===e&&(t[i]=s),s?s._prev=n:t[r]===e&&(t[r]=n),e._next=e._prev=e.parent=null},ae=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},le=function(t){return t._end=re(t._start+(t._tDur/Math.abs(t._ts||t._rts||Tt)||0))},he=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=re(i._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),le(t),i._dirty||ae(i,t)),t},ue={_start:0,endTime:w,totalDuration:w},ce=function(t,e){return t||0===t?e(t):e},de=function(t){if("string"!=typeof t)return"";var e=Vt.exec(t);return e?t.substr(e.index+e[0].length):""},fe=[].slice,pe=function(t,e){return t&&It(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&It(t[0]))&&!t.nodeType&&t!==Z},me=function(t,e,i){return!Ot(t)||i||!K&&Re()?Nt(t)?(r=i,void 0===n&&(n=[]),t.forEach(function(t){return Ot(t)&&!r||pe(t,1)?n.push.apply(n,me(t)):n.push(t)})||n):pe(t)?fe.call(t,0):t?[t]:[]:fe.call((e||J).querySelectorAll(t),0);var r,n},ye=function(t){return t.sort(function(){return.5-Math.random()})},_e=function(l,t){var h,u,e=Nt(l);return!e&&It(l)&&(h=e=l.radius||bt,l.values?(l=me(l.values),(u=!Mt(l[0]))&&(h*=h)):l=x(l.increment)),ce(t,e?Rt(l)?function(t){return u=l(t),Math.abs(u-t)<=h?u:t}:function(t){for(var e,i,r=parseFloat(u?t.x:t),n=parseFloat(u?t.y:0),s=bt,o=0,a=l.length;a--;)(e=u?(e=l[a].x-r)*e+(i=l[a].y-n)*i:Math.abs(l[a]-r))<s&&(s=e,o=a);return o=!h||s<=h?l[o]:t,u||o===t||Mt(t)?o:o+de(t)}:x(l))},ge=function t(e,i,r){var n=i-e;return Nt(e)?N(e,t(0,e.length),i):ce(r,function(t){return(n+(t-e)%n)%n+e})},ve=function t(e,i,r){var n=i-e,s=2*n;return Nt(e)?N(e,t(0,e.length-1),i):ce(r,function(t){return e+(n<(t=(s+(t-e)%s)%s||0)?s-t:t)})},be=function(t){for(var e,i,r,n,s=0,o="";~(e=t.indexOf("random(",s));)r=t.indexOf(")",e),n="["===t.charAt(e+7),i=t.substr(e+7,r-e-7).match(n?Ut:Ft),o+=t.substr(s,e-s)+E(n?i:+i[0],n?0:+i[1],+i[2]||1e-5),s=r+1;return o+t.substr(s,t.length-s)},Te=function t(e,i,r,n){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var o,a,l,h,u,c=Ot(e),d={};if(!0===r&&(n=1)&&(r=null),c)e={p:e},i={p:i};else if(Nt(e)&&!Nt(i)){for(l=[],h=e.length,u=h-2,a=1;a<h;a++)l.push(t(e[a-1],e[a]));h--,s=function(t){t*=h;var e=Math.min(u,~~t);return l[e](t-e)},r=i}else n||(e=O(Nt(e)?[]:{},e));if(!l){for(o in i)qe.call(d,e,o,"get",i[o]);s=function(t){return ei(t,d),c?e.p:e}}}return ce(r,s)},xe=255,Ee={aqua:[0,xe,xe],lime:[0,xe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xe],navy:[0,0,128],white:[xe,xe,xe],olive:[128,128,0],yellow:[xe,xe,0],orange:[xe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xe,0,0],pink:[xe,192,203],cyan:[0,xe,xe],transparent:[xe,xe,xe,0]},Se=function(t,e,i){var r,n,s,o,a,l,h,u=t?Mt(t)?[t>>16,t>>8&xe,t&xe]:0:Ee.black;if(!u){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ee[t])u=Ee[t];else if("#"===t.charAt(0)){if(9===(t=t.length<6?"#"+(r=t.charAt(1))+r+(n=t.charAt(2))+n+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):""):t).length)return[(u=parseInt(t.substr(1,6),16))>>16,u>>8&xe,u&xe,parseInt(t.substr(7),16)/255];u=[(t=parseInt(t.substr(1),16))>>16,t>>8&xe,t&xe]}else if("hsl"===t.substr(0,3))if(u=h=t.match(Ft),e){if(~t.indexOf("="))return u=t.match(kt),i&&u.length<4&&(u[3]=1),u}else o=+u[0]%360/360,a=+u[1]/100,r=2*(l=+u[2]/100)-(n=l<=.5?l*(a+1):l+a-l*a),3<u.length&&(u[3]*=1),u[0]=H(o+1/3,r,n),u[1]=H(o,r,n),u[2]=H(o-1/3,r,n);else u=t.match(Ft)||Ee.transparent;u=u.map(Number)}return e&&!h&&(r=u[0]/xe,n=u[1]/xe,s=u[2]/xe,l=((t=Math.max(r,n,s))+(e=Math.min(r,n,s)))/2,t===e?o=a=0:(h=t-e,a=.5<l?h/(2-t-e):h/(t+e),o=t===r?(n-s)/h+(n<s?6:0):t===n?(s-r)/h+2:(r-n)/h+4,o*=60),u[0]=~~(o+.5),u[1]=~~(100*a+.5),u[2]=~~(100*l+.5)),i&&u.length<4&&(u[3]=1),u},Ae=function(t){var e=[],i=[],r=-1;return t.split(Pe).forEach(function(t){t=t.match(Lt)||[];e.push.apply(e,t),i.push(r+=t.length+1)}),e.c=i,e},Pe=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ee)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),we=/hsl[a]?\(/,Oe=(lt=Date.now,ht=500,ut=33,ct=lt(),dt=ct,pt=ft=1e3/240,yt={time:0,frame:0,tick:function(){Ge(!0)},deltaRatio:function(t){return ot/(1e3/(t||60))},wake:function(){tt&&(!K&&e()&&(Z=K=window,J=Z.document||{},jt.gsap=vi,(Z.gsapVersions||(Z.gsapVersions=[])).push(vi.version),r(Ht||Z.GreenSockGlobals||!Z.gsap&&Z||{}),st=Z.requestAnimationFrame),rt&&yt.sleep(),nt=st||function(t){return setTimeout(t,pt-1e3*yt.time+1|0)},it=1,Ge(2))},sleep:function(){(st?Z.cancelAnimationFrame:clearTimeout)(rt),it=0,nt=w},lagSmoothing:function(t,e){ht=t||1/Tt,ut=Math.min(e,ht,0)},fps:function(t){ft=1e3/(t||240),pt=1e3*yt.time+ft},add:function(t){mt.indexOf(t)<0&&mt.push(t),Re()},remove:function(t){~(t=mt.indexOf(t))&&mt.splice(t,1)&&t<=at&&at--},_listeners:mt=[]}),Re=function(){return!it&&Oe.wake()},Me={},Ce=/^[\d.\-M][\d.\-,\s]/,Ie=/["']/g,De=function(t){for(var e,i,r,n={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,l=s.length;a<l;a++)i=s[a],e=a!==l-1?i.lastIndexOf(","):i.length,r=i.substr(0,e),n[o]=isNaN(r)?r.replace(Ie,"").trim():+r,o=i.substr(e+1).trim();return n},Ne=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)},Fe=function(e){return function(t){return 1-e(1-t)}},ke=function(t,e){return t&&(Rt(t)?t:Me[t]||(r=((i=t)+"").split("("),(t=Me[r[0]])&&1<r.length&&t.config?t.config.apply(null,~i.indexOf("{")?[De(r[1])]:Ne(i).split(",").map(se)):Me._CE&&Ce.test(i)?Me._CE("",i):t))||e;var i,r},Le=function i(r,t,e){function n(t){return 1===t?1:s*Math.pow(2,-10*t)*wt((t-o)*a)+1}var s=1<=t?t:1,o=(a=(e||(r?.3:.45))/(t<1?t:1))/xt*(Math.asin(1/s)||0),t="out"===r?n:"in"===r?function(t){return 1-n(1-t)}:W(n),a=xt/a;return t.config=function(t,e){return i(r,t,e)},t},Be=function e(i,r){void 0===r&&(r=1.70158);function n(t){return t?--t*t*((r+1)*t+r)+1:0}var t="out"===i?n:"in"===i?function(t){return 1-n(1-t)}:W(n);return t.config=function(t){return e(i,t)},t};function Ge(t){var e,i,r,n=lt()-dt,s=!0===t;if(ht<n&&(ct+=n-ut),(0<(n=(i=(dt+=n)-ct)-pt)||s)&&(r=++yt.frame,ot=i-1e3*yt.time,yt.time=i/=1e3,pt+=n+(ft<=n?4:ft-n),e=1),s||(rt=nt(Ge)),e)for(at=0;at<mt.length;at++)mt[at](i,ot,r,t)}function Ue(t){return t<1/2.75?_t*t*t:t<1/2.75*2?_t*Math.pow(t-1.5/2.75,2)+.75:t<1/2.75*2.5?_t*(t-=2.25/2.75)*t+.9375:_t*Math.pow(t-2.625/2.75,2)+.984375}f("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;Y(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2})}),Me.Linear.easeNone=Me.none=Me.Linear.easeIn,Y("Elastic",Le("in"),Le("out"),Le()),_t=7.5625,Y("Bounce",function(t){return 1-Ue(1-t)},Ue),Y("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),Y("Circ",function(t){return-(At(1-t*t)-1)}),Y("Sine",function(t){return 1===t?1:1-Pt(t*Et)}),Y("Back",Be("in"),Be("out"),Be()),Me.SteppedEase=Me.steps=jt.SteppedEase={config:function(t,e){var i=1/(t=void 0===t?1:t),r=t+(e?0:1),n=e?1:0,s=1-Tt;return function(t){return((r*b(0,s,t)|0)+n)*i}}},vt.ease=Me["quad.out"],f("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Kt+=t+","+t+"Params,"});var Ve=function(t,e){this.id=St++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:ee,this.set=e?e.getSetter:ui},je=((lr=He.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},lr.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},lr.totalDuration=function(t){return arguments.length?(this._dirty=0,p(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},lr.totalTime=function(t,e){if(Re(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(he(this,t),!i._dp||i.parent||c(i,this);i&&i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&C(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===Tt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),n(this,t,e)),this},lr.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+h(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},lr.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},lr.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+h(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},lr.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?T(this._tTime,i)+1:1},lr.timeScale=function(t){if(!arguments.length)return this._rts===-Tt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?u(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-Tt?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent}(this.totalTime(b(-this._delay,this._tDur,e),!0)),le(this),this},lr.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Re(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Tt&&(this._tTime-=Tt)))),this):this._ps},lr.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||C(e,this,t-this._delay),this}return this._start},lr.endTime=function(t){return this._start+(F(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},lr.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?u(e.rawTime(t),this):this._tTime:this._tTime},lr.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return i},lr.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,d(this)):-2===this._repeat?1/0:this._repeat},lr.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,d(this),e?this.time(e):this}return this._rDelay},lr.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},lr.seek=function(t,e){return this.totalTime(m(this,t),F(e))},lr.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,F(e))},lr.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},lr.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},lr.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},lr.resume=function(){return this.paused(!1)},lr.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-Tt:0)),this):this._rts<0},lr.invalidate=function(){return this._initted=this._act=0,this._zTime=-Tt,this},lr.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-Tt))},lr.eventCallback=function(t,e,i){var r=this.vars;return 1<arguments.length?(e?(r[t]=e,i&&(r[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},lr.then=function(r){var n=this;return new Promise(function(e){function t(){var t=n.then;n.then=null,Rt(i)&&(i=i(n))&&(i.then||i===n)&&(n.then=t),e(i),n.then=t}var i=Rt(r)?r:o;n._initted&&1===n.totalProgress()&&0<=n._ts||!n._tTime&&n._ts<0?t():n._prom=t})},lr.kill=function(){j(this)},He);function He(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,p(this,+t.duration,1,1),this.data=t.data,it||Oe.wake()}k(je.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Tt,_prom:0,_ps:!1,_rts:1});var Xe=function(r){function t(t,e){var i;return(i=r.call(this,t=void 0===t?{}:t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=F(t.sortChildren),Q&&C(t.parent||Q,S(i),e),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&I(S(i),t.scrollTrigger),i}i(t,r);var e=t.prototype;return e.to=function(t,e,i){return v(0,arguments,this),this},e.from=function(t,e,i){return v(1,arguments,this),this},e.fromTo=function(t,e,i,r){return v(2,arguments,this),this},e.set=function(t,e,i){return e.duration=0,e.parent=this,R(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Je(t,e,m(this,i),1),this},e.call=function(t,e,i){return C(this,Je.delayedCall(0,t,e),i)},e.staggerTo=function(t,e,i,r,n,s,o){return i.duration=e,i.stagger=i.stagger||r,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new Je(t,i,m(this,n)),this},e.staggerFrom=function(t,e,i,r,n,s,o){return i.runBackwards=1,R(i).immediateRender=F(i.immediateRender),this.staggerTo(t,e,i,r,n,s,o)},e.staggerFromTo=function(t,e,i,r,n,s,o,a){return r.startAt=i,R(r).immediateRender=F(r.immediateRender),this.staggerTo(t,e,r,n,s,o,a)},e.render=function(t,e,i){var r,n,s,o,a,l,h,u,c,d,f=this._time,p=this._dirty?this.totalDuration():this._tDur,m=this._dur,y=t<=0?0:re(t),_=this._zTime<0!=t<0&&(this._initted||!m);if((y=this!==Q&&p<y&&0<=t?p:y)!==this._tTime||i||_){if(f!==this._time&&m&&(y+=this._time-f,t+=this._time-f),r=y,u=this._start,a=!(h=this._ts),_&&(m||(f=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(g=this._yoyo,o=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(r=re(y%o),y===p?(s=this._repeat,r=m):((s=~~(y/o))&&s===y/o&&(r=m,s--),m<r&&(r=m)),c=T(this._tTime,o),g&&1&s&&(r=m-r,d=1),s!==(c=!f&&this._tTime&&c!==s?s:c)&&!this._lock){var _=g&&1&c,g=_===(g&&1&s),f=(_=s<c?!_:_)?0:m;if(this._lock=1,this.render(f||(d?0:re(s*o)),e,!m)._lock=0,this._tTime=y,!e&&this.parent&&V(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),f&&f!==this._time||a!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,p=this._tDur,g&&(this._lock=2,this.render(f=_?m:-1e-4,!0),this.vars.repeatRefresh&&!d&&this.invalidate()),this._lock=0,!this._ts&&!a)return this;z(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,i){var r;if(e<i)for(r=t._first;r&&r._start<=i;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,re(f),re(r)))&&(y-=r-(r=l._start)),this._tTime=y,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,f=0),!f&&r&&!e&&(V(this,"onStart"),this._tTime!==y))return this;if(f<=r&&0<=t)for(v=this._first;v;){if(n=v._next,(v._act||r>=v._start)&&v._ts&&l!==v){if(v.parent!==this)return this.render(t,e,i);if(v.render(0<v._ts?(r-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(r-v._start)*v._ts,e,i),r!==this._time||!this._ts&&!a){l=0,n&&(y+=this._zTime=-Tt);break}}v=n}else for(var v=this._last,b=t<0?t:r;v;){if(n=v._prev,(v._act||b<=v._end)&&v._ts&&l!==v){if(v.parent!==this)return this.render(t,e,i);if(v.render(0<v._ts?(b-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(b-v._start)*v._ts,e,i),r!==this._time||!this._ts&&!a){l=0,n&&(y+=this._zTime=b?-Tt:Tt);break}}v=n}if(l&&!e&&(this.pause(),l.render(f<=r?0:-Tt)._zTime=f<=r?1:-1,this._ts))return this._start=u,le(this),this.render(t,e,i);this._onUpdate&&!e&&V(this,"onUpdate",!0),(y===p&&p>=this.totalDuration()||!y&&f)&&(u!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||(!t&&m||!(y===p&&0<this._ts||!y&&this._ts<0)||B(this,1),e||t<0&&!f||!y&&!f&&p||(V(this,y===p&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||y<p&&0<this.timeScale()||this._prom())))}return this},e.add=function(t,e){var i=this;if(Mt(e)||(e=m(this,e,t)),!(t instanceof je)){if(Nt(t))return t.forEach(function(t){return i.add(t,e)}),this;if(Ot(t))return this.addLabel(t,e);if(!Rt(t))return this;t=Je.delayedCall(0,t)}return this!==t?C(this,t,e):this},e.getChildren=function(t,e,i,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===r&&(r=-bt);for(var n=[],s=this._first;s;)s._start>=r&&(s instanceof Je?e&&n.push(s):(i&&n.push(s),t&&n.push.apply(n,s.getChildren(!0,e,i)))),s=s._next;return n},e.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},e.remove=function(t){return Ot(t)?this.removeLabel(t):Rt(t)?this.killTweensOf(t):(oe(this,t),t===this._recent&&(this._recent=this._last),ae(this))},e.totalTime=function(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=re(Oe.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),r.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function(t,e){return this.labels[t]=m(this,e),this},e.removeLabel=function(t){return delete this.labels[t],this},e.addPause=function(t,e,i){i=Je.delayedCall(0,e||w,i);return i.data="isPause",this._hasPause=1,C(this,i,m(this,t))},e.removePause=function(t){var e=this._first;for(t=m(this,t);e;)e._start===t&&"isPause"===e.data&&B(e),e=e._next},e.killTweensOf=function(t,e,i){for(var r=this.getTweensOf(t,i),n=r.length;n--;)Ye!==r[n]&&r[n].kill(t,e);return this},e.getTweensOf=function(t,e){for(var i,r=[],n=me(t),s=this._first,o=Mt(e);s;)s instanceof Je?function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i}(s._targets,n)&&(o?(!Ye||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&r.push(s):(i=s.getTweensOf(n,e)).length&&r.push.apply(r,i),s=s._next;return r},e.tweenTo=function(t,e){e=e||{};var i,r=this,n=m(r,t),t=e,s=t.startAt,o=t.onStart,a=t.onStartParams,t=t.immediateRender,l=Je.to(r,k({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:e.duration||Math.abs((n-(s&&"time"in s?s.time:r._time))/r.timeScale())||Tt,onStart:function(){var t;r.pause(),i||(t=e.duration||Math.abs((n-(s&&"time"in s?s.time:r._time))/r.timeScale()),l._dur!==t&&p(l,t,0,1).render(l._time,!0,!0),i=1),o&&o.apply(l,a||[])}},e));return t?l.render(0):l},e.tweenFromTo=function(t,e,i){return this.tweenTo(e,k({startAt:{time:m(this,t)}},i))},e.recent=function(){return this._recent},e.nextLabel=function(t){return void 0===t&&(t=this._time),U(this,m(this,t))},e.previousLabel=function(t){return void 0===t&&(t=this._time),U(this,m(this,t),1)},e.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+Tt)},e.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var r,n=this._first,s=this.labels;n;)n._start>=i&&(n._start+=t,n._end+=t),n=n._next;if(e)for(r in s)s[r]>=i&&(s[r]+=t);return ae(this)},e.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return r.prototype.invalidate.call(this)},e.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),ae(this)},e.totalDuration=function(t){var e,i,r,n=0,s=this,o=s._last,a=bt;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(r=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),a<(i=o._start)&&s._sort&&o._ts&&!s._lock?(s._lock=1,C(s,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(n-=i,(!r&&!s._dp||r&&r.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1/0),a=0),o._end>n&&o._ts&&(n=o._end),o=e;p(s,s===Q&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(t){if(Q._ts&&(n(Q,u(t,Q)),et=Oe.frame),Oe.frame>=Qt){Qt+=gt.autoSleep||120;var e=Q._first;if((!e||!e._ts)&&gt.autoSleep&&Oe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Oe.sleep()}}},t}(je);k(Xe.prototype,{_lock:0,_hasPause:0,_forcing:0});function qe(t,e,i,r,n,s,o,a,l){Rt(r)&&(r=r(n||0,t,s));var h,n=t[e],s="get"!==i?i:Rt(n)?l?t[e.indexOf("set")||!Rt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](l):t[e]():n,i=Rt(n)?l?li:ai:oi;if(Ot(r)&&"="===(r=~r.indexOf("random(")?be(r):r).charAt(1)&&(!(h=parseFloat(s)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(de(s)||0))&&0!==h||(r=h)),s!==r)return isNaN(s*r)||""===r?(n||e in t||Xt(e,r),We.call(this,t,e,s,r,i,a||gt.stringFilter,l)):(h=new fi(this._pt,t,e,+s||0,r-(s||0),"boolean"==typeof n?di:ci,0,i),l&&(h.fp=l),o&&h.modifier(o,this,t),this._pt=h)}function ze(t,e,i,r,n,s){var o,a,l,h;if(Wt[t]&&!1!==(o=new Wt[t]).init(n,o.rawVars?e[t]:function(t,e,i,r,n){if(Rt(t)&&(t=Qe(t,n,e,i,r)),!It(t)||t.style&&t.nodeType||Nt(t)||Dt(t))return Ot(t)?Qe(t,n,e,i,r):t;var s,o={};for(s in t)o[s]=Qe(t[s],n,e,i,r);return o}(e[t],r,n,s,i),i,r,s)&&(i._pt=a=new fi(i._pt,n,t,0,1,o.render,o,0,o.priority),i!==yi))for(l=i._ptLookup[i._targets.indexOf(n)],h=o._props.length;h--;)l[o._props[h]]=a;return o}var Ye,We=function(t,e,i,r,n,s,o){var a,l,h,u,c,d=new fi(this._pt,t,e,0,1,ti,null,n),f=0,p=0;for(d.b=i,d.e=r,i+="",(n=~(r+="").indexOf("random("))&&(r=be(r)),s&&(s(s=[i,r],t,e),i=s[0],r=s[1]),a=i.match(Bt)||[];c=Bt.exec(r);)h=c[0],u=r.substring(f,c.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),h!==a[p++]&&(c=parseFloat(a[p-1])||0,d._pt={_next:d._pt,p:u||1===p?u:",",s:c,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-c,m:l&&l<4?Math.round:0},f=Bt.lastIndex);return d.c=f<r.length?r.substring(f,r.length):"",d.fp=o,(Gt.test(r)||n)&&(d.e=0),this._pt=d},$e=function t(e,i){var r,n,s,o,a,l,h,u,c,d,f,p,m,y=e.vars,_=y.ease,g=y.startAt,v=y.immediateRender,b=y.lazy,T=y.onUpdate,x=y.onUpdateParams,E=y.callbackScope,S=y.runBackwards,A=y.yoyoEase,P=y.keyframes,w=y.autoRevert,O=e._dur,R=e._startAt,M=e._targets,C=e.parent,I=C&&"nested"===C.data?C.parent._targets:M,D="auto"===e._overwrite&&!$,N=e.timeline;if(e._ease=ke(_=!(!N||P&&_)?"none":_,vt.ease),e._yEase=A?Fe(ke(!0===A?_:A,vt.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!N&&!!y.runBackwards,!N){if(p=(u=M[0]?te(M[0]).harness:0)&&y[u.prop],r=L(y,qt),R&&R.render(-1,!0).kill(),g)if(B(e._startAt=Je.set(M,k({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:F(b),startAt:null,delay:0,onUpdate:T,onUpdateParams:x,callbackScope:E,stagger:0},g))),i<0&&!v&&!w&&e._startAt.render(-1,!0),v){if(0<i&&!w&&(e._startAt=0),O&&i<=0)return void(i&&(e._zTime=i))}else!1===w&&(e._startAt=0);else if(S&&O)if(R)w||(e._startAt=0);else if(s=k({overwrite:!1,data:"isFromStart",lazy:(v=i?!1:v)&&F(b),immediateRender:v,stagger:0,parent:C},r),p&&(s[u.prop]=p),B(e._startAt=Je.set(M,s)),i<0&&e._startAt.render(-1,!0),v){if(!i)return}else t(e._startAt,Tt);for(e._pt=0,b=O&&F(b)||b&&!O,n=0;n<M.length;n++){if(h=(a=M[n])._gsap||Jt(M)[n]._gsap,e._ptLookup[n]=d={},Yt[h.id]&&zt.length&&ne(),f=I===M?n:I.indexOf(a),u&&!1!==(c=new u).init(a,p||r,e,f,I)&&(e._pt=o=new fi(e._pt,a,c.name,0,1,c.render,c,0,c.priority),c._props.forEach(function(t){d[t]=o}),c.priority&&(l=1)),!u||p)for(s in r)Wt[s]&&(c=ze(s,r,e,f,a,I))?c.priority&&(l=1):d[s]=o=qe.call(e,a,s,"get",r[s],f,I,0,y.stringFilter);e._op&&e._op[n]&&e.kill(a,e._op[n]),D&&e._pt&&(Ye=e,Q.killTweensOf(a,d,e.globalTime(i)),m=!e.parent,Ye=0),e._pt&&b&&(Yt[h.id]=1)}l&&si(e),e._onInit&&e._onInit(e)}e._onUpdate=T,e._initted=(!e._op||e._pt)&&!m},Qe=function(t,e,i,r,n){return Rt(t)?t.call(e,i,r,n):Ot(t)&&~t.indexOf("random(")?be(t):t},Ze=Kt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ke=(Ze+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Je=function(E){function n(t,e,i,r){"number"==typeof e&&(i.duration=e,e=i,i=null);var n,s,o,a,l,h,u,c,d,f=(n=E.call(this,r?e:R(e))||this).vars,p=f.duration,m=f.delay,y=f.immediateRender,_=f.stagger,g=f.overwrite,v=f.keyframes,b=f.defaults,r=f.scrollTrigger,T=f.yoyoEase,f=e.parent||Q,x=(Nt(t)||Dt(t)?Mt(t[0]):"length"in e)?[t]:me(t);if(n._targets=x.length?Jt(x):P(0,!gt.nullTargetWarn)||[],n._ptLookup=[],n._overwrite=g,v||_||A(p)||A(m)){if(e=n.vars,(s=n.timeline=new Xe({data:"nested",defaults:b||{}})).kill(),s.parent=s._dp=S(n),s._start=0,v)R(k(s.vars.defaults,{ease:"none"})),_?x.forEach(function(i,r){return v.forEach(function(t,e){return s.to(i,t,e?">":r*_)})}):v.forEach(function(t){return s.to(x,t,">")});else{if(l=x.length,c=_?D(_):w,It(_))for(h in _)~Ze.indexOf(h)&&((d=d||{})[h]=_[h]);for(o=0;o<l;o++){for(h in a={},e)Ke.indexOf(h)<0&&(a[h]=e[h]);a.stagger=0,T&&(a.yoyoEase=T),d&&O(a,d),u=x[o],a.duration=+Qe(p,S(n),o,u,x),a.delay=(+Qe(m,S(n),o,u,x)||0)-n._delay,!_&&1===l&&a.delay&&(n._delay=m=a.delay,n._start+=m,a.delay=0),s.to(u,a,c(o,u,x))}s.duration()?p=m=0:n.timeline=0}p||n.duration(p=s.duration())}else n.timeline=0;return!0!==g||$||(Ye=S(n),Q.killTweensOf(x),Ye=0),C(f,S(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),(y||!p&&!v&&n._start===re(f._time)&&F(y)&&M(S(n))&&"nested"!==f.data)&&(n._tTime=-Tt,n.render(Math.max(0,-m))),r&&I(S(n),r),n}i(n,E);var t=n.prototype;return t.render=function(t,e,i){var r,n,s,o,a,l,h,u,c,d=this._time,f=this._tDur,p=this._dur,m=f-Tt<t&&0<=t?f:t<Tt?0:t;if(p){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=m,u=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(r=re(m%o),m===f?(s=this._repeat,r=p):((s=~~(m/o))&&s===m/o&&(r=p,s--),p<r&&(r=p)),(l=this._yoyo&&1&s)&&(c=this._yEase,r=p-r),a=T(this._tTime,o),r===d&&!i&&this._initted)return this;s!==a&&(u&&this._yEase&&z(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(re(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(y(this,t<0?t:r,i,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(c||this._ease)(r/p),this._from&&(this.ratio=h=1-h),r&&!d&&!e&&(V(this,"onStart"),this._tTime!==m))return this;for(n=this._pt;n;)n.r(h,n.d),n=n._next;u&&u.render(t<0?t:!r&&l?-Tt:u._dur*h,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),V(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&V(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&p||!(m===this._tDur&&0<this._ts||!m&&this._ts<0)||B(this,1),e||t<0&&!d||!m&&!d||(V(this,m===f?"onComplete":"onReverseComplete",!0),!this._prom||m<f&&0<this.timeScale()||this._prom()))}}else!function(t,e,i,r){var n,s,o,a=t.ratio,l=e<0||!e&&(!t._start&&_(t)&&(t._initted||!g(t))||(t._ts<0||t._dp._ts<0)&&!g(t))?0:1,h=t._rDelay,u=0;if(h&&t._repeat&&(u=b(0,t._tDur,e),s=T(u,h),o=T(t._tTime,h),t._yoyo&&1&s&&(l=1-l),s!==o&&(a=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==a||r||t._zTime===Tt||!e&&t._zTime){if(t._initted||!y(t,e,r,i)){for(o=t._zTime,t._zTime=e||(i?Tt:0),i=i||e&&!o,t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=u,n=t._pt;n;)n.r(l,n.d),n=n._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&V(t,"onUpdate"),u&&t._repeat&&!i&&t.parent&&V(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&B(t,1),i||(V(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),E.prototype.invalidate.call(this)},t.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?j(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ye&&!0!==Ye.vars.overwrite)._first||j(this),this.parent&&i!==this.timeline.totalDuration()&&p(this,this._dur*this.timeline._tDur/i,0,1),this}var r,n,s,o,a,l,h,u=this._targets,c=t?me(t):u,d=this._ptLookup,t=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(u,c))return"all"===e&&(this._pt=0),j(this);for(r=this._op=this._op||[],"all"!==e&&(Ot(e)&&(a={},f(e,function(t){return a[t]=1}),e=a),e=function(t,e){var i,r,n,s,t=t[0]?te(t[0]).harness:0,o=t&&t.aliases;if(!o)return e;for(r in i=O({},e),o)if(r in i)for(n=(s=o[r].split(",")).length;n--;)i[s[n]]=i[r];return i}(u,e)),h=u.length;h--;)if(~c.indexOf(u[h]))for(a in n=d[h],"all"===e?(r[h]=e,o=n,s={}):(s=r[h]=r[h]||{},o=e),o)(l=n&&n[a])&&("kill"in l.d&&!0!==l.d.kill(a)||oe(this,l,"_pt"),delete n[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&t&&j(this),this},n.to=function(t,e){return new n(t,e,arguments[2])},n.from=function(t,e){return v(1,arguments)},n.delayedCall=function(t,e,i,r){return new n(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},n.fromTo=function(t,e,i){return v(2,arguments)},n.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new n(t,e)},n.killTweensOf=function(t,e,i){return Q.killTweensOf(t,e,i)},n}(je);k(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),f("staggerTo,staggerFrom,staggerFromTo",function(i){Je[i]=function(){var t=new Xe,e=fe.call(arguments,0);return e.splice("staggerFromTo"===i?5:4,0,0),t[i].apply(t,e)}});function ti(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)}function ei(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next}function ii(t,e,i,r){for(var n,s=this._pt;s;)n=s._next,s.p===r&&s.modifier(t,e,i),s=n}function ri(t){for(var e,i,r=this._pt;r;)i=r._next,r.p===t&&!r.op||r.op===t?oe(this,r,"_pt"):r.dep||(e=1),r=i;return!e}function ni(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)}function si(t){for(var e,i,r,n,s=t._pt;s;){for(e=s._next,i=r;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:n)?s._prev._next=s:r=s,(s._next=i)?i._prev=s:n=s,s=e}t._pt=r}var oi=function(t,e,i){return t[e]=i},ai=function(t,e,i){return t[e](i)},li=function(t,e,i,r){return t[e](r.fp,i)},hi=function(t,e,i){return t.setAttribute(e,i)},ui=function(t,e){return Rt(t[e])?ai:Ct(t[e])&&t.setAttribute?hi:oi},ci=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},di=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},fi=(pi.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=ni,this.m=t,this.mt=i,this.tween=e},pi);function pi(t,e,i,r,n,s,o,a,l){this.t=e,this.s=r,this.c=n,this.p=i,this.r=s||ci,this.d=o||this,this.set=a||oi,this.pr=l||0,(this._next=t)&&(t._prev=this)}f(Kt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return qt[t]=1}),jt.TweenMax=jt.TweenLite=Je,jt.TimelineLite=jt.TimelineMax=Xe,Q=new Xe({sortChildren:!1,defaults:vt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),gt.stringFilter=q;var mi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){var e=(t=!t.name&&t.default||t).name,i=Rt(t),r=e&&!i&&t.init?function(){this._props=[]}:t,n={init:w,render:ei,add:qe,kill:ri,modifier:ii,rawVars:0},i={targetTest:0,get:0,getSetter:ui,aliases:{},register:0};if(Re(),t!==r){if(Wt[e])return;k(r,k(L(t,n),i)),O(r.prototype,O(n,L(t,i))),Wt[r.prop=e]=r,t.targetTest&&(Zt.push(r),qt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}s(e,r),t.register&&t.register(vi,r,fi)})},timeline:function(t){return new Xe(t)},getTweensOf:function(t,e){return Q.getTweensOf(t,e)},getProperty:function(r,t,e,i){Ot(r)&&(r=me(r)[0]);var n=te(r||{}).get,s=e?o:se;return"native"===e&&(e=""),r&&(t?s((Wt[t]&&Wt[t].get||n)(r,t,e,i)):function(t,e,i){return s((Wt[t]&&Wt[t].get||n)(r,t,e,i))})},quickSetter:function(i,e,r){if(1<(i=me(i)).length){var n=i.map(function(t){return vi.quickSetter(t,e,r)}),s=n.length;return function(t){for(var e=s;e--;)n[e](t)}}i=i[0]||{};var o=Wt[e],a=te(i),l=a.harness&&(a.harness.aliases||{})[e]||e,h=o?function(t){var e=new o;yi._pt=0,e.init(i,r?t+r:t,yi,0,[i]),e.render(1,e),yi._pt&&ei(1,yi)}:a.set(i,l);return o?h:function(t){return h(i,l,r?t+r:t,a,1)}},isTweening:function(t){return 0<Q.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=ke(t.ease,vt.ease)),l(vt,t||{})},config:function(t){return l(gt,t||{})},registerEffect:function(t){var r=t.name,n=t.effect,e=t.plugins,s=t.defaults,t=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!Wt[t]&&!jt[t]&&P()}),$t[r]=function(t,e,i){return n(me(t),k(e||{},s),i)},t&&(Xe.prototype[r]=function(t,e,i){return this.add($t[r](t,It(e)?e:(i=e)&&{},this),i)})},registerEase:function(t,e){Me[t]=ke(e)},parseEase:function(t,e){return arguments.length?ke(t,e):Me},getById:function(t){return Q.getById(t)},exportRoot:function(t,e){var i,r,n=new Xe(t=void 0===t?{}:t);for(n.smoothChildTiming=F(t.smoothChildTiming),Q.remove(n),n._dp=0,n._time=n._tTime=Q._time,i=Q._first;i;)r=i._next,!e&&!i._dur&&i instanceof Je&&i.vars.onComplete===i._targets[0]||C(n,i,i._start-i._delay),i=r;return C(Q,n,0),n},utils:{wrap:ge,wrapYoyo:ve,distribute:D,random:E,snap:_e,normalize:function(t,e,i){return G(t,e,0,1,i)},getUnit:de,clamp:function(e,i,t){return ce(t,function(t){return b(e,i,t)})},splitColor:Se,toArray:me,selector:function(i){return i=me(i)[0]||{},function(t){var e=i.current||i.nativeElement||i;return me(t,e.querySelectorAll?e:e===i?(P(),J.createElement("div")):i)}},mapRange:G,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(e,i){return function(t){return e(parseFloat(t))+(i||de(t))}},interpolate:Te,shuffle:ye},install:r,effects:$t,ticker:Oe,updateRoot:Xe.updateRoot,plugins:Wt,globalTimeline:Q,core:{PropTween:fi,globals:s,Tween:Je,Timeline:Xe,Animation:je,getCache:te,_removeLinkedListItem:oe,suppressOverwrites:function(t){return $=t}}};f("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return mi[t]=Je[t]}),Oe.add(Xe.updateRoot);var yi=mi.to({},{duration:0}),_i=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},gi=function(t,n){return{name:t,rawVars:1,init:function(t,r,e){e._onInit=function(t){var e,i;if(Ot(r)&&(e={},f(r,function(t){return e[t]=1}),r=e),n){for(i in e={},r)e[i]=n(r[i]);r=e}!function(t,e){var i,r,n,s=t._targets;for(i in e)for(r=s.length;r--;)(n=(n=t._ptLookup[r][i])&&n.d)&&(n=n._pt?_i(n,i):n)&&n.modifier&&n.modifier(e[i],t,s[r],i)}(t,r)}}}},vi=mi.registerPlugin({name:"attr",init:function(t,e,i,r,n){var s,o;for(s in e)(o=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,n,0,0,s))&&(o.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},gi("roundProps",x),gi("modifiers"),gi("snap",_e))||mi;Je.version=Xe.version=vi.version="3.8.0",tt=1,e()&&Re();function bi(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Ti(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function xi(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Ei(t,e){t=e.s+e.c*t,e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)}function Si(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function Ai(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function Pi(t,e,i){return t.style[e]=i}function wi(t,e,i){return t.style.setProperty(e,i)}function Oi(t,e,i){return t._gsap[e]=i}function Ri(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i}function Mi(t,e,i,r,n){(t=t._gsap).scaleX=t.scaleY=i,t.renderTransform(n,t)}function Ci(t,e,i,r,n){(t=t._gsap)[e]=i,t.renderTransform(n,t)}function Ii(){hr()&&window.document&&(ji=window,Hi=ji.document,Xi=Hi.documentElement,zi=br("div")||{style:{}},br("div"),gr=Er(gr),vr=gr+"Origin",zi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wi=!!Er("perspective"),qi=1)}function Di(t){var e,i=br("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,s=this.style.cssText;if(Xi.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Di}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return r&&(n?r.insertBefore(this,n):r.appendChild(this)),Xi.removeChild(i),this.style.cssText=s,e}function Ni(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])}function Fi(t,e,i,r){var n;return qi||Ii(),e in _r&&"transform"!==e&&~(e=_r[e]).indexOf(",")&&(e=e.split(",")[0]),ur[e]&&"transform"!==e?(n=kr(t,r),n="transformOrigin"!==e?n[e]:n.svg?n.origin:Lr(Tr(t,vr))+" "+n.zOrigin+"px"):(n=t.style[e])&&"auto"!==n&&!r&&!~(n+"").indexOf("calc(")||(n=Cr[e]&&Cr[e](t,e,i)||Tr(t,e)||ee(t,e)||("opacity"===e?1:0)),i&&!~(n+"").trim().indexOf(" ")?Rr(t,e,n,i)+i:n}function ki(t,e,i,r){var n;i&&"none"!==i||((s=(n=Er(e,t,1))&&Tr(t,n,1))&&s!==i?(e=n,i=s):"borderColor"===e&&(i=Tr(t,"borderTopColor")));var s,o,a,l,h,u,c,d,f,p,m=new fi(this._pt,t.style,e,0,1,ti),y=0,_=0;if(m.b=i,m.e=r,i+="","auto"===(r+="")&&(t.style[e]=r,r=Tr(t,e)||r,t.style[e]=i),q(s=[i,r]),r=s[1],o=(i=s[0]).match(Lt)||[],(r.match(Lt)||[]).length){for(;u=Lt.exec(r);)d=u[0],c=r.substring(y,u.index),l?l=(l+1)%5:"rgba("!==c.substr(-5)&&"hsla("!==c.substr(-5)||(l=1),d!==(h=o[_++]||"")&&(a=parseFloat(h)||0,f=h.substr((a+"").length),(p="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),u=parseFloat(d),d=d.substr((u+"").length),y=Lt.lastIndex-d.length,d||(d=d||gt.units[e]||f,y===r.length&&(r+=d,m.e+=d)),f!==d&&(a=Rr(t,e,h,d)||0),m._pt={_next:m._pt,p:c||1===_?c:",",s:a,c:p?p*u:u-a,m:l&&l<4||"zIndex"===e?Math.round:0});m.c=y<r.length?r.substring(y,r.length):""}else m.r="display"===e&&"none"===r?Ai:Si;return Gt.test(r)&&(m.e=0),this._pt=m}function Li(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,r,n,s=e.t,o=s.style,a=e.u,e=s._gsap;if("all"===a||!0===a)o.cssText="",r=1;else for(n=(a=a.split(",")).length;-1<--n;)i=a[n],ur[i]&&(r=1,i="transformOrigin"===i?vr:gr),Pr(s,i);r&&(Pr(s,gr),e&&(e.svg&&s.removeAttribute("transform"),kr(s,1),e.uncache=1))}}function Bi(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Gi(t,e,i,r,n,s){var o,a,l=t._gsap,h=n||Fr(t,!0),u=l.xOrigin||0,c=l.yOrigin||0,d=l.xOffset||0,f=l.yOffset||0,p=h[0],m=h[1],y=h[2],_=h[3],g=h[4],v=h[5],b=e.split(" "),T=parseFloat(b[0])||0,n=parseFloat(b[1])||0;i?h!==Ir&&(o=p*_-m*y)&&(a=T*(-m/o)+n*(p/o)-(p*v-m*g)/o,T=T*(_/o)+n*(-y/o)+(y*v-_*g)/o,n=a):(T=(a=Sr(t)).x+(~b[0].indexOf("%")?T/100*a.width:T),n=a.y+(~(b[1]||b[0]).indexOf("%")?n/100*a.height:n)),r||!1!==r&&l.smooth?(l.xOffset=d+((g=T-u)*p+(v=n-c)*y)-g,l.yOffset=f+(g*m+v*_)-v):l.xOffset=l.yOffset=0,l.xOrigin=T,l.yOrigin=n,l.smooth=!!r,l.origin=e,l.originIsAbsolute=!!i,t.style[vr]="0px 0px",s&&(wr(s,l,"xOrigin",u,T),wr(s,l,"yOrigin",c,n),wr(s,l,"xOffset",d,l.xOffset),wr(s,l,"yOffset",f,l.yOffset)),t.setAttribute("data-svg-origin",T+" "+n)}function Ui(t,e,i){var r=de(e);return ie(parseFloat(e)+parseFloat(Rr(t,"x",i+"px",r)))+r}function Vi(t,e){for(var i in e)t[i]=e[i];return t}var ji,Hi,Xi,qi,zi,Yi,Wi,$i=Me.Power0,Qi=Me.Power1,Zi=Me.Power2,Ki=Me.Power3,Ji=Me.Power4,tr=Me.Linear,er=Me.Quad,ir=Me.Cubic,rr=Me.Quart,nr=Me.Quint,sr=Me.Strong,or=Me.Elastic,ar=Me.Back,Le=Me.SteppedEase,Be=Me.Bounce,lr=Me.Sine,ge=Me.Expo,ve=Me.Circ,hr=function(){return"undefined"!=typeof window},ur={},cr=180/Math.PI,dr=Math.PI/180,fr=Math.atan2,pr=/([A-Z])/g,mr=/(?:left|right|width|margin|padding|x)/i,yr=/[\s,\(]\S/,_r={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},gr="transform",vr=gr+"Origin",br=function(t,e){e=Hi.createElementNS?Hi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Hi.createElement(t);return e.style?e:Hi.createElement(t)},Tr=function t(e,i,r){var n=getComputedStyle(e);return n[i]||n.getPropertyValue(i.replace(pr,"-$1").toLowerCase())||n.getPropertyValue(i)||!r&&t(e,Er(i)||i,1)||""},xr="O,Moz,ms,Ms,Webkit".split(","),Er=function(t,e,i){var r=(e||zi).style,n=5;if(t in r&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);n--&&!(xr[n]+t in r););return n<0?null:(3===n?"ms":0<=n?xr[n]:"")+t},Sr=function(e){var i;try{i=e.getBBox()}catch(t){i=Di.call(e,!0)}return!(i=!(i&&(i.width||i.height)||e.getBBox===Di)?Di.call(e,!0):i)||i.width||i.x||i.y?i:{x:+Ni(e,["x","cx","x1"])||0,y:+Ni(e,["y","cy","y1"])||0,width:0,height:0}},Ar=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Sr(t))},Pr=function(t,e){e&&(t=t.style,e in ur&&e!==vr&&(e=gr),t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(pr,"-$1").toLowerCase())):t.removeAttribute(e))},wr=function(t,e,i,r,n,s){s=new fi(t._pt,e,i,0,1,s?Ai:Si);return(t._pt=s).b=r,s.e=n,t._props.push(i),s},Or={deg:1,rad:1,turn:1},Rr=function t(e,i,r,n){var s,o=parseFloat(r)||0,a=(r+"").trim().substr((o+"").length)||"px",l=zi.style,h=mr.test(i),u="svg"===e.tagName.toLowerCase(),c=(u?"client":"offset")+(h?"Width":"Height"),d="px"===n,f="%"===n;return n===a||!o||Or[n]||Or[a]?o:("px"===a||d||(o=t(e,i,r,"px")),r=e.getCTM&&Ar(e),!f&&"%"!==a||!ur[i]&&!~i.indexOf("adius")?(l[h?"width":"height"]=100+(d?a:n),n=~i.indexOf("adius")||"em"===n&&e.appendChild&&!u?e:e.parentNode,(u=(n=!(n=r?(e.ownerSVGElement||{}).parentNode:n)||n===Hi||!n.appendChild?Hi.body:n)._gsap)&&f&&u.width&&h&&u.time===Oe.time?ie(o/u.width*100):(!f&&"%"!==a||(l.position=Tr(e,"position")),n===e&&(l.position="static"),n.appendChild(zi),s=zi[c],n.removeChild(zi),l.position="absolute",h&&f&&((u=te(n)).time=Oe.time,u.width=n[c]),ie(d?s*o/100:s&&o?100/s*o:0))):(s=r?e.getBBox()[h?"width":"height"]:e[c],ie(f?o/s*100:o/100*s)))},Mr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Cr={clearProps:function(t,e,i,r,n){if("isFromStart"!==n.data){e=t._pt=new fi(t._pt,e,i,0,0,Li);return e.u=r,e.pr=-10,e.tween=n,t._props.push(i),1}}},Ir=[1,0,0,1,0,0],Dr={},Nr=function(t){t=Tr(t,gr);return Bi(t)?Ir:t.substr(7).match(kt).map(ie)},Fr=function(t,e){var i,r,n,s=t._gsap||te(t),o=t.style,a=Nr(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Ir:a:(a!==Ir||t.offsetParent||t===Xi||s.svg||(r=o.display,o.display="block",(s=t.parentNode)&&t.offsetParent||(n=1,i=t.nextSibling,Xi.appendChild(t)),a=Nr(t),r?o.display=r:Pr(t,"display"),n&&(i?s.insertBefore(t,i):s?s.appendChild(t):Xi.removeChild(t))),e&&6<a.length?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},kr=function(t,e){var i=t._gsap||new Ve(t);if("x"in i&&!e&&!i.uncache)return i;var r,n,s,o,a,l,h,u,c,d,f,p,m,y,_,g,v,b,T,x,E,S,A,P,w,O=t.style,R=i.scaleX<0,M=Tr(t,vr)||"0",C=r=n=o=a=l=h=u=0,I=s=1;return i.svg=!(!t.getCTM||!Ar(t)),c=Fr(t,i.svg),i.svg&&(b=(!i.uncache||"0px 0px"===M)&&!e&&t.getAttribute("data-svg-origin"),Gi(t,b||M,!!b||i.originIsAbsolute,!1!==i.smooth,c)),S=i.xOrigin||0,P=i.yOrigin||0,c!==Ir&&(p=c[0],m=c[1],y=c[2],_=c[3],C=g=c[4],r=v=c[5],6===c.length?(I=Math.sqrt(p*p+m*m),s=Math.sqrt(_*_+y*y),o=p||m?fr(m,p)*cr:0,(h=y||_?fr(y,_)*cr+o:0)&&(s*=Math.abs(Math.cos(h*dr))),i.svg&&(C-=S-(S*p+P*y),r-=P-(S*m+P*_))):(w=c[6],A=c[7],E=c[8],e=c[9],S=c[10],P=c[11],C=c[12],r=c[13],n=c[14],a=(c=fr(w,S))*cr,c&&(b=g*(d=Math.cos(-c))+E*(f=Math.sin(-c)),T=v*d+e*f,x=w*d+S*f,E=g*-f+E*d,e=v*-f+e*d,S=w*-f+S*d,P=A*-f+P*d,g=b,v=T,w=x),l=(c=fr(-y,S))*cr,c&&(d=Math.cos(-c),P=_*(f=Math.sin(-c))+P*d,p=b=p*d-E*f,m=T=m*d-e*f,y=x=y*d-S*f),o=(c=fr(m,p))*cr,c&&(b=p*(d=Math.cos(c))+m*(f=Math.sin(c)),T=g*d+v*f,m=m*d-p*f,v=v*d-g*f,p=b,g=T),a&&359.9<Math.abs(a)+Math.abs(o)&&(a=o=0,l=180-l),I=ie(Math.sqrt(p*p+m*m+y*y)),s=ie(Math.sqrt(v*v+w*w)),c=fr(g,v),h=2e-4<Math.abs(c)?c*cr:0,u=P?1/(P<0?-P:P):0),i.svg&&(b=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Bi(Tr(t,gr)),b&&t.setAttribute("transform",b))),90<Math.abs(h)&&Math.abs(h)<270&&(R?(I*=-1,h+=o<=0?180:-180,o+=o<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),i.x=C-((i.xPercent=C&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-C)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+"px",i.y=r-((i.yPercent=r&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+"px",i.z=n+"px",i.scaleX=ie(I),i.scaleY=ie(s),i.rotation=ie(o)+"deg",i.rotationX=ie(a)+"deg",i.rotationY=ie(l)+"deg",i.skewX=h+"deg",i.skewY="0deg",i.transformPerspective=u+"px",(i.zOrigin=parseFloat(M.split(" ")[2])||0)&&(O[vr]=Lr(M)),i.xOffset=i.yOffset=0,i.force3D=gt.force3D,i.renderTransform=i.svg?Vr:Wi?Ur:Br,i.uncache=0,i},Lr=function(t){return(t=t.split(" "))[0]+" "+t[1]},Br=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Ur(t,e)},Gr="0deg",Ur=function(t,e){var i=e||this,r=i.xPercent,n=i.yPercent,s=i.x,o=i.y,a=i.z,l=i.rotation,h=i.rotationY,u=i.rotationX,c=i.skewX,d=i.skewY,f=i.scaleX,p=i.scaleY,m=i.transformPerspective,y=i.force3D,_=i.target,g=i.zOrigin,v="",b="auto"===y&&t&&1!==t||!0===y;!g||u===Gr&&h===Gr||(e=parseFloat(h)*dr,i=Math.sin(e),t=Math.cos(e),e=parseFloat(u)*dr,y=Math.cos(e),s=Ui(_,s,i*y*-g),o=Ui(_,o,-Math.sin(e)*-g),a=Ui(_,a,t*y*-g+g)),"0px"!==m&&(v+="perspective("+m+") "),(r||n)&&(v+="translate("+r+"%, "+n+"%) "),!b&&"0px"===s&&"0px"===o&&"0px"===a||(v+="0px"!==a||b?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+") "),l!==Gr&&(v+="rotate("+l+") "),h!==Gr&&(v+="rotateY("+h+") "),u!==Gr&&(v+="rotateX("+u+") "),c===Gr&&d===Gr||(v+="skew("+c+", "+d+") "),1===f&&1===p||(v+="scale("+f+", "+p+") "),_.style[gr]=v||"translate(0, 0)"},Vr=function(t,e){var i,r,n,s,o,a=e||this,l=a.xPercent,h=a.yPercent,u=a.x,c=a.y,d=a.rotation,f=a.skewX,p=a.skewY,m=a.scaleX,y=a.scaleY,_=a.target,g=a.xOrigin,v=a.yOrigin,b=a.xOffset,T=a.yOffset,x=a.forceCSS,e=parseFloat(u),a=parseFloat(c),d=parseFloat(d),f=parseFloat(f);(p=parseFloat(p))&&(f+=p=parseFloat(p),d+=p),d||f?(d*=dr,f*=dr,i=Math.cos(d)*m,r=Math.sin(d)*m,n=Math.sin(d-f)*-y,s=Math.cos(d-f)*y,f&&(p*=dr,o=Math.tan(f-p),n*=o=Math.sqrt(1+o*o),s*=o,p&&(o=Math.tan(p),i*=o=Math.sqrt(1+o*o),r*=o)),i=ie(i),r=ie(r),n=ie(n),s=ie(s)):(i=m,s=y,r=n=0),(e&&!~(u+"").indexOf("px")||a&&!~(c+"").indexOf("px"))&&(e=Rr(_,"x",u,"px"),a=Rr(_,"y",c,"px")),(g||v||b||T)&&(e=ie(e+g-(g*i+v*n)+b),a=ie(a+v-(g*r+v*s)+T)),(l||h)&&(o=_.getBBox(),e=ie(e+l/100*o.width),a=ie(a+h/100*o.height)),_.setAttribute("transform",o="matrix("+i+","+r+","+n+","+s+","+e+","+a+")"),x&&(_.style[gr]=o)};f("padding,margin,Width,Radius",function(e,i){var t="Top",r="Right",n="Bottom",s="Left",a=(i<3?[t,r,n,s]:[t+s,t+r,n+r,n+s]).map(function(t){return i<2?e+t:"border"+t+e});Cr[1<i?"border"+e:e]=function(e,t,i,r,n){var s,o;if(arguments.length<4)return s=a.map(function(t){return Fi(e,t,i)}),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(r+"").split(" "),o={},a.forEach(function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]}),e.init(t,o,n)}});var jr,Te={name:"css",register:Ii,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,n){var s,o,a,l,h,u,c,d,f,p,m,y,_,g,v,b,T,x,E,S,A,P=this._props,w=t.style,O=i.vars.startAt;for(h in qi||Ii(),e)if("autoRound"!==h&&(o=e[h],!Wt[h]||!ze(h,e,i,r,t,n)))if(b=Cr[h],"string"===(T="function"===(T=typeof o)?typeof(o=o.call(i,r,t,n)):T)&&~o.indexOf("random(")&&(o=be(o)),b)b(this,t,h,o,i)&&(_=1);else if("--"===h.substr(0,2))s=(getComputedStyle(t).getPropertyValue(h)+"").trim(),o+="",Pe.lastIndex=0,Pe.test(s)||(u=de(s),c=de(o)),c?u!==c&&(s=Rr(t,h,s,c)+c):u&&(o+=u),this.add(w,"setProperty",s,o,r,n,0,0,h),P.push(h);else if("undefined"!==T){if(O&&h in O?(s="function"==typeof O[h]?O[h].call(i,r,t,n):O[h],h in gt.units&&!de(s)&&(s+=gt.units[h]),"="===((s=Ot(s)&&~s.indexOf("random(")?be(s):s)+"").charAt(1)&&(s=Fi(t,h))):s=Fi(t,h),l=parseFloat(s),(d="string"===T&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),a=parseFloat(o),h in _r&&("autoAlpha"===h&&(1===l&&"hidden"===Fi(t,"visibility")&&a&&(l=0),wr(this,w,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=_r[h]).indexOf(",")&&(h=h.split(",")[0])),f=h in ur)if(p||((m=t._gsap).renderTransform&&!e.parseTransform||kr(t,e.parseTransform),y=!1!==e.smoothOrigin&&m.smooth,(p=this._pt=new fi(this._pt,w,gr,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===h)this._pt=new fi(this._pt,m,"scaleY",m.scaleY,(d?d*a:a-m.scaleY)||0),P.push("scaleY",h),h+="X";else{if("transformOrigin"===h){A=S=E=void 0,E=(x=o).split(" "),S=E[0],A=E[1]||"50%","top"!==S&&"bottom"!==S&&"left"!==A&&"right"!==A||(x=S,S=A,A=x),E[0]=Mr[S]||S,E[1]=Mr[A]||A,o=E.join(" "),m.svg?Gi(t,o,0,y,0,this):((c=parseFloat(o.split(" ")[2])||0)!==m.zOrigin&&wr(this,m,"zOrigin",m.zOrigin,c),wr(this,w,h,Lr(s),Lr(o)));continue}if("svgOrigin"===h){Gi(t,o,1,y,0,this);continue}if(h in Dr){g=this,v=m,b=h,T=l,x=d,A=S=void 0,S=Ot(E=o),A=parseFloat(E)*(S&&~E.indexOf("rad")?cr:1),A=T+(x=x?A*x:A-T)+"deg",S&&("short"===(E=E.split("_")[1])&&(x%=360)!==x%180&&(x+=x<0?360:-360),"cw"===E&&x<0?x=(x+36e9)%360-360*~~(x/360):"ccw"===E&&0<x&&(x=(x-36e9)%360-360*~~(x/360))),g._pt=x=new fi(g._pt,v,b,T,x,Ti),x.e=A,x.u="deg",g._props.push(b);continue}if("smoothOrigin"===h){wr(this,m,"smooth",m.smooth,o);continue}if("force3D"===h){m[h]=o;continue}if("transform"===h){!function(t,e,i){var r,n,s,o,a,l,h=Vi({},i._gsap),u=i.style;for(n in h.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),u[gr]=e,r=kr(i,1),Pr(i,gr),i.setAttribute("transform",s)):(s=getComputedStyle(i)[gr],u[gr]=e,r=kr(i,1),u[gr]=s),ur)(s=h[n])!==(a=r[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(o=de(s)!==(l=de(a))?Rr(i,n,s,l):parseFloat(s),a=parseFloat(a),t._pt=new fi(t._pt,r,n,o,a-o,bi),t._pt.u=l||0,t._props.push(n));Vi(r,h)}(this,o,t);continue}}else h in w||(h=Er(h)||h);if(f||(a||0===a)&&(l||0===l)&&!yr.test(o)&&h in w)a=a||0,(u=(s+"").substr((l+"").length))!==(c=de(o)||(h in gt.units?gt.units[h]:u))&&(l=Rr(t,h,s,c)),this._pt=new fi(this._pt,f?m:w,h,l,d?d*a:a-l,f||"px"!==c&&"zIndex"!==h||!1===e.autoRound?bi:Ei),this._pt.u=c||0,u!==c&&"%"!==c&&(this._pt.b=s,this._pt.r=xi);else if(h in w)ki.call(this,t,h,s,o);else{if(!(h in t)){Xt(h,o);continue}this.add(t,h,s||t[h],o,r,n)}P.push(h)}_&&si(this)},get:Fi,aliases:_r,getSetter:function(t,e,i){var r=_r[e];return(e=r&&r.indexOf(",")<0?r:e)in ur&&e!==vr&&(t._gsap.x||Fi(t,"x"))?i&&Yi===i?"scale"===e?Ri:Oi:(Yi=i||{})&&("scale"===e?Mi:Ci):t.style&&!Ct(t.style[e])?Pi:~e.indexOf("-")?wi:ui(t,e)},core:{_removeProperty:Pr,_getMatrix:Fr}};vi.utils.checkPrefix=Er,jr=f((gi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(_e="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){ur[t]=1}),f(_e,function(t){gt.units[t]="deg",Dr[t]=1}),_r[jr[13]]=gi+","+_e,f("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){t=t.split(":");_r[t[1]]=jr[t[0]]}),f("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){gt.units[t]="px"}),vi.registerPlugin(Te);gi=vi.registerPlugin(Te)||vi,_e=gi.core.Tween;t.Back=ar,t.Bounce=Be,t.CSSPlugin=Te,t.Circ=ve,t.Cubic=ir,t.Elastic=or,t.Expo=ge,t.Linear=tr,t.Power0=$i,t.Power1=Qi,t.Power2=Zi,t.Power3=Ki,t.Power4=Ji,t.Quad=er,t.Quart=rr,t.Quint=nr,t.Sine=lr,t.SteppedEase=Le,t.Strong=sr,t.TimelineLite=Xe,t.TimelineMax=Xe,t.TweenLite=Je,t.TweenMax=_e,t.default=gi,t.gsap=gi,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete window.default},"object"==typeof i&&void 0!==e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n((r=r||self).window=r.window||{})},{}],46:[function(t,e,i){!function(s){!function(){var n=!!(s===s.window&&s.URL&&s.Blob&&s.Worker);function t(t,e){var i,r=this;if(e=e||{},n)return i=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new s.Worker(s.URL.createObjectURL(new s.Blob([i],{type:"text/javascript"})));this.self=e,this.self.postMessage=function(t){setTimeout(function(){r.onmessage({data:t})},0)},setTimeout(t.bind(e,e),0)}t.prototype.postMessage=function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)},e.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e,i){"use strict";i.__esModule=!0,function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./isMobile"));t=t("./isMobile");i.default=t.default},{"./isMobile":48}],48:[function(t,e,i){"use strict";i.__esModule=!0;function n(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var s=/iPhone/i,o=/iPod/i,a=/iPad/i,l=/\biOS-universal(?:.+)Mac\b/i,h=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,f=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,y=/BB10/i,_=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;i.default=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i,r=e.userAgent;return void 0!==(t=(r=void 0!==(t=r.split("[FBAN"))[1]?t[0]:r).split("Twitter"))[1]&&(r=t[0]),(r={apple:{phone:(r=(i=r,function(t){return t.test(i)}))(s)&&!r(f),ipod:r(o),tablet:!r(s)&&(r(a)||n(e))&&!r(f),universal:r(l),device:(r(s)||r(o)||r(a)||r(l)||n(e))&&!r(f)},amazon:{phone:r(c),tablet:!r(c)&&r(d),device:r(c)||r(d)},android:{phone:!r(f)&&r(c)||!r(f)&&r(h),tablet:!r(f)&&!r(c)&&!r(h)&&(r(d)||r(u)),device:!r(f)&&(r(c)||r(d)||r(h)||r(u))||r(/\bokhttp\b/i)},windows:{phone:r(f),tablet:r(p),device:r(f)||r(p)},other:{blackberry:r(m),blackberry10:r(y),opera:r(_),firefox:r(v),chrome:r(g),device:r(m)||r(y)||r(_)||r(v)||r(g)},any:!1,phone:!1,tablet:!1}).any=r.apple.device||r.android.device||r.windows.device||r.other.device,r.phone=r.apple.phone||r.android.phone||r.windows.phone,r.tablet=r.apple.tablet||r.android.tablet||r.windows.tablet,r}},{}],49:[function(t,e,i){var r;r=function(u){var c,d,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],f=Array.prototype.slice;if(u.event.fixHooks)for(var i=t.length;i;)u.event.fixHooks[t[--i]]=u.event.mouseHooks;var p=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],r,!1);else this.onmousewheel=r;u.data(this,"mousewheel-line-height",p.getLineHeight(this)),u.data(this,"mousewheel-page-height",p.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],r,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=u(t),t=e["offsetParent"in u.fn?"offsetParent":"parent"]();return t.length||(t=u("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return u(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function r(t){var e,i=t||window.event,r=f.call(arguments,1),n=0,s=0,o=0,a=0,l=0,h=0;if((t=u.event.fix(i)).type="mousewheel","detail"in i&&(o=-1*i.detail),"wheelDelta"in i&&(o=i.wheelDelta),"wheelDeltaY"in i&&(o=i.wheelDeltaY),"wheelDeltaX"in i&&(s=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=-1*o,o=0),n=0===o?s:o,"deltaY"in i&&(n=o=-1*i.deltaY),"deltaX"in i&&(s=i.deltaX,0===o&&(n=-1*s)),0!==o||0!==s)return 1===i.deltaMode?(n*=e=u.data(this,"mousewheel-line-height"),o*=e,s*=e):2===i.deltaMode&&(n*=e=u.data(this,"mousewheel-page-height"),o*=e,s*=e),a=Math.max(Math.abs(o),Math.abs(s)),(!d||a<d)&&y(i,d=a)&&(d/=40),y(i,a)&&(n/=40,s/=40,o/=40),n=Math[1<=n?"floor":"ceil"](n/d),s=Math[1<=s?"floor":"ceil"](s/d),o=Math[1<=o?"floor":"ceil"](o/d),p.settings.normalizeOffset&&this.getBoundingClientRect&&(a=this.getBoundingClientRect(),l=t.clientX-a.left,h=t.clientY-a.top),t.deltaX=s,t.deltaY=o,t.deltaFactor=d,t.offsetX=l,t.offsetY=h,t.deltaMode=0,r.unshift(t,n,s,o),c&&clearTimeout(c),c=setTimeout(m,200),(u.event.dispatch||u.event.handle).apply(this,r)}function m(){d=null}function y(t,e){return p.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}u.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof define&&define.amd?define(["jquery"],r):"object"==typeof i?e.exports=r:r(jQuery)},{}],50:[function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(h){"use strict";var n,i=0,o=Array.prototype.hasOwnProperty,a=Array.prototype.slice;return h.cleanData=(n=h.cleanData,function(t){for(var e,i,r=0;null!=(i=t[r]);r++)(e=h._data(i,"events"))&&e.remove&&h(i).triggerHandler("remove");n(t)}),h.widget=function(t,i,e){var r,n,s,o={},a=t.split(".")[0],l=a+"-"+(t=t.split(".")[1]);return e||(e=i,i=h.Widget),Array.isArray(e)&&(e=h.extend.apply(null,[{}].concat(e))),h.expr.pseudos[l.toLowerCase()]=function(t){return!!h.data(t,l)},h[a]=h[a]||{},r=h[a][t],n=h[a][t]=function(t,e){if(!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},h.extend(n,r,{version:e.version,_proto:h.extend({},e),_childConstructors:[]}),(s=new i).options=h.widget.extend({},s.options),h.each(e,function(e,r){function n(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}o[e]="function"==typeof r?function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=s,t=r.apply(this,arguments),this._super=e,this._superApply=i,t}:r}),n.prototype=h.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},o,{constructor:n,namespace:a,widgetName:t,widgetFullName:l}),r?(h.each(r._childConstructors,function(t,e){var i=e.prototype;h.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete r._childConstructors):i._childConstructors.push(n),h.widget.bridge(t,n),n},h.widget.extend=function(t){for(var e,i,r=a.call(arguments,1),n=0,s=r.length;n<s;n++)for(e in r[n])i=r[n][e],o.call(r[n],e)&&void 0!==i&&(h.isPlainObject(i)?t[e]=h.isPlainObject(t[e])?h.widget.extend({},t[e],i):h.widget.extend({},i):t[e]=i);return t},h.widget.bridge=function(s,e){var o=e.prototype.widgetFullName||s;h.fn[s]=function(i){var t="string"==typeof i,r=a.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=h.data(this,o);return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?h.error("no such method '"+i+"' for "+s+" widget instance"):(t=e[i].apply(e,r))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:h.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(r.length&&(i=h.widget.extend.apply(null,[i].concat(r))),this.each(function(){var t=h.data(this,o);t?(t.option(i||{}),t._init&&t._init()):h.data(this,o,new e(i,this))})),n}},h.Widget=function(){},h.Widget._childConstructors=[],h.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=h(e||this.defaultElement||this)[0],this.element=h(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=h(),this.hoverable=h(),this.focusable=h(),this.classesElementLookup={},e!==this&&(h.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=h(e.style?e.ownerDocument:e.document||e),this.window=h(this.document[0].defaultView||this.document[0].parentWindow)),this.options=h.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:h.noop,_create:h.noop,_init:h.noop,destroy:function(){var i=this;this._destroy(),h.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:h.noop,widget:function(){return this.element},option:function(t,e){var i,r,n,s=t;if(0===arguments.length)return h.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(r=s[t]=h.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)r[i[n]]=r[i[n]]||{},r=r[i[n]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,r;for(e in t)r=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&r&&r.length&&(i=h(r.get()),this._removeClass(r,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var s=[],o=this;function t(t,e){for(var i,r=0;r<t.length;r++)i=o.classesElementLookup[t[r]]||h(),i=n.add?(n.element.each(function(t,e){h.map(o.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||o._on(h(e),{remove:"_untrackClassesElement"})}),h(h.uniqueSort(i.get().concat(n.element.get())))):h(i.not(n.element).get()),o.classesElementLookup[t[r]]=i,s.push(t[r]),e&&n.classes[t[r]]&&s.push(n.classes[t[r]])}return(n=h.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(i){var r=this;h.each(r.classesElementLookup,function(t,e){-1!==h.inArray(i.target,e)&&(r.classesElementLookup[t]=h(e.not(i.target).get()))}),this._off(h(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,r){var n="string"==typeof t||null===t,i={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:r="boolean"==typeof r?r:i};return i.element.toggleClass(this._classes(i),r),this},_on:function(n,s,t){var o,a=this;"boolean"!=typeof n&&(t=s,s=n,n=!1),t?(s=o=h(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,o=this.widget()),h.each(t,function(t,e){function i(){if(n||!0!==a.options.disabled&&!h(this).hasClass("ui-state-disabled"))return("string"==typeof e?a[e]:e).apply(a,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||h.guid++);var r=t.match(/^([\w:-]*)\s*(.*)$/),t=r[1]+a.eventNamespace,r=r[2];r?o.on(t,r,i):s.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=h(this.bindings.not(t).get()),this.focusable=h(this.focusable.not(t).get()),this.hoverable=h(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(h(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(h(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(h(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(h(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var r,n,s=this.options[t];if(i=i||{},(e=h.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(r in n)r in e||(e[r]=n[r]);return this.element.trigger(e,i),!("function"==typeof s&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},h.each({show:"fadeIn",hide:"fadeOut"},function(s,o){h.Widget.prototype["_"+s]=function(e,t,i){var r,n=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||o:s;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),r=!h.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),r&&h.effects&&h.effects.effect[n]?e[s](t):n!==s&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){h(this)[s](),i&&i.call(e[0]),t()})}}),h.widget})},{}],51:[function(t,i,e){!function(t,e){"use strict";"object"==typeof i&&"object"==typeof i.exports?i.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(x,t){"use strict";function m(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function y(t){return null!=t&&t===t.window}var e=[],i=Object.getPrototypeOf,a=e.slice,_=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},l=e.push,n=e.indexOf,r={},s=r.toString,g=r.hasOwnProperty,o=g.toString,h=o.call(Object),v={},E=x.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var r,n,s=(i=i||E).createElement("script");if(s.text=t,e)for(r in u)(n=e[r]||e.getAttribute&&e.getAttribute(r))&&s.setAttribute(r,n);i.head.appendChild(s).parentNode.removeChild(s)}function p(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?r[s.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)};function c(t){var e=!!t&&"length"in t&&t.length,i=p(t);return!m(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"3.6.0",constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=S.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return S.each(this,t)},map:function(i){return this.pushStack(S.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,i,r,n,s=arguments[0]||{},o=1,a=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[o]||{},o++),"object"==typeof s||m(s)||(s={}),o===a&&(s=this,o--);o<a;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(l&&i&&(S.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],n=r&&!Array.isArray(n)?[]:r||S.isPlainObject(n)?n:{},r=!1,s[e]=S.extend(l,n,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==s.call(t))&&(!(t=i(t))||"function"==typeof(t=g.call(t,"constructor")&&t.constructor)&&o.call(t)===h)},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,i){b(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,r=0;if(c(t))for(i=t.length;r<i&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(c(Object(t))?S.merge(e,"string"==typeof t?[t]:t):l.call(e,t)),e},inArray:function(t,e,i){return null==e?-1:n.call(e,t,i)},merge:function(t,e){for(var i=+e.length,r=0,n=t.length;r<i;r++)t[n++]=e[r];return t.length=n,t},grep:function(t,e,i){for(var r=[],n=0,s=t.length,o=!i;n<s;n++)!e(t[n],n)!=o&&r.push(t[n]);return r},map:function(t,e,i){var r,n,s=0,o=[];if(c(t))for(r=t.length;s<r;s++)null!=(n=e(t[s],s,i))&&o.push(n);else for(s in t)null!=(n=e(t[s],s,i))&&o.push(n);return _(o)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){r["[object "+e+"]"]=e.toLowerCase()});var d=function(i){function c(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function d(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function r(){x()}var t,f,b,s,n,p,m,y,T,l,h,x,E,o,S,_,a,u,g,A="sizzle"+ +new Date,v=i.document,P=0,w=0,O=lt(),R=lt(),M=lt(),C=lt(),I=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,e=[],N=e.pop,F=e.push,k=e.push,L=e.slice,B=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",V="(?:\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+U+"*("+V+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+U+"*\\]",H=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",X=new RegExp(U+"+","g"),q=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),z=new RegExp("^"+U+"*,"+U+"*"),Y=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),W=new RegExp(U+"|>"),$=new RegExp(H),Q=new RegExp("^"+V+"$"),Z={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,et=/^[^{]+\{\s*\[native \w/,it=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rt=/[+~]/,nt=new RegExp("\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\([^\\r\\n\\f])","g"),st=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=gt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{k.apply(e=L.call(v.childNodes),v.childNodes),e[v.childNodes.length].nodeType}catch(t){k={apply:e.length?function(t,e){F.apply(t,L.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}function at(e,t,i,r){var n,s,o,a,l,h,u=t&&t.ownerDocument,c=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return i;if(!r&&(x(t),t=t||E,S)){if(11!==c&&(a=it.exec(e)))if(h=a[1]){if(9===c){if(!(s=t.getElementById(h)))return i;if(s.id===h)return i.push(s),i}else if(u&&(s=u.getElementById(h))&&g(t,s)&&s.id===h)return i.push(s),i}else{if(a[2])return k.apply(i,t.getElementsByTagName(e)),i;if((h=a[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(i,t.getElementsByClassName(h)),i}if(f.qsa&&!C[e+" "]&&(!_||!_.test(e))&&(1!==c||"object"!==t.nodeName.toLowerCase())){if(h=e,u=t,1===c&&(W.test(e)||Y.test(e))){for((u=rt.test(e)&&mt(t.parentNode)||t)===t&&f.scope||((o=t.getAttribute("id"))?o=o.replace(st,d):t.setAttribute("id",o=A)),n=(l=p(e)).length;n--;)l[n]=(o?"#"+o:":scope")+" "+_t(l[n]);h=l.join(",")}try{return k.apply(i,u.querySelectorAll(h)),i}catch(t){C(e,!0)}finally{o===A&&t.removeAttribute("id")}}}return y(e.replace(q,"$1"),t,i,r)}function lt(){var i=[];function r(t,e){return i.push(t+" ")>b.cacheLength&&delete r[i.shift()],r[t+" "]=e}return r}function ht(t){return t[A]=!0,t}function ut(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function ct(t,e){for(var i=t.split("|"),r=i.length;r--;)b.attrHandle[i[r]]=e}function dt(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ot(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function pt(o){return ht(function(s){return s=+s,ht(function(t,e){for(var i,r=o([],t.length,s),n=r.length;n--;)t[i=r[n]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=at.support={},n=at.isXML=function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!K.test(e||t&&t.nodeName||"HTML")},x=at.setDocument=function(t){var e,t=t?t.ownerDocument||t:v;return t!=E&&9===t.nodeType&&t.documentElement&&(o=(E=t).documentElement,S=!n(E),v!=E&&(e=E.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",r,!1):e.attachEvent&&e.attachEvent("onunload",r)),f.scope=ut(function(t){return o.appendChild(t).appendChild(E.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),f.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=ut(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=et.test(E.getElementsByClassName),f.getById=ut(function(t){return o.appendChild(t).id=A,!E.getElementsByName||!E.getElementsByName(A).length}),f.getById?(b.filter.ID=function(t){var e=t.replace(nt,c);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){t=e.getElementById(t);return t?[t]:[]}}):(b.filter.ID=function(t){var e=t.replace(nt,c);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i,r,n,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(n=e.getElementsByName(t),r=0;s=n[r++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),b.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,r=[],n=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[n++];)1===i.nodeType&&r.push(i);return r},b.find.CLASS=f.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},a=[],_=[],(f.qsa=et.test(E.querySelectorAll))&&(ut(function(t){var e;o.appendChild(t).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+U+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+U+"*(?:value|"+G+")"),t.querySelectorAll("[id~="+A+"-]").length||_.push("~="),(e=E.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||_.push("\\["+U+"*name"+U+"*="+U+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+A+"+*").length||_.push(".#.+[+~]"),t.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+U+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),o.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(f.matchesSelector=et.test(u=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ut(function(t){f.disconnectedMatch=u.call(t,"*"),u.call(t,"[s!='']:x"),a.push("!=",H)}),_=_.length&&new RegExp(_.join("|")),a=a.length&&new RegExp(a.join("|")),e=et.test(o.compareDocumentPosition),g=e||et.test(o.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(i.contains?i.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===i?t==E||t.ownerDocument==v&&g(v,t)?-1:e==E||e.ownerDocument==v&&g(v,e)?1:l?B(l,t)-B(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,r=0,n=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!n||!s)return t==E?-1:e==E?1:n?-1:s?1:l?B(l,t)-B(l,e):0;if(n===s)return dt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[r]===a[r];)r++;return r?dt(o[r],a[r]):o[r]==v?-1:a[r]==v?1:0}),E},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(x(t),f.matchesSelector&&S&&!C[e+" "]&&(!a||!a.test(e))&&(!_||!_.test(e)))try{var i=u.call(t,e);if(i||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){C(e,!0)}return 0<at(e,E,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=E&&x(t),g(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=E&&x(t);var i=b.attrHandle[e.toLowerCase()],i=i&&D.call(b.attrHandle,e.toLowerCase())?i(t,e,!S):void 0;return void 0!==i?i:f.attributes||!S?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(st,d)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,n=0;if(h=!f.detectDuplicates,l=!f.sortStable&&t.slice(0),t.sort(I),h){for(;e=t[n++];)e===t[n]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return l=null,t},s=at.getText=function(t){var e,i="",r=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[r++];)i+=s(e);return i},(b=at.selectors={cacheLength:50,createPseudo:ht,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,c),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,c),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&$.test(i)&&(e=p(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,c).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=O[t+" "];return e||(e=new RegExp("(^|"+U+")"+t+"("+U+"|$)"))&&O(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,i,r){return function(t){t=at.attr(t,e);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(X," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,t,e,m,y){var _="nth"!==p.slice(0,3),g="last"!==p.slice(-4),v="of-type"===t;return 1===m&&0===y?function(t){return!!t.parentNode}:function(t,e,i){var r,n,s,o,a,l,h=_!=g?"nextSibling":"previousSibling",u=t.parentNode,c=v&&t.nodeName.toLowerCase(),d=!i&&!v,f=!1;if(u){if(_){for(;h;){for(o=t;o=o[h];)if(v?o.nodeName.toLowerCase()===c:1===o.nodeType)return!1;l=h="only"===p&&!l&&"nextSibling"}return!0}if(l=[g?u.firstChild:u.lastChild],g&&d){for(f=(a=(r=(n=(s=(o=u)[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[p]||[])[0]===P&&r[1])&&r[2],o=a&&u.childNodes[a];o=++a&&o&&o[h]||(f=a=0)||l.pop();)if(1===o.nodeType&&++f&&o===t){n[p]=[P,a,f];break}}else if(!1===(f=d?a=(r=(n=(s=(o=t)[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[p]||[])[0]===P&&r[1]:f))for(;(o=++a&&o&&o[h]||(f=a=0)||l.pop())&&((v?o.nodeName.toLowerCase()!==c:1!==o.nodeType)||!++f||(d&&((n=(s=o[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[p]=[P,f]),o!==t)););return(f-=y)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,s){var e,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return o[A]?o(s):1<o.length?(e=[t,t,"",s],b.setFilters.hasOwnProperty(t.toLowerCase())?ht(function(t,e){for(var i,r=o(t,s),n=r.length;n--;)t[i=B(t,r[n])]=!(e[i]=r[n])}):function(t){return o(t,0,e)}):o}},pseudos:{not:ht(function(t){var r=[],n=[],a=m(t.replace(q,"$1"));return a[A]?ht(function(t,e,i,r){for(var n,s=a(t,null,r,[]),o=t.length;o--;)(n=s[o])&&(t[o]=!(e[o]=n))}):function(t,e,i){return r[0]=t,a(r,null,i,n),r[0]=null,!n.pop()}}),has:ht(function(e){return function(t){return 0<at(e,t).length}}),contains:ht(function(e){return e=e.replace(nt,c),function(t){return-1<(t.textContent||s(t)).indexOf(e)}}),lang:ht(function(i){return Q.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(nt,c).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ft(!1),disabled:ft(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return tt.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(t,e){return[e-1]}),eq:pt(function(t,e,i){return[i<0?i+e:i]}),even:pt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:pt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:pt(function(t,e,i){for(var r=i<0?i+e:e<i?e:i;0<=--r;)t.push(r);return t}),gt:pt(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=function(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}(t);function yt(){}function _t(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function gt(o,t,e){var a=t.dir,l=t.next,h=l||a,u=e&&"parentNode"===h,c=w++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||u)return o(t,e,i);return!1}:function(t,e,i){var r,n,s=[P,c];if(i){for(;t=t[a];)if((1===t.nodeType||u)&&o(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||u)if(r=(n=t[A]||(t[A]={}))[t.uniqueID]||(n[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[a]||t;else{if((n=r[h])&&n[0]===P&&n[1]===c)return s[2]=n[2];if((r[h]=s)[2]=o(t,e,i))return!0}return!1}}function vt(n){return 1<n.length?function(t,e,i){for(var r=n.length;r--;)if(!n[r](t,e,i))return!1;return!0}:n[0]}function bt(t,e,i,r,n){for(var s,o=[],a=0,l=t.length,h=null!=e;a<l;a++)(s=t[a])&&(i&&!i(s,r,n)||(o.push(s),h&&e.push(a)));return o}function Tt(f,p,m,y,_,t){return y&&!y[A]&&(y=Tt(y)),_&&!_[A]&&(_=Tt(_,t)),ht(function(t,e,i,r){var n,s,o,a=[],l=[],h=e.length,u=t||function(t,e,i){for(var r=0,n=e.length;r<n;r++)at(t,e[r],i);return i}(p||"*",i.nodeType?[i]:i,[]),c=!f||!t&&p?u:bt(u,a,f,i,r),d=m?_||(t?f:h||y)?[]:e:c;if(m&&m(c,d,i,r),y)for(n=bt(d,l),y(n,[],i,r),s=n.length;s--;)(o=n[s])&&(d[l[s]]=!(c[l[s]]=o));if(t){if(_||f){if(_){for(n=[],s=d.length;s--;)(o=d[s])&&n.push(c[s]=o);_(null,d=[],n,r)}for(s=d.length;s--;)(o=d[s])&&-1<(n=_?B(t,o):a[s])&&(t[n]=!(e[n]=o))}}else d=bt(d===e?d.splice(h,d.length):d),_?_(null,e,d,r):k.apply(e,d)})}function xt(y,_){function t(t,e,i,r,n){var s,o,a,l=0,h="0",u=t&&[],c=[],d=T,f=t||v&&b.find.TAG("*",n),p=P+=null==d?1:Math.random()||.1,m=f.length;for(n&&(T=e==E||e||n);h!==m&&null!=(s=f[h]);h++){if(v&&s){for(o=0,e||s.ownerDocument==E||(x(s),i=!S);a=y[o++];)if(a(s,e||E,i)){r.push(s);break}n&&(P=p)}g&&((s=!a&&s)&&l--,t&&u.push(s))}if(l+=h,g&&h!==l){for(o=0;a=_[o++];)a(u,c,e,i);if(t){if(0<l)for(;h--;)u[h]||c[h]||(c[h]=N.call(r));c=bt(c)}k.apply(r,c),n&&!t&&0<c.length&&1<l+_.length&&at.uniqueSort(r)}return n&&(P=p,T=d),u}var g=0<_.length,v=0<y.length;return g?ht(t):t}return yt.prototype=b.filters=b.pseudos,b.setFilters=new yt,p=at.tokenize=function(t,e){var i,r,n,s,o,a,l,h=R[t+" "];if(h)return e?0:h.slice(0);for(o=t,a=[],l=b.preFilter;o;){for(s in i&&!(r=z.exec(o))||(r&&(o=o.slice(r[0].length)||o),a.push(n=[])),i=!1,(r=Y.exec(o))&&(i=r.shift(),n.push({value:i,type:r[0].replace(q," ")}),o=o.slice(i.length)),b.filter)!(r=Z[s].exec(o))||l[s]&&!(r=l[s](r))||(i=r.shift(),n.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return e?o.length:o?at.error(t):R(t,a).slice(0)},m=at.compile=function(t,e){var i,r=[],n=[],s=M[t+" "];if(!s){for(i=(e=e||p(t)).length;i--;)((s=function t(e){for(var r,i,n,s=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],l=o?1:0,h=gt(function(t){return t===r},a,!0),u=gt(function(t){return-1<B(r,t)},a,!0),c=[function(t,e,i){return i=!o&&(i||e!==T)||((r=e).nodeType?h:u)(t,e,i),r=null,i}];l<s;l++)if(i=b.relative[e[l].type])c=[gt(vt(c),i)];else{if((i=b.filter[e[l].type].apply(null,e[l].matches))[A]){for(n=++l;n<s&&!b.relative[e[n].type];n++);return Tt(1<l&&vt(c),1<l&&_t(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),i,l<n&&t(e.slice(l,n)),n<s&&t(e=e.slice(n)),n<s&&_t(e))}c.push(i)}return vt(c)}(e[i]))[A]?r:n).push(s);(s=M(t,xt(n,r))).selector=t}return s},y=at.select=function(t,e,i,r){var n,s,o,a,l,h="function"==typeof t&&t,u=!r&&p(t=h.selector||t);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(o=s[0]).type&&9===e.nodeType&&S&&b.relative[s[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(nt,c),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(n=Z.needsContext.test(t)?0:s.length;n--&&(o=s[n],!b.relative[a=o.type]);)if((l=b.find[a])&&(r=l(o.matches[0].replace(nt,c),rt.test(s[0].type)&&mt(e.parentNode)||e))){if(s.splice(n,1),!(t=r.length&&_t(s)))return k.apply(i,r),i;break}}return(h||m(t,u))(r,e,!S,i,!e||rt.test(t)&&mt(e.parentNode)||e),i},f.sortStable=A.split("").sort(I).join("")===A,f.detectDuplicates=!!h,x(),f.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(G,function(t,e,i){if(!i)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),at}(x);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;function f(t,e,i){for(var r=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&S(t).is(i))break;r.push(t)}return r}function T(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var A=S.expr.match.needsContext;function P(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var w=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,i,r){return m(i)?S.grep(t,function(t,e){return!!i.call(t,e,t)!==r}):i.nodeType?S.grep(t,function(t){return t===i!==r}):"string"!=typeof i?S.grep(t,function(t){return-1<n.call(i,t)!==r}):S.filter(i,t,r)}S.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?S.find.matchesSelector(r,t)?[r]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,i,r=this.length,n=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<r;e++)if(S.contains(n[e],this))return!0}));for(i=this.pushStack([]),e=0;e<r;e++)S.find(t,n[e],i);return 1<r?S.uniqueSort(i):i},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&A.test(t)?S(t):t||[],!1).length}});var R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,i){if(!t)return this;if(i=i||M,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(S):S.makeArray(t,this);if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:R.exec(t))||!r[1]&&e)return(!e||e.jquery?e||i:this.constructor(e)).find(t);if(r[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:E,!0)),w.test(r[1])&&S.isPlainObject(e))for(var r in e)m(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(t=E.getElementById(r[2]))&&(this[0]=t,this.length=1),this}).prototype=S.fn;var M=S(E),C=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var i,r=0,n=this.length,s=[],o="string"!=typeof t&&S(t);if(!A.test(t))for(;r<n;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&S.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?S.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?n.call(S(t),this[0]):n.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return T((t.parentNode||{}).firstChild,t)},children:function(t){return T(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(P(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(r,n){S.fn[r]=function(t,e){var i=S.map(this,n,t);return(e="Until"!==r.slice(-5)?t:e)&&"string"==typeof e&&(i=S.filter(e,i)),1<this.length&&(I[r]||S.uniqueSort(i),C.test(r)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function F(t){return t}function k(t){throw t}function L(t,e,i,r){var n;try{t&&m(n=t.promise)?n.call(t).done(e).fail(i):t&&m(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(r))}catch(t){i.apply(void 0,[t])}}S.Callbacks=function(r){var t,i;r="string"==typeof r?(t=r,i={},S.each(t.match(N)||[],function(t,e){i[e]=!0}),i):S.extend({},r);function n(){for(a=a||r.once,o=s=!0;h.length;u=-1)for(e=h.shift();++u<l.length;)!1===l[u].apply(e[0],e[1])&&r.stopOnFalse&&(u=l.length,e=!1);r.memory||(e=!1),s=!1,a&&(l=e?[]:"")}var s,e,o,a,l=[],h=[],u=-1,c={add:function(){return l&&(e&&!s&&(u=l.length-1,h.push(e)),function i(t){S.each(t,function(t,e){m(e)?r.unique&&c.has(e)||l.push(e):e&&e.length&&"string"!==p(e)&&i(e)})}(arguments),e&&!s&&n()),this},remove:function(){return S.each(arguments,function(t,e){for(var i;-1<(i=S.inArray(e,l,i));)l.splice(i,1),i<=u&&u--}),this},has:function(t){return t?-1<S.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=h=[],l=e="",this},disabled:function(){return!l},lock:function(){return a=h=[],e||s||(l=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],h.push(e),s||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},S.extend({Deferred:function(t){var s=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var n=arguments;return S.Deferred(function(r){S.each(s,function(t,e){var i=m(n[e[4]])&&n[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&m(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this,i?[t]:arguments)})}),n=null}).promise()},then:function(e,i,r){var l=0;function h(n,s,o,a){return function(){function t(){var t,e;if(!(n<l)){if((t=o.apply(i,r))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,m(e)?a?e.call(t,h(l,s,F,a),h(l,s,k,a)):(l++,e.call(t,h(l,s,F,a),h(l,s,k,a),h(l,s,F,s.notifyWith))):(o!==F&&(i=void 0,r=[t]),(a||s.resolveWith)(i,r))}}var i=this,r=arguments,e=a?t:function(){try{t()}catch(t){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(t,e.stackTrace),l<=n+1&&(o!==k&&(i=void 0,r=[t]),s.rejectWith(i,r))}};n?e():(S.Deferred.getStackHook&&(e.stackTrace=S.Deferred.getStackHook()),x.setTimeout(e))}}return S.Deferred(function(t){s[0][3].add(h(0,t,m(r)?r:F,t.notifyWith)),s[1][3].add(h(0,t,m(e)?e:F)),s[2][3].add(h(0,t,m(i)?i:k))}).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},a={};return S.each(s,function(t,e){var i=e[2],r=e[5];o[e[1]]=i.add,r&&i.add(function(){n=r},s[3-t][2].disable,s[3-t][3].disable,s[0][2].lock,s[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){n[e]=this,s[e]=1<arguments.length?a.call(arguments):t,--i||o.resolveWith(n,s)}}var i=arguments.length,r=i,n=Array(r),s=a.call(arguments),o=S.Deferred();if(i<=1&&(L(t,o.done(e(r)).resolve,o.reject,!i),"pending"===o.state()||m(s[r]&&s[r].then)))return o.then();for(;r--;)L(s[r],e(r),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){x.console&&x.console.warn&&t&&B.test(t.name)},S.readyException=function(t){x.setTimeout(function(){throw t})};var G=S.Deferred();function U(){E.removeEventListener("DOMContentLoaded",U),x.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return G.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||G.resolveWith(E,[S])}}),S.ready.then=G.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?x.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",U),x.addEventListener("load",U));function V(t,e,i,r,n,s,o){var a=0,l=t.length,h=null==i;if("object"===p(i))for(a in n=!0,i)V(t,e,a,i[a],!0,s,o);else if(void 0!==r&&(n=!0,m(r)||(o=!0),e=h?o?(e.call(t,r),null):(h=e,function(t,e,i){return h.call(S(t),i)}):e))for(;a<l;a++)e(t[a],i,o?r:r.call(t[a],a,e(t[a],i)));return n?t:h?e.call(t):l?e(t[0],i):s}var j=/^-ms-/,H=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function q(t){return t.replace(j,"ms-").replace(H,X)}function z(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=S.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var r,n=this.cache(t);if("string"==typeof e)n[q(e)]=i;else for(r in e)n[q(r)]=e[r];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,r=t[this.expando];if(void 0!==r){if(void 0!==e){i=(e=Array.isArray(e)?e.map(q):(e=q(e))in r?[e]:e.match(N)||[]).length;for(;i--;)delete r[e[i]]}void 0!==e&&!S.isEmptyObject(r)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var W=new Y,$=new Y,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function K(t,e,i){var r,n;if(void 0===i&&1===t.nodeType)if(r="data-"+e.replace(Z,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(r))){try{i="true"===(n=i)||"false"!==n&&("null"===n?null:n===+n+""?+n:Q.test(n)?JSON.parse(n):n)}catch(t){}$.set(t,e,i)}else i=void 0;return i}S.extend({hasData:function(t){return $.hasData(t)||W.hasData(t)},data:function(t,e,i){return $.access(t,e,i)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,i){return W.access(t,e,i)},_removeData:function(t,e){W.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,r,n,s=this[0],o=s&&s.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){$.set(this,i)}):V(this,function(t){var e;return s&&void 0===t?void 0!==(e=$.get(s,i))||void 0!==(e=K(s,i))?e:void 0:void this.each(function(){$.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(n=$.get(s),1===s.nodeType&&!W.get(s,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(r=o[e].name).indexOf("data-")&&(r=q(r.slice(5)),K(s,r,n[r]));W.set(s,"hasDataAttrs",!0)}return n},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),S.extend({queue:function(t,e,i){var r;if(t)return r=W.get(t,e=(e||"fx")+"queue"),i&&(!r||Array.isArray(i)?r=W.access(t,e,S.makeArray(i)):r.push(i)),r||[]},dequeue:function(t,e){e=e||"fx";var i=S.queue(t,e),r=i.length,n=i.shift(),s=S._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===e&&i.unshift("inprogress"),delete s.stop,n.call(t,function(){S.dequeue(t,e)},s)),!r&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return W.get(t,i)||W.access(t,i,{empty:S.Callbacks("once memory").add(function(){W.remove(t,[e+"queue",i])})})}}),S.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===i?this:this.each(function(){var t=S.queue(this,e,i);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--n||s.resolveWith(o,[o])}var r,n=1,s=S.Deferred(),o=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(r=W.get(o[a],t+"queueHooks"))&&r.empty&&(n++,r.empty.add(i));return i(),s.promise(e)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],it=E.documentElement,rt=function(t){return S.contains(t.ownerDocument,t)},nt={composed:!0};it.getRootNode&&(rt=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(nt)===t.ownerDocument});function st(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&rt(t)&&"none"===S.css(t,"display")}function ot(t,e,i,r){var n,s,o=20,a=r?function(){return r.cur()}:function(){return S.css(t,e,"")},l=a(),h=i&&i[3]||(S.cssNumber[e]?"":"px"),u=t.nodeType&&(S.cssNumber[e]||"px"!==h&&+l)&&tt.exec(S.css(t,e));if(u&&u[3]!==h){for(h=h||u[3],u=+(l/=2)||1;o--;)S.style(t,e,u+h),(1-s)*(1-(s=a()/l||.5))<=0&&(o=0),u/=s;S.style(t,e,(u*=2)+h),i=i||[]}return i&&(u=+u||+l||0,n=i[1]?u+(i[1]+1)*i[2]:+i[2],r&&(r.unit=h,r.start=u,r.end=n)),n}var at={};function lt(t,e){for(var i,r,n,s,o,a=[],l=0,h=t.length;l<h;l++)(r=t[l]).style&&(i=r.style.display,e?("none"===i&&(a[l]=W.get(r,"display")||null,a[l]||(r.style.display="")),""===r.style.display&&st(r)&&(a[l]=(o=s=void 0,s=(n=r).ownerDocument,o=n.nodeName,(n=at[o])||(s=s.body.appendChild(s.createElement(o)),n=S.css(s,"display"),s.parentNode.removeChild(s),at[o]=n="none"===n?"block":n)))):"none"!==i&&(a[l]="none",W.set(r,"display",i)));for(l=0;l<h;l++)null!=a[l]&&(t[l].style.display=a[l]);return t}S.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?S(this).show():S(this).hide()})}});var ht=/^(?:checkbox|radio)$/i,ut=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ct=/^$|^module$|\/(?:java|ecma)script/i;Ye=E.createDocumentFragment().appendChild(E.createElement("div")),(d=E.createElement("input")).setAttribute("type","radio"),d.setAttribute("checked","checked"),d.setAttribute("name","t"),Ye.appendChild(d),v.checkClone=Ye.cloneNode(!0).cloneNode(!0).lastChild.checked,Ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ye.cloneNode(!0).lastChild.defaultValue,Ye.innerHTML="<option></option>",v.option=!!Ye.lastChild;var dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ft(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&P(t,e)?S.merge([t],i):i}function pt(t,e){for(var i=0,r=t.length;i<r;i++)W.set(t[i],"globalEval",!e||W.get(e[i],"globalEval"))}dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,v.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function yt(t,e,i,r,n){for(var s,o,a,l,h,u=e.createDocumentFragment(),c=[],d=0,f=t.length;d<f;d++)if((s=t[d])||0===s)if("object"===p(s))S.merge(c,s.nodeType?[s]:s);else if(mt.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(ut.exec(s)||["",""])[1].toLowerCase(),a=dt[a]||dt._default,o.innerHTML=a[1]+S.htmlPrefilter(s)+a[2],h=a[0];h--;)o=o.lastChild;S.merge(c,o.childNodes),(o=u.firstChild).textContent=""}else c.push(e.createTextNode(s));for(u.textContent="",d=0;s=c[d++];)if(r&&-1<S.inArray(s,r))n&&n.push(s);else if(l=rt(s),o=ft(u.appendChild(s),"script"),l&&pt(o),i)for(h=0;s=o[h++];)ct.test(s.type||"")&&i.push(s);return u}var _t=/^([^.]*)(?:\.(.+)|)/;function gt(){return!0}function vt(){return!1}function bt(t,e){return t===function(){try{return E.activeElement}catch(t){}}()==("focus"===e)}function Tt(t,e,i,r,n,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(r=r||i,i=void 0),e)Tt(t,a,i,r,e[a],s);return t}if(null==r&&null==n?(n=i,r=i=void 0):null==n&&("string"==typeof i?(n=r,r=void 0):(n=r,r=i,i=void 0)),!1===n)n=vt;else if(!n)return t;return 1===s&&(o=n,(n=function(t){return S().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=S.guid++)),t.each(function(){S.event.add(this,e,n,r,i)})}function xt(t,n,s){s?(W.set(t,n,!1),S.event.add(t,n,{namespace:!1,handler:function(t){var e,i,r=W.get(this,n);if(1&t.isTrigger&&this[n]){if(r.length)(S.event.special[n]||{}).delegateType&&t.stopPropagation();else if(r=a.call(arguments),W.set(this,n,r),e=s(this,n),this[n](),r!==(i=W.get(this,n))||e?W.set(this,n,!1):i={},r!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else r.length&&(W.set(this,n,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===W.get(t,n)&&S.event.add(t,n,gt)}S.event={global:{},add:function(e,t,i,r,n){var s,o,a,l,h,u,c,d,f,p=W.get(e);if(z(e))for(i.handler&&(i=(s=i).handler,n=s.selector),n&&S.find.matchesSelector(it,n),i.guid||(i.guid=S.guid++),(a=p.events)||(a=p.events=Object.create(null)),(o=p.handle)||(o=p.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(N)||[""]).length;l--;)c=f=(h=_t.exec(t[l])||[])[1],d=(h[2]||"").split(".").sort(),c&&(u=S.event.special[c]||{},c=(n?u.delegateType:u.bindType)||c,u=S.event.special[c]||{},h=S.extend({type:c,origType:f,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&S.expr.match.needsContext.test(n),namespace:d.join(".")},s),(f=a[c])||((f=a[c]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,r,d,o)||e.addEventListener&&e.addEventListener(c,o)),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),n?f.splice(f.delegateCount++,0,h):f.push(h),S.event.global[c]=!0)},remove:function(t,e,i,r,n){var s,o,a,l,h,u,c,d,f,p,m,y=W.hasData(t)&&W.get(t);if(y&&(l=y.events)){for(h=(e=(e||"").match(N)||[""]).length;h--;)if(f=m=(a=_t.exec(e[h])||[])[1],p=(a[2]||"").split(".").sort(),f){for(c=S.event.special[f]||{},d=l[f=(r?c.delegateType:c.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)u=d[s],!n&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(s,1),u.selector&&d.delegateCount--,c.remove&&c.remove.call(t,u));o&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,p,y.handle)||S.removeEvent(t,f,y.handle),delete l[f])}else for(f in l)S.event.remove(t,f+e[h],i,r,!0);S.isEmptyObject(l)&&W.remove(t,"handle events")}},dispatch:function(t){var e,i,r,n,s,o=new Array(arguments.length),a=S.event.fix(t),l=(W.get(this,"events")||Object.create(null))[a.type]||[],t=S.event.special[a.type]||{};for(o[0]=a,e=1;e<arguments.length;e++)o[e]=arguments[e];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,l),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(n=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==n.namespace&&!a.rnamespace.test(n.namespace)||(a.handleObj=n,a.data=n.data,void 0!==(n=((S.event.special[n.origType]||{}).handle||n.handler).apply(r.elem,o))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,r,n,s,o,a=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&1<=t.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(s=[],o={},i=0;i<l;i++)void 0===o[n=(r=e[i]).selector+" "]&&(o[n]=r.needsContext?-1<S(n,this).index(h):S.find(n,this,null,[h]).length),o[n]&&s.push(r);s.length&&a.push({elem:h,handlers:s})}return h=this,l<e.length&&a.push({elem:h,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return ht.test(t.type)&&t.click&&P(t,"input")&&xt(t,"click",gt),!1},trigger:function(t){t=this||t;return ht.test(t.type)&&t.click&&P(t,"input")&&xt(t,"click"),!0},_default:function(t){t=t.target;return ht.test(t.type)&&t.click&&P(t,"input")&&W.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?gt:vt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:vt,isPropagationStopped:vt,isImmediatePropagationStopped:vt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=gt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=gt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=gt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return xt(this,t,bt),!1},trigger:function(){return xt(this,t),!0},_default:function(){return!0},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){S.event.special[t]={delegateType:n,bindType:n,handle:function(t){var e,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||S.contains(this,i))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=n),e}}}),S.fn.extend({on:function(t,e,i,r){return Tt(this,t,e,i,r)},one:function(t,e,i,r){return Tt(this,t,e,i,r,1)},off:function(t,e,i){var r,n;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,S(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=vt),this.each(function(){S.event.remove(this,t,i,e)});for(n in t)this.off(n,e,t[n]);return this}});var Et=/<script|<style|<link/i,St=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return P(t,"table")&&P(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function wt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ot(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,r,n,s;if(1===e.nodeType){if(W.hasData(t)&&(s=W.get(t).events))for(n in W.remove(e,"handle events"),s)for(i=0,r=s[n].length;i<r;i++)S.event.add(e,n,s[n][i]);$.hasData(t)&&(t=$.access(t),t=S.extend({},t),$.set(e,t))}}function Mt(i,r,n,s){r=_(r);var t,e,o,a,l,h,u=0,c=i.length,d=c-1,f=r[0],p=m(f);if(p||1<c&&"string"==typeof f&&!v.checkClone&&St.test(f))return i.each(function(t){var e=i.eq(t);p&&(r[0]=f.call(this,t,e.html())),Mt(e,r,n,s)});if(c&&(e=(t=yt(r,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(a=(o=S.map(ft(t,"script"),wt)).length;u<c;u++)l=t,u!==d&&(l=S.clone(l,!0,!0),a&&S.merge(o,ft(l,"script"))),n.call(i[u],l,u);if(a)for(h=o[o.length-1].ownerDocument,S.map(o,Ot),u=0;u<a;u++)l=o[u],ct.test(l.type||"")&&!W.access(l,"globalEval")&&S.contains(h,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&!l.noModule&&S._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},h):b(l.textContent.replace(At,""),l,h))}return i}function Ct(t,e,i){for(var r,n=e?S.filter(e,t):t,s=0;null!=(r=n[s]);s++)i||1!==r.nodeType||S.cleanData(ft(r)),r.parentNode&&(i&&rt(r)&&pt(ft(r,"script")),r.parentNode.removeChild(r));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var r,n,s,o,a,l,h,u=t.cloneNode(!0),c=rt(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(o=ft(u),r=0,n=(s=ft(t)).length;r<n;r++)a=s[r],l=o[r],h=void 0,"input"===(h=l.nodeName.toLowerCase())&&ht.test(a.type)?l.checked=a.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=a.defaultValue);if(e)if(i)for(s=s||ft(t),o=o||ft(u),r=0,n=s.length;r<n;r++)Rt(s[r],o[r]);else Rt(t,u);return 0<(o=ft(u,"script")).length&&pt(o,!c&&ft(t,"script")),u},cleanData:function(t){for(var e,i,r,n=S.event.special,s=0;void 0!==(i=t[s]);s++)if(z(i)){if(e=i[W.expando]){if(e.events)for(r in e.events)n[r]?S.event.remove(i,r):S.removeEvent(i,r,e.handle);i[W.expando]=void 0}i[$.expando]&&(i[$.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Ct(this,t,!0)},remove:function(t){return Ct(this,t)},text:function(t){return V(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Mt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Mt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Pt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(ft(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!dt[(ut.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(S.cleanData(ft(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Mt(this,arguments,function(t){var e=this.parentNode;S.inArray(this,i)<0&&(S.cleanData(ft(this)),e&&e.replaceChild(t,this))},i)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){S.fn[t]=function(t){for(var e,i=[],r=S(t),n=r.length-1,s=0;s<=n;s++)e=s===n?this:this.clone(!0),S(r[s])[o](e),l.apply(i,e.get());return this.pushStack(i)}});function It(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?x:e).getComputedStyle(t)}function Dt(t,e,i){var r,n={};for(r in e)n[r]=t.style[r],t.style[r]=e[r];for(r in i=i.call(t),e)t.style[r]=n[r];return i}var Nt,Ft,kt,Lt,Bt,Gt,Ut,Vt,jt=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Ht=new RegExp(et.join("|"),"i");function Xt(){var t;Vt&&(Ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(Ut).appendChild(Vt),t=x.getComputedStyle(Vt),Nt="1%"!==t.top,Gt=12===qt(t.marginLeft),Vt.style.right="60%",Lt=36===qt(t.right),Ft=36===qt(t.width),Vt.style.position="absolute",kt=12===qt(Vt.offsetWidth/3),it.removeChild(Ut),Vt=null)}function qt(t){return Math.round(parseFloat(t))}function zt(t,e,i){var r,n,s=t.style;return(i=i||It(t))&&(""!==(n=i.getPropertyValue(e)||i[e])||rt(t)||(n=S.style(t,e)),!v.pixelBoxStyles()&&jt.test(n)&&Ht.test(e)&&(r=s.width,t=s.minWidth,e=s.maxWidth,s.minWidth=s.maxWidth=s.width=n,n=i.width,s.width=r,s.minWidth=t,s.maxWidth=e)),void 0!==n?n+"":n}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ut=E.createElement("div"),(Vt=E.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Vt.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return Xt(),Ft},pixelBoxStyles:function(){return Xt(),Lt},pixelPosition:function(){return Xt(),Nt},reliableMarginLeft:function(){return Xt(),Gt},scrollboxSize:function(){return Xt(),kt},reliableTrDimensions:function(){var t,e,i;return null==Bt&&(t=E.createElement("table"),e=E.createElement("tr"),i=E.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",it.appendChild(t).appendChild(e).appendChild(i),i=x.getComputedStyle(e),Bt=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,it.removeChild(t)),Bt}}));var Wt=["Webkit","Moz","ms"],$t=E.createElement("div").style,Qt={};function Zt(t){var e=S.cssProps[t]||Qt[t];return e||(t in $t?t:Qt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Wt.length;i--;)if((t=Wt[i]+e)in $t)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ie(t,e,i){var r=tt.exec(e);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):e}function re(t,e,i,r,n,s){var o="width"===e?1:0,a=0,l=0;if(i===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=S.css(t,i+et[o],!0,n)),r?("content"===i&&(l-=S.css(t,"padding"+et[o],!0,n)),"margin"!==i&&(l-=S.css(t,"border"+et[o]+"Width",!0,n))):(l+=S.css(t,"padding"+et[o],!0,n),"padding"!==i?l+=S.css(t,"border"+et[o]+"Width",!0,n):a+=S.css(t,"border"+et[o]+"Width",!0,n));return!r&&0<=s&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-l-a-.5))||0),l}function ne(t,e,i){var r=It(t),n=(!v.boxSizingReliable()||i)&&"border-box"===S.css(t,"boxSizing",!1,r),s=n,o=zt(t,e,r),a="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(o)){if(!i)return o;o="auto"}return(!v.boxSizingReliable()&&n||!v.reliableTrDimensions()&&P(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===S.css(t,"display",!1,r))&&t.getClientRects().length&&(n="border-box"===S.css(t,"boxSizing",!1,r),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+re(t,e,i||(n?"border":"content"),s,r,o)+"px"}function se(t,e,i,r,n){return new se.prototype.init(t,e,i,r,n)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=zt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,s,o,a=q(e),l=Jt.test(e),h=t.style;if(l||(e=Zt(a)),o=S.cssHooks[e]||S.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(n=o.get(t,!1,r))?n:h[e];"string"===(s=typeof i)&&(n=tt.exec(i))&&n[1]&&(i=ot(t,e,n),s="number"),null!=i&&i==i&&("number"!==s||l||(i+=n&&n[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,r))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,r){var n,s=q(e);return Jt.test(e)||(e=Zt(s)),"normal"===(n=void 0===(n=(s=S.cssHooks[e]||S.cssHooks[s])&&"get"in s?s.get(t,!0,i):n)?zt(t,e,r):n)&&e in ee&&(n=ee[e]),""===i||i?(e=parseFloat(n),!0===i||isFinite(e)?e||0:n):n}}),S.each(["height","width"],function(t,a){S.cssHooks[a]={get:function(t,e,i){if(e)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ne(t,a,i):Dt(t,te,function(){return ne(t,a,i)})},set:function(t,e,i){var r,n=It(t),s=!v.scrollboxSize()&&"absolute"===n.position,o=(s||i)&&"border-box"===S.css(t,"boxSizing",!1,n),i=i?re(t,a,i,o,n):0;return o&&s&&(i-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(n[a])-re(t,a,"border",!1,n)-.5)),i&&(r=tt.exec(e))&&"px"!==(r[3]||"px")&&(t.style[a]=e,e=S.css(t,a)),ie(0,e,i)}}}),S.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(zt(t,"marginLeft"))||t.getBoundingClientRect().left-Dt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(n,s){S.cssHooks[n+s]={expand:function(t){for(var e=0,i={},r="string"==typeof t?t.split(" "):[t];e<4;e++)i[n+et[e]+s]=r[e]||r[e-2]||r[0];return i}},"margin"!==n&&(S.cssHooks[n+s].set=ie)}),S.fn.extend({css:function(t,e){return V(this,function(t,e,i){var r,n,s={},o=0;if(Array.isArray(e)){for(r=It(t),n=e.length;o<n;o++)s[e[o]]=S.css(t,e[o],!1,r);return s}return void 0!==i?S.style(t,e,i):S.css(t,e)},t,e,1<arguments.length)}}),((S.Tween=se).prototype={constructor:se,init:function(t,e,i,r,n,s){this.elem=t,this.prop=i,this.easing=n||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=s||(S.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return(t&&t.get?t:se.propHooks._default).get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:se.propHooks._default).set(this),this}}).init.prototype=se.prototype,(se.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=S.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=se.prototype.init,S.fx.step={};var oe,ae,le=/^(?:toggle|show|hide)$/,he=/queueHooks$/;function ue(){ae&&(!1===E.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(ue):x.setTimeout(ue,S.fx.interval),S.fx.tick())}function ce(){return x.setTimeout(function(){oe=void 0}),oe=Date.now()}function de(t,e){var i,r=0,n={height:t};for(e=e?1:0;r<4;r+=2-e)n["margin"+(i=et[r])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function fe(t,e,i){for(var r,n=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),s=0,o=n.length;s<o;s++)if(r=n[s].call(i,e,t))return r}function pe(n,t,e){var i,s,r=0,o=pe.prefilters.length,a=S.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=oe||ce(),t=Math.max(0,h.startTime+h.duration-t),e=1-(t/h.duration||0),i=0,r=h.tweens.length;i<r;i++)h.tweens[i].run(e);return a.notifyWith(n,[h,e,t]),e<1&&r?t:(r||a.notifyWith(n,[h,1,0]),a.resolveWith(n,[h]),!1)},h=a.promise({elem:n,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:oe||ce(),duration:e.duration,tweens:[],createTween:function(t,e){t=S.Tween(n,h.opts,t,e,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(t),t},stop:function(t){var e=0,i=t?h.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)h.tweens[e].run(1);return t?(a.notifyWith(n,[h,1,0]),a.resolveWith(n,[h,t])):a.rejectWith(n,[h,t]),this}}),u=h.props;for(!function(t,e){var i,r,n,s,o;for(i in t)if(n=e[r=q(i)],s=t[i],Array.isArray(s)&&(n=s[1],s=t[i]=s[0]),i!==r&&(t[r]=s,delete t[i]),(o=S.cssHooks[r])&&"expand"in o)for(i in s=o.expand(s),delete t[r],s)i in t||(t[i]=s[i],e[i]=n);else e[r]=n}(u,h.opts.specialEasing);r<o;r++)if(i=pe.prefilters[r].call(h,n,u,h.opts))return m(i.stop)&&(S._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)),i;return S.map(u,fe,h),m(h.opts.start)&&h.opts.start.call(n,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),S.fx.timer(S.extend(l,{elem:n,anim:h,queue:h.opts.queue})),h}S.Animation=S.extend(pe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ot(i.elem,t,tt.exec(e),i),i}]},tweener:function(t,e){for(var i,r=0,n=(t=m(t)?(e=t,["*"]):t.match(N)).length;r<n;r++)i=t[r],pe.tweeners[i]=pe.tweeners[i]||[],pe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var r,n,s,o,a,l,h,u="width"in e||"height"in e,c=this,d={},f=t.style,p=t.nodeType&&st(t),m=W.get(t,"fxshow");for(r in i.queue||(null==(o=S._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,S.queue(t,"fx").length||o.empty.fire()})})),e)if(n=e[r],le.test(n)){if(delete e[r],s=s||"toggle"===n,n===(p?"hide":"show")){if("show"!==n||!m||void 0===m[r])continue;p=!0}d[r]=m&&m[r]||S.style(t,r)}if((l=!S.isEmptyObject(e))||!S.isEmptyObject(d))for(r in u&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=m&&m.display)&&(h=W.get(t,"display")),"none"===(u=S.css(t,"display"))&&(h?u=h:(lt([t],!0),h=t.style.display||h,u=S.css(t,"display"),lt([t]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===S.css(t,"float")&&(l||(c.done(function(){f.display=h}),null==h&&(u=f.display,h="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,d)l||(m?"hidden"in m&&(p=m.hidden):m=W.access(t,"fxshow",{display:h}),s&&(m.hidden=!p),p&&lt([t],!0),c.done(function(){for(r in p||lt([t]),W.remove(t,"fxshow"),d)S.style(t,r,d[r])})),l=fe(p?m[r]:0,r,c),r in m||(m[r]=l.start,p&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),S.speed=function(t,e,i){var r=t&&"object"==typeof t?S.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(t,e,i,r){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(e,t,i,r){var n=S.isEmptyObject(e),s=S.speed(t,i,r),r=function(){var t=pe(this,S.extend({},e),s);(n||W.get(this,"finish"))&&t.stop(!0)};return r.finish=r,n||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(n,t,s){function o(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof n&&(s=t,t=n,n=void 0),t&&this.queue(n||"fx",[]),this.each(function(){var t=!0,e=null!=n&&n+"queueHooks",i=S.timers,r=W.get(this);if(e)r[e]&&r[e].stop&&o(r[e]);else for(e in r)r[e]&&r[e].stop&&he.test(e)&&o(r[e]);for(e=i.length;e--;)i[e].elem!==this||null!=n&&i[e].queue!==n||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||S.dequeue(this,n)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=W.get(this),i=e[o+"queue"],r=e[o+"queueHooks"],n=S.timers,s=i?i.length:0;for(e.finish=!0,S.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===o&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,r){var n=S.fn[r];S.fn[r]=function(t,e,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(de(r,!0),t,e,i)}}),S.each({slideDown:de("show"),slideUp:de("hide"),slideToggle:de("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){S.fn[t]=function(t,e,i){return this.animate(r,t,e,i)}}),S.timers=[],S.fx.tick=function(){var t,e=0,i=S.timers;for(oe=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||S.fx.stop(),oe=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ae||(ae=!0,ue())},S.fx.stop=function(){ae=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,t){return r=S.fx&&S.fx.speeds[r]||r,this.queue(t=t||"fx",function(t,e){var i=x.setTimeout(t,r);e.stop=function(){x.clearTimeout(i)}})},Ye=E.createElement("input"),J=E.createElement("select").appendChild(E.createElement("option")),Ye.type="checkbox",v.checkOn=""!==Ye.value,v.optSelected=J.selected,(Ye=E.createElement("input")).value="t",Ye.type="radio",v.radioValue="t"===Ye.value;var me,ye=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return V(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,i){var r,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?S.prop(t,e,i):(1===s&&S.isXMLDoc(t)||(n=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?me:void 0)),void 0!==i?null===i?void S.removeAttr(t,e):n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):!(n&&"get"in n&&null!==(r=n.get(t,e)))&&null==(r=S.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&P(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,r=0,n=e&&e.match(N);if(n&&1===t.nodeType)for(;i=n[r++];)t.removeAttribute(i)}}),me={set:function(t,e,i){return!1===e?S.removeAttr(t,i):t.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ye[e]||S.find.attr;ye[e]=function(t,e,i){var r,n,s=e.toLowerCase();return i||(n=ye[s],ye[s]=r,r=null!=o(t,e,i)?s:null,ye[s]=n),r}});var _e=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function ve(t){return(t.match(N)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function Te(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}S.fn.extend({prop:function(t,e){return V(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,i){var r,n,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&S.isXMLDoc(t)||(e=S.propFix[e]||e,n=S.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:t[e]=i:n&&"get"in n&&null!==(r=n.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,i,r,n,s,o,a=0;if(m(e))return this.each(function(t){S(this).addClass(e.call(this,t,be(this)))});if((t=Te(e)).length)for(;i=this[a++];)if(o=be(i),r=1===i.nodeType&&" "+ve(o)+" "){for(s=0;n=t[s++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");o!==(o=ve(r))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,r,n,s,o,a=0;if(m(e))return this.each(function(t){S(this).removeClass(e.call(this,t,be(this)))});if(!arguments.length)return this.attr("class","");if((t=Te(e)).length)for(;i=this[a++];)if(o=be(i),r=1===i.nodeType&&" "+ve(o)+" "){for(s=0;n=t[s++];)for(;-1<r.indexOf(" "+n+" ");)r=r.replace(" "+n+" "," ");o!==(o=ve(r))&&i.setAttribute("class",o)}return this},toggleClass:function(n,e){var s=typeof n,o="string"==s||Array.isArray(n);return"boolean"==typeof e&&o?e?this.addClass(n):this.removeClass(n):m(n)?this.each(function(t){S(this).toggleClass(n.call(this,t,be(this),e),e)}):this.each(function(){var t,e,i,r;if(o)for(e=0,i=S(this),r=Te(n);t=r[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==n&&"boolean"!=s||((t=be(this))&&W.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==n&&W.get(this,"__className__")||""))})},hasClass:function(t){for(var e,i=0,r=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+ve(be(e))+" ").indexOf(r))return!0;return!1}});var xe=/\r/g;S.fn.extend({val:function(e){var i,t,r,n=this[0];return arguments.length?(r=m(e),this.each(function(t){1===this.nodeType&&(null==(t=r?e.call(this,t,S(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(t){return null==t?"":t+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):n?(i=S.valHooks[n.type]||S.valHooks[n.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(n,"value"))?t:"string"==typeof(t=n.value)?t.replace(xe,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ve(S.text(t))}},select:{get:function(t){for(var e,i=t.options,r=t.selectedIndex,n="select-one"===t.type,s=n?null:[],o=n?r+1:i.length,a=r<0?o:n?r:0;a<o;a++)if(((e=i[a]).selected||a===r)&&!e.disabled&&(!e.parentNode.disabled||!P(e.parentNode,"optgroup"))){if(e=S(e).val(),n)return e;s.push(e)}return s},set:function(t,e){for(var i,r,n=t.options,s=S.makeArray(e),o=n.length;o--;)((r=n[o]).selected=-1<S.inArray(S.valHooks.option.get(r),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in x;function Ee(t){t.stopPropagation()}var Se=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,i,r){var n,s,o,a,l,h,u,c=[i||E],d=g.call(t,"type")?t.type:t,f=g.call(t,"namespace")?t.namespace.split("."):[],p=u=s=i=i||E;if(3!==i.nodeType&&8!==i.nodeType&&!Se.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),a=d.indexOf(":")<0&&"on"+d,(t=t[S.expando]?t:new S.Event(d,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),h=S.event.special[d]||{},r||!h.trigger||!1!==h.trigger.apply(i,e))){if(!r&&!h.noBubble&&!y(i)){for(o=h.delegateType||d,Se.test(o+d)||(p=p.parentNode);p;p=p.parentNode)c.push(p),s=p;s===(i.ownerDocument||E)&&c.push(s.defaultView||s.parentWindow||x)}for(n=0;(p=c[n++])&&!t.isPropagationStopped();)u=p,t.type=1<n?o:h.bindType||d,(l=(W.get(p,"events")||Object.create(null))[t.type]&&W.get(p,"handle"))&&l.apply(p,e),(l=a&&p[a])&&l.apply&&z(p)&&(t.result=l.apply(p,e),!1===t.result&&t.preventDefault());return t.type=d,r||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(c.pop(),e)||!z(i)||a&&m(i[d])&&!y(i)&&((s=i[a])&&(i[a]=null),S.event.triggered=d,t.isPropagationStopped()&&u.addEventListener(d,Ee),i[d](),t.isPropagationStopped()&&u.removeEventListener(d,Ee),S.event.triggered=void 0,s&&(i[a]=s)),t.result}},simulate:function(t,e,i){t=S.extend(new S.Event,i,{type:t,isSimulated:!0});S.event.trigger(t,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return S.event.trigger(t,e,i,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(i,r){function n(t){S.event.simulate(r,t.target,S.event.fix(t))}S.event.special[r]={setup:function(){var t=this.ownerDocument||this.document||this,e=W.access(t,r);e||t.addEventListener(i,n,!0),W.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=W.access(t,r)-1;e?W.access(t,r,e):(t.removeEventListener(i,n,!0),W.remove(t,r))}}});var Ae=x.location,Pe={guid:Date.now()},we=/\?/;S.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new x.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||S.error("Invalid XML: "+(i?S.map(i.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var Oe=/\[\]$/,Re=/\r?\n/g,Me=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){function i(t,e){e=m(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var r,n=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){i(this.name,this.value)});else for(r in t)!function i(r,t,n,s){if(Array.isArray(t))S.each(t,function(t,e){n||Oe.test(r)?s(r,e):i(r+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,s)});else if(n||"object"!==p(t))s(r,t);else for(var e in t)i(r+"["+e+"]",t[e],n,s)}(r,t[r],e,i);return n.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Ce.test(this.nodeName)&&!Me.test(t)&&(this.checked||!ht.test(t))}).map(function(t,e){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:i.replace(Re,"\r\n")}}).get()}});var Ie=/%20/g,De=/#.*$/,Ne=/([?&])_=[^&]*/,Fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,ke=/^(?:GET|HEAD)$/,Le=/^\/\//,Be={},Ge={},Ue="*/".concat("*"),Ve=E.createElement("a");function je(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,r=0,n=t.toLowerCase().match(N)||[];if(m(e))for(;i=n[r++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function He(e,r,n,s){var o={},a=e===Ge;function l(t){var i;return o[t]=!0,S.each(e[t]||[],function(t,e){e=e(r,n,s);return"string"!=typeof e||a||o[e]?a?!(i=e):void 0:(r.dataTypes.unshift(e),l(e),!1)}),i}return l(r.dataTypes[0])||!o["*"]&&l("*")}function Xe(t,e){var i,r,n=S.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:r=r||{})[i]=e[i]);return r&&S.extend(!0,t,r),t}Ve.href=Ae.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,S.ajaxSettings),e):Xe(S.ajaxSettings,t)},ajaxPrefilter:je(Be),ajaxTransport:je(Ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,h,u,i,c,d,f,r,n,p=S.ajaxSetup({},e=e||{}),m=p.context||p,y=p.context&&(m.nodeType||m.jquery)?S(m):S.event,_=S.Deferred(),g=S.Callbacks("once memory"),v=p.statusCode||{},s={},o={},a="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(d){if(!i)for(i={};e=Fe.exec(u);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return d?u:null},setRequestHeader:function(t,e){return null==d&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==d&&(p.mimeType=t),this},statusCode:function(t){if(t)if(d)b.always(t[b.status]);else for(var e in t)v[e]=[v[e],t[e]];return this},abort:function(t){t=t||a;return l&&l.abort(t),T(0,t),this}};if(_.promise(b),p.url=((t||p.url||Ae.href)+"").replace(Le,Ae.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){n=E.createElement("a");try{n.href=p.url,n.href=n.href,p.crossDomain=Ve.protocol+"//"+Ve.host!=n.protocol+"//"+n.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=S.param(p.data,p.traditional)),He(Be,p,e,b),d)return b;for(r in(f=S.event&&p.global)&&0==S.active++&&S.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!ke.test(p.type),h=p.url.replace(De,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ie,"+")):(n=p.url.slice(h.length),p.data&&(p.processData||"string"==typeof p.data)&&(h+=(we.test(h)?"&":"?")+p.data,delete p.data),!1===p.cache&&(h=h.replace(Ne,"$1"),n=(we.test(h)?"&":"?")+"_="+Pe.guid+++n),p.url=h+n),p.ifModified&&(S.lastModified[h]&&b.setRequestHeader("If-Modified-Since",S.lastModified[h]),S.etag[h]&&b.setRequestHeader("If-None-Match",S.etag[h])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&b.setRequestHeader("Content-Type",p.contentType),b.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ue+"; q=0.01":""):p.accepts["*"]),p.headers)b.setRequestHeader(r,p.headers[r]);if(p.beforeSend&&(!1===p.beforeSend.call(m,b,p)||d))return b.abort();if(a="abort",g.add(p.complete),b.done(p.success),b.fail(p.error),l=He(Ge,p,e,b)){if(b.readyState=1,f&&y.trigger("ajaxSend",[b,p]),d)return b;p.async&&0<p.timeout&&(c=x.setTimeout(function(){b.abort("timeout")},p.timeout));try{d=!1,l.send(s,T)}catch(t){if(d)throw t;T(-1,t)}}else T(-1,"No Transport");function T(t,e,i,r){var n,s,o,a=e;d||(d=!0,c&&x.clearTimeout(c),l=void 0,u=r||"",b.readyState=0<t?4:0,r=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var r,n,s,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(n in a)if(a[n]&&a[n].test(r)){l.unshift(n);break}if(l[0]in i)s=l[0];else{for(n in i){if(!l[0]||t.converters[n+" "+l[0]]){s=n;break}o=o||n}s=s||o}if(s)return s!==l[0]&&l.unshift(s),i[s]}(p,b,i)),!r&&-1<S.inArray("script",p.dataTypes)&&S.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),o=function(t,e,i,r){var n,s,o,a,l,h={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)h[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=h[l+" "+s]||h["* "+s]))for(n in h)if((a=n.split(" "))[1]===s&&(o=h[l+" "+a[0]]||h["* "+a[0]])){!0===o?o=h[n]:!0!==h[n]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}(p,o,b,r),r?(p.ifModified&&((i=b.getResponseHeader("Last-Modified"))&&(S.lastModified[h]=i),(i=b.getResponseHeader("etag"))&&(S.etag[h]=i)),204===t||"HEAD"===p.type?a="nocontent":304===t?a="notmodified":(a=o.state,n=o.data,r=!(s=o.error))):(s=a,!t&&a||(a="error",t<0&&(t=0))),b.status=t,b.statusText=(e||a)+"",r?_.resolveWith(m,[n,a,b]):_.rejectWith(m,[b,a,s]),b.statusCode(v),v=void 0,f&&y.trigger(r?"ajaxSuccess":"ajaxError",[b,p,r?n:s]),g.fireWith(m,[b,a]),f&&(y.trigger("ajaxComplete",[b,p]),--S.active||S.event.trigger("ajaxStop")))}return b},getJSON:function(t,e,i){return S.get(t,e,i,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,n){S[n]=function(t,e,i,r){return m(e)&&(r=r||i,i=e,e=void 0),S.ajax(S.extend({url:t,type:n,dataType:r,data:e,success:i},S.isPlainObject(t)&&t))}}),S.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),S._evalUrl=function(t,e,i){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,i)}})},S.fn.extend({wrapAll:function(t){return this[0]&&(m(t)&&(t=t.call(this[0])),t=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return m(i)?this.each(function(t){S(this).wrapInner(i.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=m(e);return this.each(function(t){S(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},ze=S.ajaxSettings.xhr();v.cors=!!ze&&"withCredentials"in ze,v.ajax=ze=!!ze,S.ajaxTransport(function(n){var s,o;if(v.cors||ze&&!n.crossDomain)return{send:function(t,e){var i,r=n.xhr();if(r.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(i in n.xhrFields)r[i]=n.xhrFields[i];for(i in n.mimeType&&r.overrideMimeType&&r.overrideMimeType(n.mimeType),n.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=o=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(qe[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=s(),o=r.onerror=r.ontimeout=s("error"),void 0!==r.onabort?r.onabort=o:r.onreadystatechange=function(){4===r.readyState&&x.setTimeout(function(){s&&o()})},s=s("abort");try{r.send(n.hasContent&&n.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(i){var r,n;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){r=S("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",n=function(t){r.remove(),n=null,t&&e("error"===t.type?404:200,t.type)}),E.head.appendChild(r[0])},abort:function(){n&&n()}}});var Ye,We=[],$e=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||S.expando+"_"+Pe.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,i){var r,n,s,o=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace($e,"$1"+r):!1!==t.jsonp&&(t.url+=(we.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||S.error(r+" was not called"),s[0]},t.dataTypes[0]="json",n=x[r],x[r]=function(){s=arguments},i.always(function(){void 0===n?S(x).removeProp(r):x[r]=n,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),s&&m(n)&&n(s[0]),s=n=void 0}),"script"}),v.createHTMLDocument=((Ye=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),S.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((r=(e=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,e.head.appendChild(r)):e=E),r=!i&&[],(i=w.exec(t))?[e.createElement(i[1])]:(i=yt([t],e,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes)));var r},S.fn.load=function(t,e,i){var r,n,s,o=this,a=t.indexOf(" ");return-1<a&&(r=ve(t.slice(a)),t=t.slice(0,a)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),0<o.length&&S.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(r?S("<div>").append(S.parseHTML(t)).find(r):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,i){var r,n,s,o,a=S.css(t,"position"),l=S(t),h={};"static"===a&&(t.style.position="relative"),s=l.offset(),r=S.css(t,"top"),o=S.css(t,"left"),o=("absolute"===a||"fixed"===a)&&-1<(r+o).indexOf("auto")?(n=(a=l.position()).top,a.left):(n=parseFloat(r)||0,parseFloat(o)||0),null!=(e=m(e)?e.call(t,i,S.extend({},s)):e).top&&(h.top=e.top-s.top+n),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):l.css(h)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,r=this[0],n={top:0,left:0};if("fixed"===S.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),i=r.ownerDocument,t=r.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((n=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),n.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-S.css(r,"marginTop",!0),left:e.left-n.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||it})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var s="pageYOffset"===n;S.fn[e]=function(t){return V(this,function(t,e,i){var r;return y(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===i?r?r[n]:t[e]:void(r?r.scrollTo(s?r.pageXOffset:i,s?i:r.pageYOffset):t[e]=i)},e,t,arguments.length)}}),S.each(["top","left"],function(t,i){S.cssHooks[i]=Yt(v.pixelPosition,function(t,e){if(e)return e=zt(t,i),jt.test(e)?S(t).position()[i]+"px":e})}),S.each({Height:"height",Width:"width"},function(o,a){S.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,s){S.fn[s]=function(t,e){var i=arguments.length&&(r||"boolean"!=typeof t),n=r||(!0===t||!0===e?"margin":"border");return V(this,function(t,e,i){var r;return y(t)?0===s.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+o],r["scroll"+o],t.body["offset"+o],r["offset"+o],r["client"+o])):void 0===i?S.css(t,e,n):S.style(t,e,i,n)},a,i?t:void 0,i)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){S.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var i,r;if("string"==typeof e&&(r=t[e],e=t,t=r),m(t))return i=a.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||S.guid++,r},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=P,S.isFunction=m,S.isWindow=y,S.camelCase=q,S.type=p,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Ze=x.jQuery,Ke=x.$;return S.noConflict=function(t){return x.$===S&&(x.$=Ke),t&&x.jQuery===S&&(x.jQuery=Ze),S},void 0===t&&(x.jQuery=x.$=S),S})},{}],52:[function(t,e,i){"use strict";var r;function y(t,e){return t.b===e.b&&t.a===e.a}function _(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function g(t,e,i){var r=e.b-t.b,n=i.b-e.b;return 0<r+n?r<n?e.a-t.a+r/(r+n)*(t.a-i.a):e.a-i.a+n/(r+n)*(i.a-t.a):0}function v(t,e,i){var r=e.b-t.b,n=i.b-e.b;return 0<r+n?(e.a-i.a)*r+(e.a-t.a)*n:0}function b(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function T(t,e,i){var r=e.a-t.a,n=i.a-e.a;return 0<r+n?r<n?e.b-t.b+r/(r+n)*(t.b-i.b):e.b-i.b+n/(r+n)*(i.b-t.b):0}function x(t,e,i){var r=e.a-t.a,n=i.a-e.a;return 0<r+n?(e.b-i.b)*r+(e.b-t.b)*n:0}function E(t,e,i,r){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(e+r)/2:e+t/(t+i)*(r-e):r+i/(t+i)*(e-r)}function o(t){var e=s(t.b);return n(e,t.c),n(e.b,t.c),a(e,t.a),e}function S(t,e){var i=!1,r=!1;t!==e&&(e.a!==t.a&&(r=!0,m(e.a,t.a)),e.d!==t.d&&(i=!0,l(e.d,t.d)),f(e,t),r||(n(e,t.a),t.a.c=t),i||(a(e,t.d),t.d.a=t))}function c(t){var e=t.b,i=!1;t.d!==t.b.d&&(i=!0,l(t.d,t.b.d)),t.c===t?m(t.a,null):(t.b.d.a=t.b.e,t.a.c=t.c,f(t,t.b.e),i||a(t,t.d)),e.c===e?(m(e.a,null),l(e.d,null)):(t.d.a=e.b.e,e.a.c=e.c,f(e,e.b.e)),p(t)}function A(t){var e=s(t),i=e.b;return f(e,t.e),e.a=t.b.a,n(i,e.a),e.d=i.d=t.d,e=e.b,f(t.b,t.b.b.e),f(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function d(t,e){var i=!1,r=s(t),n=r.b;return e.d!==t.d&&(i=!0,l(e.d,t.d)),f(r,t.e),f(n,e),r.a=t.b.a,n.a=e.a,r.d=n.d=t.d,t.d.a=n,i||a(r,t.d),r}function s(t){var e=new $,i=new $,r=t.b.h;return(((i.h=r).b.h=e).h=t).b.h=i,e.b=i,((e.c=e).e=i).b=e,(i.c=i).e=e}function f(t,e){var i=t.c,r=e.c;i.b.e=e,(r.b.e=t).c=r,e.c=i}function n(t,e){var i=e.f,r=new Z(e,i);for(i.e=r,i=(e.f=r).c=t;i.a=r,(i=i.c)!==t;);}function a(t,e){var i=e.d,r=new W(e,i);for(i.b=r,(e.d=r).a=t,r.c=e.c,i=t;i.d=r,(i=i.e)!==t;);}function p(t){var e=t.h;t=t.b.h,(e.b.h=t).b.h=e}function m(t,e){for(var i=t.c,r=i;r.a=e,(r=r.c)!==i;);i=t.f,((r=t.e).f=i).e=r}function l(t,e){for(var i=t.a,r=i;r.d=e,(r=r.e)!==i;);i=t.d,((r=t.b).d=i).b=r}function P(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),e=Math.abs(t[2])>Math.abs(t[e])?2:e}function w(t,e){t.f+=e.f,t.b.f+=e.b.f}function h(t,e,i){return t=t.a,e=e.a,i=i.a,e.b.a===t?i.b.a===t?_(e.a,i.a)?v(i.b.a,e.a,i.a)<=0:0<=v(e.b.a,i.a,e.a):v(i.b.a,t,i.a)<=0:i.b.a===t?0<=v(e.b.a,t,e.a):(e=g(e.b.a,t,e.a),(t=g(i.b.a,t,i.a))<=e)}function O(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function R(t,e){c(t.a),t.c=!1,(t.a=e).i=t}function M(t){for(var e=t.a.a;(t=ht(t)).a.a===e;);return t.c&&(R(t,e=d(lt(t).a.b,t.a.e)),t=ht(t)),t}function C(t,e,i){var r=new at;return r.a=i,r.e=H(t.f,e.e,r),i.i=r}function I(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return e<0;case 100134:return 2<=e||e<=-2}return!1}function u(t){var e=t.a,i=e.d;i.c=t.d,i.a=e,O(t)}function D(t,e,i){for(e=(t=e).a;t!==i;){t.c=!1;var r=lt(t),n=r.a;if(n.a!==e.a){if(!r.c){u(t);break}R(r,n=d(e.c.b,n.b))}e.c!==n&&(S(n.b.e,n),S(e,n)),u(t),e=r.a,t=r}return e}function N(t,e,i,r,n,s){for(var o=!0;C(t,e,i.b),(i=i.c)!==r;);for(null===n&&(n=lt(e).a.b.c);(i=(r=lt(e)).a.b).a===n.a;)i.c!==n&&(S(i.b.e,i),S(n.b.e,i)),r.f=e.f-i.f,r.d=I(t,r.f),e.b=!0,!o&&B(t,e)&&(w(i,n),O(e),c(n)),o=!1,e=r,n=i;e.b=!0,s&&U(t,e)}function F(t,e,i,r,n){var s=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(s,i,r,t.c)||null,null===e.d&&(n?t.n||(Y(t,100156),t.n=!0):e.d=i[0])}function k(t,e,i){var r=[null,null,null,null];r[0]=e.a.d,r[1]=i.a.d,F(t,e.a,r,[.5,.5,0,0],!1),S(e,i)}function L(t,e,i,r,n){var s=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),o=Math.abs(i.b-t.b)+Math.abs(i.a-t.a),a=n+1;r[n]=.5*o/(s+o),r[a]=.5*s/(s+o),t.g[0]+=r[n]*e.g[0]+r[a]*i.g[0],t.g[1]+=r[n]*e.g[1]+r[a]*i.g[1],t.g[2]+=r[n]*e.g[2]+r[a]*i.g[2]}function B(t,e){var i=lt(e),r=e.a,n=i.a;if(_(r.a,n.a)){if(0<v(n.b.a,r.a,n.a))return;if(y(r.a,n.a)){if(r.a!==n.a){var i=t.e,s=r.a.h;if(0<=s){var o=(i=i.b).d,a=i.e,l=i.c,h=l[s];o[h]=o[i.a],(l[o[h]]=h)<=--i.a&&(h<=1||_(a[o[h>>1]],a[o[h]])?st:ot)(i,h),a[s]=null,l[s]=i.b,i.b=s}else for(i.c[-(s+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;k(t,n.b.e,r)}}else A(n.b),S(r,n.b.e),e.b=i.b=!0}else{if(v(r.b.a,n.a,r.a)<0)return;ht(e).b=e.b=!0,A(r.b),S(n.b.e,r)}return 1}function G(t,e){var i=lt(e),r=e.a,n=i.a,s=r.a,o=n.a,a=r.b.a,l=n.b.a,h=new Z;if(v(a,t.a,s),v(l,t.a,o),!(s===o||Math.min(s.a,a.a)>Math.max(o.a,l.a))){if(_(s,o)){if(0<v(l,s,o))return}else if(v(a,o,s)<0)return;var u,c,d=a,f=s,p=l,m=o;if(_(d,f)||(u=d,d=f,f=u),_(p,m)||(u=p,p=m,m=u),_(d,p)||(u=d,d=p,p=u,u=f,f=m,m=u),_(p,f)?_(f,m)?((u=g(d,p,f))+(c=g(p,f,m))<0&&(u=-u,c=-c),h.b=E(u,p.b,c,f.b)):((u=v(d,p,f))+(c=-v(d,m,f))<0&&(u=-u,c=-c),h.b=E(u,p.b,c,m.b)):h.b=(p.b+f.b)/2,b(d,f)||(u=d,d=f,f=u),b(p,m)||(u=p,p=m,m=u),b(d,p)||(u=d,d=p,p=u,u=f,f=m,m=u),b(p,f)?b(f,m)?((u=T(d,p,f))+(c=T(p,f,m))<0&&(u=-u,c=-c),h.a=E(u,p.a,c,f.a)):((u=x(d,p,f))+(c=-x(d,m,f))<0&&(u=-u,c=-c),h.a=E(u,p.a,c,m.a)):h.a=(p.a+f.a)/2,_(h,t.a)&&(h.b=t.a.b,h.a=t.a.a),d=_(s,o)?s:o,_(d,h)&&(h.b=d.b,h.a=d.a),y(h,s)||y(h,o))return B(t,e),0;if(!y(a,t.a)&&0<=v(a,t.a,h)||!y(l,t.a)&&v(l,t.a,h)<=0){if(l===t.a)return A(r.b),S(n.b,r),r=lt(e=M(e)).a,D(t,lt(e),i),N(t,e,r.b.e,r,r,!0),1;if(a!==t.a)return 0<=v(a,t.a,h)&&(ht(e).b=e.b=!0,A(r.b),r.a.b=t.a.b,r.a.a=t.a.a),void(v(l,t.a,h)<=0&&(e.b=i.b=!0,A(n.b),n.a.b=t.a.b,n.a.a=t.a.a));for(A(n.b),S(r.e,n.b.e),o=(s=i=e).a.b.a;(s=ht(s)).a.b.a===o;);return s=lt(e=s).a.b.c,i.a=n.b.e,N(t,e,(n=D(t,i,null)).c,r.b.c,s,!0),1}A(r.b),A(n.b),S(n.b.e,r),r.a.b=h.b,r.a.a=h.a,r.a.h=J(t.e,r.a),r=r.a,n=[0,0,0,0],h=[s.d,a.d,o.d,l.d],r.g[0]=r.g[1]=r.g[2]=0,L(r,s,a,n,0),L(r,o,l,n,2),F(t,r,h,n,!0),ht(e).b=e.b=i.b=!0}}function U(t,e){for(var i=lt(e);;){for(;i.b;)i=lt(e=i);if(!e.b&&(null===(e=ht(i=e))||!e.b))break;e.b=!1;var r=e.a,n=i.a;if(s=r.b.a!==n.b.a)t:{var s,o=lt(s=e),a=s.a,l=o.a,h=void 0;if(_(a.b.a,l.b.a)){if(v(a.b.a,l.b.a,a.a)<0){s=!1;break t}ht(s).b=s.b=!0,h=A(a),S(l.b,h),h.d.c=s.d}else{if(0<v(l.b.a,a.b.a,l.a)){s=!1;break t}s.b=o.b=!0,h=A(l),S(a.e,l.b),h.b.d.c=s.d}s=!0}if(s&&(i.c?(O(i),c(n),n=(i=lt(e)).a):e.c&&(O(e),c(r),r=(e=ht(i)).a)),r.a!==n.a)if(r.b.a===n.b.a||e.c||i.c||r.b.a!==t.a&&n.b.a!==t.a)B(t,e);else if(G(t,e))break;r.a===n.a&&r.b.a===n.b.a&&(w(n,r),O(e),c(r),e=ht(i))}}function V(t,e){var i=new at,r=o(t.b);r.a.b=4e150,r.a.a=e,r.b.a.b=-4e150,r.b.a.a=e,t.a=r.b.a,i.a=r,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,r=H(r=t.f,r.a,i),i.e=r}function j(t){this.a=new X,this.b=t,this.c=h}function H(t,e,i){for(;null!==(e=e.c).b&&!t.c(t.b,e.b,i););return t=new X(i,e.a,e),e.a.c=t,e.a=t}function X(t,e,i){this.b=t||null,this.a=e||this,this.c=i||this}function q(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function z(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case 0:Y(t,100151),t.u(null);break;case 1:Y(t,100152),t.t()}else switch(t.d){case 2:Y(t,100154),t.v();break;case 1:Y(t,100153),t.w()}}function Y(t,e){t.p&&t.p(e,t.c)}function W(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function $(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Q(){this.c=new Z,this.a=new W,this.b=new $,this.d=new $,this.b.b=this.d,this.d.b=this.b}function Z(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function K(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new et}function J(t,e){if(t.e){var i,r=t.b,n=++r.a;return 2*n>r.f&&(r.f*=2,r.c=it(r.c,r.f+1)),0===r.b?i=n:(i=r.b,r.b=r.c[r.b]),r.e[i]=e,r.c[i]=n,r.d[n]=i,r.h&&ot(r,n),i}return r=t.a++,t.c[r]=e,-(r+1)}function tt(t){if(0===t.a)return nt(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&_(rt(t.b),e))return nt(t.b);for(;--t.a,0<t.a&&null===t.c[t.d[t.a-1]];);return e}function et(){this.d=it([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function it(t,e){for(var i=Array(e),r=0;r<t.length;r++)i[r]=t[r];for(;r<e;r++)i[r]=0;return i}function rt(t){return t.e[t.d[1]]}function nt(t){var e=t.d,i=t.e,r=t.c,n=e[1],s=i[n];return 0<t.a&&(e[1]=e[t.a],r[e[1]]=1,i[n]=null,r[n]=t.b,t.b=n,0<--t.a&&st(t,1)),s}function st(t,e){for(var i=t.d,r=t.e,n=t.c,s=e,o=i[s];;){var a=s<<1;a<t.a&&_(r[i[a+1]],r[i[a]])&&(a+=1);var l=i[a];if(a>t.a||_(r[o],r[l])){n[i[s]=o]=s;break}n[i[s]=l]=s,s=a}}function ot(t,e){for(var i=t.d,r=t.e,n=t.c,s=e,o=i[s];;){var a=s>>1,l=i[a];if(0==a||_(r[l],r[o])){n[i[s]=o]=s;break}n[i[s]=l]=s,s=a}}function at(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function lt(t){return t.e.c.b}function ht(t){return t.e.a.b}(r=q.prototype).x=function(){z(this,0)},r.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void Y(this,100900)}Y(this,100901)},r.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Y(this,100900)}return!1},r.A=function(t,e,i){this.j[0]=t,this.j[1]=e,this.j[2]=i},r.z=function(t,e){var i=e||null;switch(t){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:Y(this,100900)}},r.C=function(t,e){var i=!1,r=[0,0,0];z(this,2);for(var n=0;n<3;++n){var s=t[n];s<-1e150&&(s=-1e150,i=!0),1e150<s&&(s=1e150,i=!0),r[n]=s}i&&Y(this,100155),null===(i=this.q)?S(i=o(this.b),i.b):(A(i),i=i.e),i.a.d=e,i.a.g[0]=r[0],i.a.g[1]=r[1],i.a.g[2]=r[2],i.f=1,i.b.f=-1,this.q=i},r.u=function(t){z(this,0),this.d=1,this.b=new Q,this.c=t},r.t=function(){z(this,1),this.d=2,this.q=null},r.v=function(){z(this,2),this.d=1},r.w=function(){z(this,1),this.d=0;var t,e,i=!1,r=[l=this.j[0],n=this.j[1],o=this.j[2]];if(0===l&&0===n&&0===o){for(var n=[-2e150,-2e150,-2e150],s=[2e150,2e150,2e150],o=[],a=[],l=(i=this.b.c).e;l!==i;l=l.e)for(var h=0;h<3;++h){var u=l.g[h];u<s[h]&&(s[h]=u,a[h]=l),u>n[h]&&(n[h]=u,o[h]=l)}if(n[1]-s[1]>n[l=0]-s[0]&&(l=1),s[l=n[2]-s[2]>n[l]-s[l]?2:l]>=n[l])r[0]=0,r[1]=0,r[2]=1;else{for(s=a[l],o=o[l],a=[n=0,0,0],s=[s.g[0]-o.g[0],s.g[1]-o.g[1],s.g[2]-o.g[2]],h=[0,0,0],l=i.e;l!==i;l=l.e)h[0]=l.g[0]-o.g[0],h[1]=l.g[1]-o.g[1],h[2]=l.g[2]-o.g[2],a[0]=s[1]*h[2]-s[2]*h[1],a[1]=s[2]*h[0]-s[0]*h[2],a[2]=s[0]*h[1]-s[1]*h[0],n<(u=a[0]*a[0]+a[1]*a[1]+a[2]*a[2])&&(n=u,r[0]=a[0],r[1]=a[1],r[2]=a[2]);n<=0&&(r[0]=r[1]=r[2]=0,r[P(s)]=1)}i=!0}for(a=P(r),l=this.b.c,n=(a+1)%3,o=(a+2)%3,a=0<r[a]?1:-1,r=l.e;r!==l;r=r.e)r.b=r.g[n],r.a=a*r.g[o];if(i){for(r=0,l=(i=this.b.a).b;l!==i;l=l.b)if(!((n=l.a).f<=0))for(;r+=(n.a.b-n.b.a.b)*(n.a.a+n.b.a.a),(n=n.e)!==l.a;);if(r<0)for(i=(r=this.b.c).e;i!==r;i=i.e)i.a=-i.a}for(this.n=!1,l=(r=this.b.b).h;l!==r;l=i)i=l.h,n=l.e,y(l.a,l.b.a)&&l.e.e!==l&&(k(this,n,l),c(l),n=(l=n).e),n.e===l&&(n!==l&&(n!==i&&n!==i.b||(i=i.h),c(n)),l!==i&&l!==i.b||(i=i.h),c(l));for(this.e=r=new K,l=(i=this.b.c).e;l!==i;l=l.e)l.h=J(r,l);for(!function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;t.d.sort(function(i){return function(t,e){return _(i[t],i[e])?1:-1}}(t.c)),t.e=!0,function(t){for(var e=t.a;1<=e;--e)st(t,e);t.h=!0}(t.b)}(r),this.f=new j(this),V(this,-4e150),V(this,4e150);null!==(r=tt(this.e));){for(;;){t:if(l=this.e,0===l.a)i=rt(l.b);else if(i=l.c[l.d[l.a-1]],0!==l.b.a&&(l=rt(l.b),_(l,i))){i=l;break t}if(null===i||!y(i,r))break;i=tt(this.e),k(this,r.c,i.c)}!function t(e,i){for(var r,n=(e.a=i).c;null===n.i;)if((n=n.c)===i.c){var n=e,s=i;(u=new at).a=s.c.b;for(var o=(a=n.f).a;null!==(o=o.a).b&&!a.c(a.b,u,o.b););var a,l,h=lt(a=o.b),u=a.a,o=h.a;return void(0===v(u.b.a,s,u.a)?y((u=a.a).a,s)||y(u.b.a,s)||(A(u.b),a.c&&(c(u.c),a.c=!1),S(s.c,u),t(n,s)):(l=_(o.b.a,u.b.a)?a:h,h=void 0,a.d||l.c?(h=l===a?d(s.c.b,u.e):d(o.b.c.b,s.c).b,l.c?R(l,h):((a=C(u=n,a,h)).f=ht(a).f+a.a.f,a.d=I(u,a.f)),t(n,s)):N(n,a,s.c,s.c,null,!0)))}a=(u=lt(n=M(n.i))).a,(u=D(e,u,null)).c===a?(u=(a=u).c,o=lt(n),h=n.a,l=o.a,r=!1,h.b.a!==l.b.a&&G(e,n),y(h.a,e.a)&&(S(u.b.e,h),u=lt(n=M(n)).a,D(e,lt(n),o),r=!0),y(l.a,e.a)&&(S(a,l.b.e),a=D(e,o,null),r=!0),r?N(e,n,a.c,u,u,!0):(s=_(l.a,h.a)?l.b.e:h,N(e,n,s=d(a.c.b,s),s.c,s.c,!1),s.b.i.c=!0,U(e,n))):N(e,n,u.c,a,a,!0)}(this,r)}for(this.a=this.f.a.a.b.a.a,r=0;null!==(i=this.f.a.a.b);)i.h||++r,O(i);for(this.f=null,(r=this.e).b=null,r.d=null,this.e=r.c=null,l=(r=this.b).a.b;l!==r.a;l=i)i=l.b,(l=l.a).e.e===l&&(w(l.c,l),c(l));if(!this.n){if(r=this.b,this.m)for(l=r.b.h;l!==r.b;l=i)i=l.h,l.b.d.c!==l.d.c?l.f=l.d.c?1:-1:c(l);else for(l=r.a.b;l!==r.a;l=i)if(i=l.b,l.c){for(l=l.a;_(l.b.a,l.a);l=l.c.b);for(;_(l.a,l.b.a);l=l.e);for(n=l.c.b,o=void 0;l.e!==n;)if(_(l.b.a,n.a)){for(;n.e!==l&&(_((e=n.e).b.a,e.a)||v(n.a,n.b.a,n.e.b.a)<=0);)n=(o=d(n.e,n)).b;n=n.c.b}else{for(;n.e!==l&&(_((t=l.c.b).a,t.b.a)||0<=v(l.b.a,l.a,l.c.b.a));)l=(o=d(l,l.c.b)).b;l=l.e}for(;n.e.e!==l;)n=(o=d(n.e,n)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(i=(r=this.b).a.b;i!==r.a;i=i.b)if(i.c){for(this.h&&this.h(2,this.c),l=i.a;this.k&&this.k(l.a.d,this.c),(l=l.e)!==i.a;);this.i&&this.i(this.c)}}else{for(r=this.b,i=!!this.l,l=!1,n=-1,o=r.a.d;o!==r.a;o=o.d)if(o.c)for(l||(this.h&&this.h(4,this.c),l=!0),a=o.a;i&&(n!==(s=a.b.d.c?0:1)&&(n=s,this.l&&this.l(!!n,this.c))),this.k&&this.k(a.a.d,this.c),(a=a.e)!==o.a;);l&&this.i&&this.i(this.c)}if(this.r){for(l=(r=this.b).a.b;l!==r.a;l=i)if(i=l.b,!l.c){for(o=(n=l.a).e,a=void 0;o=(a=o).e,(a.d=null)===a.b.d&&(a.c===a?m(a.a,null):(a.a.c=a.c,f(a,a.b.e)),(s=a.b).c===s?m(s.a,null):(s.a.c=s.c,f(s,s.b.e)),p(a)),a!==n;);n=l.d,((l=l.b).d=n).b=l}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:q,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},q.prototype.gluDeleteTess=q.prototype.x,q.prototype.gluTessProperty=q.prototype.B,q.prototype.gluGetTessProperty=q.prototype.y,q.prototype.gluTessNormal=q.prototype.A,q.prototype.gluTessCallback=q.prototype.z,q.prototype.gluTessVertex=q.prototype.C,q.prototype.gluTessBeginPolygon=q.prototype.u,q.prototype.gluTessBeginContour=q.prototype.t,q.prototype.gluTessEndContour=q.prototype.v,q.prototype.gluTessEndPolygon=q.prototype.w,void 0!==e&&(e.exports=this.libtess)},{}],53:[function(require,module,exports){var Cpb,Dpb;"undefined"!=typeof navigator&&(Cpb=window||{},Dpb=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){for(var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e=t.length,i=0;i<e;i+=1)BMMath[t[i]]=Math[t[i]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){for(var e=createSizedArray(t.length),i=t.length,r=0;r<i;r+=1)e[r]=Math.abs(t[r]);return e}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bmRnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,r){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=r<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,r){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=r<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}roundValues(!1);var createElementID=(hqb=0,function(){return idPrefix+"__lottie_element_"+(hqb+=1)}),hqb;function HSVtoRGB(t,e,i){var r,n,s,o=Math.floor(6*t),t=6*t-o,a=i*(1-e),l=i*(1-t*e),h=i*(1-(1-t)*e);switch(o%6){case 0:r=i,n=h,s=a;break;case 1:r=l,n=i,s=a;break;case 2:r=a,n=i,s=h;break;case 3:r=a,n=l,s=i;break;case 4:r=h,n=a,s=i;break;case 5:r=i,n=a,s=l}return[r,n,s]}function RGBtoHSV(t,e,i){var r,n=Math.max(t,e,i),s=Math.min(t,e,i),o=n-s,a=0===n?0:o/n,l=n/255;switch(n){case s:r=0;break;case t:r=e-i+o*(e<i?6:0),r/=6*o;break;case e:r=i-t+2*o,r/=6*o;break;case i:r=t-e+4*o,r/=6*o}return[r,a,l]}function addSaturationToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[1]+=e,1<t[1]?t[1]=1:t[1]<=0&&(t[1]=0),HSVtoRGB(t[0],t[1],t[2])}function addBrightnessToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[2]+=e,1<t[2]?t[2]=1:t[2]<0&&(t[2]=0),HSVtoRGB(t[0],t[1],t[2])}function addHueToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[0]+=e/360,1<t[0]?--t[0]:t[0]<0&&(t[0]+=1),HSVtoRGB(t[0],t[1],t[2])}var rgbToHex=function(){for(var t,r=[],e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(t,e,i){return"#"+r[t=t<0?0:t]+r[e=e<0?0:e]+r[i=i<0?0:i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t],r=0;r<i.length;r+=1)i[r](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,r=this._cbs[t].length;i<r;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),--i,--r),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):arb(t,e)}:arb;function arb(t,e){var i,r=0,n=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(r=0;r<e;r+=1)n.push(i);return n}function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;for(var t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(qrb={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return qrb[t]||""}),qrb,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=(srb=Math.cos,trb=Math.sin,urb=Math.tan,vrb=Math.round,function(){this.reset=wrb,this.rotate=xrb,this.rotateX=yrb,this.rotateY=zrb,this.rotateZ=Arb,this.skew=Crb,this.skewFromAxis=Drb,this.shear=Brb,this.scale=Erb,this.setTransform=Frb,this.translate=Grb,this.transform=Hrb,this.applyToPoint=Mrb,this.applyToX=Nrb,this.applyToY=Orb,this.applyToZ=Prb,this.applyToPointArray=Urb,this.applyToTriplePoints=Trb,this.applyToPointStringified=Vrb,this.toCSS=Wrb,this.to2dCSS=Yrb,this.clone=Krb,this.cloneFromProps=Lrb,this.equals=Jrb,this.inversePoints=Srb,this.inversePoint=Rrb,this.getInverseMatrix=Qrb,this._t=this.transform,this.isIdentity=Irb,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}),srb,trb,urb,vrb;function wrb(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function xrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function yrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1)}function zrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1)}function Arb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function Brb(t,e){return this._t(1,e,t,1,0,0)}function Crb(t,e){return this.shear(urb(t),urb(e))}function Drb(t,e){var i=srb(e),e=trb(e);return this._t(i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,urb(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-e,0,0,e,i,0,0,0,0,1,0,0,0,0,1)}function Erb(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function Frb(t,e,i,r,n,s,o,a,l,h,u,c,d,f,p,m){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=r,this.props[4]=n,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=h,this.props[10]=u,this.props[11]=c,this.props[12]=d,this.props[13]=f,this.props[14]=p,this.props[15]=m,this}function Grb(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function Hrb(t,e,i,r,n,s,o,a,l,h,u,c,d,f,p,m){var y=this.props;if(1===t&&0===e&&0===i&&0===r&&0===n&&1===s&&0===o&&0===a&&0===l&&0===h&&1===u&&0===c)return y[12]=y[12]*t+y[15]*d,y[13]=y[13]*s+y[15]*f,y[14]=y[14]*u+y[15]*p,y[15]*=m,this._identityCalculated=!1,this;var _=y[0],g=y[1],v=y[2],b=y[3],T=y[4],x=y[5],E=y[6],S=y[7],A=y[8],P=y[9],w=y[10],O=y[11],R=y[12],M=y[13],C=y[14],I=y[15];return y[0]=_*t+g*n+v*l+b*d,y[1]=_*e+g*s+v*h+b*f,y[2]=_*i+g*o+v*u+b*p,y[3]=_*r+g*a+v*c+b*m,y[4]=T*t+x*n+E*l+S*d,y[5]=T*e+x*s+E*h+S*f,y[6]=T*i+x*o+E*u+S*p,y[7]=T*r+x*a+E*c+S*m,y[8]=A*t+P*n+w*l+O*d,y[9]=A*e+P*s+w*h+O*f,y[10]=A*i+P*o+w*u+O*p,y[11]=A*r+P*a+w*c+O*m,y[12]=R*t+M*n+C*l+I*d,y[13]=R*e+M*s+C*h+I*f,y[14]=R*i+M*o+C*u+I*p,y[15]=R*r+M*a+C*c+I*m,this._identityCalculated=!1,this}function Irb(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function Jrb(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function Krb(t){for(var e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function Lrb(t){for(var e=0;e<16;e+=1)this.props[e]=t[e]}function Mrb(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function Nrb(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function Orb(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function Prb(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function Qrb(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,r=-this.props[4]/t,n=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,t=new Matrix;return t.props[0]=e,t.props[1]=i,t.props[4]=r,t.props[5]=n,t.props[12]=s,t.props[13]=o,t}function Rrb(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function Srb(t){for(var e=t.length,i=[],r=0;r<e;r+=1)i[r]=Rrb(t[r]);return i}function Trb(t,e,i){var r,n,s,o,a,l,h=createTypedArray("float32",6);return this.isIdentity()?(h[0]=t[0],h[1]=t[1],h[2]=e[0],h[3]=e[1],h[4]=i[0],h[5]=i[1]):(r=this.props[0],n=this.props[1],s=this.props[4],o=this.props[5],a=this.props[12],l=this.props[13],h[0]=t[0]*r+t[1]*s+a,h[1]=t[0]*n+t[1]*o+l,h[2]=e[0]*r+e[1]*s+a,h[3]=e[0]*n+e[1]*o+l,h[4]=i[0]*r+i[1]*s+a,h[5]=i[0]*n+i[1]*o+l),h}function Urb(t,e,i){i=this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]];return i}function Vrb(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function Wrb(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=vrb(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function Xrb(t){return t<1e-6&&0<t||-1e-6<t&&t<0?vrb(1e4*t)/1e4:t}function Yrb(){var t=this.props;return"matrix("+Xrb(t[0])+","+Xrb(t[1])+","+Xrb(t[4])+","+Xrb(t[5])+","+Xrb(t[12])+","+Xrb(t[13])+")"}!function(s,o){var a,l=this,h=256,u=6,c="random",d=o.pow(h,u),f=o.pow(2,52),p=2*f,m=h-1;function y(t){var e,i=t.length,o=this,r=0,n=o.i=o.j=0,s=o.S=[];for(i||(t=[i++]);r<h;)s[r]=r++;for(r=0;r<h;r++)s[r]=s[n=m&n+t[r%i]+(e=s[r])],s[n]=e;o.g=function(t){for(var e,i=0,r=o.i,n=o.j,s=o.S;t--;)e=s[r=m&r+1],i=i*h+s[m&(s[r]=s[n=m&n+e])+(s[n]=e)];return o.i=r,o.j=n,i}}function _(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function g(t,e){for(var i,r=t+"",n=0;n<r.length;)e[m&n]=m&(i^=19*e[m&n])+r.charCodeAt(n++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}o["seed"+c]=function(t,e,i){var r=[],t=g(function t(e,i){var r,n=[],s=typeof e;if(i&&"object"==s)for(r in e)try{n.push(t(e[r],i-1))}catch(t){}return n.length?n:"string"==s?e:e+"\0"}((e=!0===e?{entropy:!0}:e||{}).entropy?[t,v(s)]:null===t?function(){try{if(a)return v(a.randomBytes(h));var e=new Uint8Array(h);return(l.crypto||l.msCrypto).getRandomValues(e),v(e)}catch(t){e=l.navigator,e=e&&e.plugins;return[+new Date,l,e,l.screen,v(s)]}}():t,3),r),n=new y(r);return(r=function(){for(var t=n.g(u),e=d,i=0;t<f;)t=(t+i)*h,e*=h,i=n.g(1);for(;p<=t;)t/=2,e/=2,i>>>=1;return(t+i)/e}).int32=function(){return 0|n.g(4)},r.quick=function(){return n.g(4)/4294967296},r.double=r,g(v(n.S),s),(e.pass||i||function(t,e,i,r){return r&&(r.S&&_(r,n),t.state=function(){return _(n,{})}),i?(o[c]=t,e):t})(r,t,"global"in e?e.global:this==o,e.state)},g(o.random(),s)}([],BMMath);var BezierFactory=(Lvb={getBezierEasing:function(t,e,i,r,n){n=n||("bez_"+t+"_"+e+"_"+i+"_"+r).replace(/\./g,"p");if(Mvb[n])return Mvb[n];r=new awb([t,e,i,r]);return Mvb[n]=r}},Mvb={},Svb=11,Tvb=1/(Svb-1),Uvb="function"==typeof Float32Array,awb.prototype={get:function(t){var e=this._p[0],i=this._p[1],r=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),e===i&&r===n?t:0===t?0:1===t?1:Yvb(this._getTForX(t),i,n)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],r=this._p[3];this._precomputed=!0,t===e&&i===r||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<Svb;++i)this._mSampleValues[i]=Yvb(i*Tvb,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],r=this._mSampleValues,n=0,s=1,o=Svb-1;s!==o&&r[s]<=t;++s)n+=Tvb;var a=n+(t-r[--s])/(r[s+1]-r[s])*Tvb,l=Zvb(a,e,i);return.001<=l?function(t,e,i,r){for(var n=0;n<4;++n){var s=Zvb(e,i,r);if(0===s)return e;e-=(Yvb(e,i,r)-t)/s}return e}(t,a,e,i):0===l?a:function(t,e,i,r,n){for(var s,o,a=0;0<(s=Yvb(o=e+(i-e)/2,r,n)-t)?i=o:e=o,1e-7<Math.abs(s)&&++a<10;);return o}(t,n,n+Tvb,e,i)}},Lvb),Lvb,Mvb,Svb,Tvb,Uvb;function Vvb(t,e){return 1-3*e+3*t}function Yvb(t,e,i){return((Vvb(e,i)*t+(3*i-6*e))*t+3*e)*t}function Zvb(t,e,i){return 3*Vvb(e,i)*t*t+2*(3*i-6*e)*t+3*e}function awb(t){this._p=t,this._mSampleValues=new(Uvb?Float32Array:Array)(Svb),this._precomputed=!1,this.get=this.get.bind(this)}function extendPrototype(t,e){for(var i,r=t.length,n=0;n<r;n+=1)for(var s in i=t[n].prototype)Object.prototype.hasOwnProperty.call(i,s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var P=Math;function y(t,e,i,r,n,s){e=t*r+e*n+i*s-n*r-s*t-i*e;return-.001<e&&e<.001}var u=function(t,e,i,r){for(var n,s,o,a,l=defaultCurveSegments,h=0,u=[],c=[],d=bezierLengthPool.newElement(),f=i.length,p=0;p<l;p+=1){for(o=p/(l-1),n=a=0;n<f;n+=1)s=bmPow(1-o,3)*t[n]+3*bmPow(1-o,2)*o*i[n]+3*(1-o)*bmPow(o,2)*r[n]+bmPow(o,3)*e[n],u[n]=s,null!==c[n]&&(a+=bmPow(u[n]-c[n],2)),c[n]=u[n];a&&(h+=a=bmSqrt(a)),d.percents[p]=o,d.lengths[p]=h}return d.addedLength=h,d};function _(t){this.segmentLength=0,this.points=new Array(t)}function g(t,e){this.partialLength=t,this.point=e}var v,t=(v={},function(t,e,i,r){var n=(t[0]+"_"+t[1]+"_"+e[0]+"_"+e[1]+"_"+i[0]+"_"+i[1]+"_"+r[0]+"_"+r[1]).replace(/\./g,"p");if(!v[n]){for(var s,o,a,l,h,u=defaultCurveSegments,c=0,d=null,f=new _(u=2===t.length&&(t[0]!==e[0]||t[1]!==e[1])&&y(t[0],t[1],e[0],e[1],t[0]+i[0],t[1]+i[1])&&y(t[0],t[1],e[0],e[1],e[0]+r[0],e[1]+r[1])?2:u),p=i.length,m=0;m<u;m+=1){for(h=createSizedArray(p),a=m/(u-1),s=l=0;s<p;s+=1)o=bmPow(1-a,3)*t[s]+3*bmPow(1-a,2)*a*(t[s]+i[s])+3*(1-a)*bmPow(a,2)*(e[s]+r[s])+bmPow(a,3)*e[s],h[s]=o,null!==d&&(l+=bmPow(h[s]-d[s],2));c+=l=bmSqrt(l),f.points[m]=new g(l,h),d=h}f.segmentLength=c,v[n]=f}return v[n]});function w(t,e){var i=e.percents,r=e.lengths,n=i.length,s=bmFloor((n-1)*t),o=t*e.addedLength,a=0;if(s===n-1||0===s||o===r[s])return i[s];for(var l=r[s]>o?-1:1,h=!0;h;)if(r[s]<=o&&r[s+1]>o?(a=(o-r[s])/(r[s+1]-r[s]),h=!1):s+=l,s<0||n-1<=s){if(s===n-1)return i[s];h=!1}return i[s]+(i[s+1]-i[s])*a}var O=createTypedArray("float32",8);return{getSegmentsLength:function(t){for(var e=segmentsLengthPool.newElement(),i=t.c,r=t.v,n=t.o,s=t.i,o=t._length,a=e.lengths,l=0,h=0;h<o-1;h+=1)a[h]=u(r[h],r[h+1],n[h],s[h+1]),l+=a[h].addedLength;return i&&o&&(a[h]=u(r[h],r[0],n[h],s[0]),l+=a[h].addedLength),e.totalLength=l,e},getNewSegment:function(t,e,i,r,n,s,o){n<0?n=0:1<n&&(n=1);for(var a=w(n,o),n=w(s=1<s?1:s,o),l=t.length,h=(s=1-a)*s*s,u=a*s*s*3,c=a*a*s*3,d=a*a*a,f=s*s*(o=1-n),p=a*s*o+s*a*o+s*s*n,m=a*a*o+s*a*n+a*s*n,y=a*a*n,_=s*o*o,g=a*o*o+s*n*o+s*o*n,v=a*n*o+s*n*n+a*o*n,b=a*n*n,T=o*o*o,x=n*o*o+o*n*o+o*o*n,E=n*n*o+o*n*n+n*o*n,S=n*n*n,A=0;A<l;A+=1)O[4*A]=P.round(1e3*(h*t[A]+u*i[A]+c*r[A]+d*e[A]))/1e3,O[4*A+1]=P.round(1e3*(f*t[A]+p*i[A]+m*r[A]+y*e[A]))/1e3,O[4*A+2]=P.round(1e3*(_*t[A]+g*i[A]+v*r[A]+b*e[A]))/1e3,O[4*A+3]=P.round(1e3*(T*t[A]+x*i[A]+E*r[A]+S*e[A]))/1e3;return O},getPointInSegment:function(t,e,i,r,n,s){return n=w(n,s),s=1-n,[P.round(1e3*(s*s*s*t[0]+(n*s*s+s*n*s+s*s*n)*i[0]+(n*n*s+s*n*n+n*s*n)*r[0]+n*n*n*e[0]))/1e3,P.round(1e3*(s*s*s*t[1]+(n*s*s+s*n*s+s*s*n)*i[1]+(n*n*s+s*n*n+n*s*n)*r[1]+n*n*n*e[1]))/1e3]},buildBezierData:t,pointOnLine2D:y,pointOnLine3D:function(t,e,i,r,n,s,o,a,l){if(0===i&&0===s&&0===l)return y(t,e,r,n,o,a);var h=P.sqrt(P.pow(r-t,2)+P.pow(n-e,2)+P.pow(s-i,2)),i=P.sqrt(P.pow(o-t,2)+P.pow(a-e,2)+P.pow(l-i,2)),s=P.sqrt(P.pow(o-r,2)+P.pow(a-n,2)+P.pow(l-s,2));return-1e-4<(s=i<h?s<h?h-i-s:s-i-h:i<s?s-i-h:i-h-s)&&s<1e-4}}}!function(){for(var n=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-n)),r=setTimeout(function(){t(e+i)},i);return n=e+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=(Nzb=1,Ozb=[],Rzb={onmessage:function(){},postMessage:function(t){Pzb({data:t})}},Szb={postMessage:function(t){Rzb.onmessage({data:t})}},{loadAnimation:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"complete",animation:t,id:i})}}),Pzb,Qzb,Nzb,Ozb,Rzb,Szb;function Uzb(){Qzb||((Qzb=function(t){if(window.Worker&&window.Blob&&_useWebWorker){var e=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),e=URL.createObjectURL(e);return new Worker(e)}return Pzb=t,Rzb}(function(e){function t(){function u(t,e){for(var i,r,n,s=t.length,o=0;o<s;o+=1)if("ks"in(n=t[o])&&!n.completed){if(n.completed=!0,n.tt&&(t[o-1].td=n.tt),n.hasMask)for(var a=n.masksProperties,l=a.length,h=0;h<l;h+=1)if(a[h].pt.k.i)c(a[h].pt.k);else for(r=a[h].pt.k.length,i=0;i<r;i+=1)a[h].pt.k[i].s&&c(a[h].pt.k[i].s[0]),a[h].pt.k[i].e&&c(a[h].pt.k[i].e[0]);0===n.ty?(n.layers=function(t,e){var i=0,r=e.length;for(;i<r;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}return null}(n.refId,e),u(n.layers,e)):4===n.ty?function t(e){var i;var r=e.length;var n;var s;for(i=r-1;0<=i;--i)if("sh"===e[i].ty)if(e[i].ks.k.i)c(e[i].ks.k);else for(s=e[i].ks.k.length,n=0;n<s;n+=1)e[i].ks.k[n].s&&c(e[i].ks.k[n].s[0]),e[i].ks.k[n].e&&c(e[i].ks.k[n].e[0]);else"gr"===e[i].ty&&t(e[i].it)}(n.shapes):5===n.ty&&(0!==(n=n).t.a.length||"m"in n.t.p||(n.singleShape=!0))}}function c(t){for(var e=t.i.length,i=0;i<e;i+=1)t.i[i][0]+=t.v[i][0],t.i[i][1]+=t.v[i][1],t.o[i][0]+=t.v[i][0],t.o[i][1]+=t.v[i][1]}function a(t,e){e=e?e.split("."):[100,100,100];return t[0]>e[0]||!(e[0]>t[0])&&(t[1]>e[1]||!(e[1]>t[1])&&(t[2]>e[2]||(e[2],void t[2])))}var r,e=(r=[4,4,14],function(t){if(a(r,t.v)&&(n(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&n(t.assets[i].layers)});function n(t){for(var e,i,r=t.length,n=0;n<r;n+=1)5===t[n].ty&&(e=t[n],i=void 0,i=e.t.d,e.t.d={k:[{s:i,t:0}]})}var l,s,i=(l=[4,7,99],function(t){if(t.chars&&!a(l,t.v))for(var e,i,r,n,s=t.chars.length,o=0;o<s;o+=1)if(t.chars[o].data&&t.chars[o].data.shapes)for(i=(n=t.chars[o].data.shapes[0].it).length,e=0;e<i;e+=1)(r=n[e].ks.k).__converted||(c(n[e].ks.k),r.__converted=!0)}),o=(s=[5,7,15],function(t){if(a(s,t.v)&&(h(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&h(t.assets[i].layers)});function h(t){for(var e,i=t.length,r=0;r<i;r+=1)5===t[r].ty&&("number"==typeof(e=(e=t[r]).t.p).a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r}))}var d,f=(d=[4,1,9],function(t){if(a(d,t.v)&&(p(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&p(t.assets[i].layers)});function p(t){for(var e=t.length,i=0;i<e;i+=1)4===t[i].ty&&!function t(e){for(var i,r,n=e.length,s=0;s<n;s+=1)if("gr"===e[s].ty)t(e[s].it);else if("fl"===e[s].ty||"st"===e[s].ty)if(e[s].c.k&&e[s].c.k[0].i)for(r=e[s].c.k.length,i=0;i<r;i+=1)e[s].c.k[i].s&&(e[s].c.k[i].s[0]/=255,e[s].c.k[i].s[1]/=255,e[s].c.k[i].s[2]/=255,e[s].c.k[i].s[3]/=255),e[s].c.k[i].e&&(e[s].c.k[i].e[0]/=255,e[s].c.k[i].e[1]/=255,e[s].c.k[i].e[2]/=255,e[s].c.k[i].e[3]/=255);else e[s].c.k[0]/=255,e[s].c.k[1]/=255,e[s].c.k[2]/=255,e[s].c.k[3]/=255}(t[i].shapes)}var m,y=(m=[4,4,18],function(t){if(a(m,t.v)&&(_(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&_(t.assets[i].layers)});function _(t){for(var e,i,r,n=t.length,s=0;s<n;s+=1){if((e=t[s]).hasMask)for(var o=e.masksProperties,a=o.length,l=0;l<a;l+=1)if(o[l].pt.k.i)o[l].pt.k.c=o[l].cl;else for(r=o[l].pt.k.length,i=0;i<r;i+=1)o[l].pt.k[i].s&&(o[l].pt.k[i].s[0].c=o[l].cl),o[l].pt.k[i].e&&(o[l].pt.k[i].e[0].c=o[l].cl);4===e.ty&&!function t(e){for(var i,r,n=e.length-1;0<=n;--n)if("sh"===e[n].ty)if(e[n].ks.k.i)e[n].ks.k.c=e[n].closed;else for(r=e[n].ks.k.length,i=0;i<r;i+=1)e[n].ks.k[i].s&&(e[n].ks.k[i].s[0].c=e[n].closed),e[n].ks.k[i].e&&(e[n].ks.k[i].e[0].c=e[n].closed);else"gr"===e[n].ty&&t(e[n].it)}(e.shapes)}}var t={completeData:function(t){t.__complete||(f(t),e(t),i(t),o(t),y(t),u(t.layers,t.assets),t.__complete=!0)}};return t.checkColors=f,t.checkChars=i,t.checkPathProperties=o,t.checkShapes=y,t.completeLayers=u,t}function o(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}var i;Szb.dataManager||(Szb.dataManager=t()),Szb.assetLoader||(Szb.assetLoader={load:function(e,i,t,r){var n,s=new XMLHttpRequest;try{s.responseType="json"}catch(t){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)n=o(s),t(n);else try{n=o(s),t(n)}catch(t){r&&r(t)}};try{s.open("GET",e,!0)}catch(t){s.open("GET",i+"/"+e,!0)}s.send()}}),"loadAnimation"===e.data.type?Szb.assetLoader.load(e.data.path,e.data.fullPath,function(t){Szb.dataManager.completeData(t),Szb.postMessage({id:e.data.id,payload:t,status:"success"})},function(){Szb.postMessage({id:e.data.id,status:"error"})}):"complete"===e.data.type?(i=e.data.animation,Szb.dataManager.completeData(i),Szb.postMessage({id:e.data.id,payload:i,status:"success"})):"loadData"===e.data.type&&Szb.assetLoader.load(e.data.path,e.data.fullPath,function(t){Szb.postMessage({id:e.data.id,payload:t,status:"success"})},function(){Szb.postMessage({id:e.data.id,status:"error"})})})).onmessage=function(t){var e=t.data,i=e.id,t=Ozb[i];Ozb[i]=null,"success"===e.status?t.onComplete(e.payload):t.onError&&t.onError()})}function Vzb(t,e){var i="processId_"+(Nzb+=1);return Ozb[i]={onComplete:t,onError:e},i}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",r="normal",n=e.length,s=0;s<n;s+=1)switch(e[s].toLowerCase()){case"italic":r="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:r,weight:t.fWeight||i}}var FontManager=(SCb={w:0,size:0,shapes:[]},TCb=(TCb=[]).concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]),UCb=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],VCb=[65039,8205],hDb.isModifier=function(t,e){return e=t.toString(16)+e.toString(16),-1!==UCb.indexOf(e)},hDb.isZeroWidthJoiner=function(t,e){return e?t===VCb[0]&&e===VCb[1]:t===VCb[1]},hDb.isCombinedCharacter=function(t){return-1!==TCb.indexOf(t)},hDb.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);for(var e,i,r=t.length,n=this.chars.length,s=0;s<r;s+=1){for(e=0,i=!1;e<n;)this.chars[e].style===t[s].style&&this.chars[e].fFamily===t[s].fFamily&&this.chars[e].ch===t[s].ch&&(i=!0),e+=1;i||(this.chars.push(t[s]),n+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);for(var i=t.list,r=i.length,n=r,s=0;s<r;s+=1){var o,a,l,h,u=!0;if(i[s].loaded=!1,i[s].monoCase=XCb(i[s].fFamily,"monospace"),i[s].sansCase=XCb(i[s].fFamily,"sans-serif"),i[s].fPath){if("p"===i[s].fOrigin||3===i[s].origin)(u=0<(l=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[s].fFamily+'"], style[f-origin="3"][f-family="'+i[s].fFamily+'"]')).length?!1:u)&&((a=createTag("style")).setAttribute("f-forigin",i[s].fOrigin),a.setAttribute("f-origin",i[s].origin),a.setAttribute("f-family",i[s].fFamily),a.type="text/css",a.innerText="@font-face {font-family: "+i[s].fFamily+"; font-style: normal; src: url('"+i[s].fPath+"');}",e.appendChild(a));else if("g"===i[s].fOrigin||1===i[s].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<l.length;o+=1)-1!==l[o].href.indexOf(i[s].fPath)&&(u=!1);u&&((h=createTag("link")).setAttribute("f-forigin",i[s].fOrigin),h.setAttribute("f-origin",i[s].origin),h.type="text/css",h.rel="stylesheet",h.href=i[s].fPath,document.body.appendChild(h))}else if("t"===i[s].fOrigin||2===i[s].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<l.length;o+=1)i[s].fPath===l[o].src&&(u=!1);u&&((h=createTag("link")).setAttribute("f-forigin",i[s].fOrigin),h.setAttribute("f-origin",i[s].origin),h.setAttribute("rel","stylesheet"),h.setAttribute("href",i[s].fPath),e.appendChild(h))}}else i[s].loaded=!0,--n;i[s].helper=function(t,e){var i=createNS("text");i.style.fontSize="100px";var r=getFontProperties(e);return i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",r.style),i.setAttribute("font-weight",r.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}(e,i[s]),i[s].cache={},this.fonts.push(i[s])}0===n?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,e,i){for(var r=0,n=this.chars.length;r<n;){if(this.chars[r].ch===t&&this.chars[r].style===e&&this.chars[r].fFamily===i)return this.chars[r];r+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0),SCb},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var r,n,s=this.getFontByName(e),o=t.charCodeAt(0);return s.cache[o+1]||(r=s.helper," "===t?(r.textContent="|"+t+"|",n=r.getComputedTextLength(),r.textContent="||",e=r.getComputedTextLength(),s.cache[o+1]=(n-e)/100):(r.textContent=t,s.cache[o+1]=r.getComputedTextLength()/100)),s.cache[o+1]*i},checkLoadedFonts:function(){for(var t,e,i=this.fonts.length,r=i,n=0;n<i;n+=1)this.fonts[n].loaded?--r:"n"===this.fonts[n].fOrigin||0===this.fonts[n].origin?this.fonts[n].loaded=!0:(t=this.fonts[n].monoCase.node,e=this.fonts[n].monoCase.w,t.offsetWidth!==e?(--r,this.fonts[n].loaded=!0):(t=this.fonts[n].sansCase.node,e=this.fonts[n].sansCase.w,t.offsetWidth!==e&&(--r,this.fonts[n].loaded=!0)),this.fonts[n].loaded&&(this.fonts[n].sansCase.parent.parentNode.removeChild(this.fonts[n].sansCase.parent),this.fonts[n].monoCase.parent.parentNode.removeChild(this.fonts[n].monoCase.parent)));0!==r&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},hDb),SCb,TCb,UCb,VCb;function XCb(t,e){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=e;var r=createTag("span");r.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(r),document.body.appendChild(i);var n=r.offsetWidth;return r.style.fontFamily=function(t){for(var e=t.split(","),i=e.length,r=[],n=0;n<i;n+=1)"sans-serif"!==e[n]&&"monospace"!==e[n]&&r.push(e[n]);return r.join(",")}(t)+", "+e,{node:r,w:n,parent:i}}function hDb(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)}var PropertyFactory=(pEb=initialDefaultFrame,qEb=Math.abs,{getProp:function(t,e,i,r,n){var s;if(e.k.length)if("number"==typeof e.k[0])s=new AEb(t,e,r,n);else switch(i){case 0:s=new BEb(t,e,r,n);break;case 1:s=new CEb(t,e,r,n)}else s=new zEb(t,e,r,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}}),pEb,qEb;function rEb(t,e){var i,r=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var n,s,o,a=e.lastIndex,l=a,h=this.keyframes.length-1,u=!0;u;){if(n=this.keyframes[l],s=this.keyframes[l+1],l===h-1&&t>=s.t-r){n.h&&(n=s),a=0;break}if(s.t-r>t){a=l;break}l<h-1?l+=1:(a=0,u=!1)}var c,d,f,p,m,y=this.keyframesMetadata[l]||{},_=s.t-r,g=n.t-r;if(n.to){y.bezierData||(y.bezierData=bez.buildBezierData(n.s,s.s||n.e,n.to,n.ti));var v=y.bezierData;if(_<=t||t<g)for(var b=_<=t?v.points.length-1:0,T=v.points[b].point.length,x=0;x<T;x+=1)i[x]=v.points[b].point[x];else{y.__fnct?o=y.__fnct:(o=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,y.__fnct=o);for(var E,S=o((t-g)/(_-g)),A=v.segmentLength*S,P=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastAddedLength:0,w=e.lastFrame<t&&e._lastKeyframeIndex===l?e._lastPoint:0,u=!0,O=v.points.length;u;){if(P+=v.points[w].partialLength,0==A||0===S||w===v.points.length-1){for(T=v.points[w].point.length,x=0;x<T;x+=1)i[x]=v.points[w].point[x];break}if(P<=A&&A<P+v.points[w+1].partialLength){for(E=(A-P)/v.points[w+1].partialLength,T=v.points[w].point.length,x=0;x<T;x+=1)i[x]=v.points[w].point[x]+(v.points[w+1].point[x]-v.points[w].point[x])*E;break}w<O-1?w+=1:u=!1}e._lastPoint=w,e._lastAddedLength=P-v.points[w].partialLength,e._lastKeyframeIndex=l}}else{var R,M,C,I,D,N,F,h=n.s.length,k=s.s||n.e;if(this.sh&&1!==n.h)_<=t?(i[0]=k[0],i[1]=k[1],i[2]=k[2]):t<=g?(i[0]=n.s[0],i[1]=n.s[1],i[2]=n.s[2]):(N=uEb(n.s),F=uEb(k),c=i,d=function(t,e,i){var r,n=[],s=t[0],o=t[1],a=t[2],l=t[3],h=e[0],u=e[1],c=e[2],d=e[3];(t=s*h+o*u+a*c+l*d)<0&&(t=-t,h=-h,u=-u,c=-c,d=-d);i=1e-6<1-t?(e=Math.acos(t),t=Math.sin(e),r=Math.sin((1-i)*e)/t,Math.sin(i*e)/t):(r=1-i,i);return n[0]=r*s+i*h,n[1]=r*o+i*u,n[2]=r*a+i*c,n[3]=r*l+i*d,n}(N,F,(t-g)/(_-g)),f=d[0],p=d[1],m=d[2],N=d[3],F=Math.atan2(2*p*N-2*f*m,1-2*p*p-2*m*m),d=Math.asin(2*f*p+2*m*N),m=Math.atan2(2*f*N-2*p*m,1-2*f*f-2*m*m),c[0]=F/degToRads,c[1]=d/degToRads,c[2]=m/degToRads);else for(l=0;l<h;l+=1)1!==n.h&&(S=_<=t?1:t<g?0:(n.o.x.constructor===Array?(y.__fnct||(y.__fnct=[]),y.__fnct[l]?o=y.__fnct[l]:(R=void 0===n.o.x[l]?n.o.x[0]:n.o.x[l],M=void 0===n.o.y[l]?n.o.y[0]:n.o.y[l],C=void 0===n.i.x[l]?n.i.x[0]:n.i.x[l],I=void 0===n.i.y[l]?n.i.y[0]:n.i.y[l],o=BezierFactory.getBezierEasing(R,M,C,I).get,y.__fnct[l]=o)):y.__fnct?o=y.__fnct:(R=n.o.x,M=n.o.y,C=n.i.x,I=n.i.y,o=BezierFactory.getBezierEasing(R,M,C,I).get,n.keyframeMetadata=o),o((t-g)/(_-g)))),k=s.s||n.e,D=1===n.h?n.s[l]:n.s[l]+(k[l]-n.s[l])*S,"multidimensional"===this.propType?i[l]=D:i=D}return e.lastIndex=a,i}function uEb(t){var e=t[0]*degToRads,i=t[1]*degToRads,r=t[2]*degToRads,n=Math.cos(e/2),s=Math.cos(i/2),t=Math.cos(r/2),e=Math.sin(e/2),i=Math.sin(i/2),r=Math.sin(r/2);return[e*i*t+n*s*r,e*s*t+n*i*r,n*i*t-e*s*r,n*s*t-e*i*r]}function vEb(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;return t===this._caching.lastFrame||this._caching.lastFrame!==pEb&&(this._caching.lastFrame>=i&&i<=t||this._caching.lastFrame<e&&t<e)||(this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0),e=this.interpolateValue(t,this._caching),this.pv=e),this._caching.lastFrame=t,this.pv}function wEb(t){var e;if("unidimensional"===this.propType)e=t*this.mult,1e-5<qEb(this.v-e)&&(this.v=e,this._mdf=!0);else for(var i=0,r=this.v.length;i<r;)e=t[i]*this.mult,1e-5<qEb(this.v[i]-e)&&(this.v[i]=e,this._mdf=!0),i+=1}function xEb(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;for(var t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k,i=0;i<t;i+=1)e=this.effectsSequence[i](e);this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function yEb(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function zEb(t,e,i,r){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=xEb,this.setVValue=wEb,this.addEffect=yEb}function AEb(t,e,i,r){var n;this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=r,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),n=0;n<s;n+=1)this.v[n]=e.k[n]*this.mult,this.pv[n]=e.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=xEb,this.setVValue=wEb,this.addEffect=yEb}function BEb(t,e,i,r){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:pEb,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=r,this.comp=t.comp,this.v=pEb,this.pv=pEb,this._isFirstFrame=!0,this.getValue=xEb,this.setVValue=wEb,this.interpolateValue=rEb,this.effectsSequence=[vEb.bind(this)],this.addEffect=yEb}function CEb(t,e,i,r){this.propType="multidimensional";for(var n,s,o,a,l=e.k.length,h=0;h<l-1;h+=1)e.k[h].to&&e.k[h].s&&e.k[h+1]&&e.k[h+1].s&&(n=e.k[h].s,s=e.k[h+1].s,o=e.k[h].to,a=e.k[h].ti,(2===n.length&&(n[0]!==s[0]||n[1]!==s[1])&&bez.pointOnLine2D(n[0],n[1],s[0],s[1],n[0]+o[0],n[1]+o[1])&&bez.pointOnLine2D(n[0],n[1],s[0],s[1],s[0]+a[0],s[1]+a[1])||3===n.length&&(n[0]!==s[0]||n[1]!==s[1]||n[2]!==s[2])&&bez.pointOnLine3D(n[0],n[1],n[2],s[0],s[1],s[2],n[0]+o[0],n[1]+o[1],n[2]+o[2])&&bez.pointOnLine3D(n[0],n[1],n[2],s[0],s[1],s[2],s[0]+a[0],s[1]+a[1],s[2]+a[2]))&&(e.k[h].to=null,e.k[h].ti=null),n[0]===s[0]&&n[1]===s[1]&&0===o[0]&&0===o[1]&&0===a[0]&&0===a[1]&&(2===n.length||n[2]===s[2]&&0===o[2]&&0===a[2])&&(e.k[h].to=null,e.k[h].ti=null));this.effectsSequence=[vEb.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=r,this.comp=t.comp,this.getValue=xEb,this.setVValue=wEb,this.interpolateValue=rEb,this.frameId=-1;var u=e.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),h=0;h<u;h+=1)this.v[h]=pEb,this.pv[h]=pEb;this._caching={lastFrame:pEb,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=yEb}var TransformPropertyFactory=(NGb=[0,0],TGb.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){var e,i,r,n;this.elem.globalData.frameId!==this.frameId&&(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),(this._mdf||t)&&(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime?i=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(e=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime)):this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime?(e=[],i=[],r=this.px,t=this.py,r._caching.lastFrame+r.offsetTime<=r.keyframes[0].t?(e[0]=r.getValueAtTime((r.keyframes[0].t+.01)/n,0),e[1]=t.getValueAtTime((t.keyframes[0].t+.01)/n,0),i[0]=r.getValueAtTime(r.keyframes[0].t/n,0),i[1]=t.getValueAtTime(t.keyframes[0].t/n,0)):r._caching.lastFrame+r.offsetTime>=r.keyframes[r.keyframes.length-1].t?(e[0]=r.getValueAtTime(r.keyframes[r.keyframes.length-1].t/n,0),e[1]=t.getValueAtTime(t.keyframes[t.keyframes.length-1].t/n,0),i[0]=r.getValueAtTime((r.keyframes[r.keyframes.length-1].t-.01)/n,0),i[1]=t.getValueAtTime((t.keyframes[t.keyframes.length-1].t-.01)/n,0)):(e=[r.pv,t.pv],i[0]=r.getValueAtTime((r._caching.lastFrame+r.offsetTime-.01)/n,r.offsetTime),i[1]=t.getValueAtTime((t._caching.lastFrame+t.offsetTime-.01)/n,t.offsetTime))):e=i=NGb,this.v.rotate(-Math.atan2(e[1]-i[1],e[0]-i[0]))),this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),this.frameId=this.elem.globalData.frameId)},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],TGb),TGb.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},TGb.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,e,i){return new TGb(t,e,i)}}),NGb;function TGb(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti)for(var r=e.or.k.length,n=0;n<r;n+=1)e.or.k[n].to=null,e.or.k[n].ti=null;this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,r,n){var s;switch(this._length=Math.max(this._length,r+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}s[r]&&(!s[r]||n)||(s[r]=pointPool.newElement()),s[r][0]=t,s[r][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,r,n,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(i,r,"o",o,a),this.setXYAt(n,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,r=this.i,n=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],r[0][0],r[0][1],i[0][0],i[0][1],0,!1),n=1);for(var s=this._length-1,o=this._length,a=n;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],r[s][0],r[s][1],i[s][0],i[s][1],a,!1),--s;return t};var ShapePropertyFactory=function(){var n=-999999;function t(t,e,i){var r,n,s,o,a,l,h,u=i.lastIndex,c=this.keyframes;if(t<c[0].t-this.offsetTime)r=c[0].s[0],n=!0,u=0;else if(t>=c[c.length-1].t-this.offsetTime)r=(c[c.length-1].s?c[c.length-1].s:c[c.length-2].e)[0],n=!0;else{for(var d,f,p,m,y,_,g=u,v=c.length-1,b=!0;b&&(d=c[g],!((f=c[g+1]).t-this.offsetTime>t));)g<v-1?g+=1:b=!1;p=this.keyframesMetadata[g]||{},u=g,(n=1===d.h)||(y=t>=f.t-this.offsetTime?1:t<d.t-this.offsetTime?0:(p.__fnct?m=p.__fnct:(m=BezierFactory.getBezierEasing(d.o.x,d.o.y,d.i.x,d.i.y).get,p.__fnct=m),m((t-(d.t-this.offsetTime))/(f.t-this.offsetTime-(d.t-this.offsetTime)))),_=(f.s||d.e)[0]),r=d.s[0]}for(a=e._length,l=r.i[0].length,i.lastIndex=u,s=0;s<a;s+=1)for(o=0;o<l;o+=1)h=n?r.i[s][o]:r.i[s][o]+(_.i[s][o]-r.i[s][o])*y,e.i[s][o]=h,h=n?r.o[s][o]:r.o[s][o]+(_.o[s][o]-r.o[s][o])*y,e.o[s][o]=h,h=n?r.v[s][o]:r.v[s][o]+(_.v[s][o]-r.v[s][o])*y,e.v[s][o]=h}function r(){this.paths=this.localShapeCollection}function e(t){!function(t,e){if(t._length===e._length&&t.c===e.c){for(var i=t._length,r=0;r<i;r+=1)if(t.v[r][0]!==e.v[r][0]||t.v[r][1]!==e.v[r][1]||t.o[r][0]!==e.o[r][0]||t.o[r][1]!==e.o[r][1]||t.i[r][0]!==e.i[r][0]||t.i[r][1]!==e.i[r][1])return;return 1}}(this.v,t)&&(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;for(var t=this.kf?this.pv:(this.data.ks||this.data.pt).k,e=this.effectsSequence.length,i=0;i<e;i+=1)t=this.effectsSequence[i](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;e=(3===i?e.pt:e.ks).k;this.v=shapePool.clone(e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=r,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function a(t,e,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=(3===i?e.pt:e.ks).k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;e=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=n,this.reset=r,this._caching={lastFrame:n,lastIndex:0},this.effectsSequence=[function(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,r=this._caching.lastFrame;return r!==n&&(r<e&&t<e||i<r&&i<t)||(this._caching.lastIndex=r<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=e,s.prototype.addEffect=o,a.prototype.getValue=i,a.prototype.interpolateShape=t,a.prototype.setVValue=e,a.prototype.addEffect=o;var l,h=(l=roundCorner,u.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=e-r,s.v[1][0]=n?t+i:t-i,s.v[1][1]=e,s.v[2][0]=t,s.v[2][1]=e+r,s.v[3][0]=n?t-i:t+i,s.v[3][1]=e,s.i[0][0]=n?t-i*l:t+i*l,s.i[0][1]=e-r,s.i[1][0]=n?t+i:t-i,s.i[1][1]=e-r*l,s.i[2][0]=n?t+i*l:t-i*l,s.i[2][1]=e+r,s.i[3][0]=n?t-i:t+i,s.i[3][1]=e+r*l,s.o[0][0]=n?t+i*l:t-i*l,s.o[0][1]=e-r,s.o[1][0]=n?t+i:t-i,s.o[1][1]=e+r*l,s.o[2][0]=n?t-i*l:t+i*l,s.o[2][1]=e+r,s.o[3][0]=n?t-i:t+i,s.o[3][1]=e-r*l}},extendPrototype([DynamicPropertyContainer],u),u);function u(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}var c=(d.prototype={reset:r,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t=2*Math.floor(this.pt.v),e=2*Math.PI/t,i=!0,r=this.or.v,n=this.ir.v,s=this.os.v,o=this.is.v,a=2*Math.PI*r/(2*t),l=2*Math.PI*n/(2*t),h=-Math.PI/2;h+=this.r.v;for(var u=3===this.data.d?-1:1,c=this.v._length=0;c<t;c+=1){var d=i?s:o,f=i?a:l,p=(_=i?r:n)*Math.cos(h),m=_*Math.sin(h),y=0===p&&0===m?0:m/Math.sqrt(p*p+m*m),_=0===p&&0===m?0:-p/Math.sqrt(p*p+m*m);p+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(p,m,p-y*f*d*u,m-_*f*d*u,p+y*f*d*u,m+_*f*d*u,c,!0),i=!i,h+=e*u}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,r=this.or.v,n=this.os.v,s=2*Math.PI*r/(4*e),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,t=this.v._length=0;t<e;t+=1){var l=r*Math.cos(o),h=r*Math.sin(o),u=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),c=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-u*s*n*a,h-c*s*n*a,l+u*s*n*a,h+c*s*n*a,t,!0),o+=i*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],d),d);function d(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}var f=(p.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,r=this.s.v[1]/2,n=bmMin(i,r,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+n,t+i,e-r+s,0,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-s,t+i,e+r-n,1,!0),0!==n?(this.v.setTripleAt(t+i-n,e+r,t+i-n,e+r,t+i-s,e+r,2,!0),this.v.setTripleAt(t-i+n,e+r,t-i+s,e+r,t-i+n,e+r,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-n,t-i,e+r-s,4,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+s,t-i,e-r+n,5,!0),this.v.setTripleAt(t-i+n,e-r,t-i+n,e-r,t-i+s,e-r,6,!0),this.v.setTripleAt(t+i-n,e-r,t+i-s,e-r,t+i-n,e-r,7,!0)):(this.v.setTripleAt(t-i,e+r,t-i+s,e+r,t-i,e+r,2),this.v.setTripleAt(t-i,e-r,t-i,e-r+s,t-i,e-r,3))):(this.v.setTripleAt(t+i,e-r+n,t+i,e-r+s,t+i,e-r+n,0,!0),0!==n?(this.v.setTripleAt(t+i-n,e-r,t+i-n,e-r,t+i-s,e-r,1,!0),this.v.setTripleAt(t-i+n,e-r,t-i+s,e-r,t-i+n,e-r,2,!0),this.v.setTripleAt(t-i,e-r+n,t-i,e-r+n,t-i,e-r+s,3,!0),this.v.setTripleAt(t-i,e+r-n,t-i,e+r-s,t-i,e+r-n,4,!0),this.v.setTripleAt(t-i+n,e+r,t-i+n,e+r,t-i+s,e+r,5,!0),this.v.setTripleAt(t+i-n,e+r,t+i-s,e+r,t+i-n,e+r,6,!0),this.v.setTripleAt(t+i,e+r-n,t+i,e+r-n,t+i,e+r-s,7,!0)):(this.v.setTripleAt(t-i,e-r,t-i+s,e-r,t-i,e-r,1,!0),this.v.setTripleAt(t-i,e+r,t-i,e+r-s,t-i,e+r,2,!0),this.v.setTripleAt(t+i,e+r,t+i-s,e+r,t+i,e+r,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:r},extendPrototype([DynamicPropertyContainer],p),p);function p(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}var m={getShapeProp:function(t,e,i){var r;return 3===i||4===i?r=new((3===i?e.pt:e.ks).k.length?a:s)(t,e,i):5===i?r=new f(t,e):6===i?r=new h(t,e):7===i&&(r=new c(t,e)),r.k&&t.addDynamicProperty(r),r},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return a}};return m}(),ShapeModifiers=(UJb={},VJb={},UJb.registerModifier=function(t,e){VJb[t]||(VJb[t]=e)},UJb.getModifier=function(t,e,i){return new VJb[t](e,i)},UJb),UJb,VJb;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,i,r){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(r);for(var n,s=e.length||0,o=0;o<s;o+=1)n=PropertyFactory.getProp(t,e[o].v,0,0,this),this.k=n.k||this.k,this.dataProps[o]={n:e[o].n,p:n};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var r=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",r),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=r,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){var e;this.closed||(t.sh.container.addDynamicProperty(t.sh),e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()},this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated())},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,r,n){var s=[];e<=1?s.push({s:t,e:e}):1<=t?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));for(var o,a,l=[],h=s.length,u=0;u<h;u+=1)(a=s[u]).e*n<r||a.s*n>r+i||(o=a.s*n<=r?0:(a.s*n-r)/i,a=a.e*n>=r+i?1:(a.e*n-r)/i,l.push([o,a]));return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){for(var e=t.length,i=0;i<e;i+=1)segmentsLengthPool.release(t[i]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i,r,n;this._mdf||t?((e=this.o.v%360/360)<0&&(e+=1),i=1<this.s.v?1+e:this.s.v<0?0+e:this.s.v+e,(r=1<this.e.v?1+e:this.e.v<0?0+e:this.e.v+e)<i&&(e=i,i=r,r=e),i=1e-4*Math.round(1e4*i),r=1e-4*Math.round(1e4*r),this.sValue=i,this.eValue=r):(i=this.sValue,r=this.eValue);var s,o,a,l,h,u=this.shapes.length,c=0;if(r===i)for(m=0;m<u;m+=1)this.shapes[m].localShapeCollection.releaseShapes(),this.shapes[m].shape._mdf=!0,this.shapes[m].shape.paths=this.shapes[m].localShapeCollection,this._mdf&&(this.shapes[m].pathsData.length=0);else if(1===r&&0===i||0===r&&1===i){if(this._mdf)for(m=0;m<u;m+=1)this.shapes[m].pathsData.length=0,this.shapes[m].shape._mdf=!0}else{for(var d,f,p=[],m=0;m<u;m+=1)if((d=this.shapes[m]).shape._mdf||this._mdf||t||2===this.m){if(o=(n=d.shape.paths)._length,h=0,!d.shape._mdf&&d.pathsData.length)h=d.totalShapeLength;else{for(a=this.releasePathsData(d.pathsData),s=0;s<o;s+=1)l=bez.getSegmentsLength(n.shapes[s]),a.push(l),h+=l.totalLength;d.totalShapeLength=h,d.pathsData=a}c+=h,d.shape._mdf=!0}else d.shape.paths=d.localShapeCollection;var y,_=i,g=r,v=0;for(m=u-1;0<=m;--m)if((d=this.shapes[m]).shape._mdf){for((f=d.localShapeCollection).releaseShapes(),2===this.m&&1<u?(y=this.calculateShapeEdges(i,r,d.totalShapeLength,v,c),v+=d.totalShapeLength):y=[[_,g]],o=y.length,s=0;s<o;s+=1){_=y[s][0],g=y[s][1],p.length=0,g<=1?p.push({s:d.totalShapeLength*_,e:d.totalShapeLength*g}):1<=_?p.push({s:d.totalShapeLength*(_-1),e:d.totalShapeLength*(g-1)}):(p.push({s:d.totalShapeLength*_,e:d.totalShapeLength}),p.push({s:0,e:d.totalShapeLength*(g-1)}));var b,T=this.addShapes(d,p[0]);p[0].s!==p[0].e&&(1<p.length&&(T=d.shape.paths.shapes[d.shape.paths._length-1].c?(b=T.pop(),this.addPaths(T,f),this.addShapes(d,p[1],b)):(this.addPaths(T,f),this.addShapes(d,p[1]))),this.addPaths(T,f))}d.shape.paths=f}}},TrimModifier.prototype.addPaths=function(t,e){for(var i=t.length,r=0;r<i;r+=1)e.addShape(t[r])},TrimModifier.prototype.addSegment=function(t,e,i,r,n,s,o){n.setXYAt(e[0],e[1],"o",s),n.setXYAt(i[0],i[1],"i",s+1),o&&n.setXYAt(t[0],t[1],"v",s),n.setXYAt(r[0],r[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,r){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),r&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var r,n,s,o,a,l,h,u,c=t.pathsData,d=t.shape.paths.shapes,f=t.shape.paths._length,p=0,m=[],y=!0,_=i?(o=i._length,i._length):(i=shapePool.newElement(),o=0);for(m.push(i),r=0;r<f;r+=1){for(a=c[r].lengths,i.c=d[r].c,s=d[r].c?a.length:a.length+1,n=1;n<s;n+=1)if(p+(u=a[n-1]).addedLength<e.s)p+=u.addedLength,i.c=!1;else{if(p>e.e){i.c=!1;break}e.s<=p&&e.e>=p+u.addedLength?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[n],d[r].v[n],i,o,y),y=!1):(l=bez.getNewSegment(d[r].v[n-1],d[r].v[n],d[r].o[n-1],d[r].i[n],(e.s-p)/u.addedLength,(e.e-p)/u.addedLength,a[n-1]),this.addSegmentFromArray(l,i,o,y),i.c=y=!1),p+=u.addedLength,o+=1}if(d[r].c&&a.length&&(u=a[n-1],p<=e.e?(h=a[n-1].addedLength,e.s<=p&&e.e>=p+h?(this.addSegment(d[r].v[n-1],d[r].o[n-1],d[r].i[0],d[r].v[0],i,o,y),y=!1):(l=bez.getNewSegment(d[r].v[n-1],d[r].v[0],d[r].o[n-1],d[r].i[0],(e.s-p)/h,(e.e-p)/h,a[n-1]),this.addSegmentFromArray(l,i,o,y),i.c=y=!1)):i.c=!1,p+=u.addedLength,o+=1),i._length&&(i.setXYAt(i.v[_][0],i.v[_][1],"i",_),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),p>e.e)break;r<f-1&&(i=shapePool.newElement(),y=!0,m.push(i),o=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shapePool.newElement();i.c=t.c;for(var r,n,s,o,a,l,h,u,c,d,f=t._length,p=0,m=0;m<f;m+=1)r=t.v[m],s=t.o[m],n=t.i[m],r[0]===s[0]&&r[1]===s[1]&&r[0]===n[0]&&r[1]===n[1]?0!==m&&m!==f-1||t.c?(o=0===m?t.v[f-1]:t.v[m-1],l=(a=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(a/2,e)/a:0,c=r[0]+(o[0]-r[0])*l,d=r[1]-(r[1]-o[1])*l,h=c-(c-r[0])*roundCorner,u=d-(d-r[1])*roundCorner,i.setTripleAt(c,d,h,u,c,d,p),p+=1,o=m===f-1?t.v[0]:t.v[m+1],l=(a=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)))?Math.min(a/2,e)/a:0,h=r[0]+(o[0]-r[0])*l,u=r[1]+(o[1]-r[1])*l,c=h-(h-r[0])*roundCorner,d=u-(u-r[1])*roundCorner,i.setTripleAt(h,u,h,u,c,d,p)):i.setTripleAt(r[0],r[1],s[0],s[1],n[0],n[1],p):i.setTripleAt(t.v[m][0],t.v[m][1],t.o[m][0],t.o[m][1],t.i[m][0],t.i[m][1],p),p+=1;return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,r,n=this.shapes.length,s=this.rd.v;if(0!==s)for(var o,a,l=0;l<n;l+=1){if(a=(o=this.shapes[l]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)a.addShape(this.processPath(e[i],s));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){for(var i=e/100,r=[0,0],n=t._length,s=0,s=0;s<n;s+=1)r[0]+=t.v[s][0],r[1]+=t.v[s][1];r[0]/=n,r[1]/=n;var o,a,l,h,u,c,d=shapePool.newElement();for(d.c=t.c,s=0;s<n;s+=1)o=t.v[s][0]+(r[0]-t.v[s][0])*i,a=t.v[s][1]+(r[1]-t.v[s][1])*i,l=t.o[s][0]+(r[0]-t.o[s][0])*-i,h=t.o[s][1]+(r[1]-t.o[s][1])*-i,u=t.i[s][0]+(r[0]-t.i[s][0])*-i,c=t.i[s][1]+(r[1]-t.i[s][1])*-i,d.setTripleAt(o,a,l,h,u,c,s);return d},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,r,n=this.shapes.length,s=this.amount.v;if(0!==s)for(var o,a,l=0;l<n;l+=1){if(a=(o=this.shapes[l]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,r=o.shape.paths._length,i=0;i<r;i+=1)a.addShape(this.processPath(e[i],s));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,r,n,s){var o=s?-1:1,a=r.s.v[0]+(1-r.s.v[0])*(1-n),l=r.s.v[1]+(1-r.s.v[1])*(1-n);t.translate(r.p.v[0]*o*n,r.p.v[1]*o*n,r.p.v[2]),e.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),e.rotate(-r.r.v*o*n),e.translate(r.a.v[0],r.a.v[1],r.a.v[2]),i.translate(-r.a.v[0],-r.a.v[1],r.a.v[2]),i.scale(s?1/a:a,s?1/l:l),i.translate(r.a.v[0],r.a.v[1],r.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,r){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=r,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);0<i;)this._elements.unshift(e[--i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i]._processed=!1,"gr"===t[i].ty&&this.resetElements(t[i].it)},RepeaterModifier.prototype.cloneElements=function(t){t=JSON.parse(JSON.stringify(t));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(t,e){for(var i=t.length,r=0;r<i;r+=1)t[r]._render=e,"gr"===t[r].ty&&this.changeGroupRender(t[r].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,r,n,s,o=!1;if(this._mdf||t){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(r=s=0;r<=this._groups.length-1;r+=1)this._groups[r]._render=a=s<l,this.changeGroupRender(this._groups[r].it,a),a||(0!==(a=(a=this.elemsData[r].it)[a.length-1]).transform.op.v?(a.transform.op._mdf=!0,a.transform.op.v=0):a.transform.op._mdf=!1),s+=1;this._currentCopies=l;var u=this.o.v,t=u%1,c=0<u?Math.floor(u):Math.ceil(u),d=this.pMatrix.props,f=this.rMatrix.props,p=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,y,_=0;if(0<u){for(;_<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,t,!1),_+=t)}else if(u<0){for(;c<_;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),--_;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-t,!0),_-=t)}for(r=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(y=(i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(r/(this._currentCopies-1)),0!==_){for((0!==r&&1===n||r!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),m=0;m<y;m+=1)i[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<y;m+=1)i[m]=this.matrix.props[m];_+=1,--s,r+=n}}else for(s=this._currentCopies,r=0,n=1;s;)i=(e=this.elemsData[r].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,--s,r+=n;return o},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){for(var t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,r=this.o.length/2;i<r;){if(.01<Math.abs(t[4*i]-t[4*e+2*i]))return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){for(var e,i,r=4*this.data.p,n=0;n<r;n+=1)e=n%4==0?100:255,i=Math.round(this.prop.v[n]*e),this.c[n]!==i&&(this.c[n]=i,this._cmdf=!t);if(this.o.length)for(r=this.prop.v.length,n=4*this.data.p;n<r;n+=1)e=n%2==0?100:1,i=n%2==0?Math.round(100*this.prop.v[n]):this.prop.v[n],this.o[n-4*this.data.p]!==i&&(this.o[n-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,i,r){if(0===e)return"";for(var n=t.o,s=t.i,o=t.v,a=" M"+r.applyToPointStringified(o[0][0],o[0][1]),l=1;l<e;l+=1)a+=" C"+r.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+r.applyToPointStringified(s[l][0],s[l][1])+" "+r.applyToPointStringified(o[l][0],o[l][1]);return i&&e&&(a+=" C"+r.applyToPointStringified(n[l-1][0],n[l-1][1])+" "+r.applyToPointStringified(s[0][0],s[0][1])+" "+r.applyToPointStringified(o[0][0],o[0][1]),a+="z"),a},audioControllerFactory=(_Nb.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(t){for(var e=this.audios.length,i=0;i<e;i+=1)this.audios[i].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new _Nb});function _Nb(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}var ImagePreloader=(oOb=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}(),EOb.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;for(var i=t.length,r=0;r<i;r+=1)t[r].layers||(t[r].t&&"seq"!==t[r].t?3===t[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[r]))):(this.totalImages+=1,this.images.push(this._createImageData(t[r]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(t){var e=rOb(t,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){r.img=oOb,this._imageLoaded()}.bind(this),!1),i.src=e;var r={img:i,assetData:t};return r},createImageData:function(t){var e=rOb(t,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){r.img=oOb,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var r={img:i,assetData:t};return r},imageLoaded:pOb,footageLoaded:qOb,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},EOb),oOb;function pOb(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function qOb(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rOb(t,e,i){var r="";return t.e?r=t.p:e?r=e+(e=-1!==(e=t.p).indexOf("images/")?e.split("/")[1]:e):(r=i,r+=t.u||"",r+=t.p),r}function EOb(){this._imageLoaded=pOb.bind(this),this._footageLoaded=qOb.bind(this),this.testImageLoaded=function(t){var e=0,i=setInterval(function(){(t.getBBox().width||500<e)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}.bind(this),this.createFootageData=function(t){var e={assetData:t},t=rOb(t,this.assetsPath,this.path);return dataManager.loadData(t,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}var featureSupport=(lPb={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(lPb.maskType=!1),lPb),lPb,filtersFactory=(mPb={},mPb.createFilter=function(t,e){var i=createNS("filter");i.setAttribute("id",t),!0!==e&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%"));return i},mPb.createAlphaToLuminanceFilter=function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},mPb),mPb;function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(t,e,i){var r={propType:!1},n=PropertyFactory.getProp,s=e.a;this.a={r:s.r?n(t,s.r,0,degToRads,i):r,rx:s.rx?n(t,s.rx,0,degToRads,i):r,ry:s.ry?n(t,s.ry,0,degToRads,i):r,sk:s.sk?n(t,s.sk,0,degToRads,i):r,sa:s.sa?n(t,s.sa,0,degToRads,i):r,s:s.s?n(t,s.s,1,.01,i):r,a:s.a?n(t,s.a,1,0,i):r,o:s.o?n(t,s.o,0,.01,i):r,p:s.p?n(t,s.p,1,0,i):r,sw:s.sw?n(t,s.sw,0,0,i):r,sc:s.sc?n(t,s.sc,1,0,i):r,fc:s.fc?n(t,s.fc,1,0,i):r,fh:s.fh?n(t,s.fh,0,0,i):r,fs:s.fs?n(t,s.fs,0,.01,i):r,fb:s.fb?n(t,s.fb,0,.01,i):r,t:s.t?n(t,s.t,0,0,i):r},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function LetterProps(t,e,i,r,n,s){this.o=t,this.sw=e,this.sc=i,this.fc=r,this.m=n,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!r,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){for(var t,e=this._textData.a.length,i=PropertyFactory.getProp,r=0;r<e;r+=1)t=this._textData.a[r],this._animatorsData[r]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,r,n,s,o,a,l,h,u,c,d,f,p,m=this._moreOptions.alignment.v,y=this._animatorsData,_=this._textData,g=this.mHelper,v=this._renderType,b=this.renderedLetters.length,T=t.l;if(this._hasMaskedPath){if(p=this._pathData.m,!this._pathData.n||this._pathData._mdf){for(var x,E=p.v,S={tLength:0,segments:[]},A=(E=this._pathData.r.v?E.reverse():E)._length-1,P=d=0;P<A;P+=1)x=bez.buildBezierData(E.v[P],E.v[P+1],[E.o[P][0]-E.v[P][0],E.o[P][1]-E.v[P][1]],[E.i[P+1][0]-E.v[P+1][0],E.i[P+1][1]-E.v[P+1][1]]),S.tLength+=x.segmentLength,S.segments.push(x),d+=x.segmentLength;P=A,p.v.c&&(x=bez.buildBezierData(E.v[P],E.v[0],[E.o[P][0]-E.v[P][0],E.o[P][1]-E.v[P][1]],[E.i[0][0]-E.v[0][0],E.i[0][1]-E.v[0][1]]),S.tLength+=x.segmentLength,S.segments.push(x),d+=x.segmentLength),this._pathData.pi=S}if(S=this._pathData.pi,i=this._pathData.f.v,o=1,s=!(n=a=0),u=S.segments,i<0&&p.v.c)for(S.tLength<Math.abs(i)&&(i=-Math.abs(i)%S.tLength),o=(h=u[a=u.length-1].points).length-1;i<0;)i+=h[o].partialLength,--o<0&&(o=(h=u[--a].points).length-1);l=(h=u[a].points)[o-1],c=(r=h[o]).partialLength}A=T.length;var w,O,R,M,C,I,D,N,F,k,L,B,G,U,V,j,H=0,X=0,q=1.2*t.finalSize*.714,z=!0,Y=y.length,W=-1,$=i,Q=a,Z=o,K=-1,J="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,it=0,rt=2===t.j?-.5:-1,nt=0,st=!0;for(P=0;P<A;P+=1)if(T[P].n){for(et&&(et+=it);nt<P;)T[nt].animatorJustifyOffset=et,nt+=1;st=!(et=0)}else{for(at=0;at<Y;at+=1)(w=y[at].a).t.propType&&(st&&2===t.j&&(it+=w.t.v*rt),(R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars)).length?et+=w.t.v*R[0]*rt:et+=w.t.v*R*rt);st=!1}for(et&&(et+=it);nt<P;)T[nt].animatorJustifyOffset=et,nt+=1}for(P=0;P<A;P+=1){if(g.reset(),D=1,T[P].n)H=0,X+=t.yOffset,X+=z?1:0,i=$,z=!1,this._hasMaskedPath&&(l=(h=u[a=Q].points)[(o=Z)-1],c=(r=h[o]).partialLength,n=0),V=B=U=J="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(K!==T[P].line){switch(t.j){case 1:i+=d-t.lineWidths[T[P].line];break;case 2:i+=(d-t.lineWidths[T[P].line])/2}K=T[P].line}W!==T[P].ind&&(T[W]&&(i+=T[W].extra),i+=T[P].an/2,W=T[P].ind),i+=m[0]*T[P].an*.005;for(var ot=0,at=0;at<Y;at+=1)(w=y[at].a).p.propType&&((R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars)).length?ot+=w.p.v[0]*R[0]:ot+=w.p.v[0]*R),w.a.propType&&((R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars)).length?ot+=w.a.v[0]*R[0]:ot+=w.a.v[0]*R);for(s=!0,this._pathData.a.v&&(i=.5*T[0].an+(d-this._pathData.f.v-.5*T[0].an-.5*T[T.length-1].an)*W/(A-1),i+=this._pathData.f.v);s;)i+ot<=n+c||!h?(f=(i+ot-n)/r.partialLength,C=l.point[0]+(r.point[0]-l.point[0])*f,I=l.point[1]+(r.point[1]-l.point[1])*f,g.translate(-m[0]*T[P].an*.005,-m[1]*q*.01),s=!1):h&&(n+=r.partialLength,(o+=1)>=h.length&&(o=0,h=u[a+=1]?u[a].points:p.v.c?u[a=o=0].points:(n-=r.partialLength,null)),h&&(l=r,c=(r=h[o]).partialLength));M=T[P].an/2-T[P].add,g.translate(-M,0,0)}else M=T[P].an/2-T[P].add,g.translate(-M,0,0),g.translate(-m[0]*T[P].an*.005,-m[1]*q*.01,0);for(at=0;at<Y;at+=1)(w=y[at].a).t.propType&&(R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars),0===H&&0===t.j||(this._hasMaskedPath?R.length?i+=w.t.v*R[0]:i+=w.t.v*R:R.length?H+=w.t.v*R[0]:H+=w.t.v*R));for(t.strokeWidthAnim&&(F=t.sw||0),t.strokeColorAnim&&(N=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(k=[t.fc[0],t.fc[1],t.fc[2]]),at=0;at<Y;at+=1)(w=y[at].a).a.propType&&((R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars)).length?g.translate(-w.a.v[0]*R[0],-w.a.v[1]*R[1],w.a.v[2]*R[2]):g.translate(-w.a.v[0]*R,-w.a.v[1]*R,w.a.v[2]*R));for(at=0;at<Y;at+=1)(w=y[at].a).s.propType&&((R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars)).length?g.scale(1+(w.s.v[0]-1)*R[0],1+(w.s.v[1]-1)*R[1],1):g.scale(1+(w.s.v[0]-1)*R,1+(w.s.v[1]-1)*R,1));for(at=0;at<Y;at+=1){if(w=y[at].a,R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars),w.sk.propType&&(R.length?g.skewFromAxis(-w.sk.v*R[0],w.sa.v*R[1]):g.skewFromAxis(-w.sk.v*R,w.sa.v*R)),w.r.propType&&(R.length?g.rotateZ(-w.r.v*R[2]):g.rotateZ(-w.r.v*R)),w.ry.propType&&(R.length?g.rotateY(w.ry.v*R[1]):g.rotateY(w.ry.v*R)),w.rx.propType&&(R.length?g.rotateX(w.rx.v*R[0]):g.rotateX(w.rx.v*R)),w.o.propType&&(R.length?D+=(w.o.v*R[0]-D)*R[0]:D+=(w.o.v*R-D)*R),t.strokeWidthAnim&&w.sw.propType&&(R.length?F+=w.sw.v*R[0]:F+=w.sw.v*R),t.strokeColorAnim&&w.sc.propType)for(L=0;L<3;L+=1)R.length?N[L]+=(w.sc.v[L]-N[L])*R[0]:N[L]+=(w.sc.v[L]-N[L])*R;if(t.fillColorAnim&&t.fc){if(w.fc.propType)for(L=0;L<3;L+=1)R.length?k[L]+=(w.fc.v[L]-k[L])*R[0]:k[L]+=(w.fc.v[L]-k[L])*R;w.fh.propType&&(k=R.length?addHueToRGB(k,w.fh.v*R[0]):addHueToRGB(k,w.fh.v*R)),w.fs.propType&&(k=R.length?addSaturationToRGB(k,w.fs.v*R[0]):addSaturationToRGB(k,w.fs.v*R)),w.fb.propType&&(k=R.length?addBrightnessToRGB(k,w.fb.v*R[0]):addBrightnessToRGB(k,w.fb.v*R))}}for(at=0;at<Y;at+=1)(w=y[at].a).p.propType&&(R=y[at].s.getMult(T[P].anIndexes[at],_.a[at].s.totalChars),this._hasMaskedPath?R.length?g.translate(0,w.p.v[1]*R[0],-w.p.v[2]*R[1]):g.translate(0,w.p.v[1]*R,-w.p.v[2]*R):R.length?g.translate(w.p.v[0]*R[0],w.p.v[1]*R[1],-w.p.v[2]*R[2]):g.translate(w.p.v[0]*R,w.p.v[1]*R,-w.p.v[2]*R));if(t.strokeWidthAnim&&(B=F<0?0:F),t.strokeColorAnim&&(G="rgb("+Math.round(255*N[0])+","+Math.round(255*N[1])+","+Math.round(255*N[2])+")"),t.fillColorAnim&&t.fc&&(U="rgb("+Math.round(255*k[0])+","+Math.round(255*k[1])+","+Math.round(255*k[2])+")"),this._hasMaskedPath)g.translate(0,-t.ls),g.translate(0,m[1]*q*.01+X,0),this._pathData.p.v&&(j=(r.point[1]-l.point[1])/(r.point[0]-l.point[0]),j=180*Math.atan(j)/Math.PI,r.point[0]<l.point[0]&&(j+=180),g.rotate(-j*Math.PI/180)),g.translate(C,I,0),i-=m[0]*T[P].an*.005,T[P+1]&&W!==T[P+1].ind&&(i+=T[P].an/2,i+=.001*t.tr*t.finalSize);else{switch(g.translate(H,X,0),t.ps&&g.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:g.translate(T[P].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[P].line]),0,0);break;case 2:g.translate(T[P].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[T[P].line])/2,0,0)}g.translate(0,-t.ls),g.translate(M,0,0),g.translate(m[0]*T[P].an*.005,m[1]*q*.01,0),H+=T[P].l+.001*t.tr*t.finalSize}"html"===v?J=g.toCSS():"svg"===v?J=g.to2dCSS():tt=[g.props[0],g.props[1],g.props[2],g.props[3],g.props[4],g.props[5],g.props[6],g.props[7],g.props[8],g.props[9],g.props[10],g.props[11],g.props[12],g.props[13],g.props[14],g.props[15]],V=D}b<=P?(O=new LetterProps(V,B,G,U,J,tt),this.renderedLetters.push(O),b+=1,this.lettersChangedFlag=!0):(O=this.renderedLetters[P],this.lettersChangedFlag=O.update(V,B,G,U,J,tt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,i,r,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var o=this._mdf.p=!1;return this.o!==t&&(this.o=t,o=this._mdf.o=!0),this.sw!==e&&(this.sw=e,o=this._mdf.sw=!0),this.sc!==i&&(this.sc=i,o=this._mdf.sc=!0),this.fc!==r&&(this.fc=r,o=this._mdf.fc=!0),this.m!==n&&(this.m=n,o=this._mdf.m=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,o=this._mdf.p=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;for(var r=this.effectsSequence.length,n=t||this.data.d.k[this.keysIndex].s,s=0;s<r;s+=1)n=i!==this.keysIndex?this.effectsSequence[s](n,n.t):this.effectsSequence[s](this.currentData,n.t);e!==n&&this.setCurrentData(n),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,r=t.length;i<=r-1&&!(i===r-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i,r=[],n=0,s=t.length,o=!1;n<s;)e=t.charCodeAt(n),FontManager.isCombinedCharacter(e)?r[r.length-1]+=t.charAt(n):55296<=e&&e<=56319?56320<=(i=t.charCodeAt(n+1))&&i<=57343?(o||FontManager.isModifier(e,i)?(r[r.length-1]+=t.substr(n,2),o=!1):r.push(t.substr(n,2)),n+=1):r.push(t.charAt(n)):56319<e?(i=t.charCodeAt(n+1),FontManager.isZeroWidthJoiner(e,i)?(o=!0,r[r.length-1]+=t.substr(n,2),n+=1):r.push(t.charAt(n))):FontManager.isZeroWidthJoiner(e)?(r[r.length-1]+=t.charAt(n),o=!0):r.push(t.charAt(n)),n+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,r,n=this.elem.globalData.fontManager,s=this.data,o=[],a=0,l=s.m.g,h=0,u=0,c=0,d=[],f=0,p=0,m=n.getFontByName(t.f),y=0,_=getFontProperties(m);t.fWeight=_.weight,t.fStyle=_.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),A=t.finalText.length,t.finalLineHeight=t.lh;var g,v=t.tr/1e3*t.finalSize;if(t.sz)for(var b=!0,T=t.sz[0],x=t.sz[1];b;){for(var E,S=0,f=0,A=(E=this.buildFinalText(t.t)).length,v=t.tr/1e3*t.finalSize,P=-1,w=0;w<A;w+=1)g=E[w].charCodeAt(0),e=!1," "===E[w]?P=w:13!==g&&3!==g||(e=!(f=0),S+=t.finalLineHeight||1.2*t.finalSize),T<f+(y=n.chars?(r=n.getCharData(E[w],m.fStyle,m.fFamily),e?0:r.w*t.finalSize/100):n.measureText(E[w],t.f,t.finalSize))&&" "!==E[w]?(-1===P?A+=1:w=P,S+=t.finalLineHeight||1.2*t.finalSize,E.splice(w,P===w?1:0,"\r"),P=-1,f=0):(f+=y,f+=v);S+=m.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&x<S?(--t.finalSize,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=E,A=t.finalText.length,b=!1)}f=-v;var O,y=0,R=0;for(w=0;w<A;w+=1)if(e=!1,13===(g=(O=t.finalText[w]).charCodeAt(0))||3===g?(R=0,d.push(f),p=p<f?f:p,f=-2*v,e=!(i=""),c+=1):i=O,y=n.chars?(r=n.getCharData(O,m.fStyle,n.getFontByName(t.f).fFamily),e?0:r.w*t.finalSize/100):n.measureText(i,t.f,t.finalSize)," "===O?R+=y+v:(f+=y+v+R,R=0),o.push({l:y,an:y,add:h,n:e,anIndexes:[],val:i,line:c,animatorJustifyOffset:0}),2==l){if(h+=y,""===i||" "===i||w===A-1){for(""!==i&&" "!==i||(h-=y);u<=w;)o[u].an=h,o[u].ind=a,o[u].extra=y,u+=1;a+=1,h=0}}else if(3==l){if(h+=y,""===i||w===A-1){for(""===i&&(h-=y);u<=w;)o[u].an=h,o[u].ind=a,o[u].extra=y,u+=1;h=0,a+=1}}else o[a].ind=a,o[a].extra=0,a+=1;if(t.l=o,p=p<f?f:p,d.push(f),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=p,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=d;for(var M,C,I,D,N=s.a,F=N.length,k=[],L=0;L<F;L+=1){for((M=N[L]).a.sc&&(t.strokeColorAnim=!0),M.a.sw&&(t.strokeWidthAnim=!0),(M.a.fc||M.a.fh||M.a.fs||M.a.fb)&&(t.fillColorAnim=!0),I=M.s.b,w=D=0;w<A;w+=1)(C=o[w]).anIndexes[L]=D,(1==I&&""!==C.val||2==I&&""!==C.val&&" "!==C.val||3==I&&(C.n||" "==C.val||w==A-1)||4==I&&(C.n||w==A-1))&&(1===M.s.rn&&k.push(D),D+=1);s.a[L].s.totalChars=D;var B,G=-1;if(1===M.s.rn)for(w=0;w<A;w+=1)G!=(C=o[w]).anIndexes[L]&&(G=C.anIndexes[L],B=k.splice(Math.floor(Math.random()*k.length),1)[0]),C.anIndexes[L]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=m.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s),i=this.copyData(i,t);this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){t=this.data.d.k[t].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(sSb=Math.max,tSb=Math.min,uSb=Math.floor,vSb.prototype={getMult:function(t){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=0,i=0,r=1,n=1;0<this.ne.v?e=this.ne.v/100:i=-this.ne.v/100,0<this.xe.v?r=1-this.xe.v/100:n=1+this.xe.v/100;var s=BezierFactory.getBezierEasing(e,i,r,n).get,o=0,e=this.finalS,i=this.finalE,r=this.data.sh;return o=2===r?s(o=i===e?i<=t?1:0:sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1))):3===r?s(o=i===e?i<=t?0:1:1-sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1))):4===r?(i===e?o=0:(o=sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1)))<.5?o*=2:o=1-2*(o-.5),s(o)):s(o=5===r?i===e?0:(s=-(n=i-e)/2+(t=tSb(sSb(0,t+.5-e),i-e)),n=n/2,Math.sqrt(1-s*s/(n*n))):6===r?i===e?0:(t=tSb(sSb(0,t+.5-e),i-e),(1+Math.cos(Math.PI+2*Math.PI*t/(i-e)))/2):t>=uSb(e)?sSb(0,tSb(t-e<0?tSb(i,1)-(e-t):i-t,1)):o),100!==this.sm.v&&(o<(t=.5-.5*(i=0===(i=.01*this.sm.v)?1e-8:i))?o=0:1<(o=(o-t)/i)&&(o=1)),o*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,t=this.s.v/e+i,e=this.e.v/e+i;e<t&&(i=t,t=e,e=i),this.finalS=t,this.finalE=e}},extendPrototype([DynamicPropertyContainer],vSb),{getTextSelectorProp:function(t,e,i){return new vSb(t,e)}}),sSb,tSb,uSb;function vSb(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),"e"in e?this.e=PropertyFactory.getProp(t,e.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}var poolFactory=function(t,e,i){var r=0,n=t,s=createSizedArray(n);return{newElement:function(){var t;t=r?s[--r]:e();return t},release:function(t){r===n&&(s=pooling.double(s),n*=2);i&&i(t);s[r]=t,r+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(mTb=poolFactory(4,function(){return new ShapePath},function(t){for(var e=t._length,i=0;i<e;i+=1)pointPool.release(t.v[i]),pointPool.release(t.i[i]),pointPool.release(t.o[i]),t.v[i]=null,t.i[i]=null,t.o[i]=null;t._length=0,t.c=!1}),mTb.clone=function(t){var e,i=mTb.newElement(),r=void 0===t._length?t.v.length:t._length;for(i.setLength(r),i.c=t.c,e=0;e<r;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i},mTb),mTb,shapeCollectionPool=(uTb={newShapeCollection:function(){var t;t=vTb?xTb[--vTb]:new ShapeCollection;return t},release:function(t){var e,i=t._length;for(e=0;e<i;e+=1)shapePool.release(t.shapes[e]);t._length=0,vTb===wTb&&(xTb=pooling.double(xTb),wTb*=2);xTb[vTb]=t,vTb+=1}},vTb=0,wTb=4,xTb=createSizedArray(wTb),uTb),uTb,vTb,wTb,xTb,segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){for(var e=t.lengths.length,i=0;i<e;i+=1)bezierLengthPool.release(t.lengths[i]);t.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(e){for(var t=[],i=0;i<e.length;i+=1){var r=e[i],r={time:r.tm,duration:r.dr};try{r.payload=JSON.parse(e[i].cm)}catch(t){try{r.payload=function(t){for(var e,i=t.split("\r\n"),r={},n=0,s=0;s<i.length;s+=1)2===(e=i[s].split(":")).length&&(r[e[0]]=e[1].trim(),n+=1);if(0===n)throw new Error;return r}(e[i].cm)}catch(t){r.payload={name:e[i]}}}t.push(r)}return t};function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i,r="";e&&e.title&&(t=createNS("title"),i=createElementID(),t.setAttribute("id",i),t.textContent=e.title,this.svgElement.appendChild(t),r+=i),e&&e.description&&(i=createNS("desc"),n=createElementID(),i.setAttribute("id",n),i.textContent=e.description,this.svgElement.appendChild(i),r+=" "+n),r&&this.svgElement.setAttribute("aria-labelledby",r);var n=createNS("defs");this.svgElement.appendChild(n);r=createNS("g");this.svgElement.appendChild(r),this.layerElement=r,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:n,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var r,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";for(var o,a,l,h,u=this.masksProperties,c=0,d=[],f=createElementID(),p="clipPath",m="clip-path",y=0;y<s;y+=1)if(("a"!==u[y].mode&&"n"!==u[y].mode||u[y].inv||100!==u[y].o.k||u[y].o.x)&&(m=p="mask"),"s"!==u[y].mode&&"i"!==u[y].mode||0!==c?o=null:((o=createNS("rect")).setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w||0),o.setAttribute("height",this.element.comp.data.h||0),d.push(o)),r=createNS("path"),"n"===u[y].mode)this.viewData[y]={op:PropertyFactory.getProp(this.element,u[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[y],3),elem:r,lastPath:""},n.appendChild(r);else{if(c+=1,r.setAttribute("fill","s"===u[y].mode?"#000000":"#ffffff"),r.setAttribute("clip-rule","nonzero"),0!==u[y].x.k?(m=p="mask",l=PropertyFactory.getProp(this.element,u[y].x,0,null,this.element),h=createElementID(),(b=createNS("filter")).setAttribute("id",h),(a=createNS("feMorphology")).setAttribute("operator","erode"),a.setAttribute("in","SourceGraphic"),a.setAttribute("radius","0"),b.appendChild(a),n.appendChild(b),r.setAttribute("stroke","s"===u[y].mode?"#000000":"#ffffff")):l=a=null,this.storedData[y]={elem:r,x:l,expan:a,lastPath:"",lastOperator:"",filterId:h,lastRadius:0},"i"===u[y].mode){for(var _=d.length,g=createNS("g"),v=0;v<_;v+=1)g.appendChild(d[v]);var b=createNS("mask");b.setAttribute("mask-type","alpha"),b.setAttribute("id",f+"_"+c),b.appendChild(r),n.appendChild(b),g.setAttribute("mask","url("+locationHref+"#"+f+"_"+c+")"),d.length=0,d.push(g)}else d.push(r);u[y].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[y]={elem:r,lastPath:"",op:PropertyFactory.getProp(this.element,u[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[y],3),invRect:o},this.viewData[y].prop.k||this.drawPath(u[y],this.viewData[y].prop.v,this.viewData[y])}for(this.maskElement=createNS(p),s=d.length,y=0;y<s;y+=1)this.maskElement.appendChild(d[y]);0<c&&(this.maskElement.setAttribute("id",f),this.element.maskedElement.setAttribute(m,"url("+locationHref+"#"+f+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var r=0,n=t.length;r<n;){if(t[r].mProps.dynamicProperties.length){this._isAnimated=!0;break}r+=1}}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,i,r=this.layers.length;for(this.completeLayers=!0,e=r-1;0<=e;--e)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;for(var e,i=t.length,r=this.layers.length,n=0;n<i;n+=1)for(e=0;e<r;){if(this.layers[e].id===t[n].id){this.layers[e]=t[n];break}e+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var r=this.elements,n=this.layers,s=0,o=n.length;s<o;)n[s].ind==e&&(r[s]&&!0!==r[s]?(i.push(r[s]),r[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(t,n[s].parent,i):t.setHierarchy(i)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,r=0;r<i;r+=1)t[r].xt&&((e=this.createComp(t[r])).initExpressions(),this.globalData.projectInterface.registerComposition(e))},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),r=createNS("rect");r.setAttribute("width",t.w),r.setAttribute("height",t.h),r.setAttribute("x",0),r.setAttribute("y",0);var n=createElementID();i.setAttribute("id",n),i.appendChild(r),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+n+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99===this.layers[t].ty||(i[t]=!0,e=this.createItem(this.layers[t]),i[t]=e,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(e),e.initExpressions()),this.appendElementInPos(e,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?e.setMatte(i[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(e))))},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;0<=e;--e)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){t=t.getBaseElement();if(t){for(var i,r=0;r<e;)this.elements[r]&&!0!==this.elements[r]&&this.elements[r].getBaseElement()&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){var e;1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||(this.renderConfig.clearCanvas?(this.transformMat.cloneFromProps(t),e=this.contextData.cTr.props,this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props),e=this.contextData.cTr.props,this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])):this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]))},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();for(var i=this.contextData.saved[this.contextData.cArrPos],r=0;r<16;r+=1)i[r]=e[r];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),--this.contextData.cArrPos;for(var e=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props,r=0;r<16;r+=1)i[r]=e[r];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){var e,i;this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),(e=this.animationItem.container.style).width="100%",e.height="100%",e.transformOrigin=i="0px 0px 0px",e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,i,r,n,s,o;this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")?(i=(s=this.renderConfig.preserveAspectRatio.split(" "))[1]||"meet",r=(o=s[0]||"xMidYMid").substr(0,4),n=o.substr(4),(s=t/e)<(o=this.transformCanvas.w/this.transformCanvas.h)&&"meet"===i||o<s&&"slice"===i?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===r&&(o<s&&"meet"===i||s<o&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===r&&(o<s&&"meet"===i||s<o&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===n&&(s<o&&"meet"===i||o<s&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===n&&(s<o&&"meet"===i||o<s&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0):("none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0),this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");for(var t=(this.layers?this.layers.length:0)-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var i;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var r=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=0;i<r;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=r-1;0<=i;--i)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99===this.layers[t].ty||(e=this.createItem(this.layers[t],this,this.globalData),(i[t]=e).initExpressions())},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){t=this.layers[e];if(t.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var r,n,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s],r=(this.layers[s].ddd?this.getThreeDContainerByPos(s):n.getBaseElement())||r),s+=1;r?t.ddd&&this.supports3d||this.layerElement.insertBefore(i,r):t.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(t){return new(this.supports3d?HShapeElement:SVGShapeElement)(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return new(this.supports3d?HTextElement:SVGTextLottieElement)(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return new(this.supports3d?HImageElement:IImageElement)(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return new(this.supports3d?HCompElement:SVGCompElement)(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return new(this.supports3d?HSolidElement:ISolidElement)(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var i=createTag("div");styleDiv(i);var r,n,s=createTag("div");styleDiv(s),"3d"===e&&((r=i.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px",r.webkitTransformOrigin=n="50% 50%",r.mozTransformOrigin=n,r.transformOrigin=n,(r=s.style).transform=n="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",r.webkitTransform=n),i.appendChild(s);e={container:s,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(e),e},HybridRenderer.prototype.build3dContainers=function(){for(var t,e=this.layers.length,i="",r=0;r<e;r+=1)this.layers[r].ddd&&3!==this.layers[r].ty?(t="3d"!==i?this.createThreeDContainer(r,i="3d"):t).endPos=Math.max(t.endPos,r):(t="2d"!==i?this.createThreeDContainer(r,i="2d"):t).endPos=Math.max(t.endPos,r);for(r=(e=this.threeDElements.length)-1;0<=r;--r)this.resizerElem.appendChild(this.threeDElements[r].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,r=this.threeDElements.length;i<r;){if(e<=this.threeDElements[i].endPos){for(var n,s=this.threeDElements[i].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[i].container.insertBefore(t,n):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper,r=e.style;r.width=t.w+"px",r.height=t.h+"px",styleDiv(this.resizerElem=e),r.transformStyle="flat",r.mozTransformStyle="flat",r.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),r.overflow="hidden";e=createNS("svg");e.setAttribute("width","1"),e.setAttribute("height","1"),styleDiv(e),this.resizerElem.appendChild(e);r=createNS("defs");e.appendChild(r),this.data=t,this.setupGlobalData(t,e),this.globalData.defs=r,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,r=this.animationItem.wrapper.offsetWidth,n=this.animationItem.wrapper.offsetHeight,r=r/n<this.globalData.compSize.w/this.globalData.compSize.h?(t=r/this.globalData.compSize.w,e=r/this.globalData.compSize.w,i=0,(n-this.globalData.compSize.h*(r/this.globalData.compSize.w))/2):(t=n/this.globalData.compSize.h,e=n/this.globalData.compSize.h,i=(r-this.globalData.compSize.w*(n/this.globalData.compSize.h))/2,0),n=this.resizerElem.style;n.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+r+",0,1)",n.transform=n.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else for(var t=this.globalData.compSize.w,e=this.globalData.compSize.h,i=this.threeDElements.length,r=0;r<i;r+=1){var n=this.threeDElements[r].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",n.perspective=n.webkitPerspective}},HybridRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,r=createTag("div"),n=0;n<i;n+=1)t[n].xt&&((e=this.createComp(t[n],r,this.globalData.comp,null)).initExpressions(),this.globalData.projectInterface.registerComposition(e))},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){for(var e,i=this.element.finalTransform.mat,r=this.masksProperties.length,n=0;n<r;n+=1)(this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),"n"!==this.masksProperties[n].mode&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t)&&(e=this.storedData[n].expan,this.storedData[n].x.v<0?("erode"!==this.storedData[n].lastOperator&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[n].filterId+")")),e.setAttribute("radius",-this.storedData[n].x.v)):("dilate"!==this.storedData[n].lastOperator&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",2*this.storedData[n].x.v))))},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){for(var r,n=" M"+e.v[0][0]+","+e.v[0][1],s=e._length,o=1;o<s;o+=1)n+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];e.c&&1<s&&(n+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==n&&(r="",i.elem&&(e.c&&(r=t.inv?this.solidPath+n:n),i.elem.setAttribute("d",r)),i.lastPath=n)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){for(var i=this.dynamicProperties.length,r=0;r<i;r+=1)(e||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,r=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<r;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<r;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,r=this.comp;i;)r.finalTransform?(r.data.hasMask&&e.splice(0,0,r.finalTransform),r=r.comp):i=!1;for(var n,s=e.length,o=0;o<s;o+=1)n=e[o].mat.applyToPointArray(0,0,0),t=[t[0]-n[0],t[1]-n[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){for(var t=this.renderableComponents.length,e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),r=createNS(1===e.t?"linearGradient":"radialGradient");r.setAttribute("id",i),r.setAttribute("spreadMethod","pad"),r.setAttribute("gradientUnits","userSpaceOnUse");for(var n,s=[],o=4*e.g.p,a=0;a<o;a+=4)n=createNS("stop"),r.appendChild(n),s.push(n);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=r,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,r=createNS("mask"),n=createNS("path");r.appendChild(n);var s=createElementID(),o=createElementID();r.setAttribute("id",o);var a=createNS(1===t.t?"linearGradient":"radialGradient");a.setAttribute("id",s),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");for(var l=(t.g.k.k[0].s||t.g.k.k).length,h=this.stops,u=4*t.g.p;u<l;u+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),a.appendChild(i),h.push(i);n.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),"gs"===t.ty&&(n.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&n.setAttribute("stroke-miterlimit",t.ml)),this.of=a,this.ms=r,this.ost=h,this.maskId=o,e.msElem=n}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=(kZb=new Matrix,lZb=new Matrix,{createRenderFunction:function(t){switch(t.ty){case"fl":return qZb;case"gf":return sZb;case"gs":return rZb;case"st":return tZb;case"sh":case"el":case"rc":case"sr":return pZb;case"tr":return oZb;default:return null}}}),kZb,lZb;function oZb(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function pZb(t,e,i){for(var r,n,s,o,a,l,h,u,c,d,f=e.styles.length,p=e.lvl,m=0;m<f;m+=1){if(o=e.sh._mdf||i,e.styles[m].lvl<p){for(h=lZb.reset(),c=p-e.styles[m].lvl,d=e.transformers.length-1;!o&&0<c;)o=e.transformers[d].mProps._mdf||o,--c,--d;if(o)for(c=p-e.styles[m].lvl,d=e.transformers.length-1;0<c;)u=e.transformers[d].mProps.v.props,h.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),--c,--d}else h=kZb;if(n=(l=e.sh.paths)._length,o){for(s="",r=0;r<n;r+=1)(a=l.shapes[r])&&a._length&&(s+=buildShapeString(a,a._length,a.c,h));e.caches[m]=s}else s=e.caches[m];e.styles[m].d+=!0===t.hd?"":s,e.styles[m]._mdf=o||e.styles[m]._mdf}}function qZb(t,e,i){var r=e.style;(e.c._mdf||i)&&r.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("fill-opacity",e.o.v)}function rZb(t,e,i){sZb(t,e,i),tZb(0,e,i)}function sZb(t,e,i){var r,n,s,o,a=e.gf,l=e.g._hasOpacity,h=e.s.v,u=e.e.v;if((e.o._mdf||i)&&(n="gf"===t.ty?"fill-opacity":"stroke-opacity",e.style.pElem.setAttribute(n,e.o.v)),(e.s._mdf||i)&&(n="x1"==(r=1===t.t?"x1":"cx")?"y1":"cy",a.setAttribute(r,h[0]),a.setAttribute(n,h[1]),l&&!e.g._collapsable&&(e.of.setAttribute(r,h[0]),e.of.setAttribute(n,h[1]))),e.g._cmdf||i)for(var c=e.cst,d=e.g.c,f=c.length,p=0;p<f;p+=1)(s=c[p]).setAttribute("offset",d[4*p]+"%"),s.setAttribute("stop-color","rgb("+d[4*p+1]+","+d[4*p+2]+","+d[4*p+3]+")");if(l&&(e.g._omdf||i)){var m=e.g.o;for(f=(c=e.g._collapsable?e.cst:e.ost).length,p=0;p<f;p+=1)s=c[p],e.g._collapsable||s.setAttribute("offset",m[2*p]+"%"),s.setAttribute("stop-opacity",m[2*p+1])}1===t.t?(e.e._mdf||i)&&(a.setAttribute("x2",u[0]),a.setAttribute("y2",u[1]),l&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1]))):((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),a.setAttribute("r",o),l&&!e.g._collapsable&&e.of.setAttribute("r",o)),(e.e._mdf||e.h._mdf||e.a._mdf||i)&&(o=o||Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),i=Math.atan2(u[1]-h[1],u[0]-h[0]),1<=(u=e.h.v)?u=.99:u<=-1&&(u=-.99),o=o*u,u=Math.cos(i+e.a.v)*o+h[0],h=Math.sin(i+e.a.v)*o+h[1],a.setAttribute("fx",u),a.setAttribute("fy",h),l&&!e.g._collapsable&&(e.of.setAttribute("fx",u),e.of.setAttribute("fy",h))))}function tZb(t,e,i){var r=e.style,n=e.d;n&&(n._mdf||i)&&n.dashStr&&(r.pElem.setAttribute("stroke-dasharray",n.dashStr),r.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),e.c&&(e.c._mdf||i)&&r.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&r.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(r.pElem.setAttribute("stroke-width",e.w.v),r.msElem&&r.msElem.setAttribute("stroke-width",e.w.v))}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,i,r){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,n,t);for(var s,o=i.length,a=0;a<o;a+=1)i[a].closed||(s={transforms:r.addTransformSequence(i[a].transforms),trNodes:[]},this.styledShapes.push(s),i[a].elements.push(s))}function BaseElement(){}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,i){this.initElement(t,e,i)}function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100===e.effectElements[2].p.v&&!e.effectElements[2].p.k||(e=createNS("feMerge"),t.appendChild(e),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","f2"),e.appendChild(t))}function SVGFillFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(e),this.matrixFilter=e}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;e=createNS("feGaussianBlur");t.appendChild(e),this.feGaussianBlur=e}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.setAttribute("result","f1"),t.appendChild(e);e=createNS("feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.matrixFilter=e;t=createNS("feFuncR");t.setAttribute("type","table"),e.appendChild(t),this.feFuncR=t;t=createNS("feFuncG");t.setAttribute("type","table"),e.appendChild(t),this.feFuncG=t;t=createNS("feFuncB");t.setAttribute("type","table"),e.appendChild(t),this.feFuncB=t}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,e=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",e)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",e)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",e)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",e)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),e=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.feFuncRComposed=this.createFeFunc("feFuncR",e),this.feFuncGComposed=this.createFeFunc("feFuncG",e),this.feFuncBComposed=this.createFeFunc("feFuncB",e))}function SVGDropShadowEffect(t,e){var i=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",i.width),t.setAttribute("height",i.height),this.filterManager=e;e=createNS("feGaussianBlur");e.setAttribute("in","SourceAlpha"),e.setAttribute("result","drop_shadow_1"),e.setAttribute("stdDeviation","0"),this.feGaussianBlur=e,t.appendChild(e);e=createNS("feOffset");e.setAttribute("dx","25"),e.setAttribute("dy","0"),e.setAttribute("in","drop_shadow_1"),e.setAttribute("result","drop_shadow_2"),this.feOffset=e,t.appendChild(e);e=createNS("feFlood");e.setAttribute("flood-color","#00ff00"),e.setAttribute("flood-opacity","1"),e.setAttribute("result","drop_shadow_3"),this.feFlood=e,t.appendChild(e);e=createNS("feComposite");e.setAttribute("in","drop_shadow_3"),e.setAttribute("in2","drop_shadow_2"),e.setAttribute("operator","in"),e.setAttribute("result","drop_shadow_4"),t.appendChild(e);e=createNS("feMerge");t.appendChild(e),t=createNS("feMergeNode"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=t,this.feMerge=e,this.originalNodeAdded=!1,e.appendChild(t)}ShapeTransformManager.prototype={addTransformSequence:function(t){for(var e=t.length,i="_",r=0;r<e;r+=1)i+=t[r].transform.key+"_";var n=this.sequences[i];return n||(n={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(t,e){for(var i,r=0,n=t.transforms.length,s=e;r<n&&!e;){if(t.transforms[r].transform.mProps._mdf){s=!0;break}r+=1}if(s)for(t.finalTransform.reset(),r=n-1;0<=r;--r)i=t.transforms[r].transform.mProps.v.props,t.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);t._mdf=s},processSequences:function(t){for(var e=this.sequenceList.length,i=0;i<e;i+=1)this.processSequence(this.sequenceList[i],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,r,n,s,o,a=null;this.data.td?3==this.data.td||1==this.data.td?((r=createNS("mask")).setAttribute("id",this.layerId),r.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),r.appendChild(this.layerElement),this.globalData.defs.appendChild(a=r),featureSupport.maskType||1!=this.data.td||(r.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(this.layerElement),a=n,r.appendChild(n),n.setAttribute("filter","url("+locationHref+"#"+t+")"))):2==this.data.td&&((s=createNS("mask")).setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha"),o=createNS("g"),s.appendChild(o),t=createElementID(),e=filtersFactory.createFilter(t),(i=createNS("feComponentTransfer")).setAttribute("in","SourceGraphic"),e.appendChild(i),(r=createNS("feFuncA")).setAttribute("type","table"),r.setAttribute("tableValues","1.0 0.0"),i.appendChild(r),this.globalData.defs.appendChild(e),(r=createNS("rect")).setAttribute("width",this.comp.data.w),r.setAttribute("height",this.comp.data.h),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("fill","#ffffff"),r.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(r),o.appendChild(this.layerElement),a=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),o.appendChild(r),n.appendChild(this.layerElement),a=n,o.appendChild(n)),this.globalData.defs.appendChild(s)):this.data.tt?(this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.ty||this.data.hd||(o=createNS("clipPath"),(n=createNS("path")).setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z"),s=createElementID(),o.setAttribute("id",s),o.appendChild(n),this.globalData.defs.appendChild(o),this.checkMasks()?((o=createNS("g")).setAttribute("clip-path","url("+locationHref+"#"+s+")"),o.appendChild(this.layerElement),this.transformedElement=o,a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement):this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+s+")")),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){for(var e=this.shapeModifiers.length,i=0;i<e;i+=1)this.shapeModifiers[i].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){for(var t=this.shapes.length,e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;0<=e&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);--e);}},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,r=e.length;i<r;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,r=i.length;r;)if(i[--r].elem===t)return void(i[r].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){for(var i,r=e.length,n="",s=0;s<r;s+=1)i=e[s].ks.k,n+=buildShapeString(i,i.i.length,!0,t);return n},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,r,n){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(r,n,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){var e;this.tm._placeholder?this.renderedFrame=t/this.data.sr:((i=this.tm.v)===this.data.op&&(i=this.data.op-1),this.renderedFrame=i);var i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=i-1;0<=e;--e)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){for(var t=this.layers.length,e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder?this._currentTime=t/this.data.sr:(t=this.tm.v,this._currentTime=t)},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||.1<Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek()))&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,r=[],n="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(r.push(n),n=""):n+=t[e],e+=1;return r.push(n),r},SVGTextLottieElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var e,i,r=this.globalData.fontManager.getFontByName(t.f);r.fClass?this.layerElement.setAttribute("class",r.fClass):(this.layerElement.setAttribute("font-family",r.fFamily),e=t.fWeight,i=t.fStyle,this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",e)),this.layerElement.setAttribute("aria-label",t.t);var n,s=t.l||[],o=!!this.globalData.fontManager.chars;v=s.length;var a=this.mHelper,l="",h=this.data.singleShape,u=0,c=0,d=!0,f=.001*t.tr*t.finalSize;if(!h||o||t.sz){var p,m=this.textSpans.length;for(b=0;b<v;b+=1)o&&h&&0!==b||(n=b<m?this.textSpans[b]:createNS(o?"path":"text"),m<=b&&(n.setAttribute("stroke-linecap","butt"),n.setAttribute("stroke-linejoin","round"),n.setAttribute("stroke-miterlimit","4"),this.textSpans[b]=n,this.layerElement.appendChild(n)),n.style.display="inherit"),a.reset(),a.scale(t.finalSize/100,t.finalSize/100),h&&(s[b].n&&(u=-f,c+=t.yOffset,c+=d?1:0,d=!1),this.applyTextPropertiesToMatrix(t,a,s[b].line,u,c),u+=s[b].l||0,u+=f),o?(p=(p=(p=this.globalData.fontManager.getCharData(t.finalText[b],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&p.data||{}).shapes?p.shapes[0].it:[],h?l+=this.createPathShape(a,p):n.setAttribute("d",this.createPathShape(a,p))):(h&&n.setAttribute("transform","translate("+a.props[12]+","+a.props[13]+")"),n.textContent=s[b].val,n.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));h&&n&&n.setAttribute("d",l)}else{var y=this.textContainer,_="start";switch(t.j){case 1:_="end";break;case 2:_="middle";break;default:_="start"}y.setAttribute("text-anchor",_),y.setAttribute("letter-spacing",f);for(var g=this.buildTextContents(t.finalText),v=g.length,c=t.ps?t.ps[1]+t.ascent:0,b=0;b<v;b+=1)(n=this.textSpans[b]||createNS("tspan")).textContent=g[b],n.setAttribute("x",0),n.setAttribute("y",c),n.style.display="inherit",y.appendChild(n),this.textSpans[b]=n,c+=t.finalLineHeight;this.layerElement.appendChild(y)}for(;b<this.textSpans.length;)this.textSpans[b].style.display="none",b+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){var t;return this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged&&(this._sizeChanged=!1,t=this.layerElement.getBBox(),this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}),this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;for(var t,e,i=this.textAnimator.renderedLetters,r=this.textProperty.currentData.l,n=r.length,s=0;s<n;s+=1)r[s].n||(t=i[s],e=this.textSpans[s],t._mdf.m&&e.setAttribute("transform",t.m),t._mdf.o&&e.setAttribute("opacity",t.o),t._mdf.sw&&e.setAttribute("stroke-width",t.sw),t._mdf.sc&&e.setAttribute("stroke",t.sc),t._mdf.fc&&e.setAttribute("fill",t.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){for(var t,e,i,r=this.shapes.length,n=this.stylesList.length,s=[],o=!1,a=0;a<n;a+=1){for(i=this.stylesList[a],o=!1,t=s.length=0;t<r;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(s.push(e),o=e._isAnimated||o);1<s.length&&o&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,r=new SVGStyleData(t,e),e=r.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,r):"fl"===t.ty?i=new SVGFillStyleData(this,t,r):"gf"!==t.ty&&"gs"!==t.ty||(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,r),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),e.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(e.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),e.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),e.setAttribute("fill-opacity","0"),1===t.lj&&e.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&e.setAttribute("fill-rule","evenodd"),t.ln&&e.setAttribute("id",t.ln),t.cl&&e.setAttribute("class",t.cl),t.bm&&(e.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(r),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),e=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,e),e},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var r=4;"rc"===t.ty?r=5:"el"===t.ty?r=6:"sr"===t.ty&&(r=7);r=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,r,this));return this.shapes.push(r),this.addShapeToModifiers(r),this.addToAnimatedContents(t,r),r},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,r=this.animatedContents.length;i<r;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){for(var e=t.styles,i=this.stylesList.length,r=0;r<i;r+=1)this.stylesList[r].closed||e.push(this.stylesList[r])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,r,n,s,o){for(var a,l,h,u,c,d=[].concat(s),f=t.length-1,p=[],m=[],y=f;0<=y;--y){if((c=this.searchProcessedElement(t[y]))?e[y]=i[c-1]:t[y]._render=o,"fl"===t[y].ty||"st"===t[y].ty||"gf"===t[y].ty||"gs"===t[y].ty)c?e[y].style.closed=!1:e[y]=this.createStyleElement(t[y],n),t[y]._render&&e[y].style.pElem.parentNode!==r&&r.appendChild(e[y].style.pElem),p.push(e[y].style);else if("gr"===t[y].ty){if(c)for(l=e[y].it.length,a=0;a<l;a+=1)e[y].prevViewData[a]=e[y].it[a];else e[y]=this.createGroupElement(t[y]);this.searchShapes(t[y].it,e[y].it,e[y].prevViewData,e[y].gr,n+1,d,o),t[y]._render&&e[y].gr.parentNode!==r&&r.appendChild(e[y].gr)}else"tr"===t[y].ty?(c||(e[y]=this.createTransformElement(t[y],r)),h=e[y].transform,d.push(h)):"sh"===t[y].ty||"rc"===t[y].ty||"el"===t[y].ty||"sr"===t[y].ty?(c||(e[y]=this.createShapeElement(t[y],d,n)),this.setElementStyles(e[y])):"tm"===t[y].ty||"rd"===t[y].ty||"ms"===t[y].ty||"pb"===t[y].ty?(c?(u=e[y]).closed=!1:((u=ShapeModifiers.getModifier(t[y].ty)).init(this,t[y]),e[y]=u,this.shapeModifiers.push(u)),m.push(u)):"rp"===t[y].ty&&(c?(u=e[y]).closed=!0:(u=ShapeModifiers.getModifier(t[y].ty),(e[y]=u).init(this,t,y,e),this.shapeModifiers.push(u),o=!1),m.push(u));this.addProcessedElement(t[y],y+1)}for(f=p.length,y=0;y<f;y+=1)p[y].closed=!0;for(f=m.length,y=0;y<f;y+=1)m[y].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){for(var t,e=this.animatedContents.length,i=0;i<e;i+=1)t=this.animatedContents[i],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,t=this.filterManager.effectElements[2].p.v/100,this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGFillFilter.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[2].p.v,t=this.filterManager.effectElements[6].p.v,this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGGaussianBlurEffect.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=.3*this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,this.feGaussianBlur.setAttribute("stdDeviation",(3==t?0:e)+" "+(2==t?0:e)),e=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate",this.feGaussianBlur.setAttribute("edgeMode",e))},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,r,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(r=this.elem.maskManager.masksProperties.length,i=0):r=(i=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<r;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+o+")");n[0];)a.appendChild(n[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();for(var e,i,r=this.paths.length,n=0;n<r;n+=1)if(-1!==this.paths[n].m&&(h=this.elem.maskManager.viewData[this.paths[n].m],e=this.paths[n].p,(t||this.filterManager._mdf||h.prop._mdf)&&e.setAttribute("d",h.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||h.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){for(var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=e.getTotalLength(),l="0 0 0 "+a*s+" ",h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(a*(o-s)/h),c=0;c<u;c+=1)l+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";l+="0 "+10*a+" 0 0"}else l="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;e.setAttribute("stroke-dasharray",l)}(t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),1!==this.filterManager.effectElements[10].p.v&&2!==this.filterManager.effectElements[10].p.v||(t||this.filterManager.effectElements[3].p._mdf)&&(i=this.filterManager.effectElements[3].p.v,this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*i[0])+","+bmFloor(255*i[1])+","+bmFloor(255*i[2])+")"))},SVGTritoneFilter.prototype.renderFrame=function(t){var e,i,r,n;(t||this.filterManager._mdf)&&(n=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,r=(i=this.filterManager.effectElements[2].p.v)[0]+" "+e[0]+" "+n[0],t=i[1]+" "+e[1]+" "+n[1],n=i[2]+" "+e[2]+" "+n[2],this.feFuncR.setAttribute("tableValues",r),this.feFuncG.setAttribute("tableValues",t),this.feFuncB.setAttribute("tableValues",n))},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){t=createNS(t);return t.setAttribute("type","table"),e.appendChild(t),t},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,r,n){for(var s,o=0,a=Math.min(t,e),l=Math.max(t,e),h=Array.call(null,{length:256}),u=0,c=n-r,d=e-t;o<=256;)s=(s=o/256)<=a?d<0?n:r:l<=s?d<0?r:n:r+c*Math.pow((s-t)/d,1/i),h[u]=s,u+=1,o+=256/255;return h.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(i=this.filterManager.effectElements,this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e)))},SVGDropShadowEffect.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),(t||this.filterManager.effectElements[0].p._mdf)&&(i=this.filterManager.effectElements[0].p.v,this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*i[0]),Math.round(255*i[1]),Math.round(255*i[2])))),(t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),(t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf)&&(e=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,t=e*Math.cos(i),i=e*Math.sin(i),this.feOffset.setAttribute("dx",t),this.feOffset.setAttribute("dy",i)))};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,(this.elem=i).matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i,r=t.data.ef?t.data.ef.length:0,n=createElementID(),s=filtersFactory.createFilter(n,!0),o=0;for(this.filters=[],e=0;e<r;e+=1)i=null,20===t.data.ef[e].ty?(o+=1,i=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,i=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?i=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,i=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,i=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,i=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?i=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,i=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),i&&this.filters.push(i);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+n+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;for(this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,i)}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);for(var i=this.masksProperties.length,r=!1,n=0;n<i;n+=1)"n"!==this.masksProperties[n].mode&&(r=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);(this.hasMasks=r)&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to)for(var r=t.ks.or.k.length,n=0;n<r;n+=1)t.ks.or.k[n].to=null,t.ks.or.k[n].ti=null;this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var r,n=i.children,s=0,o=n.length;s<o&&n[s]!==t.layerElement;)s+=1;s<=o-2&&(r=n[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),r?i.insertBefore(a,r):i.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var i,r,n,s;this.findSymbol(e)||(i=createElementID(),(r=createNS("mask")).setAttribute("id",e.layerId),r.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e),(n=t.globalData.defs).appendChild(r),(s=createNS("symbol")).setAttribute("id",i),this.replaceInParent(e,i),s.appendChild(e.layerElement),n.appendChild(s),(s=createNS("use")).setAttribute("href","#"+i),r.appendChild(s),e.data.hd=!1,e.show()),t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,r=e.length;i<r;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){for(var e=this.filters.length,i=0;i<e;i+=1)this.filters[i].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);for(var i=0,i=this._length;i<t;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t,e=this.globalData;e.blendMode!==this.data.bm&&(e.blendMode=this.data.bm,t=getBlendMode(this.data.bm),e.canvasContext.globalCompositeOperation=t)},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){var t;this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),t=0===this.data.ty,this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){var t,e,i,r,n,s,o,a,l;!this.img.width||this.assetData.w===this.img.width&&this.assetData.h===this.img.height||((t=createTag("canvas")).width=this.assetData.w,t.height=this.assetData.h,e=t.getContext("2d"),i=this.img.width,r=this.img.height,s=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio,s<(n=i/r)&&"xMidYMid slice"===l||n<s&&"xMidYMid slice"!==l?o=(a=r)*s:a=(o=i)/s,e.drawImage(this.img,(i-o)/2,(r-a)/2,o,a,0,0,this.assetData.w,this.assetData.h),this.img=t)},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();for(var e=this.layers.length-1;0<=e;--e)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){for(var t=this.layers.length-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,r,n=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t+=1)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),r=this.viewData[t].v,e=n.applyToPointArray(r.v[0][0],r.v[0][1],0),s.moveTo(e[0],e[1]);for(var a=r._length,l=1;l<a;l+=1)i=n.applyToTriplePoints(r.o[l-1],r.i[l],r.v[l]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=n.applyToTriplePoints(r.o[l-1],r.i[0],r.v[0]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},r={};return"fl"===t.ty||"st"===t.ty?(r.c=PropertyFactory.getProp(this,t.c,1,255,this),r.c.k||(i.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(r.s=PropertyFactory.getProp(this,t.s,1,null,this),r.e=PropertyFactory.getProp(this,t.e,1,null,this),r.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),r.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),r.g=new GradientProperty(this,t.g,this)),r.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty?(i.lc=lineCapEnum[t.lc||2],i.lj=lineJoinEnum[t.lj||2],1==t.lj&&(i.ml=t.ml),r.w=PropertyFactory.getProp(this,t.w,0,null,this),r.w.k||(i.wi=r.w.v),t.d&&(e=new DashProperty(this,t.d,"canvas",this),r.d=e,r.d.k||(i.da=r.d.dashArray,i.do=r.d.dashoffset[0]))):i.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(i),r.style=i,r},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){t=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){for(var e=this.stylesList.length,i=0;i<e;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,r,n){for(var s,o,a,l,h,u=t.length-1,c=[],d=[],f=[].concat(n),p=u;0<=p;--p){if((a=this.searchProcessedElement(t[p]))?e[p]=i[a-1]:t[p]._shouldRender=r,"fl"===t[p].ty||"st"===t[p].ty||"gf"===t[p].ty||"gs"===t[p].ty)a?e[p].style.closed=!1:e[p]=this.createStyleElement(t[p],f),c.push(e[p].style);else if("gr"===t[p].ty){if(a)for(o=e[p].it.length,s=0;s<o;s+=1)e[p].prevViewData[s]=e[p].it[s];else e[p]=this.createGroupElement(t[p]);this.searchShapes(t[p].it,e[p].it,e[p].prevViewData,r,f)}else"tr"===t[p].ty?(a||(h=this.createTransformElement(t[p]),e[p]=h),f.push(e[p]),this.addTransformToStyleList(e[p])):"sh"===t[p].ty||"rc"===t[p].ty||"el"===t[p].ty||"sr"===t[p].ty?a||(e[p]=this.createShapeElement(t[p])):"tm"===t[p].ty||"rd"===t[p].ty||"pb"===t[p].ty?(a?(l=e[p]).closed=!1:((l=ShapeModifiers.getModifier(t[p].ty)).init(this,t[p]),e[p]=l,this.shapeModifiers.push(l)),d.push(l)):"rp"===t[p].ty&&(a?(l=e[p]).closed=!0:(l=ShapeModifiers.getModifier(t[p].ty),(e[p]=l).init(this,t,p,e),this.shapeModifiers.push(l),r=!1),d.push(l));this.addProcessedElement(t[p],p+1)}for(this.removeTransformFromStyleList(),this.closeStyles(c),u=d.length,p=0;p<u;p+=1)d[p].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){for(var t,e,i,r,n,s,o,a,l=this.stylesList.length,h=this.globalData.renderer,u=this.globalData.canvasContext,c=0;c<l;c+=1)if(("st"!==(o=(a=this.stylesList[c]).type)&&"gs"!==o||0!==a.wi)&&a.data._shouldRender&&0!==a.coOp&&0!==this.globalData.currentGlobalAlpha){for(h.save(),n=a.elements,"st"===o||"gs"===o?(u.strokeStyle="st"===o?a.co:a.grd,u.lineWidth=a.wi,u.lineCap=a.lc,u.lineJoin=a.lj,u.miterLimit=a.ml||0):u.fillStyle="fl"===o?a.co:a.grd,h.ctxOpacity(a.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),h.ctxTransform(a.preTransforms.finalTransform.props),e=n.length,t=0;t<e;t+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),a.da&&(u.setLineDash(a.da),u.lineDashOffset=a.do)),r=(s=n[t].trNodes).length,i=0;i<r;i+=1)"m"===s[i].t?u.moveTo(s[i].p[0],s[i].p[1]):"c"===s[i].t?u.bezierCurveTo(s[i].pts[0],s[i].pts[1],s[i].pts[2],s[i].pts[3],s[i].pts[4],s[i].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(u.stroke(),a.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&u.fill(a.r),h.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,r){for(var n=t,s=e.length-1;0<=s;--s)"tr"===e[s].ty?(n=i[s].transform,this.renderShapeTransform(t,n)):"sh"===e[s].ty||"el"===e[s].ty||"rc"===e[s].ty||"sr"===e[s].ty?this.renderPath(e[s],i[s]):"fl"===e[s].ty?this.renderFill(e[s],i[s],n):"st"===e[s].ty?this.renderStroke(e[s],i[s],n):"gf"===e[s].ty||"gs"===e[s].ty?this.renderGradientFill(e[s],i[s],n):"gr"===e[s].ty?this.renderShape(n,e[s].it,i[s].it):e[s].ty;r&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,r,n=t.trNodes,s=e.paths,o=s._length;n.length=0;for(var a=t.transforms.finalTransform,l=0;l<o;l+=1){var h=s.shapes[l];if(h&&h.v){for(r=h._length,i=1;i<r;i+=1)1===i&&n.push({t:"m",p:a.applyToPointArray(h.v[0][0],h.v[0][1],0)}),n.push({t:"c",pts:a.applyToTriplePoints(h.o[i-1],h.i[i],h.v[i])});1===r&&n.push({t:"m",p:a.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&r&&(n.push({t:"c",pts:a.applyToTriplePoints(h.o[i-1],h.i[0],h.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender)for(var i=e.styledShapes.length,r=0;r<i;r+=1)this.renderStyledShape(e.styledShapes[r],e.sh)},CVShapeElement.prototype.renderFill=function(t,e,i){var r=e.style;(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var r=e.style;if(!r.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var n,s,o,a,l=this.globalData.canvasContext,h=e.s.v,u=e.e.v;a=1===t.t?l.createLinearGradient(h[0],h[1],u[0],u[1]):(n=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),s=Math.atan2(u[1]-h[1],u[0]-h[0]),1<=(o=e.h.v)?o=.99:o<=-1&&(o=-.99),u=n*o,o=Math.cos(s+e.a.v)*u+h[0],u=Math.sin(s+e.a.v)*u+h[1],l.createRadialGradient(o,u,0,h[0],h[1],n));for(var c=t.g.p,d=e.g.c,f=1,p=0;p<c;p+=1)e.g._hasOpacity&&e.g._collapsable&&(f=e.g.o[2*p+1]),a.addColorStop(d[4*p]/100,"rgba("+d[4*p+1]+","+d[4*p+2]+","+d[4*p+3]+","+f+")");r.grd=a}r.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var r=e.style,n=e.d;n&&(n._mdf||this._isFirstFrame)&&(r.da=n.dashArray,r.do=n.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(r.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(r.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(r.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;e=!1;t.sc&&(e=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,r,n,s,o,a,l,h,u,c=this.globalData.fontManager.getFontByName(t.f),d=t.l,f=this.mHelper;this.stroke=e,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily;for(var p=t.finalText.length,m=this.data.singleShape,y=.001*t.tr*t.finalSize,_=0,g=0,v=!0,b=0,T=0;T<p;T+=1){for(i=(i=this.globalData.fontManager.getCharData(t.finalText[T],c.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&i.data||{},f.reset(),m&&d[T].n&&(_=-y,g+=t.yOffset,g+=v?1:0,v=!1),a=(s=i.shapes?i.shapes[0].it:[]).length,f.scale(t.finalSize/100,t.finalSize/100),m&&this.applyTextPropertiesToMatrix(t,f,d[T].line,_,g),h=createSizedArray(a),o=0;o<a;o+=1){for(n=s[o].ks.k.i.length,l=s[o].ks.k,u=[],r=1;r<n;r+=1)1===r&&u.push(f.applyToX(l.v[0][0],l.v[0][1],0),f.applyToY(l.v[0][0],l.v[0][1],0)),u.push(f.applyToX(l.o[r-1][0],l.o[r-1][1],0),f.applyToY(l.o[r-1][0],l.o[r-1][1],0),f.applyToX(l.i[r][0],l.i[r][1],0),f.applyToY(l.i[r][0],l.i[r][1],0),f.applyToX(l.v[r][0],l.v[r][1],0),f.applyToY(l.v[r][0],l.v[r][1],0));u.push(f.applyToX(l.o[r-1][0],l.o[r-1][1],0),f.applyToY(l.o[r-1][0],l.o[r-1][1],0),f.applyToX(l.i[0][0],l.i[0][1],0),f.applyToY(l.i[0][0],l.i[0][1],0),f.applyToX(l.v[0][0],l.v[0][1],0),f.applyToY(l.v[0][0],l.v[0][1],0)),h[o]=u}m&&(_+=d[T].l,_+=y),this.textSpans[b]?this.textSpans[b].elem=h:this.textSpans[b]={elem:h},b+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,i,r,n=this.canvasContext;n.font=this.values.fValue,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);for(var s,o,a,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l,u=h.length,c=null,d=null,f=null,p=0;p<u;p+=1)if(!h[p].n){if((s=l[p])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?c!==s.fc&&(c=s.fc,n.fillStyle=s.fc):c!==this.values.fill&&(c=this.values.fill,n.fillStyle=this.values.fill),e=(o=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(r=(a=o[t]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),i=2;i<r;i+=6)this.globalData.canvasContext.bezierCurveTo(a[i],a[i+1],a[i+2],a[i+3],a[i+4],a[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?f!==s.sw&&(f=s.sw,n.lineWidth=s.sw):f!==this.values.sWidth&&(f=this.values.sWidth,n.lineWidth=this.values.sWidth),s&&s.sc?d!==s.sc&&(d=s.sc,n.strokeStyle=s.sc):d!==this.values.stroke&&(d=this.values.stroke,n.strokeStyle=this.values.stroke),e=(o=this.textSpans[p].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(r=(a=o[t]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),i=2;i<r;i+=6)this.globalData.canvasContext.bezierCurveTo(a[i],a[i+1],a[i+2],a[i+3],a[i+4],a[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t,e=this.transformedElement?this.transformedElement.style:{};this.finalTransform._matMdf&&(t=this.finalTransform.mat.toCSS(),e.transform=t,e.webkitTransform=t),this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,r=0;r<e;)this.elements[r]&&this.elements[r].getBaseElement&&(i=this.elements[r].getBaseElement()),r+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t,e;this.baseElement.style.fontSize=0,this.data.hasMask?(this.layerElement.appendChild(this.shapesContainer),t=this.svgElement):(t=createNS("svg"),e=this.comp.data||this.globalData.compSize,t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){for(var i=t.length,r=0;r<i;r+=1)e=t[r].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,r,n,s,o,a=t.sh.v,l=t.transformers,h=a._length;if(!(h<=1)){for(i=0;i<h-1;i+=1)r=this.getTransformedPoint(l,a.v[i]),n=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[i+1]),o=this.getTransformedPoint(l,a.v[i+1]),this.checkBounds(r,n,s,o,e);a.c&&(r=this.getTransformedPoint(l,a.v[i]),n=this.getTransformedPoint(l,a.o[i]),s=this.getTransformedPoint(l,a.i[0]),o=this.getTransformedPoint(l,a.v[0]),this.checkBounds(r,n,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,r,n){this.getBoundsOfCurve(t,e,i,r);r=this.shapeBoundingBox;n.x=bmMin(r.left,n.x),n.xMax=bmMax(r.right,n.xMax),n.y=bmMin(r.top,n.y),n.yMax=bmMax(r.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,r){for(var n,s,o,a,l=[[t[0],r[0]],[t[1],r[1]]],h=0;h<2;++h)n=6*t[h]-12*e[h]+6*i[h],a=-3*t[h]+9*e[h]-9*i[h]+3*r[h],o=3*e[h]-3*t[h],n|=0,o|=0,0==(a|=0)&&0==n||(0==a?0<(s=-o/n)&&s<1&&l[h].push(this.calculateF(s,t,e,i,r,h)):0<=(s=n*n-4*o*a)&&(0<(o=(-n+bmSqrt(s))/(2*a))&&o<1&&l[h].push(this.calculateF(o,t,e,i,r,h)),0<(a=(-n-bmSqrt(s))/(2*a))&&a<1&&l[h].push(this.calculateF(a,t,e,i,r,h))));this.shapeBoundingBox.left=bmMin.apply(null,l[0]),this.shapeBoundingBox.top=bmMin.apply(null,l[1]),this.shapeBoundingBox.right=bmMax.apply(null,l[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,l[1])},HShapeElement.prototype.calculateF=function(t,e,i,r,n,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*i[s]+3*(1-t)*bmPow(t,2)*r[s]+bmPow(t,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){for(var i=t.length,r=0;r<i;r+=1)t[r]&&t[r].sh?this.calculateShapeBoundingBox(t[r],e):t[r]&&t[r].it&&this.calculateBoundingBox(t[r].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){var t,e;this._renderShapeFrame(),this.hidden||!this._isFirstFrame&&!this._mdf||((e=this.tempBoundingBox).x=t=999999,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e)||(t=!1,this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),t=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),t=!0),!t&&this.currentBBox.x===e.x&&this.currentBBox.y===e.y||(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.shapeCont.style,e="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)",t.transform=e,t.webkitTransform=e)))},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){var t;this.isMasked=this.checkMasks(),this.isMasked?(this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH),t=createNS("g"),this.maskedElement.appendChild(t),this.innerElem=t):(this.renderType="html",this.innerElem=this.layerElement),this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,i=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var r,n=this.globalData.fontManager.getFontByName(t.f);this.globalData.fontManager.chars||(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",n.fClass?this.innerElem.className=n.fClass:(e.fontFamily=n.fFamily,r=t.fWeight,i=t.fStyle,e.fontStyle=i,e.fontWeight=r));for(var s,o,a,l,h,u,c,d,f=t.l,p=f.length,m=this.mHelper,y=0,_=0;_<p;_+=1)this.globalData.fontManager.chars?(this.textPaths[y]?s=this.textPaths[y]:((s=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),s.setAttribute("stroke-linejoin",lineJoinEnum[2]),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[y]?a=(o=this.textSpans[y]).children[0]:((o=createTag("div")).style.lineHeight=0,(a=createNS("svg")).appendChild(s),styleDiv(o)))):this.isMasked?s=this.textPaths[y]||createNS("text"):this.textSpans[y]?(o=this.textSpans[y],s=this.textPaths[y]):(styleDiv(o=createTag("span")),styleDiv(s=createTag("span")),o.appendChild(s)),this.globalData.fontManager.chars?(u=(h=this.globalData.fontManager.getCharData(t.finalText[_],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))?h.data:null,m.reset(),u&&u.shapes&&(h=u.shapes[0].it,m.scale(t.finalSize/100,t.finalSize/100),l=this.createPathShape(m,h),s.setAttribute("d",l)),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(o),u&&u.shapes?(document.body.appendChild(a),d=a.getBBox(),a.setAttribute("width",d.width+2),a.setAttribute("height",d.height+2),a.setAttribute("viewBox",d.x-1+" "+(d.y-1)+" "+(d.width+2)+" "+(d.height+2)),u=a.style,c="translate("+(d.x-1)+"px,"+(d.y-1)+"px)",u.transform=c,u.webkitTransform=c,f[_].yOffset=d.y-1):(a.setAttribute("width",1),a.setAttribute("height",1)),o.appendChild(a))):(s.textContent=f[_].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(o),c=s.style,d="translate3d(0,"+-t.finalSize/1.2+"px,0)",c.transform=d,c.webkitTransform=d)),this.isMasked?this.textSpans[y]=s:this.textSpans[y]=o,this.textSpans[y].style.display="block",this.textPaths[y]=s,y+=1;for(;y<this.textSpans.length;)this.textSpans[y].style.display="none",y+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style,n="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)",t.transform=n,t.webkitTransform=n)}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){for(var e,i,r,n,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l,l=a.length,h=0;h<l;h+=1)a[h].n?s+=1:(i=this.textSpans[h],r=this.textPaths[h],e=o[s],s+=1,e._mdf.m&&(this.isMasked?i.setAttribute("transform",e.m):(i.style.webkitTransform=e.m,i.style.transform=e.m)),i.style.opacity=e.o,e.sw&&e._mdf.sw&&r.setAttribute("stroke-width",e.sw),e.sc&&e._mdf.sc&&r.setAttribute("stroke",e.sc),e.fc&&e._mdf.fc&&(r.setAttribute("fill",e.fc),r.style.color=e.fc));this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)&&(n=this.innerElem.getBBox(),this.currentBBox.w!==n.width&&(this.currentBBox.w=n.width,this.svgElement.setAttribute("width",n.width)),this.currentBBox.h!==n.height&&(this.currentBBox.h=n.height,this.svgElement.setAttribute("height",n.height)),this.currentBBox.w===n.width+2&&this.currentBBox.h===n.height+2&&this.currentBBox.x===n.x-1&&this.currentBBox.y===n.y-1||(this.currentBBox.w=n.width+2,this.currentBBox.h=n.height+2,this.currentBBox.x=n.x-1,this.currentBBox.y=n.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)",t.transform=n,t.webkitTransform=n))}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){for(var t,e,i,r,n,s=this.comp.threeDElements.length,o=0;o<s;o+=1)"3d"===(n=this.comp.threeDElements[o]).type&&(t=n.perspectiveElem.style,e=n.container.style,i=this.pe.v+"px",r="0px 0px 0px",n="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",t.perspective=i,t.webkitPerspective=i,e.transformOrigin=r,e.mozTransformOrigin=r,e.webkitTransformOrigin=r,t.transform=n,t.webkitTransform=n)},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(l=this.hierarchy.length,h=0;h<l;h+=1)i=this.hierarchy[h].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=l=this.hierarchy.length-1;0<=h;--h){var r=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-r.p.v[0],-r.p.v[1],r.p.v[2]),this.mat.rotateX(-r.or.v[0]).rotateY(-r.or.v[1]).rotateZ(r.or.v[2]),this.mat.rotateX(-r.rx.v).rotateY(-r.ry.v).rotateZ(r.rz.v),this.mat.scale(1/r.s.v[0],1/r.s.v[1],1/r.s.v[2]),this.mat.translate(r.a.v[0],r.a.v[1],r.a.v[2])}this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a&&(e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),e=[e[0]/t,e[1]/t,e[2]/t],t=Math.sqrt(e[2]*e[2]+e[0]*e[0]),t=Math.atan2(e[1],t),e=Math.atan2(e[0],-e[2]),this.mat.rotateY(e).rotateX(-t)),this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var n=!this._prevMat.equals(this.mat);if((n||this.pe._mdf)&&this.comp.threeDElements){for(var s,o,a,l=this.comp.threeDElements.length,h=0;h<l;h+=1)"3d"===(a=this.comp.threeDElements[h]).type&&(n&&(s=this.mat.toCSS(),(o=a.container.style).transform=s,o.webkitTransform=s),this.pe._mdf&&((a=a.perspectiveElem.style).perspective=this.pe.v+"px",a.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=(j51={},k51=[],l51=0,m51=0,n51=0,o51=!0,p51=!1,j51.registerAnimation=r51,j51.loadAnimation=function(t){var e=new AnimationItem;return v51(e,null),e.setParams(t),e},j51.setSpeed=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setSpeed(t,e)},j51.setDirection=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setDirection(t,e)},j51.play=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.play(t)},j51.pause=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.pause(t)},j51.stop=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.stop(t)},j51.togglePause=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.togglePause(t)},j51.searchAnimations=function(t,e,i){for(var r,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length,o=0;o<s;o+=1)i&&n[o].setAttribute("data-bm-type",i),r51(n[o],t);e&&0===s&&(i=i||"svg",(r=document.getElementsByTagName("body")[0]).innerText="",(e=createTag("div")).style.width="100%",e.style.height="100%",e.setAttribute("data-bm-type",i),r.appendChild(e),r51(e,t))},j51.resize=function(){for(var t=0;t<m51;t+=1)k51[t].animation.resize()},j51.goToAndStop=function(t,e,i){for(var r=0;r<m51;r+=1)k51[r].animation.goToAndStop(t,e,i)},j51.destroy=function(t){for(var e=m51-1;0<=e;--e)k51[e].animation.destroy(t)},j51.freeze=function(){p51=!0},j51.unfreeze=function(){p51=!1,J51()},j51.setVolume=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setVolume(t,e)},j51.mute=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.mute(t)},j51.unmute=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.unmute(t)},j51.getRegisteredAnimations=function(){for(var t=k51.length,e=[],i=0;i<t;i+=1)e.push(k51[i].animation);return e},j51),j51,k51,l51,m51,n51,o51,p51;function q51(t){for(var e=0,i=t.target;e<m51;)k51[e].animation===i&&(k51.splice(e,1),--e,--m51,i.isPaused||u51()),e+=1}function r51(t,e){if(!t)return null;for(var i=0;i<m51;){if(k51[i].elem===t&&null!==k51[i].elem)return k51[i].animation;i+=1}var r=new AnimationItem;return v51(r,t),r.setData(t,e),r}function t51(){n51+=1,J51()}function u51(){--n51}function v51(t,e){t.addEventListener("destroy",q51),t.addEventListener("_active",t51),t.addEventListener("_idle",u51),k51.push({elem:e,animation:t}),m51+=1}function A51(t){for(var e=t-l51,i=0;i<m51;i+=1)k51[i].animation.advanceTime(e);l51=t,n51&&!p51?window.requestAnimationFrame(A51):o51=!0}function B51(t){l51=t,window.requestAnimationFrame(A51)}function J51(){!p51&&n51&&o51&&(window.requestAnimationFrame(B51),o51=!1)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name||"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e=e&&"object"!=typeof e?JSON.parse(e):e},e=t.attributes;i.path=e.getNamedItem("data-animation-path")?e.getNamedItem("data-animation-path").value:e.getNamedItem("data-bm-path")?e.getNamedItem("data-bm-path").value:e.getNamedItem("bm-path")?e.getNamedItem("bm-path").value:"",i.animType=e.getNamedItem("data-anim-type")?e.getNamedItem("data-anim-type").value:e.getNamedItem("data-bm-type")?e.getNamedItem("data-bm-type").value:e.getNamedItem("bm-type")?e.getNamedItem("bm-type").value:e.getNamedItem("data-bm-renderer")?e.getNamedItem("data-bm-renderer").value:e.getNamedItem("bm-renderer")?e.getNamedItem("bm-renderer").value:"canvas";t=e.getNamedItem("data-anim-loop")?e.getNamedItem("data-anim-loop").value:e.getNamedItem("data-bm-loop")?e.getNamedItem("data-bm-loop").value:e.getNamedItem("bm-loop")?e.getNamedItem("bm-loop").value:"";"false"===t?i.loop=!1:"true"===t?i.loop=!0:""!==t&&(i.loop=parseInt(t,10));t=e.getNamedItem("data-anim-autoplay")?e.getNamedItem("data-anim-autoplay").value:e.getNamedItem("data-bm-autoplay")?e.getNamedItem("data-bm-autoplay").value:!e.getNamedItem("bm-autoplay")||e.getNamedItem("bm-autoplay").value;i.autoplay="false"!==t,i.name=e.getNamedItem("data-name")?e.getNamedItem("data-name").value:e.getNamedItem("data-bm-name")?e.getNamedItem("data-bm-name").value:e.getNamedItem("bm-name")?e.getNamedItem("bm-name").value:"","false"===(e.getNamedItem("data-anim-prerender")?e.getNamedItem("data-anim-prerender").value:e.getNamedItem("data-bm-prerender")?e.getNamedItem("data-bm-prerender").value:e.getNamedItem("bm-prerender")?e.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));for(var e,i=this.animationData.layers,r=i.length,n=t.layers,s=n.length,o=0;o<s;o+=1)for(e=0;e<r;){if(i[e].id===n[o].id){i[e]=n[o];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(r=t.assets.length,e=0;e<r;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);t=t.shift();this.timeCompleted=t.time*this.frameRate;t=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(t,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if((e=this.markers[i]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!==i||(i=Number(t),isNaN(i)?(i=this.getMarkerData(t))&&this.goToAndStop(i.time,!0):e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){var r;i&&this.name!==i||(r=Number(t),isNaN(r)?(t=this.getMarkerData(t))&&(t.duration?this.playSegments([t.time,t.time+t.duration],!0):this.goToAndStop(t.time,!0)):this.goToAndStop(r,e,i),this.play())},AnimationItem.prototype.advanceTime=function(t){var e;!0!==this.isPaused&&!1!==this.isLoaded&&(e=!1,(t=this.currentRawFrame+t*this.frameModifier)>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(e=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(e=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),e&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete")))},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0])for(var i=t.length,r=0;r<i;r+=1)this.segments.push(t[r]);else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e,i="";return t.e?i=t.p:this.assetsPath?(-1!==(e=t.p).indexOf("images/")&&(e=e.split("/")[1]),i=this.assetsPath+e):(i=this.path,i+=t.u||"",i+=t.p),i},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":case"drawnFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){t=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(t){t=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=(kh1={},kh1.initExpressions=function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0===--e&&function(){var t,e=i.length;for(t=0;t<e;t+=1)i[t].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}},kh1),kh1,expressionsPlugin=Expressions,ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"==e||"boolean"==e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){for(var i=t.length,r=[],n=0;n<i;n+=1)r[n]=-t[n];return r}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=typeof t,r=typeof e;if("string"==i||"string"==r)return t+e;if(isNumerable(i,t)&&isNumerable(r,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,o=e.length,a=[];n<s||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?a[n]=t[n]+e[n]:a[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return a}return 0}var add=sum;function sub(t,e){var i=typeof t,r=typeof e;if(isNumerable(i,t)&&isNumerable(r,e))return(t="string"==i?parseInt(t,10):t)-(e="string"==r?parseInt(e,10):e);if($bm_isInstanceOfArray(t)&&isNumerable(r,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var n=0,s=t.length,o=e.length,a=[];n<s||n<o;)("number"==typeof t[n]||t[n]instanceof Number)&&("number"==typeof e[n]||e[n]instanceof Number)?a[n]=t[n]-e[n]:a[n]=void 0===e[n]?t[n]:t[n]||e[n],n+=1;return a}return 0}function mul(t,e){var i,r,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t[r]*e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t*e[r];return i}return 0}function div(t,e){var i,r,n,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(n=t.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t[r]/e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(n=e.length,i=createTypedArray("float32",n),r=0;r<n;r+=1)i[r]=t/e[r];return i}return 0}function mod(t,e){return(t="string"==typeof t?parseInt(t,10):t)%(e="string"==typeof e?parseInt(e,10):e)}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){var r;return i<e&&(r=i,i=e,e=r),Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));for(var i=Math.min(t.length,(e=e||helperLengthArray).length),r=0,n=0;n<i;n+=1)r+=Math.pow(e[n]-t[n],2);return Math.sqrt(r)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],i=t[1],r=t[2],n=Math.max(e,i,r),s=Math.min(e,i,r);if(n===s)0;else{switch(n){case e:0;break;case i:0;break;case r:0}0}return t[3],1}function hue2rgb(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e=t[0],i=t[1],r=t[2];return 0===i?0:(hue2rgb(i=2*r-(r=r<.5?r*(1+i):r+i-r*i),r,e+1/3),hue2rgb(i,r,e),hue2rgb(i,r,e-1/3)),t[3],1}function linear(t,e,i,r,n){var s;if(void 0!==r&&void 0!==n||(r=e,n=i,e=0,i=1),i<e&&(s=i,i=e,e=s),t<=e)return r;if(i<=t)return n;var o=i===e?0:(t-e)/(i-e);if(!r.length)return r+(n-r)*o;for(var a=r.length,l=createTypedArray("float32",a),h=0;h<a;h+=1)l[h]=r[h]+(n[h]-r[h])*o;return l}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i=e.length;t=t||createTypedArray("float32",i);for(var r=createTypedArray("float32",i),n=BMMath.random(),s=0;s<i;s+=1)r[s]=t[s]+n*(e[s]-t[s]);return r}return(t=void 0===t?0:t)+BMMath.random()*(e-t)}function createPath(t,e,i,r){var n=t.length,s=shapePool.newElement();s.setPathData(!!r,n);for(var o,a,l=[0,0],h=0;h<n;h+=1)o=e&&e[h]?e[h]:l,a=i&&i[h]?i[h]:l,s.setTripleAt(t[h][0],t[h][1],a[0]+t[h][0],a[1]+t[h][1],o[0]+t[h][0],o[1]+t[h][1],h,!0);return s}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw||0,height=elem.data.sh||0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){for(var i=this.pv.length||1,r=createTypedArray("float32",i),n=Math.floor(5*time),s=0,o=0;s<n;){for(o=0;o<i;o+=1)r[o]+=-e+2*e*BMMath.random();s+=1}var a=5*time,l=a-Math.floor(a),h=createTypedArray("float32",i);if(1<i){for(o=0;o<i;o+=1)h[o]=this.pv[o]+r[o]+(-e+2*e*BMMath.random())*l;return h}return this.pv+r[0]+(-e+2*e*BMMath.random())*l}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){t=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],Math.atan2(t[0],Math.sqrt(t[1]*t[1]+t[2]*t[2])),Math.atan2(t[1],t[2]);return 1}function easeOut(t,e,i,r,n){return applyEase(easeOutBez,t,e,i,r,n)}function easeIn(t,e,i,r,n){return applyEase(easeInBez,t,e,i,r,n)}function ease(t,e,i,r,n){return applyEase(easeInOutBez,t,e,i,r,n)}function applyEase(t,e,i,r,n,s){void 0===n?(n=i,s=r):e=(e-i)/(r-i),1<e?e=1:e<0&&(e=0);var o=t(e);if($bm_isInstanceOfArray(n)){for(var a=n.length,l=createTypedArray("float32",a),h=0;h<a;h+=1)l[h]=(s[h]-n[h])*o+n[h];return l}return(s-n)*o+n}function nearestKey(t){var e,i,r,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,r=data.k[0].t;else{for(e=0;e<n-1;e+=1){if(t===data.k[e].t){i=e+1,r=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){r=t-data.k[e].t>data.k[e+1].t-t?(i=e+2,data.k[e+1].t):(i=e+1,data.k[e].t);break}}-1===i&&(i=e+1,r=data.k[e].t)}else r=i=0;var s={};return s.index=i,s.time=r/elem.comp.globalData.frameRate,s}function key(t){if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(var e={time:data.k[--t].t/elem.comp.globalData.frameRate,value:[]},i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e,r=i.length,n=0;n<r;n+=1)e[n]=i[n],e.value[n]=i[n];return e}function framesToTime(t,e){return t/(e=e||elem.comp.globalData.frameRate)}function timeToFrames(t,e){return(t=!t&&0!==t?time:t)*(e=e||elem.comp.globalData.frameRate)}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value&&(void 0===e?value.substring(t):value.substring(t,e))}function substr(t,e){return"string"==typeof value&&(void 0===e?value.substr(t):value.substr(t,e))}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect=effect||thisLayer(4),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt="shape"===scoped_bm_rt.propType?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),r=0;if(e.length){for(var n=0;n<e.length;n+=1)r+=Math.pow(i[n]-e[n],2);r=100*Math.sqrt(r)}else r=0;return r},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(e.length)for(var r=createTypedArray("float32",e.length),n=0;n<e.length;n+=1)r[n]=(i[n]-e[n])/-.001;else r=(i-e)/-.001;return r},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function o(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var r,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,u=h[h.length-1].t;if(l<=u)return this.pv;if(i?n=u-(r=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>h.length-1)&&(e=h.length-1),r=u-(n=h[h.length-1-e].t)),"pingpong"===t){if(Math.floor((l-n)/r)%2!=0)return this.getValueAtTime((r-(l-n)%r+n)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(u/this.comp.globalData.frameRate,0),f=this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0),p=Math.floor((l-n)/r);if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=(d[s]-c[s])*p+f[s];return a}return(d-c)*p+f}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-y[s])*((l-u)/this.comp.globalData.frameRate)/5e-4;return a}return m+(l-u)/.001*(m-y)}}return this.getValueAtTime(((l-n)%r+n)/this.comp.globalData.frameRate,0)}function a(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var r,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,u=h[0].t;if(u<=l)return this.pv;if(i?n=u+(r=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):r=(n=h[e=!e||e>h.length-1?h.length-1:e].t)-u,"pingpong"===t){if(Math.floor((u-l)/r)%2==0)return this.getValueAtTime(((u-l)%r+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),f=this.getValueAtTime((r-(u-l)%r+u)/this.comp.globalData.frameRate,0),p=Math.floor((u-l)/r)+1;if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=f[s]-(d[s]-c[s])*p;return a}return f-(d-c)*p}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),y=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-y[s])*(u-l)/.001;return a}return m+(m-y)*(u-l)/.001}}return this.getValueAtTime((r-((u-l)%r+u))/this.comp.globalData.frameRate,0)}function l(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;for(var i,r=this.comp.renderedFrame/this.comp.globalData.frameRate,n=r-t,s=1<e?(r+t-n)/(e-1):1,o=0,a=0,l=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(i=this.getValueAtTime(n+o*s),this.pv.length)for(a=0;a<this.pv.length;a+=1)l[a]+=i[a];else l+=i;o+=1}if(this.pv.length)for(a=0;a<this.pv.length;a+=1)l[a]/=e;else l/=e;return l}var r=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){i=r(t,e,i);return i.dynamicProperties.length?i.getValueAtTime=function(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e,i,r,n,s,o,a=this._transformCachingAtTime.v;return a.cloneFromProps(this.pre.props),this.appliedTransformations<1&&(e=this.a.getValueAtTime(t),a.translate(-e[0]*this.a.mult,-e[1]*this.a.mult,e[2]*this.a.mult)),this.appliedTransformations<2&&(i=this.s.getValueAtTime(t),a.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)),this.sk&&this.appliedTransformations<3&&(e=this.sk.getValueAtTime(t),i=this.sa.getValueAtTime(t),a.skewFromAxis(-e*this.sk.mult,i*this.sa.mult)),this.r&&this.appliedTransformations<4?(r=this.r.getValueAtTime(t),a.rotate(-r*this.r.mult)):!this.r&&this.appliedTransformations<4&&(r=this.rz.getValueAtTime(t),n=this.ry.getValueAtTime(t),s=this.rx.getValueAtTime(t),o=this.or.getValueAtTime(t),a.rotateZ(-r*this.rz.mult).rotateY(n*this.ry.mult).rotateX(s*this.rx.mult).rotateZ(-o[2]*this.or.mult).rotateY(o[1]*this.or.mult).rotateX(o[0]*this.or.mult)),this.data.p&&this.data.p.s?(n=this.px.getValueAtTime(t),s=this.py.getValueAtTime(t),this.data.p.z?(o=this.pz.getValueAtTime(t),a.translate(n*this.px.mult,s*this.py.mult,-o*this.pz.mult)):a.translate(n*this.px.mult,s*this.py.mult,0)):(t=this.p.getValueAtTime(t),a.translate(t[0]*this.p.mult,t[1]*this.p.mult,-t[2]*this.p.mult)),a}.bind(i):i.getValueAtTime=function(){return this.v.clone(new Matrix)}.bind(i),i.setGroupProperty=expressionHelpers.setGroupProperty,i};var h=PropertyFactory.getProp;PropertyFactory.getProp=function(t,e,i,r,n){var s=h(t,e,i,r,n);s.kf?s.getValueAtTime=expressionHelpers.getValueAtTime.bind(s):s.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s.loopOut=o,s.loopIn=a,s.smooth=l,s.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(s),s.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(s),s.numKeys=1===e.a?e.k.length:0,s.propertyIndex=e.ix;r=0;return 0!==i&&(r=createTypedArray("float32",(1===e.a?e.k[0].s:e.k).length)),s._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:r},expressionHelpers.searchExpressions(t,e,s),s.k&&n.addDynamicProperty(s),s};var t=ShapePropertyFactory.getConstructorFunction(),e=ShapePropertyFactory.getKeyframedConstructorFunction();function i(){}i.prototype={vertices:function(t,e){this.k&&this.getValue();for(var i=this.v,r=(i=void 0!==e?this.getValueAtTime(e,0):i)._length,n=i[t],s=i.v,o=createSizedArray(r),a=0;a<r;a+=1)o[a]="i"===t||"o"===t?[n[a][0]-s[a][0],n[a][1]-s[a][1]]:[n[a][0],n[a][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var e=this._segmentsLength,r=e.lengths,n=e.totalLength*t,s=0,o=r.length,a=0;s<o;){if(a+r[s].addedLength>n){var l=s,h=i.c&&s===o-1?0:s+1,u=(n-a)/r[s].addedLength,c=bez.getPointInSegment(i.v[l],i.v[h],i.o[l],i.i[h],u,r[s]);break}a+=r[s].addedLength,s+=1}return c=c||(i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]])},vectorOnPath:function(t,e,i){1==t?t=this.v.c:0==t&&(t=.999);var r=this.pointOnPath(t,e),t=this.pointOnPath(t+.001,e),e=t[0]-r[0],t=t[1]-r[1],r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));return 0===r?[0,0]:"tangent"===i?[e/r,t/r]:[-t/r,e/r]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([i],t),extendPrototype([i],e),e.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},e.prototype.initiateExpression=ExpressionManager.initiateExpression;var s=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,r,n){n=s(t,e,i,r,n);return n.propertyIndex=e.ix,n.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,n):4===i&&expressionHelpers.searchExpressions(t,e.ks,n),n.k&&t.addDynamicProperty(n),n}}(),TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t===i)return t;e={};return this.copyData(e,t),e.t=i.toString(),e.__complete=!1,e},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,i){var r=e.sh;function n(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?n.path:null}e=propertyGroupFactory(n,i);return r.setGroupProperty(PropertyInterface("Path",e)),Object.defineProperties(n,{path:{get:function(){return r.k&&r.getValue(),r}},shape:{get:function(){return r.k&&r.getValue(),r}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),n},propertyGroupFactory=function(e,i){return function(t){return(t=void 0===t?1:t)<=0?e:i(t-1)}},PropertyInterface=function(t,e){var i={_name:t};return function(t){return(t=void 0===t?1:t)<=0?i:e(t-1)}},ShapeExpressionInterface=function(t,e,r){var n;function i(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?r:n[t-1];for(var e=0,i=n.length;e<i;){if(n[e]._name===t)return n[e];e+=1}return null}return i.propertyGroup=propertyGroupFactory(i,function(){return r}),n=Qk1(t,e,i.propertyGroup),i.numProperties=n.length,i._name="Contents",i};function Qk1(t,e,i){for(var r=[],n=t?t.length:0,s=0;s<n;s+=1)"gr"===t[s].ty?r.push(function(t,e,i){function r(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return r.content;default:return r.transform}}r.propertyGroup=propertyGroupFactory(r,i);i=function(t,e,i){function r(t){for(var e=0,i=n.length;e<i;){if(n[e]._name===t||n[e].mn===t||n[e].propertyIndex===t||n[e].ix===t||n[e].ind===t)return n[e];e+=1}return"number"==typeof t?n[t-1]:null}var n;r.propertyGroup=propertyGroupFactory(r,i),n=Qk1(t.it,e.it,r.propertyGroup),r.numProperties=n.length;e=Yk1(t.it[t.it.length-1],e.it[e.it.length-1],r.propertyGroup);return r.transform=e,r.propertyIndex=t.cix,r._name=t.nm,r}(t,e,r.propertyGroup),e=Yk1(t.it[t.it.length-1],e.it[e.it.length-1],r.propertyGroup);return r.content=i,r.transform=e,Object.defineProperty(r,"_name",{get:function(){return t.nm}}),r.numProperties=t.np,r.propertyIndex=t.ix,r.nm=t.nm,r.mn=t.mn,r}(t[s],e[s],i)):"fl"===t[s].ty?r.push(function(t,e,i){function r(t){return"Color"===t||"color"===t?r.color:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),r}(t[s],e[s],i)):"st"===t[s].ty?r.push(function(e,i,t){var r,t=propertyGroupFactory(a,t),n=propertyGroupFactory(void 0,t);var s=e.d?e.d.length:0,o={};for(r=0;r<s;r+=1)!function(t){Object.defineProperty(o,e.d[t].nm,{get:ExpressionPropertyInterface(i.d.dataProps[t].p)})}(r),i.d.dataProps[r].p.setGroupProperty(n);function a(t){return"Color"===t||"color"===t?a.color:"Opacity"===t||"opacity"===t?a.opacity:"Stroke Width"===t||"stroke width"===t?a.strokeWidth:null}return Object.defineProperties(a,{color:{get:ExpressionPropertyInterface(i.c)},opacity:{get:ExpressionPropertyInterface(i.o)},strokeWidth:{get:ExpressionPropertyInterface(i.w)},dash:{get:function(){return o}},_name:{value:e.nm},mn:{value:e.mn}}),i.c.setGroupProperty(PropertyInterface("Color",t)),i.o.setGroupProperty(PropertyInterface("Opacity",t)),i.w.setGroupProperty(PropertyInterface("Stroke Width",t)),a}(t[s],e[s],i)):"tm"===t[s].ty?r.push(function(e,t,i){function r(t){return t===e.e.ix||"End"===t||"end"===t?r.end:t===e.s.ix?r.start:t===e.o.ix?r.offset:null}var n=propertyGroupFactory(r,i);return r.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",n)),t.e.setGroupProperty(PropertyInterface("End",n)),t.o.setGroupProperty(PropertyInterface("Offset",n)),r.propertyIndex=e.ix,r.propertyGroup=i,Object.defineProperties(r,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"tr"===t[s].ty||("el"===t[s].ty?r.push(function(e,t,i){function r(t){return e.p.ix===t?r.position:e.s.ix===t?r.size:null}i=propertyGroupFactory(r,i);r.propertyIndex=e.ix;t="tm"===t.sh.ty?t.sh.prop:t.sh;return t.s.setGroupProperty(PropertyInterface("Size",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(r,{size:{get:ExpressionPropertyInterface(t.s)},position:{get:ExpressionPropertyInterface(t.p)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"sr"===t[s].ty?r.push(function(e,t,i){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.rotation:e.pt.ix===t?r.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?r.outerRadius:e.os.ix===t?r.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?r.innerRoundness:null:r.innerRadius}i=propertyGroupFactory(r,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;r.propertyIndex=e.ix,t.or.setGroupProperty(PropertyInterface("Outer Radius",i)),t.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),t.pt.setGroupProperty(PropertyInterface("Points",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),e.ir&&(t.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),t.is.setGroupProperty(PropertyInterface("Inner Roundness",i)));return Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(t.p)},rotation:{get:ExpressionPropertyInterface(t.r)},points:{get:ExpressionPropertyInterface(t.pt)},outerRadius:{get:ExpressionPropertyInterface(t.or)},outerRoundness:{get:ExpressionPropertyInterface(t.os)},innerRadius:{get:ExpressionPropertyInterface(t.ir)},innerRoundness:{get:ExpressionPropertyInterface(t.is)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"sh"===t[s].ty?r.push(ShapePathInterface(t[s],e[s],i)):"rc"===t[s].ty?r.push(function(e,t,i){function r(t){return e.p.ix===t?r.position:e.r.ix===t?r.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?r.size:null}i=propertyGroupFactory(r,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;return r.propertyIndex=e.ix,t.p.setGroupProperty(PropertyInterface("Position",i)),t.s.setGroupProperty(PropertyInterface("Size",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(r,{position:{get:ExpressionPropertyInterface(t.p)},roundness:{get:ExpressionPropertyInterface(t.r)},size:{get:ExpressionPropertyInterface(t.s)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"rd"===t[s].ty?r.push(function(e,t,i){function r(t){return e.r.ix===t||"Round Corners 1"===t?r.radius:null}i=propertyGroupFactory(r,i);return r.propertyIndex=e.ix,t.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(r,{radius:{get:ExpressionPropertyInterface(t.rd)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"rp"===t[s].ty?r.push(function(e,t,i){function r(t){return e.c.ix===t||"Copies"===t?r.copies:e.o.ix===t||"Offset"===t?r.offset:null}i=propertyGroupFactory(r,i);return r.propertyIndex=e.ix,t.c.setGroupProperty(PropertyInterface("Copies",i)),t.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(r,{copies:{get:ExpressionPropertyInterface(t.c)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),r.mn=e.mn,r}(t[s],e[s],i)):"gf"===t[s].ty?r.push(function(t,e,i){function r(t){return"Start Point"===t||"start point"===t?r.startPoint:"End Point"===t||"end point"===t?r.endPoint:"Opacity"===t||"opacity"===t?r.opacity:null}return Object.defineProperties(r,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",i)),e.e.setGroupProperty(PropertyInterface("End Point",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),r}(t[s],e[s],i)):r.push((t[s],e[s],function(){return null})));return r}function Yk1(e,t,i){function r(t){return e.a.ix===t||"Anchor Point"===t?r.anchorPoint:e.o.ix===t||"Opacity"===t?r.opacity:e.p.ix===t||"Position"===t?r.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?r.rotation:e.s.ix===t||"Scale"===t?r.scale:e.sk&&e.sk.ix===t||"Skew"===t?r.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?r.skewAxis:null}var n=propertyGroupFactory(r,i);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(r,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),r.ty="tr",r.mn=e.mn,r.propertyGroup=i,r}var TextExpressionInterface=function(e){var i;function r(t){return"ADBE Text Document"!==t?null:r.sourceText}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var t=e.textProperty.currentData.t;return void 0!==t&&(e.textProperty.currentData.t=void 0,(i=new String(t)).value=t||new String(t)),i}}),r},LayerExpressionInterface=function(e){function i(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return i.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return r;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return i.effect;case"ADBE Text Properties":return i.textInterface;default:return null}}i.getMatrix=dn1,i.invertPoint=jn1,i.applyPoint=in1,i.toWorld=fn1,i.toWorldVec=en1,i.fromWorld=hn1,i.fromWorldVec=gn1,i.toComp=fn1,i.fromComp=kn1,i.sampleImage=ln1,i.sourceRectAtTime=e.sourceRectAtTime.bind(e);var r,t=getDescriptor(r=TransformExpressionInterface((i._elem=e).finalTransform.mProp),"anchorPoint");return Object.defineProperties(i,{hasParent:{get:function(){return e.hierarchy.length}},parent:{get:function(){return e.hierarchy[0].layerInterface}},rotation:getDescriptor(r,"rotation"),scale:getDescriptor(r,"scale"),position:getDescriptor(r,"position"),opacity:getDescriptor(r,"opacity"),anchorPoint:t,anchor_point:t,transform:{get:function(){return r}},active:{get:function(){return e.isInRange}}}),i.startTime=e.data.st,i.index=e.data.ind,i.source=e.data.refId,i.height=0===e.data.ty?e.data.h:100,i.width=0===e.data.ty?e.data.w:100,i.inPoint=e.data.ip/e.comp.globalData.frameRate,i.outPoint=e.data.op/e.comp.globalData.frameRate,i._name=e.data.nm,i.registerMaskInterface=function(t){i.mask=new MaskManagerInterface(t,e)},i.registerEffectsInterface=function(t){i.effect=t},i};function dn1(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function en1(t,e){e=this.getMatrix(e);return e.props[12]=0,e.props[13]=0,e.props[14]=0,this.applyPoint(e,t)}function fn1(t,e){e=this.getMatrix(e);return this.applyPoint(e,t)}function gn1(t,e){e=this.getMatrix(e);return e.props[12]=0,e.props[13]=0,e.props[14]=0,this.invertPoint(e,t)}function hn1(t,e){e=this.getMatrix(e);return this.invertPoint(e,t)}function in1(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.applyToPointArray(e[0],e[1],e[2]||0)}function jn1(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}function kn1(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){for(var i=this._elem.hierarchy.length,r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function ln1(){return[1,1,1,1]}var FootageInterface=function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=Yn1(t),e};function Yn1(t){function e(t){return"Outline"===t?e.outlineInterface():null}function i(t){if(s[t])return"object"==typeof(s=s[n=t])?i:s;var e=t.indexOf(n);if(-1===e)return"";e=parseInt(t.substr(e+n.length),10);return"object"==typeof(s=s[e])?i:s}var r,n,s;return e._name="Outline",e.outlineInterface=(n="",s=(r=t).getFootageData(),function(){return n="",s=r.getFootageData(),i}),e}var CompExpressionInterface=function(r){function t(t){for(var e=0,i=r.layers.length;e<i;){if(r.layers[e].nm===t||r.layers[e].ind===t)return r.elements[e].layerInterface;e+=1}return null}return Object.defineProperty(t,"_name",{value:r.data.nm}),(t.layer=t).pixelAspect=1,t.height=r.data.h||r.globalData.compSize.h,t.width=r.data.w||r.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/r.globalData.frameRate,t.displayStartTime=0,t.numLayers=r.layers.length,t},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var i,r,n,s;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?s=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),r=ExpressionPropertyInterface(t.py),t.pz&&(n=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[i(),r(),n?n():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=xo1,t};function xo1(t){this.compositions.push(t)}var EffectsExpressionInterface={createEffectsInterface:function(t,e){if(t.effectsManager){var i,r=[],n=t.data.ef,s=t.effectsManager.effectElements.length;for(i=0;i<s;i+=1)r.push(function t(n,e,i,r){function s(t){for(var e=n.ef,i=0,r=e.length;i<r;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?a[i]:a[i]();i+=1}throw new Error}var o=propertyGroupFactory(s,i);var a=[];var l;var h=n.ef.length;for(l=0;l<h;l+=1)5===n.ef[l].ty?a.push(t(n.ef[l],e.effectElements[l],e.effectElements[l].propertyGroup,r)):a.push(Go1(e.effectElements[l],n.ef[l].ty,r,o));"ADBE Color Control"===n.mn&&Object.defineProperty(s,"color",{get:function(){return a[0]()}});Object.defineProperties(s,{numProperties:{get:function(){return n.np}},_name:{value:n.nm},propertyGroup:{value:o}});s.enabled=0!==n.en;s.active=s.enabled;return s}(n[i],t.effectsManager.effectElements[i],e,t));var o=t.data.ef||[],a=function(t){for(i=0,s=o.length;i<s;){if(t===o[i].nm||t===o[i].mn||t===o[i].ix)return r[i];i+=1}return null};return Object.defineProperty(a,"numProperties",{get:function(){return o.length}}),a}return null}};function Go1(t,e,i,r){var n=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",r)),function(){return 10===e?i.comp.compInterface(t.p.v):n()}}var MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});return function(e){for(var i=createSizedArray(e.viewData.length),r=e.viewData.length,n=0;n<r;n+=1)i[n]=new t(e.viewData[n],e.masksProperties[n]);return function(t){for(n=0;n<r;){if(e.masksProperties[n].nm===t)return i[n];n+=1}return null}}}(),ExpressionPropertyInterface=(rp1={pv:0,v:0,mult:1},sp1={pv:[0,0,0],v:[0,0,0],mult:1},function(t){return t?"unidimensional"===t.propType?(i=1/(e=!((e=t)&&"pv"in e)?rp1:e).mult,r=e.pv*i,(n=new Number(r)).value=r,tp1(n,e,"unidimensional"),function(){return e.k&&e.getValue(),r=e.v*i,n.value!==r&&((n=new Number(r)).value=r,tp1(n,e,"unidimensional")),n}):(o=1/(s=!((s=t)&&"pv"in s)?sp1:s).mult,a=s.data&&s.data.l||s.pv.length,l=createTypedArray("float32",a),h=createTypedArray("float32",a),l.value=h,tp1(l,s,"multidimensional"),function(){s.k&&s.getValue();for(var t=0;t<a;t+=1)h[t]=s.v[t]*o,l[t]=h[t];return l}):wp1;var e,i,r,n,s,o,a,l,h}),rp1,sp1;function tp1(r,n,s){Object.defineProperty(r,"velocity",{get:function(){return n.getVelocityAtTime(n.comp.currentFrame)}}),r.numKeys=n.keyframes?n.keyframes.length:0,r.key=function(t){if(!r.numKeys)return 0;var e="",e="s"in n.keyframes[t-1]?n.keyframes[t-1].s:"e"in n.keyframes[t-2]?n.keyframes[t-2].e:n.keyframes[t-2].s,i="unidimensional"===s?new Number(e):Object.assign({},e);return i.time=n.keyframes[t-1].t/n.elem.comp.globalData.frameRate,i.value="unidimensional"===s?e[0]:e,i},r.valueAtTime=n.getValueAtTime,r.speedAtTime=n.getSpeedAtTime,r.velocityAtTime=n.getVelocityAtTime,r.propertyGroup=n.propertyGroup}function wp1(){return rp1}var TextExpressionSelectorPropFactory=function(t,e){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=e.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,e,this),this.getMult=Op1,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty};function Op1(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}var propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];for(var r,n=i.length,s=0;s<n;s+=1)r=new GroupEffect(i[s],e),this.effectElements.push(r)}function GroupEffect(t,e){this.init(t,e)}TextSelectorProp.getTextSelectorProp=function(t,e,i){return 1===e.t?new TextExpressionSelectorPropFactory(t,e,i):propertyGetTextProp(t,e,i)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);for(var i,r=this.data.ef.length,n=this.data.ef,s=0;s<r;s+=1){switch(i=null,n[s].ty){case 0:i=new SliderEffect(n[s],e,this);break;case 1:i=new AngleEffect(n[s],e,this);break;case 2:i=new ColorEffect(n[s],e,this);break;case 3:i=new PointEffect(n[s],e,this);break;case 4:case 7:i=new CheckboxEffect(n[s],e,this);break;case 10:i=new LayerIndexEffect(n[s],e,this);break;case 11:i=new MaskIndexEffect(n[s],e,this);break;case 5:i=new EffectsManager(n[s],e,this);break;default:i=new NoValueEffect(n[s],e,this)}i&&this.effectElements.push(i)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function setIDPrefix(t){idPrefix=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&1<t&&(defaultCurveSegments=t);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var r=e[i].split("=");if(decodeURIComponent(r[0])==t)return decodeURIComponent(r[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(t){_useWebWorker=t},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString,scripts,index,myScript,queryString,renderer;standalone&&(scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer"));var readyStateCheckInterval=setInterval(checkReady,100);return lottie},"function"==typeof define&&define.amd?define(function(){return Dpb(Cpb)}):"object"==typeof module&&module.exports?module.exports=Dpb(Cpb):(Cpb.lottie=Dpb(Cpb),Cpb.bodymovin=Cpb.lottie))},{}],54:[function(t,e,i){"use strict";var l=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var i,r=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),n=1;n<arguments.length;n++){for(var s in i=Object(arguments[n]))h.call(i,s)&&(r[s]=i[s]);if(l)for(var o=l(i),a=0;a<o.length;a++)u.call(i,o[a])&&(r[o[a]]=i[o[a]])}return r}},{}],55:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("@pixi/polyfill");var r=t("@pixi/utils"),n=t("@pixi/accessibility"),s=t("@pixi/interaction"),o=t("@pixi/app"),a=t("@pixi/core"),l=t("@pixi/extract"),h=t("@pixi/loaders"),u=t("@pixi/compressed-textures"),c=t("@pixi/particle-container"),d=t("@pixi/prepare"),f=t("@pixi/spritesheet"),p=t("@pixi/sprite-tiling"),m=t("@pixi/text-bitmap"),y=t("@pixi/ticker"),_=t("@pixi/filter-alpha"),g=t("@pixi/filter-blur"),v=t("@pixi/filter-color-matrix"),b=t("@pixi/filter-displacement"),T=t("@pixi/filter-fxaa"),x=t("@pixi/filter-noise");t("@pixi/mixin-cache-as-bitmap"),t("@pixi/mixin-get-child-by-name"),t("@pixi/mixin-get-global-position");var E=t("@pixi/constants"),S=t("@pixi/display"),A=t("@pixi/graphics"),P=t("@pixi/math"),w=t("@pixi/mesh"),O=t("@pixi/mesh-extras"),R=t("@pixi/runner"),M=t("@pixi/sprite"),C=t("@pixi/sprite-animated"),I=t("@pixi/text"),D=t("@pixi/settings");a.Renderer.registerPlugin("accessibility",n.AccessibilityManager),a.Renderer.registerPlugin("extract",l.Extract),a.Renderer.registerPlugin("interaction",s.InteractionManager),a.Renderer.registerPlugin("particle",c.ParticleRenderer),a.Renderer.registerPlugin("prepare",d.Prepare),a.Renderer.registerPlugin("batch",a.BatchRenderer),a.Renderer.registerPlugin("tilingSprite",p.TilingSpriteRenderer),h.Loader.registerPlugin(m.BitmapFontLoader),h.Loader.registerPlugin(u.CompressedTextureLoader),h.Loader.registerPlugin(u.DDSLoader),h.Loader.registerPlugin(u.KTXLoader),h.Loader.registerPlugin(f.SpritesheetLoader),o.Application.registerPlugin(y.TickerPlugin),o.Application.registerPlugin(h.AppLoaderPlugin);x={AlphaFilter:_.AlphaFilter,BlurFilter:g.BlurFilter,BlurFilterPass:g.BlurFilterPass,ColorMatrixFilter:v.ColorMatrixFilter,DisplacementFilter:b.DisplacementFilter,FXAAFilter:T.FXAAFilter,NoiseFilter:x.NoiseFilter};Object.keys(n).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return n[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(h).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return h[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(y).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return y[t]}})}),Object.keys(E).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return E[t]}})}),Object.keys(S).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return S[t]}})}),Object.keys(A).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return A[t]}})}),Object.keys(P).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return P[t]}})}),Object.keys(w).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return w[t]}})}),Object.keys(O).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return O[t]}})}),Object.keys(R).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return R[t]}})}),Object.keys(M).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return M[t]}})}),Object.keys(C).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return C[t]}})}),Object.keys(I).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return I[t]}})}),Object.keys(D).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return D[t]}})}),i.utils=r,i.VERSION="6.2.0",i.filters=x},{"@pixi/accessibility":6,"@pixi/app":7,"@pixi/compressed-textures":8,"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/extract":12,"@pixi/filter-alpha":13,"@pixi/filter-blur":14,"@pixi/filter-color-matrix":15,"@pixi/filter-displacement":16,"@pixi/filter-fxaa":17,"@pixi/filter-noise":18,"@pixi/graphics":19,"@pixi/interaction":20,"@pixi/loaders":21,"@pixi/math":23,"@pixi/mesh":25,"@pixi/mesh-extras":24,"@pixi/mixin-cache-as-bitmap":26,"@pixi/mixin-get-child-by-name":27,"@pixi/mixin-get-global-position":28,"@pixi/particle-container":29,"@pixi/polyfill":30,"@pixi/prepare":31,"@pixi/runner":32,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/sprite-animated":34,"@pixi/sprite-tiling":35,"@pixi/spritesheet":37,"@pixi/text":39,"@pixi/text-bitmap":38,"@pixi/ticker":40,"@pixi/utils":41}],56:[function(t,e,i){var r,n,e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(t){r=s}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var l,h=[],u=!1,c=-1;function d(){u&&l&&(u=!1,l.length?h=l.concat(h):c=-1,h.length&&f())}function f(){if(!u){var t=a(d);u=!0;for(var e=h.length;e;){for(l=h,h=[];++c<e;)l&&l[c].run();c=-1,e=h.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new p(t,e)),1!==h.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],57:[function(t,d,e){!function(t){!function(){"use strict";var e=setTimeout,i=void 0!==t?t:null;function l(t){return Boolean(t&&void 0!==t.length)}function r(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function n(i,r){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,s._immediateFn(function(){var t,e=1===i._state?r.onFulfilled:r.onRejected;if(null!==e){try{t=e(i._value)}catch(t){return void a(r.promise,t)}o(r.promise,t)}else(1===i._state?o:a)(r.promise,i._value)})):i._deferreds.push(r)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void h(e);if("function"==typeof i)return void c((r=i,n=t,function(){r.apply(n,arguments)}),e)}e._state=1,e._value=t,h(e)}catch(t){a(e,t)}var r,n}function a(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)n(t,t._deferreds[e]);t._deferreds=null}function u(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function c(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,a(e,t))})}catch(t){if(i)return;i=!0,a(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=new this.constructor(r);return n(this,new u(t,e,i)),i},s.prototype.finally=function(e){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){return i.reject(t)})})},s.all=function(e){return new s(function(n,s){if(!l(e))return s(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return n([]);var a=o.length;for(var t=0;t<o.length;t++)!function e(i,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if("function"==typeof r)return void r.call(t,function(t){e(i,t)},s)}o[i]=t,0==--a&&n(o)}catch(t){s(t)}}(t,o[t])})},s.allSettled=function(i){return new this(function(n,t){if(!i||void 0===i.length)return t(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var s=Array.prototype.slice.call(i);if(0===s.length)return n([]);var o=s.length;for(var e=0;e<s.length;e++)!function e(i,t){if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if("function"==typeof r)return void r.call(t,function(t){e(i,t)},function(t){s[i]={status:"rejected",reason:t},0==--o&&n(s)})}s[i]={status:"fulfilled",value:t},0==--o&&n(s)}(e,s[e])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(i){return new s(function(t,e){e(i)})},s.race=function(n){return new s(function(t,e){if(!l(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)s.resolve(n[i]).then(t,e)})},s._immediateFn="function"==typeof i?function(t){i(t)}:function(t){e(t,0)},s._unhandledRejectionFn=function(t){},d.exports=s}.call(this)}.call(this,t("timers").setImmediate)},{timers:63}],58:[function(t,O,R){!function(w){!function(){!function(t){var e="object"==typeof R&&R&&!R.nodeType&&R,i="object"==typeof O&&O&&!O.nodeType&&O,r="object"==typeof w&&w;r.global!==r&&r.window!==r&&r.self!==r||(t=r);var n,s,y=2147483647,_=36,g=26,o=38,a=700,l=/^xn--/,h=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=_-1,v=Math.floor,b=String.fromCharCode;function T(t){throw new RangeError(c[t])}function f(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function p(t,e){var i=t.split("@"),r="";return 1<i.length&&(r=i[0]+"@",t=i[1]),r+f((t=t.replace(u,".")).split("."),e).join(".")}function x(t){for(var e,i,r=[],n=0,s=t.length;n<s;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<s?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function m(t){return f(t,function(t){var e="";return 65535<t&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=b(t)}).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,i){var r=0;for(t=i?v(t/a):t>>1,t+=v(t/e);d*g>>1<t;r+=_)t=v(t/d);return v(r+(d+1)*t/(t+o))}function A(t){var e,i,r,n,s,o,a,l=[],h=t.length,u=0,c=128,d=72,f=t.lastIndexOf("-");for(f<0&&(f=0),i=0;i<f;++i)128<=t.charCodeAt(i)&&T("not-basic"),l.push(t.charCodeAt(i));for(r=0<f?f+1:0;r<h;){for(n=u,s=1,o=_;h<=r&&T("invalid-input"),a=t.charCodeAt(r++),(_<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:_)||a>v((y-u)/s))&&T("overflow"),u+=a*s,!(a<(a=o<=d?1:d+g<=o?g:o-d));o+=_)s>v(y/(a=_-a))&&T("overflow"),s*=a;d=S(u-n,e=l.length+1,0==n),v(u/e)>y-c&&T("overflow"),c+=v(u/e),u%=e,l.splice(u++,0,c)}return m(l)}function P(t){for(var e,i,r,n,s,o,a,l,h,u,c=[],d=(t=x(t)).length,f=128,p=72,m=e=0;m<d;++m)(a=t[m])<128&&c.push(b(a));for(i=r=c.length,r&&c.push("-");i<d;){for(n=y,m=0;m<d;++m)f<=(a=t[m])&&a<n&&(n=a);for(n-f>v((y-e)/(l=i+1))&&T("overflow"),e+=(n-f)*l,f=n,m=0;m<d;++m)if((a=t[m])<f&&++e>y&&T("overflow"),a==f){for(s=e,o=_;!(s<(h=o<=p?1:p+g<=o?g:o-p));o+=_)c.push(b(E(h+(u=s-h)%(h=_-h),0))),s=v(u/h);c.push(b(E(s,0))),p=S(e,l,i==r),e=0,++i}++e,++f}return c.join("")}if(n={version:"1.4.1",ucs2:{decode:x,encode:m},decode:A,encode:P,toASCII:function(t){return p(t,function(t){return h.test(t)?"xn--"+P(t):t})},toUnicode:function(t){return p(t,function(t){return l.test(t)?A(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return n});else if(e&&i)if(O.exports==e)i.exports=n;else for(s in n)n.hasOwnProperty(s)&&(e[s]=n[s]);else t.punycode=n}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,i){"use strict";e.exports=function(t,e,i,r){i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var s=/\+/g;t=t.split(e=e||"&");e=1e3;r&&"number"==typeof r.maxKeys&&(e=r.maxKeys);var o=t.length;0<e&&e<o&&(o=e);for(var a=0;a<o;++a){var l,h=t[a].replace(s,"%20"),u=h.indexOf(i),u=0<=u?(l=h.substr(0,u),h.substr(u+1)):(l=h,""),h=decodeURIComponent(l),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(n,h)?c(n[h])?n[h].push(u):n[h]=[n[h],u]:n[h]=u}return n};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],60:[function(t,e,i){"use strict";function s(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(i,r,n,t){return r=r||"&",n=n||"=","object"==typeof(i=null===i?void 0:i)?a(l(i),function(t){var e=encodeURIComponent(s(t))+n;return o(i[t])?a(i[t],function(t){return e+encodeURIComponent(s(t))}).join(r):e+encodeURIComponent(s(i[t]))}).join(r):t?encodeURIComponent(s(t))+n+encodeURIComponent(s(i)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var l=Object.keys||function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}},{}],61:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":59,"./encode":60}],62:[function(t,r,e){!function(){"use strict";var o="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=void 0!==r&&r.exports,a=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,r=e.length,n={};i<r;i++)if((t=e[i])&&t[1]in o){for(i=0;i<t.length;i++)n[e[0][i]]=t[i];return n}return!1}(),i={change:a.fullscreenchange,error:a.fullscreenerror},e={request:function(n,s){return new Promise(function(t,e){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var r=(n=n||o.documentElement)[a.requestFullscreen](s);r instanceof Promise&&r.then(i).catch(e)}.bind(this))},exit:function(){return new Promise(function(t,e){var i,r;this.isFullscreen?(i=function(){this.off("change",i),t()}.bind(this),this.on("change",i),(r=o[a.exitFullscreen]())instanceof Promise&&r.then(i).catch(e)):t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){t=i[t];t&&o.addEventListener(t,e,!1)},off:function(t,e){t=i[t];t&&o.removeEventListener(t,e,!1)},raw:a};a?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(o[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return o[a.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(o[a.fullscreenEnabled])}}}),t?r.exports=e:window.screenfull=e):t?r.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},{}],63:[function(l,t,h){!function(i,a){!function(){var r=l("process/browser.js").nextTick,t=Function.prototype.apply,n=Array.prototype.slice,s={},o=0;function e(t,e){this._id=t,this._clearFn=e}h.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},h.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},h.clearTimeout=h.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},h.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},h.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},h._unrefActive=h.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},h.setImmediate="function"==typeof i?i:function(t){var e=o++,i=!(arguments.length<2)&&n.call(arguments,1);return s[e]=!0,r(function(){s[e]&&(i?t.apply(null,i):t.call(null),h.clearImmediate(e))}),e},h.clearImmediate="function"==typeof a?a:function(t){delete s[t]}}.call(this)}.call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":56,timers:63}],64:[function(t,V,e){!function(l){var h=/^\s+/,u=/\s+$/,r=0,s=l.round,c=l.min,d=l.max,t=l.random;function f(t,e){if(e=e||{},(t=t||"")instanceof f)return t;if(!(this instanceof f))return new f(t,e);var i=function(t){var e={r:0,g:0,b:0},i=1,r=null,n=null,s=null,o=!1,a=!1;"string"==typeof t&&(t=function(t){t=t.replace(h,"").replace(u,"").toLowerCase();var e,i=!1;if(P[t])t=P[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=G.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=G.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=G.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=G.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=G.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=G.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=G.hex8.exec(t))return{r:C(e[1]),g:C(e[2]),b:C(e[3]),a:F(e[4]),format:i?"name":"hex8"};if(e=G.hex6.exec(t))return{r:C(e[1]),g:C(e[2]),b:C(e[3]),format:i?"name":"hex"};if(e=G.hex4.exec(t))return{r:C(e[1]+""+e[1]),g:C(e[2]+""+e[2]),b:C(e[3]+""+e[3]),a:F(e[4]+""+e[4]),format:i?"name":"hex8"};if(e=G.hex3.exec(t))return{r:C(e[1]+""+e[1]),g:C(e[2]+""+e[2]),b:C(e[3]+""+e[3]),format:i?"name":"hex"};return!1}(t));"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(e=function(t,e,i){return{r:255*R(t,255),g:255*R(e,255),b:255*R(i,255)}}(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(r=D(t.s),n=D(t.v),e=function(t,e,i){t=6*R(t,360),e=R(e,100),i=R(i,100);var r=l.floor(t),n=t-r,s=i*(1-e),t=i*(1-n*e),e=i*(1-(1-n)*e),r=r%6;return{r:255*[i,t,s,s,e,i][r],g:255*[e,i,i,t,s,s][r],b:255*[s,s,e,i,i,t][r]}}(t.h,r,n),o=!0,a="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(r=D(t.s),s=D(t.l),e=function(t,e,i){var r,n,s;function o(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}t=R(t,360),e=R(e,100),i=R(i,100),0===e?r=n=s=i:(r=o(e=2*i-(i=i<.5?i*(1+e):i+e-i*e),i,t+1/3),n=o(e,i,t),s=o(e,i,t-1/3));return{r:255*r,g:255*n,b:255*s}}(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(i=t.a));return i=O(i),{ok:o,format:t.format||a,r:c(255,d(e.r,0)),g:c(255,d(e.g,0)),b:c(255,d(e.b,0)),a:i}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=s(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=i.ok,this._tc_id=r++}function n(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var r,n=d(t,e,i),s=c(t,e,i),o=(n+s)/2;if(n==s)r=l=0;else{var a=n-s,l=.5<o?a/(2-n-s):a/(n+s);switch(n){case t:r=(e-i)/a+(e<i?6:0);break;case e:r=(i-t)/a+2;break;case i:r=(t-e)/a+4}r/=6}return{h:r,s:l,l:o}}function o(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var r,n=d(t,e,i),s=c(t,e,i),o=n,a=n-s,l=0===n?0:a/n;if(n==s)r=0;else{switch(n){case t:r=(e-i)/a+(e<i?6:0);break;case e:r=(i-t)/a+2;break;case i:r=(t-e)/a+4}r/=6}return{h:r,s:l,v:o}}function e(t,e,i,r){i=[I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a(t,e,i,r){return[I(N(r)),I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16))].join("")}function i(t,e){e=0===e?0:e||10;t=f(t).toHsl();return t.s-=e/100,t.s=M(t.s),f(t)}function p(t,e){e=0===e?0:e||10;t=f(t).toHsl();return t.s+=e/100,t.s=M(t.s),f(t)}function m(t){return f(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;t=f(t).toHsl();return t.l+=e/100,t.l=M(t.l),f(t)}function _(t,e){e=0===e?0:e||10;t=f(t).toRgb();return t.r=d(0,c(255,t.r-s(-e/100*255))),t.g=d(0,c(255,t.g-s(-e/100*255))),t.b=d(0,c(255,t.b-s(-e/100*255))),f(t)}function g(t,e){e=0===e?0:e||10;t=f(t).toHsl();return t.l-=e/100,t.l=M(t.l),f(t)}function v(t,e){t=f(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,f(t)}function b(t){t=f(t).toHsl();return t.h=(t.h+180)%360,f(t)}function T(t){var e=f(t).toHsl(),i=e.h;return[f(t),f({h:(i+120)%360,s:e.s,l:e.l}),f({h:(i+240)%360,s:e.s,l:e.l})]}function x(t){var e=f(t).toHsl(),i=e.h;return[f(t),f({h:(i+90)%360,s:e.s,l:e.l}),f({h:(i+180)%360,s:e.s,l:e.l}),f({h:(i+270)%360,s:e.s,l:e.l})]}function E(t){var e=f(t).toHsl(),i=e.h;return[f(t),f({h:(i+72)%360,s:e.s,l:e.l}),f({h:(i+216)%360,s:e.s,l:e.l})]}function S(t,e,i){e=e||6,i=i||30;var r=f(t).toHsl(),n=360/i,s=[f(t)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,s.push(f(r));return s}function A(t,e){e=e||6;for(var t=f(t).toHsv(),i=t.h,r=t.s,n=t.v,s=[],o=1/e;e--;)s.push(f({h:i,s:r,v:n})),n=(n+o)%1;return s}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,i=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:l.pow((.055+e)/1.055,2.4),i=i<=.03928?i/12.92:l.pow((.055+i)/1.055,2.4),t=t<=.03928?t/12.92:l.pow((.055+t)/1.055,2.4);return.2126*e+.7152*i+.0722*t},setAlpha:function(t){return this._a=O(t),this._roundA=s(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=s(360*t.h),i=s(100*t.s),t=s(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+t+"%)":"hsva("+e+", "+i+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=n(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=n(this._r,this._g,this._b),e=s(360*t.h),i=s(100*t.s),t=s(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+t+"%)":"hsla("+e+", "+i+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,r,n){r=[I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16)),I(N(r))];if(n&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0);return r.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*R(this._r,255))+"%",g:s(100*R(this._g,255))+"%",b:s(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%)":"rgba("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&w[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),i=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(i=t?"#"+a((t=f(t))._r,t._g,t._b,t._a):i)+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,r=this._a<1&&0<=this._a;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),(i="hsv"===t?this.toHsvString():i)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return f(this.toString())},_applyModification:function(t,e){e=t.apply(null,[this].concat([].slice.call(e)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(g,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(p,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(T,arguments)},tetrad:function(){return this._applyCombination(x,arguments)}},f.fromRatio=function(t,e){if("object"==typeof t){var i,r={};for(i in t)t.hasOwnProperty(i)&&(r[i]="a"===i?t[i]:D(t[i]));t=r}return f(t,e)},f.equals=function(t,e){return!(!t||!e)&&f(t).toRgbString()==f(e).toRgbString()},f.random=function(){return f.fromRatio({r:t(),g:t(),b:t()})},f.mix=function(t,e,i){i=0===i?0:i||50;t=f(t).toRgb(),e=f(e).toRgb(),i/=100;return f({r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b,a:(e.a-t.a)*i+t.a})},f.readability=function(t,e){t=f(t),e=f(e);return(l.max(t.getLuminance(),e.getLuminance())+.05)/(l.min(t.getLuminance(),e.getLuminance())+.05)},f.isReadable=function(t,e,i){var r=f.readability(t,e),n=!1,i=function(t){var e;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==t&&"large"!==t&&(t="small");return{level:e,size:t}}(i);switch(i.level+i.size){case"AAsmall":case"AAAlarge":n=4.5<=r;break;case"AAlarge":n=3<=r;break;case"AAAsmall":n=7<=r}return n},f.mostReadable=function(t,e,i){for(var r,n=null,s=0,o=(i=i||{}).includeFallbackColors,a=i.level,l=i.size,h=0;h<e.length;h++)s<(r=f.readability(t,e[h]))&&(s=r,n=f(e[h]));return f.isReadable(t,n,{level:a,size:l})||!o?n:(i.includeFallbackColors=!1,f.mostReadable(t,["#fff","#000"],i))};var P=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},w=f.hexNames=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[t[e]]=e);return i}(P);function O(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function R(t,e){"string"==typeof(i=t)&&-1!=i.indexOf(".")&&1===parseFloat(i)&&(t="100%");var i,i="string"==typeof(i=t)&&-1!=i.indexOf("%");return t=c(e,d(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),l.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return c(1,d(0,t))}function C(t){return parseInt(t,16)}function I(t){return 1==t.length?"0"+t:""+t}function D(t){return t=t<=1?100*t+"%":t}function N(t){return l.round(255*parseFloat(t)).toString(16)}function F(t){return C(t)/255}var k,L,B,G=(L="[\\s|\\(]+("+(k="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?",B="[\\s|\\(]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")[,|\\s]+("+k+")\\s*\\)?",{CSS_UNIT:new RegExp(k),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(t){return G.CSS_UNIT.exec(t)}void 0!==V&&V.exports?V.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):window.tinycolor=f}(Math)},{}],65:[function(t,e,i){var r,n;r="undefined"!=typeof self?self:this,n=function(){return i=[function(t,i,r){"use strict";r.r(i),function(t){function u(){if(!(this instanceof u))throw new Error("constructor needs to be called with the 'new' keyword")}var e=r(93);u.prototype.toString=function(){for(var t in u){var e=t[0].match(/^[A-Z]$/),i=u[t]===this.constructor;if(u.isFunction(u[t])&&e&&i)return t}return"Tone"},u.prototype.dispose=function(){return this},u.prototype.set=function(t,e){var i;u.isString(t)&&((i={})[t]=e,t=i);t:for(var r in t){e=t[r];var n=this;if(-1!==r.indexOf(".")){for(var s=r.split("."),o=0;o<s.length-1;o++)if((n=n[s[o]])instanceof u){s.splice(0,o+1);var a=s.join(".");n.set(a,e);continue t}r=s[s.length-1]}var l=n[r];u.isUndef(l)||(u.Signal&&l instanceof u.Signal||u.Param&&l instanceof u.Param||l instanceof AudioParam?l.value!==e&&(l.value=e):u.TimeBase&&l instanceof u.TimeBase?n[r]=e:l instanceof u?l.set(e):l!==e&&(n[r]=e))}return this},u.prototype.get=function(t){u.isUndef(t)?t=this._collectDefaults(this.constructor):u.isString(t)&&(t=[t]);for(var e={},i=0;i<t.length;i++){var r=t[i],n=this,s=e;if(-1!==r.indexOf(".")){for(var o=r.split("."),a=0;a<o.length-1;a++){var l=o[a];s[l]=s[l]||{},s=s[l],n=n[l]}r=o[o.length-1]}var h=n[r];u.isObject(t[r])?s[r]=h.get():u.Signal&&h instanceof u.Signal||u.Param&&h instanceof u.Param||h instanceof AudioParam?s[r]=h.value:h instanceof u?s[r]=h.get():!u.isFunction(h)&&u.isDefined(h)&&(s[r]=h)}return e},u.prototype._collectDefaults=function(t){var e=[];if(u.isDefined(t.defaults)&&(e=Object.keys(t.defaults)),u.isDefined(t._super))for(var i=this._collectDefaults(t._super),r=0;r<i.length;r++)-1===e.indexOf(i[r])&&e.push(i[r]);return e},u.defaults=function(t,e,i){var r={};if(1===t.length&&u.isObject(t[0]))r=t[0];else for(var n=0;n<e.length;n++)r[e[n]]=t[n];return u.isDefined(i.defaults)?u.defaultArg(r,i.defaults):u.isObject(i)?u.defaultArg(r,i):r},u.defaultArg=function(t,e){if(u.isObject(t)&&u.isObject(e)){var i,r,n={};for(i in t)n[i]=u.defaultArg(e[i],t[i]);for(r in e)n[r]=u.defaultArg(t[r],e[r]);return n}return u.isUndef(t)?e:t},u.prototype.log=function(){var t;!this.debug&&this.toString()!==u.global.TONE_DEBUG_CLASS||((t=Array.from(arguments)).unshift(this.toString()+":"),console.log.apply(void 0,t))},u.prototype.assert=function(t,e){if(!t)throw new Error(e)},u.connectSeries=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];u.connect(t,i),t=i}return u},u.connect=function(t,e,i,r){for(;u.isDefined(e.input);)u.isArray(e.input)?(r=u.defaultArg(r,0),e=e.input[r],r=0):e.input&&(e=e.input);return e instanceof AudioParam?t.connect(e,i):e instanceof AudioNode&&t.connect(e,i,r),u},u.disconnect=function(e,t,i,r){if(t){for(var n=!1;!n;)u.isArray(t.input)?(u.isDefined(r)?u.disconnect(e,t.input[r],i):t.input.forEach(function(t){try{u.disconnect(e,t,i)}catch(t){}}),n=!0):t.input?t=t.input:n=!0;t instanceof AudioParam?e.disconnect(t,i):t instanceof AudioNode&&e.disconnect(t,i,r)}else e.disconnect();return u},u.isUndef=function(t){return void 0===t},u.isDefined=function(t){return!u.isUndef(t)},u.isFunction=function(t){return"function"==typeof t},u.isNumber=function(t){return"number"==typeof t},u.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},u.isBoolean=function(t){return"boolean"==typeof t},u.isArray=function(t){return Array.isArray(t)},u.isString=function(t){return"string"==typeof t},u.isNote=function(t){return u.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},u.noOp=function(){},u.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},u.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},u.State={Started:"started",Stopped:"stopped",Paused:"paused"},u.global=u.isUndef(t)?window:t,u.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},u.dbToGain=function(t){return Math.pow(10,t/20)},u.gainToDb=function(t){return Math.log(t)/Math.LN10*20},u.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},u.prototype.now=function(){return u.context.now()},u.now=function(){return u.context.now()},u.prototype.immediate=function(){return u.context.currentTime},u.immediate=function(){return u.context.currentTime},u.extend=function(t,e){function i(){}u.isUndef(e)&&(e=u),i.prototype=e.prototype,t.prototype=new i,(t.prototype.constructor=t)._super=e},u._audioContext=null,u.start=function(){return u.context.resume()},Object.defineProperty(u,"context",{get:function(){return u._audioContext},set:function(t){t.isContext?u._audioContext=t:u._audioContext=new u.Context(t),u.Context.emit("init",u._audioContext)}}),Object.defineProperty(u.prototype,"context",{get:function(){return u.context}}),u.setContext=function(t){u.context=t},Object.defineProperty(u.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(u.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(u,"supported",{get:function(){var t=u.global.hasOwnProperty("AudioContext")||u.global.hasOwnProperty("webkitAudioContext"),e=u.global.hasOwnProperty("Promise");return t&&e}}),Object.defineProperty(u,"initialized",{get:function(){return Boolean(u.context)}}),u.getContext=function(t){var e;return u.initialized?t(u.context):(e=function(){t(u.context),u.Context.off("init",e)},u.Context.on("init",e)),u},u.version=e.a,i.default=u}.call(this,r(147))},function(t,e,i){"use strict";i.r(e);var r,n,s=i(0);i(20),s.default.supported&&(i=(r=new OfflineAudioContext(2,1,44100)).createGain(),r=r.createGain(),i.connect(r)!==r&&(n=AudioNode.prototype.connect,AudioNode.prototype.connect=function(){return n.apply(this,arguments),arguments[0]})),s.default.AudioNode=function(){s.default.call(this);var t=s.default.defaults(arguments,["context"],{context:s.default.context});this._context=t.context},s.default.extend(s.default.AudioNode),Object.defineProperty(s.default.AudioNode.prototype,"context",{get:function(){return this._context}}),s.default.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():1<t&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():1<e&&(this.output=new Array(e))},Object.defineProperty(s.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(s.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(s.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(s.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?s.default.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(s.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?s.default.isArray(this.output)?this.output.length:1:0}}),s.default.AudioNode.prototype.connect=function(t,e,i){return s.default.isArray(this.output)?(e=s.default.defaultArg(e,0),this.output[e].connect(t,0,i)):s.default.connect(this.output,t,e,i),this},s.default.AudioNode.prototype.disconnect=function(t,e,i){return s.default.isArray(this.output)?(e=s.default.defaultArg(e,0),this.output[e].disconnect(t,0,i)):s.default.disconnect(this.output,t,e,i),this},s.default.AudioNode.prototype.chain=function(){var t=Array.from(arguments);return t.unshift(this),s.default.connectSeries.apply(void 0,t),this},s.default.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},s.default.AudioNode.prototype.dispose=function(){return s.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),s.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},e.default=s.default.AudioNode},function(t,e,i){"use strict";i.r(e);var r,n=i(0);i(4),i(14),i(30),i(44),i(20),i(3),n.default.supported&&!n.default.global.AudioContext.prototype.createConstantSource&&((r=function(t){for(var e=(this.context=t).createBuffer(1,128,t.sampleRate),i=e.getChannelData(0),r=0;r<i.length;r++)i[r]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;t=this._output=t.createGain();this.offset=t.gain,this._bufferSource.connect(t)}).prototype.start=function(t){return this._bufferSource.start(t),this},r.prototype.stop=function(t){return this._bufferSource.stop(t),this},r.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},r.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new r(this)},n.default.Context.prototype.createConstantSource=function(){return new r(this)}),n.default.Signal=function(){var t=n.default.defaults(arguments,["value","units"],n.default.Signal);n.default.Param.call(this,t),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=t.value,this.output=this._constantSource,this.input=this._param=this.output.offset},n.default.extend(n.default.Signal,n.default.Param),n.default.Signal.defaults={value:0,units:n.default.Type.Default,convert:!0},n.default.Signal.prototype.connect=n.default.SignalBase.prototype.connect,n.default.Signal.prototype.disconnect=n.default.SignalBase.prototype.disconnect,n.default.Signal.prototype.getValueAtTime=function(t){return this._param.getValueAtTime?this._param.getValueAtTime(t):n.default.Param.prototype.getValueAtTime.call(this,t)},n.default.Signal.prototype.dispose=function(){return n.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this},e.default=n.default.Signal},function(t,e,i){"use strict";i.r(e);var r=i(0);i(14),i(4),i(1),r.default.Gain=function(){var t=r.default.defaults(arguments,["gain","units"],r.default.Gain);r.default.AudioNode.call(this,t),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new r.default.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},r.default.extend(r.default.Gain,r.default.AudioNode),r.default.Gain.defaults={gain:1,convert:!0},r.default.Gain.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.default=r.default.Gain},function(t,e,i){"use strict";i.r(e);var r=i(0);i(63),i(46),i(45),i(20),r.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},r.default.prototype.toSeconds=function(t){return r.default.isNumber(t)?t:r.default.isUndef(t)?this.now():r.default.isString(t)||r.default.isObject(t)?new r.default.Time(t).toSeconds():t instanceof r.default.TimeBase?t.toSeconds():void 0},r.default.prototype.toFrequency=function(t){return r.default.isNumber(t)?t:r.default.isString(t)||r.default.isUndef(t)||r.default.isObject(t)?new r.default.Frequency(t).valueOf():t instanceof r.default.TimeBase?t.toFrequency():void 0},r.default.prototype.toTicks=function(t){return r.default.isNumber(t)||r.default.isString(t)||r.default.isObject(t)?new r.default.TransportTime(t).toTicks():r.default.isUndef(t)?r.default.Transport.ticks:t instanceof r.default.TimeBase?t.toTicks():void 0},e.default=r.default},function(t,e,i){"use strict";i.r(e);var r=i(0);i(14),i(3),i(30),r.default.Multiply=function(t){r.default.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new r.default.Gain,this._param=this.input[1]=this.output.gain,this.value=r.default.defaultArg(t,0)},r.default.extend(r.default.Multiply,r.default.Signal),r.default.Multiply.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.default=r.default.Multiply},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(27),i(40),i(4),i(34),i(2),i(1),n.default.Source=function(t){t=n.default.defaultArg(t,n.default.Source.defaults),n.default.AudioNode.call(this),this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new n.default.TimelineState(n.default.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute},n.default.extend(n.default.Source,n.default.AudioNode),n.default.Source.defaults={volume:0,mute:!1},Object.defineProperty(n.default.Source.prototype,"state",{get:function(){return this._synced?n.default.Transport.state===n.default.State.Started?this._state.getValueAtTime(n.default.Transport.seconds):n.default.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(n.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.Source.prototype._start=n.default.noOp,n.default.Source.prototype.restart=n.default.noOp,n.default.Source.prototype._stop=n.default.noOp,n.default.Source.prototype.start=function(t,e,i){var r;return n.default.isUndef(t)&&this._synced?t=n.default.Transport.seconds:(t=this.toSeconds(t),this._synced||(t=Math.max(t,this.context.currentTime))),this._state.getValueAtTime(t)===n.default.State.Started?(this._state.cancel(t),this._state.setStateAtTime(n.default.State.Started,t),this.restart(t,e,i)):(this._state.setStateAtTime(n.default.State.Started,t),this._synced?((r=this._state.get(t)).offset=n.default.defaultArg(e,0),r.duration=i,t=n.default.Transport.schedule(function(t){this._start(t,e,i)}.bind(this),t),this._scheduled.push(t),n.default.Transport.state===n.default.State.Started&&this._syncedStart(this.now(),n.default.Transport.seconds)):this._start.apply(this,arguments)),this},n.default.Source.prototype.stop=function(t){var e;return t=n.default.isUndef(t)&&this._synced?n.default.Transport.seconds:(t=this.toSeconds(t),Math.max(t,this.context.currentTime)),this._synced?(e=n.default.Transport.schedule(this._stop.bind(this),t),this._scheduled.push(e)):this._stop.apply(this,arguments),this._state.cancel(t),this._state.setStateAtTime(n.default.State.Stopped,t),this},n.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(t,e){var i,r;0<e&&((i=this._state.get(e))&&i.state===n.default.State.Started&&i.time!==e&&(e=e-this.toSeconds(i.time),i.duration&&(r=this.toSeconds(i.duration)-e),this._start(t,this.toSeconds(i.offset)+e,r)))}.bind(this),this._syncedStop=function(t){var e=n.default.Transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)===n.default.State.Started&&this._stop(t)}.bind(this),n.default.Transport.on("start loopStart",this._syncedStart),n.default.Transport.on("stop pause loopEnd",this._syncedStop),this},n.default.Source.prototype.unsync=function(){this._synced&&(n.default.Transport.off("stop pause loopEnd",this._syncedStop),n.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var t=0;t<this._scheduled.length;t++){var e=this._scheduled[t];n.default.Transport.clear(e)}return this._scheduled=[],this._state.cancel(0),this},n.default.Source.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},e.default=n.default.Source},function(t,e,i){"use strict";i.r(e);var r,n=i(0);i(30),i(44),!n.default.supported||n.default.global.AudioContext.prototype._native_createWaveShaper||(i=navigator.userAgent.toLowerCase()).includes("safari")&&!i.includes("chrome")&&(r=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)},Object.defineProperty(r.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),r.prototype._defineProperty=function(e,i){n.default.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return"function"==typeof e[i]?e[i].bind(e):e[i]},set:function(t){e[i]=t}})},n.default.global.AudioContext.prototype._native_createWaveShaper=n.default.global.AudioContext.prototype.createWaveShaper,n.default.global.AudioContext.prototype.createWaveShaper=function(){return new r(this)}),n.default.WaveShaper=function(t,e){n.default.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||n.default.isUndef(t)?this._curve=new Float32Array(n.default.defaultArg(t,1024)):n.default.isFunction(t)&&(this._curve=new Float32Array(n.default.defaultArg(e,1024)),this.setMap(t))},n.default.extend(n.default.WaveShaper,n.default.SignalBase),n.default.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),i=0,r=this._curve.length;i<r;i++)e[i]=t(i/(r-1)*2-1,i);return this.curve=e,this},Object.defineProperty(n.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(n.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),n.default.WaveShaper.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.default=n.default.WaveShaper},function(t,e,i){"use strict";i.r(e);var r=i(0);i(23),i(1),r.default.Effect=function(){var t=r.default.defaults(arguments,["wet"],r.default.Effect);r.default.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new r.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this.effectSend=new r.default.Gain,this.effectReturn=new r.default.Gain,r.default.connect(this.input,this._dryWet.a),r.default.connect(this.input,this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},r.default.extend(r.default.Effect,r.default.AudioNode),r.default.Effect.defaults={wet:1},r.default.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},r.default.Effect.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},e.default=r.default.Effect},function(t,e,i){"use strict";i.r(e);var a=i(0);i(2),i(1),a.default.Filter=function(){var t=a.default.defaults(arguments,["frequency","type","rolloff"],a.default.Filter);a.default.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new a.default.Signal(t.frequency,a.default.Type.Frequency),this.detune=new a.default.Signal(0,a.default.Type.Cents),this.gain=new a.default.Signal({value:t.gain,convert:!0,type:a.default.Type.Decibels}),this.Q=new a.default.Signal(t.Q),this._type=t.type,this._rolloff=t.rolloff,this.rolloff=t.rolloff,this._readOnly(["detune","frequency","gain","Q"])},a.default.extend(a.default.Filter,a.default.AudioNode),a.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(a.default.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(a.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96].indexOf(t);if(-1===e)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");e+=1,this._rolloff=t,this.input.disconnect();for(var i=0;i<this._filters.length;i++)this._filters[i].disconnect(),this._filters[i]=null;this._filters=new Array(e);for(var r=0;r<e;r++){var n=this.context.createBiquadFilter();n.type=this._type,this.frequency.connect(n.frequency),this.detune.connect(n.detune),this.Q.connect(n.Q),this.gain.connect(n.gain),this._filters[r]=n}t=[this.input].concat(this._filters).concat([this.output]);a.default.connectSeries.apply(a.default,t)}}),a.default.Filter.prototype.getFrequencyResponse=function(t){t=a.default.defaultArg(t,128);for(var i=new Float32Array(t).map(function(){return 1}),e=new Float32Array(t),r=0;r<t;r++){var n=19980*Math.pow(r/t,2)+20;e[r]=n}var s=new Float32Array(t),o=new Float32Array(t);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(e,s,o),s.forEach(function(t,e){i[e]*=t})}.bind(this)),i},a.default.Filter.prototype.dispose=function(){a.default.AudioNode.prototype.dispose.call(this);for(var t=0;t<this._filters.length;t++)this._filters[t].disconnect(),this._filters[t]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},e.default=a.default.Filter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(1),r.default.Merge=function(t){t=r.default.defaultArg(t,2),r.default.AudioNode.call(this),this.createInsOuts(t,0),this._merger=this.output=this.context.createChannelMerger(t);for(var e=0;e<t;e++)this.input[e]=new r.default.Gain,this.input[e].connect(this._merger,0,e),this.input[e].channelCount=1,this.input[e].channelCountMode="explicit";this.left=this.input[0],this.right=this.input[1]},r.default.extend(r.default.Merge,r.default.AudioNode),r.default.Merge.prototype.dispose=function(){return this.input.forEach(function(t){t.dispose()}),r.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this},e.default=r.default.Merge},function(t,e,i){"use strict";i.r(e);var u=i(0);i(35),i(4),u.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,i){var r=this.getChannelData(e);i=i||0;for(var n=0;n<r.length;n++)r[n+i]=t[n]},AudioBuffer.prototype.copyFromChannel=function(t,e,i){var r=this.getChannelData(e);i=i||0;for(var n=0;n<t.length;n++)t[n]=r[n+i]})),u.default.Buffer=function(){var t=u.default.defaults(arguments,["url","onload","onerror"],u.default.Buffer);u.default.call(this),this._buffer=null,this._reversed=t.reverse,this._xhr=null,this.onload=u.default.noOp,t.url instanceof AudioBuffer||t.url instanceof u.default.Buffer?(this.set(t.url),this.loaded||(this.onload=t.onload)):u.default.isString(t.url)&&this.load(t.url).then(t.onload).catch(t.onerror)},u.default.extend(u.default.Buffer),u.default.Buffer.defaults={url:void 0,reverse:!1,onload:u.default.noOp,onerror:u.default.noOp},u.default.Buffer.prototype.set=function(t){return t instanceof u.default.Buffer?t.loaded?this._buffer=t.get():t.onload=function(){this.set(t),this.onload(this)}.bind(this):this._buffer=t,this._reversed&&this._reverse(),this},u.default.Buffer.prototype.get=function(){return this._buffer},u.default.Buffer.prototype.load=function(t,r,n){return new Promise(function(e,i){this._xhr=u.default.Buffer.load(t,function(t){this._xhr=null,this.set(t),e(this),this.onload(this),r&&r(this)}.bind(this),function(t){this._xhr=null,i(t),n&&n(t)}.bind(this))}.bind(this))},u.default.Buffer.prototype.dispose=function(){return u.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(u.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(u.default.Buffer.prototype,"loaded",{get:function(){return 0<this.length}}),Object.defineProperty(u.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(u.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(u.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),u.default.Buffer.prototype.fromArray=function(t){var e=0<t[0].length,i=e?t.length:1,r=(e?t[0]:t).length,n=this.context.createBuffer(i,r,this.context.sampleRate);e||1!==i||(t=[t]);for(var s=0;s<i;s++)n.copyToChannel(t[s],s);return this._buffer=n,this},u.default.Buffer.prototype.toMono=function(t){if(u.default.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),i=this.numberOfChannels,r=0;r<i;r++)for(var n=this.toArray(r),s=0;s<n.length;s++)e[s]+=n[s];e=e.map(function(t){return t/i}),this.fromArray(e)}return this},u.default.Buffer.prototype.toArray=function(t){if(u.default.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e},u.default.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},u.default.Buffer.prototype.slice=function(t,e){e=u.default.defaultArg(e,this.duration);for(var i=Math.floor(this.context.sampleRate*this.toSeconds(t)),r=Math.floor(this.context.sampleRate*this.toSeconds(e)),n=[],s=0;s<this.numberOfChannels;s++)n[s]=this.toArray(s).slice(i,r);return(new u.default.Buffer).fromArray(n)},u.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(u.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),u.default.Emitter.mixin(u.default.Buffer),u.default.Buffer._downloadQueue=[],u.default.Buffer.baseUrl="",u.default.Buffer.fromArray=function(t){return(new u.default.Buffer).fromArray(t)},u.default.Buffer.fromUrl=function(t){var e=new u.default.Buffer;return e.load(t).then(function(){return e})},u.default.Buffer._removeFromDownloadQueue=function(t){t=u.default.Buffer._downloadQueue.indexOf(t);-1!==t&&u.default.Buffer._downloadQueue.splice(t,1)},u.default.Buffer.load=function(t,e,i){e=u.default.defaultArg(e,u.default.noOp);var r=t.match(/\[(.+\|?)+\]$/);if(r){for(var n=r[1].split("|"),s=n[0],o=0;o<n.length;o++)if(u.default.Buffer.supportsType(n[o])){s=n[o];break}t=t.replace(r[0],s)}function a(t){if(u.default.Buffer._removeFromDownloadQueue(h),u.default.Buffer.emit("error",t),!i)throw t;i(t)}function l(){for(var t=0,e=0;e<u.default.Buffer._downloadQueue.length;e++)t+=u.default.Buffer._downloadQueue[e].progress;u.default.Buffer.emit("progress",t/u.default.Buffer._downloadQueue.length)}var h=new XMLHttpRequest;return h.open("GET",u.default.Buffer.baseUrl+t,!0),h.responseType="arraybuffer",h.progress=0,u.default.Buffer._downloadQueue.push(h),h.addEventListener("load",function(){200===h.status?u.default.context.decodeAudioData(h.response).then(function(t){h.progress=1,l(),e(t),u.default.Buffer._removeFromDownloadQueue(h),0===u.default.Buffer._downloadQueue.length&&u.default.Buffer.emit("load")}).catch(function(){u.default.Buffer._removeFromDownloadQueue(h),a("Tone.Buffer: could not decode audio data: "+t)}):a("Tone.Buffer: could not locate file: "+t)}),h.addEventListener("error",a),h.addEventListener("progress",function(t){t.lengthComputable&&(h.progress=t.loaded/t.total*.95,l())}),h.send(),h},u.default.Buffer.cancelDownloads=function(){return u.default.Buffer._downloadQueue.slice().forEach(function(t){u.default.Buffer._removeFromDownloadQueue(t),t.abort()}),u.default.Buffer},u.default.Buffer.supportsType=function(t){t=(t=t.split("."))[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+t)},u.default.loaded=function(){var i,r;function e(){u.default.Buffer.off("load",i),u.default.Buffer.off("error",r)}return new Promise(function(t,e){i=function(){t()},r=function(){e()},u.default.Buffer.on("load",i),u.default.Buffer.on("error",r)}).then(e).catch(function(t){throw e(),new Error(t)})},e.default=u.default.Buffer},function(t,e,i){"use strict";i.r(e);var r=i(0);i(17),i(26),i(1),i(2),i(22),i(4),i(28),r.default.LFO=function(){var t=r.default.defaults(arguments,["frequency","min","max"],r.default.LFO);r.default.AudioNode.call(this),this._oscillator=new r.default.Oscillator({frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=r.default.Type.NormalRange,this.amplitude.value=t.amplitude,this._stoppedSignal=new r.default.Signal(0,r.default.Type.AudioRange),this._zeros=new r.default.Zero,this._stoppedValue=0,this._a2g=new r.default.AudioToGain,this._scaler=this.output=new r.default.Scale(t.min,t.max),this._units=r.default.Type.Default,this.units=t.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=t.phase},r.default.extend(r.default.LFO,r.default.AudioNode),r.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:r.default.Type.Default},r.default.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},r.default.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},r.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},r.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(r.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(r.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(r.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(r.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(r.default.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}}),Object.defineProperty(r.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),r.default.LFO.prototype.connect=function(t){return t.constructor!==r.default.Signal&&t.constructor!==r.default.Param||(this.convert=t.convert,this.units=t.units),r.default.SignalBase.prototype.connect.apply(this,arguments),this},r.default.LFO.prototype._fromUnits=r.default.Param.prototype._fromUnits,r.default.LFO.prototype._toUnits=r.default.Param.prototype._toUnits,r.default.LFO.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},e.default=r.default.LFO},function(t,e,i){"use strict";i.r(e);var r=i(0);i(29),i(90),i(2),i(3),r.default.Subtract=function(t){r.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new r.default.Gain,this._neg=new r.default.Negate,this._param=this.input[1]=new r.default.Signal(t),this._param.chain(this._neg,this._sum)},r.default.extend(r.default.Subtract,r.default.Signal),r.default.Subtract.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},e.default=r.default.Subtract},function(t,e,i){"use strict";i.r(e);var o=i(0);i(4),i(1),i(24),o.default.Param=function(){var t=o.default.defaults(arguments,["param","units","convert"],o.default.Param);o.default.AudioNode.call(this,t),this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._events=new o.default.Timeline(1e3),o.default.isDefined(t.value)&&this._param&&this.setValueAtTime(t.value,0)},o.default.extend(o.default.Param,o.default.AudioNode),o.default.Param.defaults={units:o.default.Type.Default,convert:!0,param:void 0},Object.defineProperty(o.default.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(o.default.Param.prototype,"minValue",{get:function(){return this.units===o.default.Type.Time||this.units===o.default.Type.Frequency||this.units===o.default.Type.NormalRange||this.units===o.default.Type.Positive||this.units===o.default.Type.BPM?0:this.units===o.default.Type.AudioRange?-1:this.units===o.default.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(o.default.Param.prototype,"maxValue",{get:function(){return this.units===o.default.Type.NormalRange||this.units===o.default.Type.AudioRange?1:this._param.maxValue}}),o.default.Param.prototype._fromUnits=function(t){if(!this.convert&&!o.default.isUndef(this.convert)||this.overridden)return t;switch(this.units){case o.default.Type.Time:return this.toSeconds(t);case o.default.Type.Frequency:return this.toFrequency(t);case o.default.Type.Decibels:return o.default.dbToGain(t);case o.default.Type.NormalRange:return Math.min(Math.max(t,0),1);case o.default.Type.AudioRange:return Math.min(Math.max(t,-1),1);case o.default.Type.Positive:return Math.max(t,0);default:return t}},o.default.Param.prototype._toUnits=function(t){return!this.convert&&!o.default.isUndef(this.convert)||this.units!==o.default.Type.Decibels?t:o.default.gainToDb(t)},o.default.Param.prototype._minOutput=1e-5,o.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},o.default.Param.prototype.setValueAtTime=function(t,e){return e=this.toSeconds(e),t=this._fromUnits(t),this._events.add({type:o.default.Param.AutomationType.SetValue,value:t,time:e}),this.log(o.default.Param.AutomationType.SetValue,t,e),this._param.setValueAtTime(t,e),this},o.default.Param.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var e,i=this._events.getAfter(t),r=this._events.get(t),n=o.default.defaultArg(this._initialValue,this._param.defaultValue);return null===r?n:r.type===o.default.Param.AutomationType.Target?(e=null===(e=this._events.getBefore(r.time))?n:e.value,this._exponentialApproach(r.time,e,r.value,r.constant,t)):null===i?r.value:i.type===o.default.Param.AutomationType.Linear?this._linearInterpolate(r.time,r.value,i.time,i.value,t):i.type===o.default.Param.AutomationType.Exponential?this._exponentialInterpolate(r.time,r.value,i.time,i.value,t):r.value},o.default.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},o.default.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Linear,value:t,time:e}),this.log(o.default.Param.AutomationType.Linear,t,e),this._param.linearRampToValueAtTime(t,e),this},o.default.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Exponential,time:e,value:t}),this.log(o.default.Param.AutomationType.Exponential,t,e),this._param.exponentialRampToValueAtTime(t,e),this},o.default.Param.prototype.exponentialRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},o.default.Param.prototype.linearRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},o.default.Param.prototype.targetRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this},o.default.Param.prototype.exponentialApproachValueAtTime=function(t,e,i){var r=Math.log(this.toSeconds(i)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*i),this.linearRampToValueAtTime(t,e+i),this},o.default.Param.prototype.setTargetAtTime=function(t,e,i){if(t=this._fromUnits(t),i<=0)throw new Error("timeConstant must be greater than 0");return e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Target,value:t,time:e,constant:i}),this.log(o.default.Param.AutomationType.Target,t,e,i),this._param.setTargetAtTime(t,e,i),this},o.default.Param.prototype.setValueCurveAtTime=function(t,e,i,r){r=o.default.defaultArg(r,1),i=this.toSeconds(i),e=this.toSeconds(e),this.setValueAtTime(t[0]*r,e);for(var n=i/(t.length-1),s=1;s<t.length;s++)this.linearRampToValueAtTime(t[s]*r,e+s*n);return this},o.default.Param.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(o.default.Param.AutomationType.Cancel,t),this},o.default.Param.prototype.cancelAndHoldAtTime=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.log("cancelAndHoldAtTime",t,"value="+e),this._param.cancelScheduledValues(t);var i=this._events.get(t),r=this._events.getAfter(t);return i&&i.time===t?r?this._events.cancel(r.time):this._events.cancel(t+this.sampleTime):r&&(this._events.cancel(r.time),r.type===o.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(e,t):r.type===o.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(e,t)),this._events.add({type:o.default.Param.AutomationType.SetValue,value:e,time:t}),this._param.setValueAtTime(e,t),this},o.default.Param.prototype.rampTo=function(t,e,i){return e=o.default.defaultArg(e,.1),this.units===o.default.Type.Frequency||this.units===o.default.Type.BPM||this.units===o.default.Type.Decibels?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this},o.default.Param.prototype._exponentialApproach=function(t,e,i,r,n){return i+(e-i)*Math.exp(-(n-t)/r)},o.default.Param.prototype._linearInterpolate=function(t,e,i,r,n){return e+(n-t)/(i-t)*(r-e)},o.default.Param.prototype._exponentialInterpolate=function(t,e,i,r,n){return e*Math.pow(r/e,(n-t)/(i-t))},o.default.Param.prototype.dispose=function(){return o.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},e.default=o.default.Param},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(19),i(10),i(23),r.default.StereoEffect=function(){r.default.AudioNode.call(this);var t=r.default.defaults(arguments,["wet"],r.default.Effect);this.createInsOuts(1,1),this._dryWet=new r.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this._split=new r.default.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new r.default.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,r.default.connect(this.input,this._split),r.default.connect(this.input,this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},r.default.extend(r.default.StereoEffect,r.default.Effect),r.default.StereoEffect.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},e.default=r.default.StereoEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(83),i(4),i(24),i(35),i(3),i(81),i(80),i(56),n.default.Transport=function(){n.default.Emitter.call(this),n.default.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=r.defaults.PPQ,this._clock=new n.default.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=n.default.Type.BPM,this.bpm.value=r.defaults.bpm,this._readOnly("bpm"),this._timeSignature=r.defaults.timeSignature,this._scheduledEvents={},this._timeline=new n.default.Timeline,this._repeatedEvents=new n.default.IntervalTimeline,this._syncedSignals=[],this._swingTicks=r.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},n.default.extend(n.default.Transport,n.default.Emitter),n.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},n.default.Transport.prototype.isTransport=!0,n.default.Transport.prototype._processTick=function(e,t){var i;0<this._swingAmount&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0&&(i=t%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(i*Math.PI)*this._swingAmount,e+=n.default.Ticks(2*this._swingTicks/3).toSeconds()*i),this.loop&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._timeline.forEachAtTime(t,function(t){t.invoke(e)})},n.default.Transport.prototype.schedule=function(t,e){t=new n.default.TransportEvent(this,{time:n.default.TransportTime(e),callback:t});return this._addEvent(t,this._timeline)},n.default.Transport.prototype.scheduleRepeat=function(t,e,i,r){r=new n.default.TransportRepeatEvent(this,{callback:t,interval:n.default.Time(e),time:n.default.TransportTime(i),duration:n.default.Time(n.default.defaultArg(r,1/0))});return this._addEvent(r,this._repeatedEvents)},n.default.Transport.prototype.scheduleOnce=function(t,e){t=new n.default.TransportEvent(this,{time:n.default.TransportTime(e),callback:t,once:!0});return this._addEvent(t,this._timeline)},n.default.Transport.prototype.clear=function(t){var e;return this._scheduledEvents.hasOwnProperty(t)&&((e=this._scheduledEvents[t.toString()]).timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]),this},n.default.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},n.default.Transport.prototype.cancel=function(t){return t=n.default.defaultArg(t,0),t=this.toTicks(t),this._timeline.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this},n.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(t,e){e=n.default.Ticks(e).toSeconds(),this.emit("start",t,e)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(n.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),n.default.Transport.prototype.start=function(t,e){return n.default.isDefined(e)&&(e=this.toTicks(e)),this._clock.start(t,e),this},n.default.Transport.prototype.stop=function(t){return this._clock.stop(t),this},n.default.Transport.prototype.pause=function(t){return this._clock.pause(t),this},n.default.Transport.prototype.toggle=function(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==n.default.State.Started?this.start(t):this.stop(t),this},Object.defineProperty(n.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){n.default.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(n.default.Transport.prototype,"loopStart",{get:function(){return n.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(n.default.Transport.prototype,"loopEnd",{get:function(){return n.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),n.default.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(n.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(n.default.Transport.prototype,"swingSubdivision",{get:function(){return n.default.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(n.default.Transport.prototype,"position",{get:function(){var t=this.now(),t=this._clock.getTicksAtTime(t);return n.default.Ticks(t).toBarsBeatsSixteenths()},set:function(t){t=this.toTicks(t);this.ticks=t}}),Object.defineProperty(n.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),e=this.bpm.timeToTicks(t,e);this.ticks=e}}),Object.defineProperty(n.default.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(n.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){var e;this._clock.ticks!==t&&(e=this.now(),this.state===n.default.State.Started?(this.emit("stop",e),this._clock.setTicksAtTime(t,e),this.emit("start",e,this.seconds)):this._clock.setTicksAtTime(t,e))}}),n.default.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},n.default.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(n.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),n.default.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},n.default.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},n.default.Transport.prototype.nextSubdivision=function(t){if(t=this.toTicks(t),this.state!==n.default.State.Started)return 0;var e=this.now(),t=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(t,e)},n.default.Transport.prototype.syncSignal=function(t,e){var i;e||(i=this.now(),e=0!==t.getValueAtTime(i)?t.getValueAtTime(i)/this.bpm.getValueAtTime(i):0);e=new n.default.Gain(e);return this.bpm.chain(e,t._param),this._syncedSignals.push({ratio:e,signal:t,initial:t.value}),t.value=0,this},n.default.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;0<=e;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this},n.default.Transport.prototype.dispose=function(){return n.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var r=n.default.Transport;n.default.Transport=new r,n.default.Context.on("init",function(t){t.transport&&t.transport.isTransport?n.default.Transport=t.transport:n.default.Transport=new r}),n.default.Context.on("close",function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()}),e.default=n.default.Transport},function(t,e,i){"use strict";i.r(e);var u=i(0);i(2),i(6),i(16),i(64),u.default.Oscillator=function(){var t=u.default.defaults(arguments,["frequency","type"],u.default.Oscillator);u.default.Source.call(this,t),this._oscillator=null,this.frequency=new u.default.Signal(t.frequency,u.default.Type.Frequency),this.detune=new u.default.Signal(t.detune,u.default.Type.Cents),this._wave=null,this._partials=t.partials,this._partialCount=t.partialCount,this._phase=t.phase,this._type=t.type,t.partialCount&&t.type!==u.default.Oscillator.Type.Custom&&(this._type=this.baseType+t.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},u.default.extend(u.default.Oscillator,u.default.Source),u.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},u.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},u.default.Oscillator.prototype._start=function(t){this.log("start",t);var e=new u.default.OscillatorNode;this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),t=this.toSeconds(t),this._oscillator.start(t)},u.default.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},u.default.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},u.default.Oscillator.prototype.syncFrequency=function(){return u.default.Transport.syncSignal(this.frequency),this},u.default.Oscillator.prototype.unsyncFrequency=function(){return u.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(u.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=[u.default.Oscillator.Type.Sine,u.default.Oscillator.Type.Square,u.default.Oscillator.Type.Triangle,u.default.Oscillator.Type.Sawtooth].includes(t);0===this._phase&&e?(this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t)):(e=this._getRealImaginary(t,this._phase),e=this.context.createPeriodicWave(e[0],e[1]),this._wave=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)),this._type=t}}),Object.defineProperty(u.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(t){this.partialCount&&this._type!==u.default.Oscillator.Type.Custom&&t!==u.default.Oscillator.Type.Custom?this.type=t+this.partialCount:this.type=t}}),Object.defineProperty(u.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(t){var e=this._type,i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);i&&(e=i[1]),this._type!==u.default.Oscillator.Type.Custom&&(this.type=0===t?e:e+t.toString())}}),u.default.Oscillator.prototype.get=function(){var t=u.default.prototype.get.apply(this,arguments);return t.type!==u.default.Oscillator.Type.Custom&&delete t.partials,t},u.default.Oscillator.prototype._getRealImaginary=function(t,e){var i,r=2048,n=new Float32Array(r),s=new Float32Array(r),o=1;t===u.default.Oscillator.Type.Custom?(o=this._partials.length+1,this._partialCount=this._partials.length,r=o):((i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t))?(o=parseInt(i[2])+1,this._partialCount=parseInt(i[2]),t=i[1],r=o=Math.max(o,2)):this._partialCount=0,this._partials=[]);for(var a=1;a<r;++a){var l,h=2/(a*Math.PI);switch(t){case u.default.Oscillator.Type.Sine:this._partials[a-1]=l=a<=o?1:0;break;case u.default.Oscillator.Type.Square:this._partials[a-1]=l=1&a?2*h:0;break;case u.default.Oscillator.Type.Sawtooth:this._partials[a-1]=l=h*(1&a?1:-1);break;case u.default.Oscillator.Type.Triangle:this._partials[a-1]=l=1&a?h*h*2*(a-1>>1&1?-1:1):0;break;case u.default.Oscillator.Type.Custom:l=this._partials[a-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+t)}0!==l?(n[a]=-l*Math.sin(e*a),s[a]=l*Math.cos(e*a)):(n[a]=0,s[a]=0)}return[n,s]},u.default.Oscillator.prototype._inverseFFT=function(t,e,i){for(var r=0,n=t.length,s=0;s<n;s++)r+=t[s]*Math.cos(s*i)+e[s]*Math.sin(s*i);return r},u.default.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],i=t[1],r=0,n=2*Math.PI,s=0;s<8;s++)r=Math.max(this._inverseFFT(e,i,s/8*n),r);return-this._inverseFFT(e,i,this._phase)/r},Object.defineProperty(u.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(t){this._partials=t,this.type=u.default.Oscillator.Type.Custom}}),Object.defineProperty(u.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),u.default.Oscillator.prototype.dispose=function(){return u.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},e.default=u.default.Oscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(14),i(1),r.default.Delay=function(){var t=r.default.defaults(arguments,["delayTime","maxDelay"],r.default.Delay);r.default.AudioNode.call(this,t),this._maxDelay=Math.max(this.toSeconds(t.maxDelay),this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new r.default.Param({param:this._delayNode.delayTime,units:r.default.Type.Time,value:t.delayTime}),this._readOnly("delayTime")},r.default.extend(r.default.Delay,r.default.AudioNode),r.default.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(r.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),r.default.Delay.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},e.default=r.default.Delay},function(t,e,i){"use strict";i.r(e);var r=i(0);i(3),i(1),r.default.Split=function(t){t=r.default.defaultArg(t,2),r.default.AudioNode.call(this),this.createInsOuts(0,t),this._splitter=this.input=this.context.createChannelSplitter(t);for(var e=0;e<t;e++)this.output[e]=new r.default.Gain,r.default.connect(this._splitter,this.output[e],e,0),this.output[e].channelCount=1,this.output[e].channelCountMode="explicit";this.left=this.output[0],this.right=this.output[1]},r.default.extend(r.default.Split,r.default.AudioNode),r.default.Split.prototype.dispose=function(){return this.output.forEach(function(t){t.dispose()}),r.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this},e.default=r.default.Split},function(t,e,i){"use strict";i.r(e);var r=i(0),n=(i(35),i(24),i(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),s=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];r.default.Context=function(){r.default.Emitter.call(this);var t=r.default.defaults(arguments,["context"],r.default.Context);if(!t.context&&(t.context=new r.default.global.AudioContext,!t.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=t.context;this._context.rawContext;)this._context=this._context.rawContext;n.forEach(function(t){this._defineProperty(this._context,t)}.bind(this)),s.forEach(function(t){this._defineMethod(this._context,t)}.bind(this)),this._latencyHint=t.latencyHint,this._constants={},this.lookAhead=t.lookAhead,this._computedUpdateInterval=0,this._ticker=new o(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this._timeouts=new r.default.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},r.default.extend(r.default.Context,r.default.Emitter),r.default.Emitter.mixin(r.default.Context),r.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},r.default.Context.prototype.isContext=!0,r.default.Context.prototype._defineProperty=function(e,i){r.default.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return e[i]},set:function(t){e[i]=t}})},r.default.Context.prototype._defineMethod=function(t,e){r.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e].bind(t)}})},r.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(r.default.Context.prototype,"destination",{get:function(){return this.master||this._context.destination}}),r.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},r.default.Context.prototype.close=function(){var t=Promise.resolve();return(t=this!==r.default.global.TONE_AUDIO_CONTEXT?this.rawContext.close():t).then(function(){r.default.Context.emit("close",this)}.bind(this))},r.default.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0),r=0;r<i.length;r++)i[r]=t;var n=this._context.createBufferSource();return n.channelCount=1,n.channelCountMode="explicit",n.buffer=e,n.loop=!0,n.start(0),this._constants[t]=n},r.default.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},r.default.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:t,time:i+e,id:this._timeoutIds}),this._timeoutIds},r.default.Context.prototype.clearTimeout=function(e){return this._timeouts.forEach(function(t){t.id===e&&this.remove(t)}),this},Object.defineProperty(r.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(r.default.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(r.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(r.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,r.default.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":this._context.latencyHint="interactive",e=.01}this.lookAhead=e,this.updateInterval=e/3}}),r.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var t in r.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[t].disconnect();this._constants=null}.bind(this))};var o=function(t,e,i){this._type=e,this._updateInterval=i,this._callback=r.default.defaultArg(t,r.default.noOp),this._createClock()};o.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},o.prototype._createWorker=function(){r.default.global.URL=r.default.global.URL||r.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),t=URL.createObjectURL(t),t=new Worker(t);t.onmessage=this._callback.bind(this),this._worker=t},o.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},o.prototype._createClock=function(){if(this._type===o.Type.Worker)try{this._createWorker()}catch(t){this._type=o.Type.Timeout,this._createClock()}else this._type===o.Type.Timeout&&this._createTimeout()},Object.defineProperty(o.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===o.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(o.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),o.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},o.prototype.dispose=function(){this._disposeClock(),this._callback=null},r.default.supported&&!r.default.initialized?(r.default.global.TONE_AUDIO_CONTEXT||(r.default.global.TONE_AUDIO_CONTEXT=new r.default.Context),r.default.context=r.default.global.TONE_AUDIO_CONTEXT,r.default.global.TONE_SILENCE_LOGGING||(i="v",i="dev"===r.default.version?"":i,r.default.version)):r.default.supported||r.default.global.TONE_SILENCE_LOGGING,e.default=r.default.Context},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),i(40),n.default.Instrument=function(t){t=n.default.defaultArg(t,n.default.Instrument.defaults),n.default.AudioNode.call(this),this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},n.default.extend(n.default.Instrument,n.default.AudioNode),n.default.Instrument.defaults={volume:0},n.default.Instrument.prototype.triggerAttack=n.default.noOp,n.default.Instrument.prototype.triggerRelease=n.default.noOp,n.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},n.default.Instrument.prototype._syncMethod=function(t,i){var r=this["_original_"+t]=this[t];this[t]=function(){var e=Array.prototype.slice.call(arguments),t=e[i],t=n.default.Transport.schedule(function(t){e[i]=t,r.apply(this,e)}.bind(this),t);this._scheduledEvents.push(t)}.bind(this)},n.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach(function(t){n.default.Transport.clear(t)}),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},n.default.Instrument.prototype.triggerAttackRelease=function(t,e,i,r){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(t,i,r),this.triggerRelease(i+e),this},n.default.Instrument.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},e.default=n.default.Instrument},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),i(2),r.default.AudioToGain=function(){r.default.SignalBase.call(this),this._norm=this.input=this.output=new r.default.WaveShaper(function(t){return(t+1)/2})},r.default.extend(r.default.AudioToGain,r.default.SignalBase),r.default.AudioToGain.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=r.default.AudioToGain},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(13),i(89),i(3),i(1),r.default.CrossFade=function(t){r.default.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new r.default.Gain,this.b=this.input[1]=new r.default.Gain,this.fade=new r.default.Signal(r.default.defaultArg(t,.5),r.default.Type.NormalRange),this._equalPowerA=new r.default.EqualPowerGain,this._equalPowerB=new r.default.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new r.default.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),r.default.connect(this._one,this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},r.default.extend(r.default.CrossFade,r.default.AudioNode),r.default.CrossFade.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.default=r.default.CrossFade},function(t,e,i){"use strict";i.r(e);var h=i(0);h.default.Timeline=function(){var t=h.default.defaults(arguments,["memory"],h.default.Timeline);h.default.call(this),this._timeline=[],this.memory=t.memory},h.default.extend(h.default.Timeline),h.default.Timeline.defaults={memory:1/0},Object.defineProperty(h.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),h.default.Timeline.prototype.add=function(t){if(h.default.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");t.time=t.time.valueOf();var e=this._search(t.time);return this._timeline.splice(e+1,0,t),this.length>this.memory&&(t=this.length-this.memory,this._timeline.splice(0,t)),this},h.default.Timeline.prototype.remove=function(t){t=this._timeline.indexOf(t);return-1!==t&&this._timeline.splice(t,1),this},h.default.Timeline.prototype.get=function(t,e){e=h.default.defaultArg(e,"time");e=this._search(t,e);return-1!==e?this._timeline[e]:null},h.default.Timeline.prototype.peek=function(){return this._timeline[0]},h.default.Timeline.prototype.shift=function(){return this._timeline.shift()},h.default.Timeline.prototype.getAfter=function(t,e){e=h.default.defaultArg(e,"time");e=this._search(t,e);return e+1<this._timeline.length?this._timeline[e+1]:null},h.default.Timeline.prototype.getBefore=function(t,e){e=h.default.defaultArg(e,"time");var i=this._timeline.length;if(0<i&&this._timeline[i-1][e]<t)return this._timeline[i-1];e=this._search(t,e);return 0<=e-1?this._timeline[e-1]:null},h.default.Timeline.prototype.cancel=function(t){if(1<this._timeline.length){var e=this._search(t);if(0<=e)if(this._timeline[e].time===t){for(var i=e;0<=i&&this._timeline[i].time===t;i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},h.default.Timeline.prototype.cancelBefore=function(t){t=this._search(t);return 0<=t&&(this._timeline=this._timeline.slice(t+1)),this},h.default.Timeline.prototype.previousEvent=function(t){t=this._timeline.indexOf(t);return 0<t?this._timeline[t-1]:null},h.default.Timeline.prototype._search=function(t,e){if(0===this._timeline.length)return-1;e=h.default.defaultArg(e,"time");var i=0,r=this._timeline.length,n=r;if(0<r&&this._timeline[r-1][e]<=t)return r-1;for(;i<n;){var s=Math.floor(i+(n-i)/2),o=this._timeline[s],a=this._timeline[s+1];if(o[e]===t){for(var l=s;l<this._timeline.length;l++)this._timeline[l][e]===t&&(s=l);return s}if(o[e]<t&&a[e]>t)return s;o[e]>t?n=s:i=s+1}return-1},h.default.Timeline.prototype._iterate=function(e,t,i){t=h.default.defaultArg(t,0),i=h.default.defaultArg(i,this._timeline.length-1),this._timeline.slice(t,i+1).forEach(function(t){e.call(this,t)}.bind(this))},h.default.Timeline.prototype.forEach=function(t){return this._iterate(t),this},h.default.Timeline.prototype.forEachBefore=function(t,e){t=this._search(t);return-1!==t&&this._iterate(e,0,t),this},h.default.Timeline.prototype.forEachAfter=function(t,e){t=this._search(t);return this._iterate(e,t+1),this},h.default.Timeline.prototype.forEachBetween=function(t,e,i){var r=this._search(t),n=this._search(e);return-1!==r&&-1!==n?(this._timeline[r].time!==t&&(r+=1),this._timeline[n].time===e&&--n,this._iterate(i,r,n)):-1===r&&this._iterate(i,0,n),this},h.default.Timeline.prototype.forEachFrom=function(t,e){for(var i=this._search(t);0<=i&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},h.default.Timeline.prototype.forEachAtTime=function(e,i){var t=this._search(e);return-1!==t&&this._iterate(function(t){t.time===e&&i.call(this,t)},0,t),this},h.default.Timeline.prototype.dispose=function(){return h.default.prototype.dispose.call(this),this._timeline=null,this},e.default=h.default.Timeline},function(t,e,i){"use strict";i.r(e);var r=i(0);i(21),i(2),r.default.Monophonic=function(t){t=r.default.defaultArg(t,r.default.Monophonic.defaults),r.default.Instrument.call(this,t),this.portamento=t.portamento},r.default.extend(r.default.Monophonic,r.default.Instrument),r.default.Monophonic.defaults={portamento:0},r.default.Monophonic.prototype.triggerAttack=function(t,e,i){return this.log("triggerAttack",t,e,i),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,i),this.setNote(t,e),this},r.default.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},r.default.Monophonic.prototype._triggerEnvelopeAttack=function(){},r.default.Monophonic.prototype._triggerEnvelopeRelease=function(){},r.default.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},r.default.Monophonic.prototype.setNote=function(t,e){var i;return e=this.toSeconds(e),0<this.portamento&&.05<this.getLevelAtTime(e)?(i=this.toSeconds(this.portamento),this.frequency.exponentialRampTo(t,i,e)):this.frequency.setValueAtTime(t,e),this},e.default=r.default.Monophonic},function(t,e,i){"use strict";i.r(e);var r=i(0);i(29),i(5),i(2),r.default.Scale=function(t,e){r.default.SignalBase.call(this),this._outputMin=r.default.defaultArg(t,0),this._outputMax=r.default.defaultArg(e,1),this._scale=this.input=new r.default.Multiply(1),this._add=this.output=new r.default.Add(0),this._scale.connect(this._add),this._setRange()},r.default.extend(r.default.Scale,r.default.SignalBase),Object.defineProperty(r.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(r.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),r.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},r.default.Scale.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.default=r.default.Scale},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(3),i(1),r.default.Volume=function(){var t=r.default.defaults(arguments,["volume"],r.default.Volume);r.default.AudioNode.call(this,t),this.output=this.input=new r.default.Gain(t.volume,r.default.Type.Decibels),this._unmutedVolume=t.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=t.mute},r.default.extend(r.default.Volume,r.default.AudioNode),r.default.Volume.defaults={volume:0,mute:!1},Object.defineProperty(r.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),r.default.Volume.prototype.dispose=function(){return this.input.dispose(),r.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},e.default=r.default.Volume},function(t,e,i){"use strict";i.r(e);var r=i(0);i(3),i(30),r.default.Zero=function(){r.default.SignalBase.call(this),this._gain=this.input=this.output=new r.default.Gain,r.default.connect(this.context.getConstant(0),this._gain)},r.default.extend(r.default.Zero,r.default.SignalBase),r.default.Zero.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},e.default=r.default.Zero},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(3),r.default.Add=function(t){r.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new r.default.Gain,this._param=this.input[1]=new r.default.Signal(t),this._param.connect(this._sum)},r.default.extend(r.default.Add,r.default.Signal),r.default.Add.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},e.default=r.default.Add},function(t,e,i){"use strict";i.r(e);var r=i(0);i(1),r.default.SignalBase=function(){r.default.AudioNode.call(this)},r.default.extend(r.default.SignalBase,r.default.AudioNode),r.default.SignalBase.prototype.connect=function(t,e,i){return r.default.Signal&&r.default.Signal===t.constructor||r.default.Param&&r.default.Param===t.constructor?(t._param.cancelScheduledValues(0),t._param.setValueAtTime(0,0),t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0)),r.default.AudioNode.prototype.connect.call(this,t,e,i),this},e.default=r.default.SignalBase},function(t,e,i){"use strict";i.r(e);var r=i(0);i(47),i(3),r.default.AmplitudeEnvelope=function(){r.default.Envelope.apply(this,arguments),this.input=this.output=new r.default.Gain,this._sig.connect(this.output.gain)},r.default.extend(r.default.AmplitudeEnvelope,r.default.Envelope),r.default.AmplitudeEnvelope.prototype.dispose=function(){return r.default.Envelope.prototype.dispose.call(this),this},e.default=r.default.AmplitudeEnvelope},function(t,e,i){"use strict";i.r(e);var o=i(0);i(11),i(6),i(3),i(1),o.default.BufferSource=function(){var t=o.default.defaults(arguments,["buffer","onload"],o.default.BufferSource);o.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new o.default.Gain(0),this._source=this.context.createBufferSource(),o.default.connect(this._source,this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new o.default.Buffer(t.buffer,t.onload),this.playbackRate=new o.default.Param({param:this._source.playbackRate,units:o.default.Type.Positive,value:t.playbackRate}),this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut,this.curve=t.curve,this._onendedTimeout=-1,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd},o.default.extend(o.default.BufferSource,o.default.AudioNode),o.default.BufferSource.defaults={onended:o.default.noOp,onload:o.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(o.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),o.default.BufferSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&this._startTime<=t&&(-1===this._stopTime||t<this._stopTime)&&!this._sourceStopped?o.default.State.Started:o.default.State.Stopped},o.default.BufferSource.prototype.start=function(t,e,i,r){this.log("start",t,e,i,r),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),e=this.loop?o.default.defaultArg(e,this.loopStart):o.default.defaultArg(e,0),e=this.toSeconds(e),e=Math.max(e,0),r=o.default.defaultArg(r,1);var n,s=this.toSeconds(this.fadeIn);return 0<s?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(r,t+s):this._gainNode.gain.exponentialApproachValueAtTime(r,t,s)):this._gainNode.gain.setValueAtTime(r,t),this._startTime=t,o.default.isDefined(i)&&(n=this.toSeconds(i),n=Math.max(n,0),this.stop(t+n)),this.loop&&(i=this.loopEnd||this.buffer.duration,n=this.loopStart,i<=e&&(e=(e-n)%(i-n)+n)),this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,e<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,e)),this},o.default.BufferSource.prototype.stop=function(t){this.log("stop",t),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),-1!==this._stopTime&&this.cancelStop();var e=this.toSeconds(this.fadeOut);return this._stopTime=t+e,0<e?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),o.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=o.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},o.default.BufferSource.prototype.cancelStop=function(){var t;return-1===this._startTime||this._sourceStopped||(t=this.toSeconds(this.fadeIn),this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1),this},o.default.BufferSource.prototype._onended=function(){var t;this._sourceStopped||(this._sourceStopped=!0,t="exponential"===this.curve?2*this.fadeOut:0,this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this),setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*t+100))},Object.defineProperty(o.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(o.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(o.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(o.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),o.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,o.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,o.default.context.clearTimeout(this._onendedTimeout)),this},e.default=o.default.BufferSource},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(2),i(5),i(3),r.default.FeedbackEffect=function(){var t=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.Effect.call(this,t),this._feedbackGain=new r.default.Gain(t.feedback,r.default.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},r.default.extend(r.default.FeedbackEffect,r.default.Effect),r.default.FeedbackEffect.defaults={feedback:.125},r.default.FeedbackEffect.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},e.default=r.default.FeedbackEffect},function(t,e,i){"use strict";i.r(e);var r=i(0);i(24),i(4),r.default.TimelineState=function(t){r.default.Timeline.call(this),this._initial=t},r.default.extend(r.default.TimelineState,r.default.Timeline),r.default.TimelineState.prototype.getValueAtTime=function(t){t=this.get(t);return null!==t?t.state:this._initial},r.default.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},r.default.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var i=this._search(e);0<=i;i--){var r=this._timeline[i];if(r.state===t)return r}},r.default.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);e=this._search(e);if(-1!==e)for(var i=e;i<this._timeline.length;i++){var r=this._timeline[i];if(r.state===t)return r}},e.default=r.default.TimelineState},function(t,e,i){"use strict";i.r(e);var o=i(0);o.default.Emitter=function(){o.default.call(this),this._events={}},o.default.extend(o.default.Emitter),o.default.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),r=0;r<i.length;r++){var n=i[r];this._events.hasOwnProperty(n)||(this._events[n]=[]),this._events[n].push(e)}return this},o.default.Emitter.prototype.once=function(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);return this.on(t,i),this},o.default.Emitter.prototype.off=function(t,e){for(var i=t.split(/\W+/),r=0;r<i.length;r++)if(t=i[r],this._events.hasOwnProperty(t))if(o.default.isUndef(e))this._events[t]=[];else for(var n=this._events[t],s=0;s<n.length;s++)n[s]===e&&n.splice(s,1);return this},o.default.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var i=this._events[t].slice(0),r=0,n=i.length;r<n;r++)i[r].apply(this,e)}return this},o.default.Emitter.mixin=function(t){var e=["on","once","off","emit"];t._events={};for(var i=0;i<e.length;i++){var r=e[i],n=o.default.Emitter.prototype[r];t[r]=n}return o.default.Emitter},o.default.Emitter.prototype.dispose=function(){return o.default.prototype.dispose.call(this),this._events=null,this},e.default=o.default.Emitter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(1),i(44),r.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var i=0;i<e.length;i++)t[i]=(e[i]-128)/128})),r.default.Analyser=function(){var t=r.default.defaults(arguments,["type","size"],r.default.Analyser);r.default.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=t.type,this._buffer=null,this.size=t.size,this.type=t.type},r.default.extend(r.default.Analyser,r.default.AudioNode),r.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8},r.default.Analyser.Type={Waveform:"waveform",FFT:"fft"},r.default.Analyser.prototype.getValue=function(){return this._type===r.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===r.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(r.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(r.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==r.default.Analyser.Type.Waveform&&t!==r.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+t);this._type=t}}),Object.defineProperty(r.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),r.default.Analyser.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},e.default=r.default.Analyser},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(17),i(50),i(69),i(49),i(68),i(67),r.default.OmniOscillator=function(){var t=r.default.defaults(arguments,["frequency","type"],r.default.OmniOscillator);r.default.Source.call(this,t),this.frequency=new r.default.Signal(t.frequency,r.default.Type.Frequency),this.detune=new r.default.Signal(t.detune,r.default.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=t.type,this._readOnly(["frequency","detune"]),this.set(t)},r.default.extend(r.default.OmniOscillator,r.default.Source),r.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var n="PulseOscillator",s="PWMOscillator",o="FMOscillator",a="AMOscillator",l="FatOscillator";r.default.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},r.default.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},r.default.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(r.default.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===o?t="fm":this._sourceType===a?t="am":this._sourceType===l&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(o),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(a),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(l),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(s):"pulse"===t?this._createNewOscillator(n):(this._createNewOscillator("Oscillator"),this._oscillator.type=t)}}),Object.defineProperty(r.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(r.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),r.default.OmniOscillator.prototype.set=function(t,e){return"type"===t?this.type=e:r.default.isObject(t)&&t.hasOwnProperty("type")&&(this.type=t.type),r.default.prototype.set.apply(this,arguments),this},r.default.OmniOscillator.prototype.get=function(t){t=this._oscillator.get(t);return t.type=this.type,t},r.default.OmniOscillator.prototype._createNewOscillator=function(t){var e,i;t!==this._sourceType&&(this._sourceType=t,e=r.default[t],t=this.now(),null!==this._oscillator&&((i=this._oscillator).stop(t),this.context.setTimeout(function(){i.dispose(),i=null},this.blockTime)),this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===r.default.State.Started&&this._oscillator.start(t))},Object.defineProperty(r.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var h={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(r.default.OmniOscillator.prototype,"sourceType",{get:function(){return h[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===h.FMOscillator?this.type="fm"+e:t===h.AMOscillator?this.type="am"+e:t===h.FatOscillator?this.type="fat"+e:t===h.Oscillator?this.type=e:t===h.PulseOscillator?this.type="pulse":t===h.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(r.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==h.PulseOscillator&&this.sourceType!==h.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(r.default.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===n?this._oscillator.width:void 0}}),Object.defineProperty(r.default.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===l?this._oscillator.count:void 0},set:function(t){this._sourceType===l&&(this._oscillator.count=t)}}),Object.defineProperty(r.default.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===l?this._oscillator.spread:void 0},set:function(t){this._sourceType===l&&(this._oscillator.spread=t)}}),Object.defineProperty(r.default.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===o||this._sourceType===a?this._oscillator.modulationType:void 0},set:function(t){this._sourceType!==o&&this._sourceType!==a||(this._oscillator.modulationType=t)}}),Object.defineProperty(r.default.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===o?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(r.default.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===o||this._sourceType===a?this._oscillator.harmonicity:void 0}}),Object.defineProperty(r.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===s?this._oscillator.modulationFrequency:void 0}}),r.default.OmniOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},e.default=r.default.OmniOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(31),i(37),i(25),r.default.Synth=function(t){t=r.default.defaultArg(t,r.default.Synth.defaults),r.default.Monophonic.call(this,t),this.oscillator=new r.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new r.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},r.default.extend(r.default.Synth,r.default.Monophonic),r.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},r.default.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this},r.default.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release)),this},r.default.Synth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},e.default=r.default.Synth},function(t,e,i){"use strict";i.r(e);var d=i(0);i(6),i(11),i(32),d.default.Noise=function(){var t=d.default.defaults(arguments,["type"],d.default.Noise);d.default.Source.call(this,t),this._source=null,this._type=t.type,this._playbackRate=t.playbackRate},d.default.extend(d.default.Noise,d.default.Source),d.default.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(d.default.Noise.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t){if(!(t in r))throw new TypeError("Tone.Noise: invalid type: "+t);this._type=t,this.state===d.default.State.Started&&(t=this.now(),this._stop(t),this._start(t))}}}),Object.defineProperty(d.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),d.default.Noise.prototype._start=function(t){var e=r[this._type];this._source=new d.default.BufferSource(e).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))},d.default.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},d.default.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},d.default.Noise.prototype.dispose=function(){return d.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var r={},f={};Object.defineProperty(r,"pink",{get:function(){if(!f.pink){for(var t=[],e=0;e<2;e++){var i,r=new Float32Array(220500);t[e]=r;for(var n=o=a=l=h=u=c=i=0;n<220500;n++){var s=2*Math.random()-1,o=.99886*o+.0555179*s,a=.99332*a+.0750759*s,l=.969*l+.153852*s,h=.8665*h+.3104856*s,u=.55*u+.5329522*s,c=-.7616*c-.016898*s;r[n]=o+a+l+h+u+c+i+.5362*s,r[n]*=.11,i=.115926*s}}f.pink=(new d.default.Buffer).fromArray(t)}return f.pink}}),Object.defineProperty(r,"brown",{get:function(){if(!f.brown){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var r=0,n=0;n<220500;n++){var s=2*Math.random()-1;i[n]=(r+.02*s)/1.02,r=i[n],i[n]*=3.5}}f.brown=(new d.default.Buffer).fromArray(t)}return f.brown}}),Object.defineProperty(r,"white",{get:function(){if(!f.white){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var r=0;r<220500;r++)i[r]=2*Math.random()-1}f.white=(new d.default.Buffer).fromArray(t)}return f.white}}),e.default=d.default.Noise},function(t,e,i){"use strict";i.r(e);var r=i(0);i(27),i(20),i(1),r.default.Master=function(){r.default.AudioNode.call(this),r.default.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new r.default.Volume,this.volume=this._volume.volume,this._readOnly("volume"),r.default.connectSeries(this.input,this.output,this.context.destination),this.context.master=this}.bind(this))},r.default.extend(r.default.Master,r.default.AudioNode),r.default.Master.defaults={volume:0,mute:!1},r.default.Master.prototype.isMaster=!0,Object.defineProperty(r.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),r.default.Master.prototype.chain=function(){this.input.disconnect();var t=Array.from(arguments);t.unshift(this.input),t.push(this.output),r.default.connectSeries.apply(void 0,t)},r.default.Master.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},r.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var n=r.default.Master;r.default.Master=new n,r.default.Context.on("init",function(t){t.master&&t.master.isMaster?r.default.Master=t.master:r.default.Master=new n}),r.default.Context.on("close",function(t){t.master&&t.master.isMaster&&t.master.dispose()}),e.default=r.default.Master},function(t,e,i){"use strict";i.r(e);var r=i(0);i(86),i(47),r.default.FrequencyEnvelope=function(){var t=r.default.defaults(arguments,["attack","decay","sustain","release"],r.default.Envelope),t=r.default.defaultArg(t,r.default.FrequencyEnvelope.defaults);r.default.ScaledEnvelope.call(this,t),this._octaves=t.octaves,this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this.exponent=t.exponent},r.default.extend(r.default.FrequencyEnvelope,r.default.Envelope),r.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(r.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(r.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(r.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),r.default.FrequencyEnvelope.prototype.dispose=function(){return r.default.ScaledEnvelope.prototype.dispose.call(this),this},e.default=r.default.FrequencyEnvelope},function(t,e,i){"use strict";i.r(e);var r=i(0);i(26),i(61),r.default.ScaleExp=function(t,e,i){r.default.SignalBase.call(this),this._scale=this.output=new r.default.Scale(t,e),this._exp=this.input=new r.default.Pow(r.default.defaultArg(i,2)),this._exp.connect(this._scale)},r.default.extend(r.default.ScaleExp,r.default.SignalBase),Object.defineProperty(r.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(r.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(r.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),r.default.ScaleExp.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=r.default.ScaleExp},function(t,e,i){"use strict";i.r(e);var r=i(0);i(14),i(1),r.default.Compressor=function(){var t=r.default.defaults(arguments,["threshold","ratio"],r.default.Compressor);r.default.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new r.default.Param({param:this._compressor.threshold,units:r.default.Type.Decibels,convert:!1}),this.attack=new r.default.Param(this._compressor.attack,r.default.Type.Time),this.release=new r.default.Param(this._compressor.release,r.default.Type.Time),this.knee=new r.default.Param({param:this._compressor.knee,units:r.default.Type.Decibels,convert:!1}),this.ratio=new r.default.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(t)},r.default.extend(r.default.Compressor,r.default.AudioNode),r.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},r.default.Compressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},e.default=r.default.Compressor},function(t,e,i){"use strict";var r=i(0);if(i(92),r.default.supported){!r.default.global.hasOwnProperty("AudioContext")&&r.default.global.hasOwnProperty("webkitAudioContext")&&(r.default.global.AudioContext=r.default.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return r.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var n=!1,s=new OfflineAudioContext(1,1,44100),i=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var o=s.decodeAudioData(i);o&&r.default.isFunction(o.then)&&(n=!0)}catch(t){n=!1}n||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(i){return new Promise(function(t,e){this._native_decodeAudioData(i,t,e)}.bind(this))})}},function(t,e,i){"use strict";i.r(e);var r=i(0);i(63),r.default.TransportTime=function(t,e){if(!(this instanceof r.default.TransportTime))return new r.default.TransportTime(t,e);r.default.Time.call(this,t,e)},r.default.extend(r.default.TransportTime,r.default.Time),r.default.TransportTime.prototype._now=function(){return r.default.Transport.seconds},e.default=r.default.TransportTime},function(t,e,i){"use strict";i.r(e);var r=i(0);i(62),r.default.Frequency=function(t,e){if(!(this instanceof r.default.Frequency))return new r.default.Frequency(t,e);r.default.TimeBase.call(this,t,e)},r.default.extend(r.default.Frequency,r.default.TimeBase),r.default.Frequency.prototype._expressions=Object.assign({},r.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return"midi"===this._defaultUnits?t:r.default.Frequency.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,e){e=n[t.toLowerCase()]+12*(parseInt(e)+1);return"midi"===this._defaultUnits?e:r.default.Frequency.mtof(e)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,i){var r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(r*=this._beatsToUnits(parseFloat(i)/4)),r}}}),r.default.Frequency.prototype.transpose=function(t){return new this.constructor(this.valueOf()*r.default.intervalToFrequencyRatio(t))},r.default.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},r.default.Frequency.prototype.toMidi=function(){return r.default.Frequency.ftom(this.valueOf())},r.default.Frequency.prototype.toNote=function(){var t=this.toFrequency(),e=Math.log2(t/r.default.Frequency.A4),t=Math.round(12*e)+57,e=Math.floor(t/12);return e<0&&(t+=-12*e),s[t%12]+e.toString()},r.default.Frequency.prototype.toSeconds=function(){return 1/r.default.TimeBase.prototype.toSeconds.call(this)},r.default.Frequency.prototype.toFrequency=function(){return r.default.TimeBase.prototype.toFrequency.call(this)},r.default.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),t=this.valueOf()/t;return Math.floor(t*r.default.Transport.PPQ)},r.default.Frequency.prototype._noArg=function(){return 0},r.default.Frequency.prototype._frequencyToUnits=function(t){return t},r.default.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(r.default.Transport.bpm.value*r.default.Transport.PPQ))},r.default.Frequency.prototype._beatsToUnits=function(t){return 1/r.default.TimeBase.prototype._beatsToUnits.call(this,t)},r.default.Frequency.prototype._secondsToUnits=function(t){return 1/t},r.default.Frequency.prototype._defaultUnits="hz";var n={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},s=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];r.default.Frequency.A4=440,r.default.Frequency.mtof=function(t){return r.default.Frequency.A4*Math.pow(2,(t-69)/12)},r.default.Frequency.ftom=function(t){return 69+Math.round(12*Math.log2(t/r.default.Frequency.A4))},e.default=r.default.Frequency},function(t,e,i){"use strict";i.r(e);var u=i(0);i(2),i(61),i(4),i(1),u.default.Envelope=function(){var t=u.default.defaults(arguments,["attack","decay","sustain","release"],u.default.Envelope);u.default.AudioNode.call(this),this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new u.default.Signal(0),this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve},u.default.extend(u.default.Envelope,u.default.AudioNode),u.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(u.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),u.default.Envelope.prototype._getCurve=function(t,e){if(u.default.isString(t))return t;if(u.default.isArray(t))for(var i in u.default.Envelope.Type)if(u.default.Envelope.Type[i][e]===t)return i},u.default.Envelope.prototype._setCurve=function(t,e,i){if(u.default.Envelope.Type.hasOwnProperty(i)){var r=u.default.Envelope.Type[i];u.default.isObject(r)?this[t]=r[e]:this[t]=r}else{if(!u.default.isArray(i))throw new Error("Tone.Envelope: invalid curve: "+i);this[t]=i}},Object.defineProperty(u.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(u.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(u.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),u.default.Envelope.prototype.triggerAttack=function(t,e){this.log("triggerAttack",t,e),t=this.toSeconds(t);var i=this.toSeconds(this.attack),r=this.toSeconds(this.decay);e=u.default.defaultArg(e,1);var n=this.getValueAtTime(t);if(0===(i=0<n?(1-n)/(1/i):i))this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,i,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,i,t);else if(0<i){this._sig.cancelAndHoldAtTime(t);for(var s=this._attackCurve,o=1;o<s.length;o++)if(s[o-1]<=n&&n<=s[o]){(s=this._attackCurve.slice(o))[0]=n;break}this._sig.setValueCurveAtTime(s,t,i,e)}return r&&(e=e*this.sustain,this.log("decay",i=t+i),"linear"===this._decayCurve?this._sig.linearRampTo(e,r,i+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(e,i,r)),this},u.default.Envelope.prototype.triggerRelease=function(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e,i,r=this.getValueAtTime(t);return 0<r&&(e=this.toSeconds(this.release),"linear"===this._releaseCurve?this._sig.linearRampTo(0,e,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,e,t):(i=this._releaseCurve,u.default.isArray(i)&&(this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(i,t,e,r)))),this},u.default.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},u.default.Envelope.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this},u.default.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},u.default.Envelope.prototype.connect=u.default.SignalBase.prototype.connect,function(){for(var t=[],e=0;e<128;e++)t[e]=Math.sin(e/127*(Math.PI/2));var i=[];for(e=0;e<127;e++){var r=e/127,n=Math.sin(r*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=n/10+.83*r}i[127]=1;var s=[];for(e=0;e<128;e++)s[e]=Math.ceil(e/127*5)/5;var o=[];for(e=0;e<128;e++)r=e/127,o[e]=.5*(1-Math.cos(Math.PI*r));var a=[];for(e=0;e<128;e++){r=e/127;var l=4*Math.pow(r,3)+.2,l=Math.cos(l*Math.PI*2*r);a[e]=Math.abs(l*(1-r))}function h(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=1-t[i];return e}u.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:h(a),Out:a},cosine:{In:t,Out:t.slice(0).reverse()},step:{In:s,Out:h(s)},ripple:{In:i,Out:h(i)},sine:{In:o,Out:h(o)}}}(),u.default.Envelope.prototype.dispose=function(){return u.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},e.default=u.default.Envelope},function(t,e,i){"use strict";i.r(e);var r,o=i(0);i(23),i(10),i(19),i(7),i(28),i(3),i(2),i(20),o.default.supported&&!o.default.global.AudioContext.prototype.createStereoPanner&&((r=function(t){this.context=t,this.pan=new o.default.Signal(0,o.default.Type.AudioRange);var e=new o.default.WaveShaper(function(t){return o.default.equalPowerScale((t+1)/2)},4096),i=new o.default.WaveShaper(function(t){return o.default.equalPowerScale(1-(t+1)/2)},4096),r=new o.default.Gain,n=new o.default.Gain,s=this.input=new o.default.Split;s._splitter.channelCountMode="explicit",(new o.default.Zero).fan(e,i);t=this.output=new o.default.Merge;s.left.chain(r,t.left),s.right.chain(n,t.right),this.pan.chain(i,r.gain),this.pan.chain(e,n.gain)}).prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},r.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new r(this)},o.default.Context.prototype.createStereoPanner=function(){return new r(this)}),i(22),i(1),o.default.Panner=function(){var t=o.default.defaults(arguments,["pan"],o.default.Panner);o.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.pan,this._readOnly("pan")},o.default.extend(o.default.Panner,o.default.AudioNode),o.default.Panner.defaults={pan:0},o.default.Panner.prototype.dispose=function(){return o.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},e.default=o.default.Panner},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(17),i(5),i(3),r.default.FMOscillator=function(){var t=r.default.defaults(arguments,["frequency","type","modulationType"],r.default.FMOscillator);r.default.Source.call(this,t),this._carrier=new r.default.Oscillator(t.frequency,t.type),this.frequency=new r.default.Signal(t.frequency,r.default.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=t.detune,this.modulationIndex=new r.default.Multiply(t.modulationIndex),this.modulationIndex.units=r.default.Type.Positive,this._modulator=new r.default.Oscillator(t.frequency,t.modulationType),this.harmonicity=new r.default.Multiply(t.harmonicity),this.harmonicity.units=r.default.Type.Positive,this._modulationNode=new r.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=t.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},r.default.extend(r.default.FMOscillator,r.default.Source),r.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},r.default.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},r.default.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},r.default.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(r.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(r.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(r.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(r.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(r.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(r.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),r.default.FMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},e.default=r.default.FMOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(17),i(2),i(7),i(3),r.default.PulseOscillator=function(){var t=r.default.defaults(arguments,["frequency","width"],r.default.Oscillator);r.default.Source.call(this,t),this.width=new r.default.Signal(t.width,r.default.Type.NormalRange),this._widthGate=new r.default.Gain(0),this._sawtooth=new r.default.Oscillator({frequency:t.frequency,detune:t.detune,type:"sawtooth",phase:t.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new r.default.WaveShaper(function(t){return t<0?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},r.default.extend(r.default.PulseOscillator,r.default.Source),r.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},r.default.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},r.default.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},r.default.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(r.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(r.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(r.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(r.default.PulseOscillator.prototype,"partials",{get:function(){return[]}}),r.default.PulseOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},e.default=r.default.PulseOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(4),i(34),n.default.Event=function(){var t=n.default.defaults(arguments,["callback","value"],n.default.Event);n.default.call(this),this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._state=new n.default.TimelineState(n.default.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate},n.default.extend(n.default.Event),n.default.Event.defaults={callback:n.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},n.default.Event.prototype._rescheduleEvents=function(t){return t=n.default.defaultArg(t,-1),this._state.forEachFrom(t,function(t){var e,i,r;t.state===n.default.State.Started&&(n.default.isDefined(t.id)&&n.default.Transport.clear(t.id),i=t.time+Math.round(this.startOffset/this._playbackRate),!0===this._loop||n.default.isNumber(this._loop)&&1<this._loop?(e=1/0,n.default.isNumber(this._loop)&&(e=this._loop*this._getLoopDuration()),(e=null!==(r=this._state.getAfter(i))?Math.min(e,r.time-i):e)!==1/0&&(this._state.setStateAtTime(n.default.State.Stopped,i+e+1),e=n.default.Ticks(e)),r=n.default.Ticks(this._getLoopDuration()),t.id=n.default.Transport.scheduleRepeat(this._tick.bind(this),r,n.default.Ticks(i),e)):t.id=n.default.Transport.schedule(this._tick.bind(this),n.default.Ticks(i)))}.bind(this)),this},Object.defineProperty(n.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(n.default.Transport.ticks)}}),Object.defineProperty(n.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(n.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(n.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),n.default.Event.prototype.start=function(t){return t=this.toTicks(t),this._state.getValueAtTime(t)===n.default.State.Stopped&&(this._state.add({state:n.default.State.Started,time:t,id:void 0}),this._rescheduleEvents(t)),this},n.default.Event.prototype.stop=function(t){var e;return this.cancel(t),t=this.toTicks(t),this._state.getValueAtTime(t)===n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Stopped,t),e=t,null!==(t=this._state.getBefore(t))&&(e=t.time),this._rescheduleEvents(e)),this},n.default.Event.prototype.cancel=function(t){return t=n.default.defaultArg(t,-1/0),t=this.toTicks(t),this._state.forEachFrom(t,function(t){n.default.Transport.clear(t.id)}),this._state.cancel(t),this},n.default.Event.prototype._tick=function(t){var e=n.default.Transport.getTicksAtTime(t);this.mute||this._state.getValueAtTime(e)!==n.default.State.Started||this.probability<1&&Math.random()>this.probability||(this.humanize&&(e=.02,n.default.isBoolean(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e),this.callback(t,this.value))},n.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(n.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"loopEnd",{get:function(){return n.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"loopStart",{get:function(){return n.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(n.default.Event.prototype,"progress",{get:function(){if(this._loop){var t=n.default.Transport.ticks,e=this._state.get(t);if(null===e||e.state!==n.default.State.Started)return 0;var i=this._getLoopDuration();return(t-e.time)%i/i}return 0}}),n.default.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},e.default=n.default.Event},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(13),i(29),i(10),i(3),i(1),r.default.MidSideMerge=function(){r.default.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new r.default.Gain,this._left=new r.default.Add,this._timesTwoLeft=new r.default.Multiply(Math.SQRT1_2),this.side=this.input[1]=new r.default.Gain,this._right=new r.default.Subtract,this._timesTwoRight=new r.default.Multiply(Math.SQRT1_2),this._merge=this.output=new r.default.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},r.default.extend(r.default.MidSideMerge,r.default.AudioNode),r.default.MidSideMerge.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},e.default=r.default.MidSideMerge},function(t,e,i){"use strict";i.r(e);var r=i(0);i(29),i(13),i(2),i(19),i(1),r.default.MidSideSplit=function(){r.default.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new r.default.Split,this._midAdd=new r.default.Add,this.mid=this.output[0]=new r.default.Multiply(Math.SQRT1_2),this._sideSubtract=new r.default.Subtract,this.side=this.output[1]=new r.default.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},r.default.extend(r.default.MidSideSplit,r.default.AudioNode),r.default.MidSideSplit.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},e.default=r.default.MidSideSplit},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(9),i(1),i(59),r.default.LowpassCombFilter=function(){var t=r.default.defaults(arguments,["delayTime","resonance","dampening"],r.default.LowpassCombFilter);r.default.AudioNode.call(this),this._combFilter=this.output=new r.default.FeedbackCombFilter(t.delayTime,t.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new r.default.Filter({frequency:t.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},r.default.extend(r.default.LowpassCombFilter,r.default.AudioNode),r.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},r.default.LowpassCombFilter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},e.default=r.default.LowpassCombFilter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(45),r.default.Ticks=function(t,e){if(!(this instanceof r.default.Ticks))return new r.default.Ticks(t,e);r.default.TransportTime.call(this,t,e)},r.default.extend(r.default.Ticks,r.default.TransportTime),r.default.Ticks.prototype._defaultUnits="i",r.default.Ticks.prototype._now=function(){return r.default.Transport.ticks},r.default.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},r.default.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},r.default.Ticks.prototype._ticksToUnits=function(t){return t},r.default.Ticks.prototype.toTicks=function(){return this.valueOf()},r.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},e.default=r.default.Ticks},function(t,e,i){"use strict";i.r(e);var r=i(0);i(55),r.default.TransportEvent=function(t,e){e=r.default.defaultArg(e,r.default.TransportEvent.defaults),r.default.call(this),this.Transport=t,this.id=r.default.TransportEvent._eventId++,this.time=r.default.Ticks(e.time),this.callback=e.callback,this._once=e.once},r.default.extend(r.default.TransportEvent),r.default.TransportEvent.defaults={once:!1,callback:r.default.noOp},r.default.TransportEvent._eventId=0,r.default.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},r.default.TransportEvent.prototype.dispose=function(){return r.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},e.default=r.default.TransportEvent},function(t,e,i){"use strict";i.r(e);var l=i(0);i(82),i(34),i(24),i(14),l.default.TickSource=function(){var t=l.default.defaults(arguments,["frequency"],l.default.TickSource);this.frequency=new l.default.TickSignal(t.frequency),this._readOnly("frequency"),this._state=new l.default.TimelineState(l.default.State.Stopped),this._state.setStateAtTime(l.default.State.Stopped,0),this._tickOffset=new l.default.Timeline,this.setTicksAtTime(0,0)},l.default.extend(l.default.TickSource),l.default.TickSource.defaults={frequency:1},Object.defineProperty(l.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),l.default.TickSource.prototype.start=function(t,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==l.default.State.Started&&(this._state.setStateAtTime(l.default.State.Started,t),l.default.isDefined(e)&&this.setTicksAtTime(e,t)),this},l.default.TickSource.prototype.stop=function(t){var e;return t=this.toSeconds(t),this._state.getValueAtTime(t)===l.default.State.Stopped&&0<(e=this._state.get(t)).time&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time)),this._state.cancel(t),this._state.setStateAtTime(l.default.State.Stopped,t),this.setTicksAtTime(0,t),this},l.default.TickSource.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===l.default.State.Started&&this._state.setStateAtTime(l.default.State.Paused,t),this},l.default.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},l.default.TickSource.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(l.default.State.Stopped,t),i={state:l.default.State.Paused,time:t};this._state.add(i);var r=e,n=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,i=this._tickOffset.get(t.time);i.time>=r.time&&(n=i.ticks,e=i.time),r.state===l.default.State.Started&&t.state!==l.default.State.Started&&(n+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),r=t}.bind(this)),this._state.remove(i),n},Object.defineProperty(l.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(l.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),t=this.frequency.timeToTicks(t,e);this.setTicksAtTime(t,e)}}),l.default.TickSource.prototype.getSecondsAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(l.default.State.Stopped,t),i={state:l.default.State.Paused,time:t};this._state.add(i);var r=e,n=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=r.time,i=this._tickOffset.get(t.time);i.time>=r.time&&(n=i.seconds,e=i.time),r.state===l.default.State.Started&&t.state!==l.default.State.Started&&(n+=t.time-e),r=t}.bind(this)),this._state.remove(i),n},l.default.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},l.default.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},l.default.TickSource.prototype.getTimeOfTick=function(t,e){e=l.default.defaultArg(e,this.now());var i=this._tickOffset.get(e),e=this._state.get(e),e=Math.max(i.time,e.time),i=this.frequency.getTicksAtTime(e)+t-i.ticks;return this.frequency.getTimeOfTick(i)},l.default.TickSource.prototype.forEachTickBetween=function(e,t,i){var r=this._state.get(e);if(this._state.forEachBetween(e,t,function(t){r.state===l.default.State.Started&&t.state!==l.default.State.Started&&this.forEachTickBetween(Math.max(r.time,e),t.time-this.sampleTime,i),r=t}.bind(this)),e=Math.max(r.time,e),r.state===l.default.State.Started&&this._state)for(var n=this.frequency.getTicksAtTime(e),s=(n-this.frequency.getTicksAtTime(r.time))%1,o=this.frequency.getTimeOfTick(n+(s=0!==s?1-s:s)),a=null;o<t&&this._state;){try{i(o,Math.round(this.getTicksAtTime(o)))}catch(e){a=e;break}this._state&&(o+=this.frequency.getDurationOfTicks(1,o))}if(a)throw a;return this},l.default.TickSource.prototype.dispose=function(){return l.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},e.default=l.default.TickSource},function(t,e,i){"use strict";i.r(e);var r=i(0);i(87),i(13),i(2),i(4),i(18),i(1),r.default.Follower=function(){var t=r.default.defaults(arguments,["smoothing"],r.default.Follower);r.default.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new r.default.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new r.default.Subtract,this._delay=new r.default.Delay(this.blockTime),this._smoothing=t.smoothing,r.default.connect(this.input,this._delay),r.default.connect(this.input,this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=t.smoothing},r.default.extend(r.default.Follower,r.default.AudioNode),r.default.Follower.defaults={smoothing:.05},Object.defineProperty(r.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing=t,this._filter.frequency.value=.5*r.default.Time(t).toFrequency()}}),r.default.Follower.prototype.connect=r.default.SignalBase.prototype.connect,r.default.Follower.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},e.default=r.default.Follower},function(t,e,i){"use strict";i.r(e);var r=i(0);i(42),i(2),i(14),i(18),i(3),i(1),r.default.FeedbackCombFilter=function(){var t=r.default.defaults(arguments,["delayTime","resonance"],r.default.FeedbackCombFilter);r.default.AudioNode.call(this),this._delay=this.input=this.output=new r.default.Delay(t.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new r.default.Gain(t.resonance,r.default.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},r.default.extend(r.default.FeedbackCombFilter,r.default.AudioNode),r.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},r.default.FeedbackCombFilter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},e.default=r.default.FeedbackCombFilter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(9),i(2),i(3),i(1),r.default.MultibandSplit=function(){var t=r.default.defaults(arguments,["lowFrequency","highFrequency"],r.default.MultibandSplit);r.default.AudioNode.call(this),this.input=new r.default.Gain,this.output=new Array(3),this.low=this.output[0]=new r.default.Filter(0,"lowpass"),this._lowMidFilter=new r.default.Filter(0,"highpass"),this.mid=this.output[1]=new r.default.Filter(0,"lowpass"),this.high=this.output[2]=new r.default.Filter(0,"highpass"),this.lowFrequency=new r.default.Signal(t.lowFrequency,r.default.Type.Frequency),this.highFrequency=new r.default.Signal(t.highFrequency,r.default.Type.Frequency),this.Q=new r.default.Signal(t.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},r.default.extend(r.default.MultibandSplit,r.default.AudioNode),r.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},r.default.MultibandSplit.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},e.default=r.default.MultibandSplit},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),r.default.Pow=function(t){r.default.SignalBase.call(this),this._exp=r.default.defaultArg(t,1),this._expScaler=this.input=this.output=new r.default.WaveShaper(this._expFunc(this._exp),8192)},r.default.extend(r.default.Pow,r.default.SignalBase),Object.defineProperty(r.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),r.default.Pow.prototype._expFunc=function(e){return function(t){return Math.pow(Math.abs(t),e)}},r.default.Pow.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.default=r.default.Pow},function(t,e,i){"use strict";i.r(e);var o=i(0);o.default.TimeBase=function(t,e){if(!(this instanceof o.default.TimeBase))return new o.default.TimeBase(t,e);if(this._val=t,this._units=e,o.default.isUndef(this._units)&&o.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(t&&t.constructor===this.constructor)this._val=t._val,this._units=t._units;else if(t instanceof o.default.TimeBase)switch(this._defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},o.default.extend(o.default.TimeBase),o.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){e="."===e?1.5:1;return 1===(t=parseInt(t))?this._beatsToUnits(this._getTimeSignature())*e:this._beatsToUnits(4/t)*e}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,i){var r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(r+=this._beatsToUnits(parseFloat(i)/4)),r}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},o.default.TimeBase.prototype._defaultUnits="s",o.default.TimeBase.prototype._getBpm=function(){return o.default.Transport?o.default.Transport.bpm.value:120},o.default.TimeBase.prototype._getTimeSignature=function(){return o.default.Transport?o.default.Transport.timeSignature:4},o.default.TimeBase.prototype._getPPQ=function(){return o.default.Transport?o.default.Transport.PPQ:192},o.default.TimeBase.prototype._now=function(){return this.now()},o.default.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},o.default.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},o.default.TimeBase.prototype._secondsToUnits=function(t){return t},o.default.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},o.default.TimeBase.prototype._noArg=function(){return this._now()},o.default.TimeBase.prototype.valueOf=function(){if(o.default.isUndef(this._val))return this._noArg();if(o.default.isString(this._val)&&o.default.isUndef(this._units)){for(var t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(o.default.isObject(this._val)){var e,i=0;for(e in this._val){var r=this._val[e];i+=new this.constructor(e).valueOf()*r}return i}if(o.default.isDefined(this._units)){var n=this._expressions[this._units],s=this._val.toString().trim().match(n.regexp);return s?n.method.apply(this,s.slice(1)):n.method.call(this,parseFloat(this._val))}return this._val},o.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()},o.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},o.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},o.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},o.default.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},e.default=o.default.TimeBase},function(t,e,i){"use strict";i.r(e);var o=i(0);i(62),i(46),o.default.Time=function(t,e){if(!(this instanceof o.default.Time))return new o.default.Time(t,e);o.default.TimeBase.call(this,t,e)},o.default.extend(o.default.Time,o.default.TimeBase),o.default.Time.prototype._expressions=Object.assign({},o.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(t){if(o.default.Transport){t=new this.constructor(t);return this._secondsToUnits(o.default.Transport.nextSubdivision(t))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),o.default.Time.prototype.quantize=function(t,e){e=o.default.defaultArg(e,1);var i=new this.constructor(t),t=this.valueOf();return t+(Math.round(t/i)*i-t)*e},o.default.Time.prototype.toNotation=function(){for(var i=this.toSeconds(),t=["1m"],e=1;e<8;e++){var r=Math.pow(2,e);t.push(r+"n."),t.push(r+"n"),t.push(r+"t")}t.push("0");var n=t[0],s=o.default.Time(t[0]).toSeconds();return t.forEach(function(t){var e=o.default.Time(t).toSeconds();Math.abs(e-i)<Math.abs(s-i)&&(n=t,s=e)}),n},o.default.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t,t=(e=parseFloat(e.toFixed(4)))%1*4;return[Math.floor(e/this._getTimeSignature()),e=Math.floor(e)%this._getTimeSignature(),t=3<(t=t.toString()).length?parseFloat(parseFloat(t).toFixed(3)):t].join(":")},o.default.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),t=this.valueOf()/t;return Math.round(t*this._getPPQ())},o.default.Time.prototype.toSeconds=function(){return this.valueOf()},o.default.Time.prototype.toMidi=function(){return o.default.Frequency.ftom(this.toFrequency())},e.default=o.default.Time},function(t,e,i){"use strict";i.r(e);var r=i(0);i(11),i(6),i(3),i(1),r.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),r.default.OscillatorNode=function(){var t=r.default.defaults(arguments,["frequency","type"],r.default.OscillatorNode);r.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new r.default.Gain(0),this._oscillator=this.context.createOscillator(),r.default.connect(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new r.default.Param({param:this._oscillator.frequency,units:r.default.Type.Frequency,value:t.frequency}),this.detune=new r.default.Param({param:this._oscillator.detune,units:r.default.Type.Cents,value:t.detune}),this._gain=1},r.default.extend(r.default.OscillatorNode,r.default.AudioNode),r.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:r.default.noOp},Object.defineProperty(r.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),r.default.OscillatorNode.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?r.default.State.Started:r.default.State.Stopped},r.default.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},r.default.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},r.default.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended(),setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},r.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(r.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),r.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),r.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this},e.default=r.default.OscillatorNode},function(t,e,i){"use strict";i.r(e);var s=i(0);i(11),i(6),i(57),i(32),s.default.Player=function(t){var e=t instanceof s.default.Buffer&&t.loaded?(t=t.get(),s.default.Player.defaults):s.default.defaults(arguments,["url","onload"],s.default.Player);s.default.Source.call(this,e),this.autostart=e.autostart,this._buffer=new s.default.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),t instanceof AudioBuffer&&this._buffer.set(t),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this._activeSources=[],this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut},s.default.extend(s.default.Player,s.default.Source),s.default.Player.defaults={onload:s.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},s.default.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},s.default.Player.prototype._onload=function(t){(t=s.default.defaultArg(t,s.default.noOp))(this),this.autostart&&this.start()},s.default.Player.prototype._onSourceEnd=function(t){t=this._activeSources.indexOf(t);this._activeSources.splice(t,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(s.default.State.Stopped,s.default.now())},s.default.Player.prototype._start=function(t,e,i){e=this._loop?s.default.defaultArg(e,this._loopStart):s.default.defaultArg(e,0),e=this.toSeconds(e),this._synced&&(e*=this._playbackRate);var r=s.default.defaultArg(i,Math.max(this._buffer.duration-e,0)),r=this.toSeconds(r);r/=this._playbackRate,t=this.toSeconds(t);var n=new s.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(s.default.State.Stopped,t+r),this._activeSources.push(n),this._loop&&s.default.isUndef(i)?n.start(t,e):n.start(t,e,r-this.toSeconds(this.fadeOut)),this},s.default.Player.prototype._stop=function(e){return e=this.toSeconds(e),this._activeSources.forEach(function(t){t.stop(e)}),this},s.default.Player.prototype.restart=function(t,e,i){return this._stop(t),this._start(t,e,i),this},s.default.Player.prototype.seek=function(t,e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===s.default.State.Started&&(t=this.toSeconds(t),this._stop(e),this._start(e,t)),this},s.default.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(s.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(e){this._loopStart=e,this._activeSources.forEach(function(t){t.loopStart=e})}}),Object.defineProperty(s.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(e){this._loopEnd=e,this._activeSources.forEach(function(t){t.loopEnd=e})}}),Object.defineProperty(s.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(s.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(e){var t;this._loop===e||(this._loop=e,this._activeSources.forEach(function(t){t.loop=e}),!e)||(t=this._state.getNextState(s.default.State.Stopped,this.now()))&&this._state.cancel(t.time)}}),Object.defineProperty(s.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){this._playbackRate=e;var i=this.now(),t=this._state.getNextState(s.default.State.Stopped,i);t&&this._state.cancel(t.time),this._activeSources.forEach(function(t){t.cancelStop(),t.playbackRate.setValueAtTime(e,i)})}}),Object.defineProperty(s.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(s.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),s.default.Player.prototype.dispose=function(){return this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,s.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},e.default=s.default.Player},function(t,e,i){"use strict";i.r(e);var r=i(0);i(31),i(41),i(37),i(2),i(9),i(25),r.default.MonoSynth=function(t){t=r.default.defaultArg(t,r.default.MonoSynth.defaults),r.default.Monophonic.call(this,t),this.oscillator=new r.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new r.default.Filter(t.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new r.default.FrequencyEnvelope(t.filterEnvelope),this.envelope=new r.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},r.default.extend(r.default.MonoSynth,r.default.Monophonic),r.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},r.default.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},r.default.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},r.default.MonoSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},e.default=r.default.MonoSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(17),i(5),i(3),r.default.FatOscillator=function(){var t=r.default.defaults(arguments,["frequency","type","spread"],r.default.FatOscillator);r.default.Source.call(this,t),this.frequency=new r.default.Signal(t.frequency,r.default.Type.Frequency),this.detune=new r.default.Signal(t.detune,r.default.Type.Cents),this._oscillators=[],this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,this._readOnly(["frequency","detune"])},r.default.extend(r.default.FatOscillator,r.default.Source),r.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},r.default.FatOscillator.prototype._start=function(e){e=this.toSeconds(e),this._forEach(function(t){t.start(e)})},r.default.FatOscillator.prototype._stop=function(e){e=this.toSeconds(e),this._forEach(function(t){t.stop(e)})},r.default.FatOscillator.prototype.restart=function(e){e=this.toSeconds(e),this._forEach(function(t){t.restart(e)})},r.default.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(r.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._forEach(function(t){t.type=e})}}),Object.defineProperty(r.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){var i,r;this._spread=t,1<this._oscillators.length&&(i=-t/2,r=t/(this._oscillators.length-1),this._forEach(function(t,e){t.detune.value=i+r*e}))}}),Object.defineProperty(r.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(t){if(t=Math.max(t,1),this._oscillators.length!==t){this._forEach(function(t){t.dispose()}),this._oscillators=[];for(var e=0;e<t;e++){var i=new r.default.Oscillator;this.type===r.default.Oscillator.Type.Custom?i.partials=this._partials:i.type=this._type,i.partialCount=this._partialCount,i.phase=this._phase+e/t*360,i.volume.value=-6-1.1*t,this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state===r.default.State.Started&&this._forEach(function(t){t.start()})}}}),Object.defineProperty(r.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(e){this._phase=e,this._forEach(function(t){t.phase=e})}}),Object.defineProperty(r.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(e){this._forEach(function(t){t.baseType=e}),this._type=this._oscillators[0].type}}),Object.defineProperty(r.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(e){this._partials=e,this._type=r.default.Oscillator.Type.Custom,this._forEach(function(t){t.partials=e})}}),Object.defineProperty(r.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(e){this._partialCount=e,this._forEach(function(t){t.partialCount=e}),this._type=this._oscillators[0].type}}),r.default.FatOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(t){t.dispose()}),this._oscillators=null,this._partials=null,this},e.default=r.default.FatOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(17),i(5),i(3),i(22),r.default.AMOscillator=function(){var t=r.default.defaults(arguments,["frequency","type","modulationType"],r.default.AMOscillator);r.default.Source.call(this,t),this._carrier=new r.default.Oscillator(t.frequency,t.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=t.detune,this._modulator=new r.default.Oscillator(t.frequency,t.modulationType),this._modulationScale=new r.default.AudioToGain,this.harmonicity=new r.default.Multiply(t.harmonicity),this.harmonicity.units=r.default.Type.Positive,this._modulationNode=new r.default.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=t.phase,this._readOnly(["frequency","detune","harmonicity"])},r.default.extend(r.default.AMOscillator,r.default.Oscillator),r.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},r.default.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},r.default.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},r.default.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(r.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(r.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(r.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(r.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(r.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(r.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),r.default.AMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},e.default=r.default.AMOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(50),i(17),i(5),r.default.PWMOscillator=function(){var t=r.default.defaults(arguments,["frequency","modulationFrequency"],r.default.PWMOscillator);r.default.Source.call(this,t),this._pulse=new r.default.PulseOscillator(t.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new r.default.Oscillator({frequency:t.frequency,detune:t.detune,phase:t.phase}),this._scale=new r.default.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},r.default.extend(r.default.PWMOscillator,r.default.Source),r.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},r.default.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},r.default.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},r.default.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(r.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(r.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(r.default.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(r.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),r.default.PWMOscillator.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},e.default=r.default.PWMOscillator},function(t,e,i){"use strict";i.r(e);var s=i(0);i(51),i(4),i(16),s.default.Part=function(){var t=s.default.defaults(arguments,["callback","events"],s.default.Part);s.default.Event.call(this,t),this._events=[];for(var e=0;e<t.events.length;e++)Array.isArray(t.events[e])?this.add(t.events[e][0],t.events[e][1]):this.add(t.events[e])},s.default.extend(s.default.Part,s.default.Event),s.default.Part.defaults={callback:s.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},s.default.Part.prototype.start=function(t,e){var i=this.toTicks(t);return this._state.getValueAtTime(i)!==s.default.State.Started&&(e=this._loop?s.default.defaultArg(e,this._loopStart):s.default.defaultArg(e,0),e=this.toTicks(e),this._state.add({state:s.default.State.Started,time:i,offset:e}),this._forEach(function(t){this._startNote(t,i,e)})),this},s.default.Part.prototype._startNote=function(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(s.default.Ticks(e))):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(s.default.Ticks(e))):t.startOffset>=i&&t.start(s.default.Ticks(e))},Object.defineProperty(s.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),s.default.Part.prototype.stop=function(e){var t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime(s.default.State.Stopped,t),this._forEach(function(t){t.stop(e)}),this},s.default.Part.prototype.at=function(t,e){t=s.default.TransportTime(t);for(var i=s.default.Ticks(1).toSeconds(),r=0;r<this._events.length;r++){var n=this._events[r];if(Math.abs(t.toTicks()-n.startOffset)<i)return s.default.isDefined(e)&&(n.value=e),n}return s.default.isDefined(e)?(this.add(t,e),this._events[this._events.length-1]):null},s.default.Part.prototype.add=function(t,e){var i;return t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),e instanceof s.default.Event?(i=e).callback=this._tick.bind(this):i=new s.default.Event({callback:this._tick.bind(this),value:e}),i.startOffset=t,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this},s.default.Part.prototype._restartEvent=function(e){this._state.forEach(function(t){t.state===s.default.State.Started?this._startNote(e,t.time,t.offset):e.stop(s.default.Ticks(t.time))}.bind(this))},s.default.Part.prototype.remove=function(t,e){t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t);for(var i=this._events.length-1;0<=i;i--){var r=this._events[i];r.startOffset===t&&(s.default.isUndef(e)||s.default.isDefined(e)&&r.value===e)&&(this._events.splice(i,1),r.dispose())}return this},s.default.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},s.default.Part.prototype.cancel=function(e){return this._forEach(function(t){t.cancel(e)}),this._state.cancel(this.toTicks(e)),this},s.default.Part.prototype._forEach=function(t,e){if(this._events){e=s.default.defaultArg(e,this);for(var i=this._events.length-1;0<=i;i--){var r=this._events[i];r instanceof s.default.Part?r._forEach(t,e):t.call(e,r)}}return this},s.default.Part.prototype._setAll=function(e,i){this._forEach(function(t){t[e]=i})},s.default.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},s.default.Part.prototype._testLoopBoundries=function(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state===s.default.State.Stopped&&this._restartEvent(t)},Object.defineProperty(s.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(s.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(s.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this._forEach(function(t){t._loopStart=this._loopStart,t._loopEnd=this._loopEnd,t.loop=e,this._testLoopBoundries(t)})}}),Object.defineProperty(s.default.Part.prototype,"loopEnd",{get:function(){return s.default.Ticks(this._loopEnd).toSeconds()},set:function(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(function(t){t.loopEnd=e,this._testLoopBoundries(t)})}}),Object.defineProperty(s.default.Part.prototype,"loopStart",{get:function(){return s.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(s.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(s.default.Part.prototype,"length",{get:function(){return this._events.length}}),s.default.Part.prototype.dispose=function(){return s.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},e.default=s.default.Part},function(t,e,i){"use strict";i.r(e);var r=i(0);i(51),r.default.Loop=function(){var t=r.default.defaults(arguments,["callback","interval"],r.default.Loop);r.default.call(this),this._event=new r.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations},r.default.extend(r.default.Loop),r.default.Loop.defaults={interval:"4n",callback:r.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},r.default.Loop.prototype.start=function(t){return this._event.start(t),this},r.default.Loop.prototype.stop=function(t){return this._event.stop(t),this},r.default.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},r.default.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(r.default.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(r.default.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(r.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(r.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(r.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(r.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(r.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(r.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),r.default.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},e.default=r.default.Loop},function(t,e,i){"use strict";i.r(e);var r=i(0);i(15),i(33),r.default.StereoXFeedbackEffect=function(){var t=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.StereoEffect.call(this,t),this.feedback=new r.default.Signal(t.feedback,r.default.Type.NormalRange),this._feedbackLR=new r.default.Gain,this._feedbackRL=new r.default.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},r.default.extend(r.default.StereoXFeedbackEffect,r.default.StereoEffect),r.default.StereoXFeedbackEffect.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},e.default=r.default.StereoXFeedbackEffect},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(53),i(52),r.default.MidSideEffect=function(){r.default.Effect.apply(this,arguments),this._midSideSplit=new r.default.MidSideSplit,this._midSideMerge=new r.default.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},r.default.extend(r.default.MidSideEffect,r.default.Effect),r.default.MidSideEffect.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},e.default=r.default.MidSideEffect},function(t,e,i){"use strict";i.r(e);var r=i(0);i(11),i(8),r.default.Convolver=function(){var e=r.default.defaults(arguments,["url","onload"],r.default.Convolver);r.default.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new r.default.Buffer(e.url,function(t){this.buffer=t.get(),e.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.connectEffect(this._convolver)},r.default.extend(r.default.Convolver,r.default.Effect),r.default.Convolver.defaults={onload:r.default.noOp,normalize:!0},Object.defineProperty(r.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(r.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),r.default.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},r.default.Convolver.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},e.default=r.default.Convolver},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),i(5),i(13),r.default.Modulo=function(t){r.default.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new r.default.WaveShaper(Math.pow(2,16)),this._multiply=new r.default.Multiply,this._subtract=this.output=new r.default.Subtract,this._modSignal=new r.default.Signal(t),r.default.connect(this.input,this._shaper),r.default.connect(this.input,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},r.default.extend(r.default.Modulo,r.default.SignalBase),r.default.Modulo.prototype._setWaveShaper=function(e){this._shaper.setMap(function(t){return Math.floor((t+1e-4)/e)})},Object.defineProperty(r.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),r.default.Modulo.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.default=r.default.Modulo},function(t,e,i){"use strict";i.r(e);var r=i(0);i(20),i(92),r.default.OfflineContext=function(t,e,i){t=new OfflineAudioContext(t,e*i,i);r.default.Context.call(this,{context:t,clockSource:"offline",lookAhead:0,updateInterval:128/i}),this._duration=e,this._currentTime=0},r.default.extend(r.default.OfflineContext,r.default.Context),r.default.OfflineContext.prototype.now=function(){return this._currentTime},r.default.OfflineContext.prototype.resume=function(){return Promise.resolve()},r.default.OfflineContext.prototype.render=function(){for(;0<=this._duration-this._currentTime;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()},r.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},e.default=r.default.OfflineContext},function(t,e,i){"use strict";i.r(e);var s=i(0);i(16),i(11),i(76),i(40),s.default.Offline=function(t,e){var i=s.default.context.sampleRate,r=s.default.context,n=new s.default.OfflineContext(2,e,i);s.default.context=n;i=t(s.default.Transport),t=null,t=i&&s.default.isFunction(i.then)?i.then(function(){return n.render()}):n.render();return s.default.context=r,t.then(function(t){return new s.default.Buffer(t)})},e.default=s.default.Offline},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),n.default.Buffers=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i,r=n.default.defaults(e,["onload","baseUrl"],n.default.Buffers);for(i in n.default.call(this),this._buffers={},this.baseUrl=r.baseUrl,this._loadingCount=0,t)this._loadingCount++,this.add(i,t[i],this._bufferLoaded.bind(this,r.onload))},n.default.extend(n.default.Buffers),n.default.Buffers.defaults={onload:n.default.noOp,baseUrl:""},n.default.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},n.default.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},n.default.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(n.default.Buffers.prototype,"loaded",{get:function(){var t,e=!0;for(t in this._buffers)var i=this.get(t),e=e&&i.loaded;return e}}),n.default.Buffers.prototype.add=function(t,e,i){return i=n.default.defaultArg(i,n.default.noOp),e instanceof n.default.Buffer?(this._buffers[t]=e,i(this)):e instanceof AudioBuffer?(this._buffers[t]=new n.default.Buffer(e),i(this)):n.default.isString(e)&&(this._buffers[t]=new n.default.Buffer(this.baseUrl+e,i)),this},n.default.Buffers.prototype.dispose=function(){for(var t in n.default.prototype.dispose.call(this),this._buffers)this._buffers[t].dispose();return this._buffers=null,this},e.default=n.default.Buffers},function(t,e,i){"use strict";i.r(e);var r=i(0);r.default.CtrlPattern=function(){var t=r.default.defaults(arguments,["values","type"],r.default.CtrlPattern);r.default.call(this),this.values=t.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=t.type},r.default.extend(r.default.CtrlPattern),r.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},r.default.CtrlPattern.defaults={type:r.default.CtrlPattern.Type.Up,values:[]},Object.defineProperty(r.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var t=this.values[this.index];return this.type===r.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),t=this.values[this._shuffled[this.index]]),t}}}),Object.defineProperty(r.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._shuffled=null,this._type===r.default.CtrlPattern.Type.Up||this._type===r.default.CtrlPattern.Type.UpDown||this._type===r.default.CtrlPattern.Type.RandomOnce||this._type===r.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==r.default.CtrlPattern.Type.Down&&this._type!==r.default.CtrlPattern.Type.DownUp&&this._type!==r.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===r.default.CtrlPattern.Type.UpDown||this._type===r.default.CtrlPattern.Type.AlternateUp?this._direction=r.default.CtrlPattern.Type.Up:this._type!==r.default.CtrlPattern.Type.DownUp&&this._type!==r.default.CtrlPattern.Type.AlternateDown||(this._direction=r.default.CtrlPattern.Type.Down),this._type===r.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===r.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),r.default.CtrlPattern.prototype.next=function(){var t=this.type;return t===r.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):t===r.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):t===r.default.CtrlPattern.Type.UpDown||t===r.default.CtrlPattern.Type.DownUp?(this._direction===r.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=r.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=r.default.CtrlPattern.Type.Down)):t===r.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):t===r.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):t===r.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):t===r.default.CtrlPattern.Type.AlternateUp?(this._direction===r.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=r.default.CtrlPattern.Type.Down):(--this.index,this._direction=r.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=r.default.CtrlPattern.Type.Up)):t===r.default.CtrlPattern.Type.AlternateDown&&(this._direction===r.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=r.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=r.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=r.default.CtrlPattern.Type.Down)),this.value},r.default.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;0<t.length;){var i=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(i[0])}},r.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},e.default=r.default.CtrlPattern},function(t,e,i){"use strict";i.r(e);var r=i(0);i(56),i(55),r.default.TransportRepeatEvent=function(t,e){r.default.TransportEvent.call(this,t,e),e=r.default.defaultArg(e,r.default.TransportRepeatEvent.defaults),this.duration=r.default.Ticks(e.duration),this._interval=r.default.Ticks(e.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},r.default.extend(r.default.TransportRepeatEvent,r.default.TransportEvent),r.default.TransportRepeatEvent.defaults={duration:1/0,interval:1},r.default.TransportRepeatEvent.prototype.invoke=function(t){this._createEvents(t),r.default.TransportEvent.prototype.invoke.call(this,t)},r.default.TransportRepeatEvent.prototype._createEvents=function(t){t=this.Transport.getTicksAtTime(t);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick)))},r.default.TransportRepeatEvent.prototype._restart=function(t){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;t=this.Transport.getTicksAtTime(t);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),r.default.Ticks(this._nextTick))},r.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,r.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},e.default=r.default.TransportRepeatEvent},function(t,e,i){"use strict";i.r(e);var r=i(0);i(4),r.default.IntervalTimeline=function(){r.default.call(this),this._root=null,this._length=0},r.default.extend(r.default.IntervalTimeline),r.default.IntervalTimeline.prototype.add=function(t){if(r.default.isUndef(t.time)||r.default.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");t.time=t.time.valueOf();var e=new n(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this},r.default.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var r=e[i];if(r.event===t){this._removeNode(r),this._length--;break}}}return this},Object.defineProperty(r.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),r.default.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},r.default.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},r.default.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},r.default.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i;if(0<t.getBalance())if(null===t.left.right)(e=t.left).right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},r.default.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),r=t.right;t.right=r.left,r.left=t,null!==e?i?e.left=r:e.right=r:this._setRoot(r)},r.default.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),r=t.left;t.left=r.right,r.right=t,null!==e?i?e.left=r:e.right=r:this._setRoot(r)},r.default.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();1<e?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(0<t.right.getBalance()?this._rotateRight(t.right):this._rotateLeft(t))},r.default.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),0<e.length){for(var i=e[0],r=1;r<e.length;r++)e[r].low>i.low&&(i=e[r]);return i.event}}return null},r.default.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse(function(t){e.push(t)});for(var i=0;i<e.length;i++){var r=e[i].event;r&&t(r)}}return this},r.default.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var i=[];this._root.search(t,i);for(var r=i.length-1;0<=r;r--){var n=i[r].event;n&&e(n)}}return this},r.default.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var i=[];this._root.searchAfter(t,i);for(var r=i.length-1;0<=r;r--)e(i[r].event)}return this},r.default.IntervalTimeline.prototype.dispose=function(){var e=[];null!==this._root&&this._root.traverse(function(t){e.push(t)});for(var t=0;t<e.length;t++)e[t].dispose();return e=null,this._root=null,this};var n=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};n.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},n.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},n.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},n.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},n.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},n.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},n.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},n.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(n.prototype,"left",{get:function(){return this._left},set:function(t){null!==(this._left=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(n.prototype,"right",{get:function(){return this._right},set:function(t){null!==(this._right=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}}),n.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},e.default=r.default.IntervalTimeline},function(t,e,i){"use strict";i.r(e);var o=i(0);function r(n){return function(t,e){e=this.toSeconds(e),n.apply(this,arguments);var i=this._events.get(e),r=this._events.previousEvent(i),e=this._getTicksUntilEvent(r,e);return i.ticks=Math.max(e,0),this}}i(2),o.default.TickSignal=function(t){t=o.default.defaultArg(t,1),o.default.Signal.call(this,{units:o.default.Type.Ticks,value:t}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:o.default.Param.AutomationType.SetValue,time:0,value:t})},o.default.extend(o.default.TickSignal,o.default.Signal),o.default.TickSignal.prototype.setValueAtTime=r(o.default.Signal.prototype.setValueAtTime),o.default.TickSignal.prototype.linearRampToValueAtTime=r(o.default.Signal.prototype.linearRampToValueAtTime),o.default.TickSignal.prototype.setTargetAtTime=function(t,e,i){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var r=this._events.get(e),n=Math.round(Math.max(1/i,1)),s=0;s<=n;s++){var o=i*s+e,a=this._exponentialApproach(r.time,r.value,t,i,o);this.linearRampToValueAtTime(this._toUnits(a),o)}return this},o.default.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);for(var i=this._events.get(e),r=Math.round(Math.max(10*(e-i.time),1)),n=(e-i.time)/r,s=0;s<=r;s++){var o=n*s+i.time,a=this._exponentialInterpolate(i.time,i.value,e,t,o);this.linearRampToValueAtTime(this._toUnits(a),o)}return this},o.default.TickSignal.prototype._getTicksUntilEvent=function(t,e){null===t?t={ticks:0,time:0}:o.default.isUndef(t.ticks)&&(r=this._events.previousEvent(t),t.ticks=this._getTicksUntilEvent(r,t.time));var i=this.getValueAtTime(t.time),r=this.getValueAtTime(e);return this._events.get(e).time===e&&this._events.get(e).type===o.default.Param.AutomationType.SetValue&&(r=this.getValueAtTime(e-this.sampleTime)),.5*(e-t.time)*(i+r)+t.ticks},o.default.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},o.default.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-e},o.default.TickSignal.prototype.getTimeOfTick=function(t){var e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type===o.default.Param.AutomationType.Linear&&e.value!==i.value){var r=this.getValueAtTime(e.time),n=(this.getValueAtTime(i.time)-r)/(i.time-e.time),s=Math.sqrt(Math.pow(r,2)-2*n*(e.ticks-t)),i=(-r+s)/n;return(0<i?i:(-r-s)/n)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue},o.default.TickSignal.prototype.ticksToTime=function(t,e){return e=this.toSeconds(e),new o.default.Time(this.getDurationOfTicks(t,e))},o.default.TickSignal.prototype.timeToTicks=function(t,e){e=this.toSeconds(e),t=this.toSeconds(t);var i=this.getTicksAtTime(e),t=this.getTicksAtTime(e+t);return new o.default.Ticks(t-i)},e.default=o.default.TickSignal},function(t,e,i){"use strict";i.r(e);var r=i(0);i(57),i(34),i(35),i(20),r.default.Clock=function(){var t=r.default.defaults(arguments,["callback","frequency"],r.default.Clock);r.default.Emitter.call(this),this.callback=t.callback,this._nextTick=0,this._tickSource=new r.default.TickSource(t.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new r.default.TimelineState(r.default.State.Stopped),this._state.setStateAtTime(r.default.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},r.default.extend(r.default.Clock,r.default.Emitter),r.default.Clock.defaults={callback:r.default.noOp,frequency:1},Object.defineProperty(r.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),r.default.Clock.prototype.start=function(t,e){return this.context.resume(),t=this.toSeconds(t),this._state.getValueAtTime(t)!==r.default.State.Started&&(this._state.setStateAtTime(r.default.State.Started,t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this},r.default.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(r.default.State.Stopped,t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this},r.default.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===r.default.State.Started&&(this._state.setStateAtTime(r.default.State.Paused,t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this},Object.defineProperty(r.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(r.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),r.default.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},r.default.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},r.default.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},r.default.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(i+t,e)},r.default.Clock.prototype._loop=function(){var t=this._lastUpdate,e=this.now();t!==(this._lastUpdate=e)&&(this._state.forEachBetween(t,e,function(t){switch(t.state){case r.default.State.Started:var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case r.default.State.Stopped:0!==t.time&&this.emit("stop",t.time);break;case r.default.State.Paused:this.emit("pause",t.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,e,function(t,e){this.callback(t,e)}.bind(this)))},r.default.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},r.default.Clock.prototype.dispose=function(){r.default.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.default=r.default.Clock},function(t,e,i){"use strict";i.r(e);var r=i(0);i(2),i(5),i(7),r.default.GreaterThanZero=function(){r.default.SignalBase.call(this),this._thresh=this.output=new r.default.WaveShaper(function(t){return t<=0?0:1},127),this._scale=this.input=new r.default.Multiply(1e4),this._scale.connect(this._thresh)},r.default.extend(r.default.GreaterThanZero,r.default.SignalBase),r.default.GreaterThanZero.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.default=r.default.GreaterThanZero},function(t,e,i){"use strict";i.r(e);var r=i(0);i(84),i(13),i(2),r.default.GreaterThan=function(t){r.default.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new r.default.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new r.default.GreaterThanZero,this._param.connect(this._gtz)},r.default.extend(r.default.GreaterThan,r.default.Signal),r.default.GreaterThan.prototype.dispose=function(){return r.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},e.default=r.default.GreaterThan},function(t,e,i){"use strict";i.r(e);var r=i(0);i(47),i(26),r.default.ScaledEnvelope=function(){var t=r.default.defaults(arguments,["attack","decay","sustain","release"],r.default.Envelope);r.default.Envelope.call(this,t),t=r.default.defaultArg(t,r.default.ScaledEnvelope.defaults),this._exp=this.output=new r.default.Pow(t.exponent),this._scale=this.output=new r.default.Scale(t.min,t.max),this._sig.chain(this._exp,this._scale)},r.default.extend(r.default.ScaledEnvelope,r.default.Envelope),r.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(r.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(r.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(r.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),r.default.ScaledEnvelope.prototype.dispose=function(){return r.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=r.default.ScaledEnvelope},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),i(30),r.default.Abs=function(){r.default.SignalBase.call(this),this._abs=this.input=this.output=new r.default.WaveShaper(function(t){return Math.abs(t)<.001?0:Math.abs(t)},1024)},r.default.extend(r.default.Abs,r.default.SignalBase),r.default.Abs.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.default=r.default.Abs},function(t,e,i){"use strict";i.r(e);var r=i(0);i(3),i(1),r.default.Solo=function(){var t=r.default.defaults(arguments,["solo"],r.default.Solo);r.default.AudioNode.call(this),this.input=this.output=new r.default.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=t.solo},r.default.extend(r.default.Solo,r.default.AudioNode),r.default.Solo.defaults={solo:!1},Object.defineProperty(r.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(r.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),r.default.Solo.prototype._addSolo=function(){r.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},r.default.Solo.prototype._removeSolo=function(){var t;this._isSoloed()&&(t=this.context._currentSolo.indexOf(this),this.context._currentSolo.splice(t,1))},r.default.Solo.prototype._isSoloed=function(){return!!r.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)},r.default.Solo.prototype._noSolos=function(){return!r.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},r.default.Solo.prototype._soloed=function(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},r.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,r.default.AudioNode.prototype.dispose.call(this),this},e.default=r.default.Solo},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),r.default.EqualPowerGain=function(){r.default.SignalBase.call(this),this._eqPower=this.input=this.output=new r.default.WaveShaper(function(t){return Math.abs(t)<.001?0:r.default.equalPowerScale(t)}.bind(this),4096)},r.default.extend(r.default.EqualPowerGain,r.default.SignalBase),r.default.EqualPowerGain.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.default=r.default.EqualPowerGain},function(t,e,i){"use strict";i.r(e);var r=i(0);i(5),i(2),r.default.Negate=function(){r.default.SignalBase.call(this),this._multiply=this.input=this.output=new r.default.Multiply(-1)},r.default.extend(r.default.Negate,r.default.SignalBase),r.default.Negate.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.default=r.default.Negate},function(t,e,i){"use strict";i.r(e);var r=i(0);i(48),i(27),i(1),r.default.PanVol=function(){var t=r.default.defaults(arguments,["pan","volume"],r.default.PanVol);r.default.AudioNode.call(this),this._panner=this.input=new r.default.Panner(t.pan),this.pan=this._panner.pan,this._volume=this.output=new r.default.Volume(t.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,this._readOnly(["pan","volume"])},r.default.extend(r.default.PanVol,r.default.AudioNode),r.default.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(r.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),r.default.PanVol.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},e.default=r.default.PanVol},function(t,e,i){"use strict";var r=i(0);r.default.supported&&(!r.default.global.hasOwnProperty("OfflineAudioContext")&&r.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(r.default.global.OfflineAudioContext=r.default.global.webkitOfflineAudioContext),(i=new OfflineAudioContext(1,1,44100).startRendering())&&r.default.isFunction(i.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(e){this.oncomplete=function(t){e(t.renderedBuffer)},this._native_startRendering()}.bind(this))}))},function(t,e,i){"use strict";e.a="13.8.34"},function(t,e,i){"use strict";i.r(e);var r=i(0);i(46),r.default.Midi=function(t,e){if(!(this instanceof r.default.Midi))return new r.default.Midi(t,e);r.default.Frequency.call(this,t,e)},r.default.extend(r.default.Midi,r.default.Frequency),r.default.Midi.prototype._defaultUnits="midi",r.default.Midi.prototype._frequencyToUnits=function(t){return r.default.Frequency.ftom(r.default.Frequency.prototype._frequencyToUnits.call(this,t))},r.default.Midi.prototype._ticksToUnits=function(t){return r.default.Frequency.ftom(r.default.Frequency.prototype._ticksToUnits.call(this,t))},r.default.Midi.prototype._beatsToUnits=function(t){return r.default.Frequency.ftom(r.default.Frequency.prototype._beatsToUnits.call(this,t))},r.default.Midi.prototype._secondsToUnits=function(t){return r.default.Frequency.ftom(r.default.Frequency.prototype._secondsToUnits.call(this,t))},r.default.Midi.prototype.toMidi=function(){return this.valueOf()},r.default.Midi.prototype.toFrequency=function(){return r.default.Frequency.mtof(this.toMidi())},r.default.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},e.default=r.default.Midi},function(t,e,i){"use strict";i.r(e);var r=i(0);i(27),i(1),r.default.UserMedia=function(){var t=r.default.defaults(arguments,["volume"],r.default.UserMedia);r.default.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new r.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=t.mute},r.default.extend(r.default.UserMedia,r.default.AudioNode),r.default.UserMedia.defaults={volume:0,mute:!1},r.default.UserMedia.prototype.open=function(i){return this.state===r.default.State.Started&&this.close(),r.default.UserMedia.enumerateDevices().then(function(t){var e;if(r.default.isNumber(i))e=t[i];else if(!(e=t.find(function(t){return t.label===i||t.deviceId===i}))&&0<t.length)e=t[0];else if(!e&&r.default.isDefined(i))throw new Error("Tone.UserMedia: no matching device: "+i);this._device=e;t={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return e&&(t.audio.deviceId=e.deviceId),navigator.mediaDevices.getUserMedia(t).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),r.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))},r.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(t){t.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},r.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"audioinput"===t.kind})})},Object.defineProperty(r.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?r.default.State.Started:r.default.State.Stopped}}),Object.defineProperty(r.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}}),Object.defineProperty(r.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}}),Object.defineProperty(r.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}}),Object.defineProperty(r.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),r.default.UserMedia.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(r.default.UserMedia,"supported",{get:function(){return r.default.isDefined(navigator.mediaDevices)&&r.default.isFunction(navigator.mediaDevices.getUserMedia)}}),e.default=r.default.UserMedia},function(t,e,i){"use strict";i.r(e);var n=i(0);i(65),i(27),i(1),n.default.Players=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i,r=n.default.defaults(e,["onload"],n.default.Players);for(i in n.default.AudioNode.call(this,r),this._volume=this.output=new n.default.Volume(r.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=r.mute,this._players={},this._loadingCount=0,this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut,t)this._loadingCount++,this.add(i,t[i],this._bufferLoaded.bind(this,r.onload))},n.default.extend(n.default.Players,n.default.AudioNode),n.default.Players.defaults={volume:0,mute:!1,onload:n.default.noOp,fadeIn:0,fadeOut:0},n.default.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(n.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(n.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=e,this._forEach(function(t){t.fadeIn=e})}}),Object.defineProperty(n.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=e,this._forEach(function(t){t.fadeOut=e})}}),Object.defineProperty(n.default.Players.prototype,"state",{get:function(){var e=!1;return this._forEach(function(t){e=e||t.state===n.default.State.Started}),e?n.default.State.Started:n.default.State.Stopped}}),n.default.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},n.default.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},n.default.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(n.default.Players.prototype,"loaded",{get:function(){var e=!0;return this._forEach(function(t){e=e&&t.loaded}),e}}),n.default.Players.prototype.add=function(t,e,i){return this._players[t]=new n.default.Player(e,i).connect(this.output),this._players[t].fadeIn=this._fadeIn,this._players[t].fadeOut=this._fadeOut,this},n.default.Players.prototype.stopAll=function(e){this._forEach(function(t){t.stop(e)})},n.default.Players.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach(function(t){t.dispose()}),this._players=null,this},e.default=n.default.Players},function(t,e,i){"use strict";i.r(e);var r=i(0);i(6),i(11),i(32),r.default.GrainPlayer=function(){var t=r.default.defaults(arguments,["url","onload"],r.default.GrainPlayer);r.default.Source.call(this,t),this.buffer=new r.default.Buffer(t.url,t.onload.bind(void 0,this)),this._clock=new r.default.Clock(this._tick.bind(this),t.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))},r.default.extend(r.default.GrainPlayer,r.default.Source),r.default.GrainPlayer.defaults={onload:r.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},r.default.GrainPlayer.prototype._start=function(t,e,i){e=r.default.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),i&&this.stop(t+this.toSeconds(i))},r.default.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},r.default.GrainPlayer.prototype._onstop=function(e){this._activeSources.forEach(function(t){t.fadeOut=0,t.stop(e)})},r.default.GrainPlayer.prototype._tick=function(t){var e,i;!this.loop&&this._offset>this.buffer.duration?this.stop(t):(e=this._offset<this._overlap?0:this._overlap,(i=new r.default.BufferSource({buffer:this.buffer,fadeIn:e,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:r.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output)).start(t,this._offset),this._offset+=this.grainSize,i.stop(t+this.grainSize/this.playbackRate),this._activeSources.push(i),i.onended=function(){var t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}.bind(this))},Object.defineProperty(r.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(r.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(r.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(r.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(r.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(r.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(r.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),r.default.GrainPlayer.prototype.dispose=function(){return r.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,this},e.default=r.default.GrainPlayer},function(t,e,i){"use strict";i.r(e);var n=i(0);i(16),i(2),i(45),n.default.TransportTimelineSignal=function(){n.default.Signal.apply(this,arguments),this.output=this._outputSig=new n.default.Signal(this._initialValue),this._lastVal=this.value,this._synced=n.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),n.default.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},n.default.extend(n.default.TransportTimelineSignal,n.default.Signal),n.default.TransportTimelineSignal.prototype._onTick=function(t){var e=this.getValueAtTime(n.default.Transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._outputSig.linearRampToValueAtTime(e,t))},n.default.TransportTimelineSignal.prototype._anchorValue=function(t){var e=this.getValueAtTime(n.default.Transport.seconds);return this._lastVal=e,this._outputSig.cancelScheduledValues(t),this._outputSig.setValueAtTime(e,t),this},n.default.TransportTimelineSignal.prototype.getValueAtTime=function(t){return t=n.default.TransportTime(t),n.default.Signal.prototype.getValueAtTime.call(this,t)},n.default.TransportTimelineSignal.prototype.setValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.setValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.linearRampToValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(t,e){return e=n.default.TransportTime(e),n.default.Signal.prototype.exponentialRampToValueAtTime.call(this,t,e),this},n.default.TransportTimelineSignal.prototype.setTargetAtTime=function(t,e,i){return e=n.default.TransportTime(e),n.default.Signal.prototype.setTargetAtTime.call(this,t,e,i),this},n.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(t){return t=n.default.TransportTime(t),n.default.Signal.prototype.cancelScheduledValues.call(this,t),this},n.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(t,e,i,r){return e=n.default.TransportTime(e),i=n.default.TransportTime(i),n.default.Signal.prototype.setValueCurveAtTime.call(this,t,e,i,r),this},n.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(t){return n.default.Signal.prototype.cancelAndHoldAtTime.call(this,n.default.TransportTime(t))},n.default.TransportTimelineSignal.prototype.dispose=function(){n.default.Transport.clear(this._synced),n.default.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),n.default.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},e.default=n.default.TransportTimelineSignal},function(t,e,i){"use strict";i.r(e);var r=i(0);i(29),i(5),r.default.Normalize=function(t,e){r.default.SignalBase.call(this),this._inputMin=r.default.defaultArg(t,0),this._inputMax=r.default.defaultArg(e,1),this._sub=this.input=new r.default.Add(0),this._div=this.output=new r.default.Multiply(1),this._sub.connect(this._div),this._setRange()},r.default.extend(r.default.Normalize,r.default.SignalBase),Object.defineProperty(r.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(r.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),r.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},r.default.Normalize.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},e.default=r.default.Normalize},function(t,e,i){"use strict";i.r(e);var r=i(0);i(7),i(2),r.default.GainToAudio=function(){r.default.SignalBase.call(this),this._norm=this.input=this.output=new r.default.WaveShaper(function(t){return 2*Math.abs(t)-1})},r.default.extend(r.default.GainToAudio,r.default.SignalBase),r.default.GainToAudio.prototype.dispose=function(){return r.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=r.default.GainToAudio},function(t,e,i){"use strict";i.r(e);var l=i(0);i(21),i(78),i(32),l.default.Sampler=function(t){var e=Array.prototype.slice.call(arguments);e.shift();e=l.default.defaults(e,["onload","baseUrl"],l.default.Sampler);l.default.Instrument.call(this,e);var i,r={};for(i in t)if(l.default.isNote(i))r[l.default.Frequency(i).toMidi()]=t[i];else{if(isNaN(parseFloat(i)))throw new Error("Tone.Sampler: url keys must be the note's pitch");r[i]=t[i]}this._buffers=new l.default.Buffers(r,e.onload,e.baseUrl),this._activeSources={},this.attack=e.attack,this.release=e.release,this.curve=e.curve},l.default.extend(l.default.Sampler,l.default.Instrument),l.default.Sampler.defaults={attack:0,release:.1,onload:l.default.noOp,baseUrl:"",curve:"exponential"},l.default.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)},l.default.Sampler.prototype.triggerAttack=function(t,e,i){this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){var n=l.default.Frequency(t[r]).toMidi(),s=this._findClosest(n),o=this._buffers.get(n-s),s=l.default.intervalToFrequencyRatio(s),a=new l.default.BufferSource({buffer:o,playbackRate:s,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);a.start(e,0,o.duration/s,i),l.default.isArray(this._activeSources[n])||(this._activeSources[n]=[]),this._activeSources[n].push(a),a.onended=function(){var t;this._activeSources&&this._activeSources[n]&&(-1!==(t=this._activeSources[n].indexOf(a))&&this._activeSources[n].splice(t,1))}.bind(this)}return this},l.default.Sampler.prototype.triggerRelease=function(t,e){this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var r=l.default.Frequency(t[i]).toMidi();this._activeSources[r]&&this._activeSources[r].length&&(e=this.toSeconds(e),this._activeSources[r].forEach(function(t){t.stop(e)}),this._activeSources[r]=[])}return this},l.default.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var i=this._activeSources[e];i.length;)i.shift().stop(t);return this},l.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},l.default.Sampler.prototype.triggerAttackRelease=function(t,e,i,r){if(i=this.toSeconds(i),this.triggerAttack(t,i,r),l.default.isArray(e)&&l.default.isArray(t))for(var n=0;n<t.length;n++){var s=e[Math.min(n,e.length-1)];this.triggerRelease(t[n],i+this.toSeconds(s))}else this.triggerRelease(t,i+this.toSeconds(e));return this},l.default.Sampler.prototype.add=function(t,e,i){if(l.default.isNote(t)){var r=l.default.Frequency(t).toMidi();this._buffers.add(r,e,i)}else{if(isNaN(parseFloat(t)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+t);this._buffers.add(t,e,i)}},Object.defineProperty(l.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),l.default.Sampler.prototype.dispose=function(){for(var t in l.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[t].forEach(function(t){t.dispose()});return this._activeSources=null,this},e.default=l.default.Sampler},function(t,e,i){"use strict";i.r(e);var o=i(0);i(38),i(6),o.default.PolySynth=function(){var t=o.default.defaults(arguments,["polyphony","voice"],o.default.PolySynth);o.default.Instrument.call(this,t),(t=o.default.defaultArg(t,o.default.Instrument.defaults)).polyphony=Math.min(o.default.PolySynth.MAX_POLYPHONY,t.polyphony),this.voices=new Array(t.polyphony),this.assert(0<t.polyphony,"polyphony must be greater than 0"),this.detune=new o.default.Signal(t.detune,o.default.Type.Cents),this._readOnly("detune");for(var e=0;e<t.polyphony;e++){var i=new t.voice(arguments[2],arguments[3]);if(!(i instanceof o.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");(this.voices[e]=i).index=e,i.connect(this.output),i.hasOwnProperty("detune")&&this.detune.connect(i.detune)}},o.default.extend(o.default.PolySynth,o.default.Instrument),o.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:o.default.Synth},o.default.PolySynth.prototype._getClosestVoice=function(i,e){return this.voices.find(function(t){if(Math.abs(t.frequency.getValueAtTime(i)-o.default.Frequency(e))<1e-4&&1e-5<t.getLevelAtTime(i))return t})||this.voices.slice().sort(function(t,e){t=t.getLevelAtTime(i+this.blockTime),e=e.getLevelAtTime(i+this.blockTime);return(t=t<1e-5?0:t)-(e=e<1e-5?0:e)}.bind(this))[0]},o.default.PolySynth.prototype.triggerAttack=function(t,i,r){return Array.isArray(t)||(t=[t]),i=this.toSeconds(i),t.forEach(function(t){var e=this._getClosestVoice(i,t);e.triggerAttack(t,i,r),this.log("triggerAttack",e.index,t)}.bind(this)),this},o.default.PolySynth.prototype.triggerRelease=function(t,i){return Array.isArray(t)||(t=[t]),i=this.toSeconds(i),t.forEach(function(t){var e=this._getClosestVoice(i,t);this.log("triggerRelease",e.index,t),e.triggerRelease(i)}.bind(this)),this},o.default.PolySynth.prototype.triggerAttackRelease=function(t,e,i,r){if(i=this.toSeconds(i),this.triggerAttack(t,i,r),o.default.isArray(e)&&o.default.isArray(t))for(var n=0;n<t.length;n++){var s=e[Math.min(n,e.length-1)];this.triggerRelease(t[n],i+this.toSeconds(s))}else this.triggerRelease(t,i+this.toSeconds(e));return this},o.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},o.default.PolySynth.prototype.set=function(t,e,i){for(var r=0;r<this.voices.length;r++)this.voices[r].set(t,e,i);return this},o.default.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},o.default.PolySynth.prototype.releaseAll=function(e){return e=this.toSeconds(e),this.voices.forEach(function(t){t.triggerRelease(e)}),this},o.default.PolySynth.prototype.dispose=function(){return o.default.Instrument.prototype.dispose.call(this),this.voices.forEach(function(t){t.dispose()}),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},o.default.PolySynth.MAX_POLYPHONY=20,e.default=o.default.PolySynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(21),i(39),i(54),r.default.PluckSynth=function(t){t=r.default.defaultArg(t,r.default.PluckSynth.defaults),r.default.Instrument.call(this,t),this._noise=new r.default.Noise("pink"),this.attackNoise=t.attackNoise,this._lfcf=new r.default.LowpassCombFilter({resonance:t.resonance,dampening:t.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},r.default.extend(r.default.PluckSynth,r.default.Instrument),r.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},r.default.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);t=1/t;return this._lfcf.delayTime.setValueAtTime(t,e),this._noise.start(e),this._noise.stop(e+t*this.attackNoise),this},r.default.PluckSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},e.default=r.default.PluckSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(31),i(41),i(39),i(2),i(9),i(21),r.default.NoiseSynth=function(t){t=r.default.defaultArg(t,r.default.NoiseSynth.defaults),r.default.Instrument.call(this,t),this.noise=new r.default.Noise(t.noise),this.envelope=new r.default.AmplitudeEnvelope(t.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},r.default.extend(r.default.NoiseSynth,r.default.Instrument),r.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},r.default.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},r.default.NoiseSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},r.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},r.default.NoiseSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},r.default.NoiseSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},e.default=r.default.NoiseSynth},function(t,e,i){"use strict";i.r(e);var n=i(0),s=(i(21),i(49),i(9),i(41),i(31),i(3),i(26),i(5),[1,1.483,1.932,2.546,2.63,3.897]);n.default.MetalSynth=function(t){t=n.default.defaultArg(t,n.default.MetalSynth.defaults),n.default.Instrument.call(this,t),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new n.default.Gain(0).connect(this.output),this._highpass=new n.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=t.octaves,this._filterFreqScaler=new n.default.Scale(t.resonance,7e3),this.envelope=new n.default.Envelope({attack:t.envelope.attack,attackCurve:"linear",decay:t.envelope.decay,sustain:0,release:t.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var e=0;e<s.length;e++){var i=new n.default.FMOscillator({type:"square",modulationType:"square",harmonicity:t.harmonicity,modulationIndex:t.modulationIndex});i.connect(this._highpass),this._oscillators[e]=i;var r=new n.default.Multiply(s[e]);this._freqMultipliers[e]=r,this.frequency.chain(r,i.frequency)}this.octaves=t.octaves},n.default.extend(n.default.MetalSynth,n.default.Instrument),n.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},n.default.MetalSynth.prototype.triggerAttack=function(e,t){return e=this.toSeconds(e),t=n.default.defaultArg(t,1),this.envelope.triggerAttack(e,t),this._oscillators.forEach(function(t){t.start(e)}),0===this.envelope.sustain&&this._oscillators.forEach(function(t){t.stop(e+this.envelope.attack+this.envelope.decay)}.bind(this)),this},n.default.MetalSynth.prototype.triggerRelease=function(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this._oscillators.forEach(function(t){t.stop(e+this.envelope.release)}.bind(this)),this},n.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},n.default.MetalSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},Object.defineProperty(n.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(n.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(n.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(n.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),n.default.MetalSynth.prototype.dispose=function(){n.default.Instrument.prototype.dispose.call(this);for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].dispose(),this._freqMultipliers[t].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},e.default=n.default.MetalSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(37),i(21),i(31),r.default.MembraneSynth=function(t){t=r.default.defaultArg(t,r.default.MembraneSynth.defaults),r.default.Instrument.call(this,t),this.oscillator=new r.default.OmniOscillator(t.oscillator),this.envelope=new r.default.AmplitudeEnvelope(t.envelope),this.octaves=t.octaves,this.pitchDecay=t.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},r.default.extend(r.default.MembraneSynth,r.default.Instrument),r.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},r.default.MembraneSynth.prototype.triggerAttack=function(t,e,i){e=this.toSeconds(e);var r=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(r,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,i),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},r.default.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},r.default.MembraneSynth.prototype.dispose=function(){return r.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},e.default=r.default.MembraneSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(38),i(2),i(5),i(25),r.default.FMSynth=function(t){t=r.default.defaultArg(t,r.default.FMSynth.defaults),r.default.Monophonic.call(this,t),this._carrier=new r.default.Synth(t.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new r.default.Synth(t.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new r.default.Signal(440,r.default.Type.Frequency),this.detune=new r.default.Signal(t.detune,r.default.Type.Cents),this.harmonicity=new r.default.Multiply(t.harmonicity),this.harmonicity.units=r.default.Type.Positive,this.modulationIndex=new r.default.Multiply(t.modulationIndex),this.modulationIndex.units=r.default.Type.Positive,this._modulationNode=new r.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},r.default.extend(r.default.FMSynth,r.default.Monophonic),r.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},r.default.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},r.default.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},r.default.FMSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=r.default.FMSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(66),i(12),i(2),i(5),i(25),i(14),r.default.DuoSynth=function(t){t=r.default.defaultArg(t,r.default.DuoSynth.defaults),r.default.Monophonic.call(this,t),this.voice0=new r.default.MonoSynth(t.voice0),this.voice0.volume.value=-10,this.voice1=new r.default.MonoSynth(t.voice1),this.voice1.volume.value=-10,this._vibrato=new r.default.LFO(t.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new r.default.Gain(t.vibratoAmount,r.default.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new r.default.Signal(440,r.default.Type.Frequency),this.harmonicity=new r.default.Multiply(t.harmonicity),this.harmonicity.units=r.default.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},r.default.extend(r.default.DuoSynth,r.default.Monophonic),r.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},r.default.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},r.default.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},r.default.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},r.default.DuoSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},e.default=r.default.DuoSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(38),i(2),i(5),i(25),i(22),i(3),r.default.AMSynth=function(t){t=r.default.defaultArg(t,r.default.AMSynth.defaults),r.default.Monophonic.call(this,t),this._carrier=new r.default.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(t.oscillator),this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new r.default.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new r.default.Signal(440,r.default.Type.Frequency),this.detune=new r.default.Signal(t.detune,r.default.Type.Cents),this.harmonicity=new r.default.Multiply(t.harmonicity),this.harmonicity.units=r.default.Type.Positive,this._modulationScale=new r.default.AudioToGain,this._modulationNode=new r.default.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},r.default.extend(r.default.AMSynth,r.default.Monophonic),r.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},r.default.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},r.default.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},r.default.AMSynth.prototype.dispose=function(){return r.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=r.default.AMSynth},function(t,e,i){"use strict";i.r(e);var r=i(0);i(70),i(16),r.default.Sequence=function(){var t=r.default.defaults(arguments,["callback","events","subdivision"],r.default.Sequence),e=t.events;if(delete t.events,r.default.Part.call(this,t),this._subdivision=this.toTicks(t.subdivision),r.default.isUndef(t.loopEnd)&&r.default.isDefined(e)&&(this._loopEnd=e.length*this._subdivision),this._loop=!0,r.default.isDefined(e))for(var i=0;i<e.length;i++)this.add(i,e[i])},r.default.extend(r.default.Sequence,r.default.Part),r.default.Sequence.defaults={subdivision:"4n"},Object.defineProperty(r.default.Sequence.prototype,"subdivision",{get:function(){return r.default.Ticks(this._subdivision).toSeconds()}}),r.default.Sequence.prototype.at=function(t,e){return r.default.isArray(e)&&this.remove(t),r.default.Part.prototype.at.call(this,this._indexTime(t),e)},r.default.Sequence.prototype.add=function(t,e){return null===e||(r.default.isArray(e)&&(i=Math.round(this._subdivision/e.length),e=new r.default.Sequence(this._tick.bind(this),e,r.default.Ticks(i))),r.default.Part.prototype.add.call(this,this._indexTime(t),e)),this;var i},r.default.Sequence.prototype.remove=function(t,e){return r.default.Part.prototype.remove.call(this,this._indexTime(t),e),this},r.default.Sequence.prototype._indexTime=function(t){return t instanceof r.default.TransportTime?t:r.default.Ticks(t*this._subdivision+this.startOffset).toSeconds()},r.default.Sequence.prototype.dispose=function(){return r.default.Part.prototype.dispose.call(this),this},e.default=r.default.Sequence},function(t,e,i){"use strict";i.r(e);var r=i(0);i(71),i(79),r.default.Pattern=function(){var t=r.default.defaults(arguments,["callback","values","pattern"],r.default.Pattern);r.default.Loop.call(this,t),this._pattern=new r.default.CtrlPattern({values:t.values,type:t.pattern,index:t.index})},r.default.extend(r.default.Pattern,r.default.Loop),r.default.Pattern.defaults={pattern:r.default.CtrlPattern.Type.Up,callback:r.default.noOp,values:[]},r.default.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(r.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(r.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(r.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(r.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),r.default.Pattern.prototype.dispose=function(){r.default.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},e.default=r.default.Pattern},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(18),i(12),r.default.Vibrato=function(){var t=r.default.defaults(arguments,["frequency","depth"],r.default.Vibrato);r.default.Effect.call(this,t),this._delayNode=new r.default.Delay(0,t.maxDelay),this._lfo=new r.default.LFO({type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},r.default.extend(r.default.Vibrato,r.default.Effect),r.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(r.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),r.default.Vibrato.prototype.dispose=function(){r.default.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},e.default=r.default.Vibrato},function(t,e,i){"use strict";i.r(e);var r=i(0);i(12),i(15),r.default.Tremolo=function(){var t=r.default.defaults(arguments,["frequency","depth"],r.default.Tremolo);r.default.StereoEffect.call(this,t),this._lfoL=new r.default.LFO({phase:t.spread,min:1,max:0}),this._lfoR=new r.default.LFO({phase:t.spread,min:1,max:0}),this._amplitudeL=new r.default.Gain,this._amplitudeR=new r.default.Gain,this.frequency=new r.default.Signal(t.frequency,r.default.Type.Frequency),this.depth=new r.default.Signal(t.depth,r.default.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=t.type,this.spread=t.spread},r.default.extend(r.default.Tremolo,r.default.StereoEffect),r.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},r.default.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},r.default.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},r.default.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),r.default.Transport.syncSignal(this.frequency),this},r.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),r.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(r.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(r.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),r.default.Tremolo.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},e.default=r.default.Tremolo},function(t,e,i){"use strict";i.r(e);var r=i(0);i(73),i(2),i(5),i(13),r.default.StereoWidener=function(){var t=r.default.defaults(arguments,["width"],r.default.StereoWidener);r.default.MidSideEffect.call(this,t),this.width=new r.default.Signal(t.width,r.default.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new r.default.Multiply(2),this._twoTimesWidthSide=new r.default.Multiply(2),this._midMult=new r.default.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new r.default.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),r.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new r.default.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},r.default.extend(r.default.StereoWidener,r.default.MidSideEffect),r.default.StereoWidener.defaults={width:.5},r.default.StereoWidener.prototype.dispose=function(){return r.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},e.default=r.default.StereoWidener},function(t,e,i){"use strict";i.r(e);var r=i(0);i(15),i(33),i(3),r.default.StereoFeedbackEffect=function(){var t=r.default.defaults(arguments,["feedback"],r.default.FeedbackEffect);r.default.StereoEffect.call(this,t),this.feedback=new r.default.Signal(t.feedback,r.default.Type.NormalRange),this._feedbackL=new r.default.Gain,this._feedbackR=new r.default.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},r.default.extend(r.default.StereoFeedbackEffect,r.default.StereoEffect),r.default.StereoFeedbackEffect.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},e.default=r.default.StereoFeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(77),i(9),i(10),i(39),i(3),i(74),n.default.Reverb=function(){var t=n.default.defaults(arguments,["decay"],n.default.Reverb);n.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this.decay=t.decay,this.preDelay=t.preDelay,this.connectEffect(this._convolver)},n.default.extend(n.default.Reverb,n.default.Effect),n.default.Reverb.defaults={decay:1.5,preDelay:.01},n.default.Reverb.prototype.generate=function(){return n.default.Offline(function(){var t=new n.default.Noise,e=new n.default.Noise,i=new n.default.Merge;t.connect(i.left),e.connect(i.right);var r=(new n.default.Gain).toMaster();i.connect(r),t.start(0),e.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this.preDelay),r.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},n.default.Reverb.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},e.default=n.default.Reverb},function(t,e,i){"use strict";i.r(e);var r=i(0);i(12),i(23),i(2),i(33),i(18),r.default.PitchShift=function(){var t=r.default.defaults(arguments,["pitch"],r.default.PitchShift);r.default.FeedbackEffect.call(this,t),this._frequency=new r.default.Signal(0),this._delayA=new r.default.Delay(0,1),this._lfoA=new r.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new r.default.Delay(0,1),this._lfoB=new r.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new r.default.CrossFade,this._crossFadeLFO=new r.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new r.default.Delay(t.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize},r.default.extend(r.default.PitchShift,r.default.FeedbackEffect),r.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(r.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){var e=0,e=(this._pitch=t)<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,r.default.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,r.default.intervalToFrequencyRatio(t)-1);this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(r.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),r.default.PitchShift.prototype.dispose=function(){return r.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},e.default=r.default.PitchShift},function(t,e,i){"use strict";i.r(e);var r=i(0);i(72),i(2),i(18),r.default.PingPongDelay=function(){var t=r.default.defaults(arguments,["delayTime","feedback"],r.default.PingPongDelay);r.default.StereoXFeedbackEffect.call(this,t),this._leftDelay=new r.default.Delay(0,t.maxDelayTime),this._rightDelay=new r.default.Delay(0,t.maxDelayTime),this._rightPreDelay=new r.default.Delay(0,t.maxDelayTime),this.delayTime=new r.default.Signal(t.delayTime,r.default.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},r.default.extend(r.default.PingPongDelay,r.default.StereoXFeedbackEffect),r.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},r.default.PingPongDelay.prototype.dispose=function(){return r.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},e.default=r.default.PingPongDelay},function(t,e,i){"use strict";i.r(e);var o=i(0);i(12),i(9),i(15),o.default.Phaser=function(){var t=o.default.defaults(arguments,["frequency","octaves","baseFrequency"],o.default.Phaser);o.default.StereoEffect.call(this,t),this._lfoL=new o.default.LFO(t.frequency,0,1),this._lfoR=new o.default.LFO(t.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this.Q=new o.default.Signal(t.Q,o.default.Type.Positive),this._filtersL=this._makeFilters(t.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(t.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),o.default.connect(this._filtersL[t.stages-1],this.effectReturnL),o.default.connect(this._filtersR[t.stages-1],this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},o.default.extend(o.default.Phaser,o.default.StereoEffect),o.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},o.default.Phaser.prototype._makeFilters=function(t,e,i){for(var r=new Array(t),n=0;n<t;n++){var s=this.context.createBiquadFilter();s.type="allpass",i.connect(s.Q),e.connect(s.frequency),r[n]=s}return o.default.connectSeries.apply(o.default,r),r},Object.defineProperty(o.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;t=this._baseFrequency*Math.pow(2,t);this._lfoL.max=t,this._lfoR.max=t}}),Object.defineProperty(o.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),o.default.Phaser.prototype.dispose=function(){o.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var t=0;t<this._filtersL.length;t++)this._filtersL[t].disconnect(),this._filtersL[t]=null;this._filtersL=null;for(var e=0;e<this._filtersR.length;e++)this._filtersR[e].disconnect(),this._filtersR[e]=null;return this._filtersR=null,this.frequency=null,this},e.default=o.default.Phaser},function(t,e,i){"use strict";i.r(e);var s=i(0),o=(i(59),i(15),i(26),[.06748,.06404,.08212,.09004]),a=[.773,.802,.753,.733],l=[347,113,37];s.default.JCReverb=function(){var t=s.default.defaults(arguments,["roomSize"],s.default.JCReverb);s.default.StereoEffect.call(this,t),this.roomSize=new s.default.Signal(t.roomSize,s.default.Type.NormalRange),this._scaleRoomSize=new s.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var e=0;e<l.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=l[e],this._allpassFilters.push(i)}for(var r=0;r<o.length;r++){var n=new s.default.FeedbackCombFilter(o[r],.1);this._scaleRoomSize.connect(n.resonance),n.resonance.value=a[r],s.default.connect(this._allpassFilters[this._allpassFilters.length-1],n),r<o.length/2?n.connect(this.effectReturnL):n.connect(this.effectReturnR),this._feedbackCombFilters.push(n)}this.roomSize.connect(this._scaleRoomSize),s.default.connectSeries.apply(s.default,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},s.default.extend(s.default.JCReverb,s.default.StereoEffect),s.default.JCReverb.defaults={roomSize:.5},s.default.JCReverb.prototype.dispose=function(){s.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFilters.length;t++)this._allpassFilters[t].disconnect(),this._allpassFilters[t]=null;this._allpassFilters=null;for(var e=0;e<this._feedbackCombFilters.length;e++)this._feedbackCombFilters[e].dispose(),this._feedbackCombFilters[e]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},e.default=s.default.JCReverb},function(t,e,i){"use strict";i.r(e);var a=i(0),l=(i(54),i(15),i(2),i(19),i(10),i(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),h=[225,556,441,341];a.default.Freeverb=function(){var t=a.default.defaults(arguments,["roomSize","dampening"],a.default.Freeverb);a.default.StereoEffect.call(this,t),this.roomSize=new a.default.Signal(t.roomSize,a.default.Type.NormalRange),this.dampening=new a.default.Signal(t.dampening,a.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<h.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=h[e],this._allpassFiltersL.push(i)}for(var r=0;r<h.length;r++){var n=this.context.createBiquadFilter();n.type="allpass",n.frequency.value=h[r],this._allpassFiltersR.push(n)}for(var s=0;s<l.length;s++){var o=new a.default.LowpassCombFilter(l[s]);s<l.length/2?this.effectSendL.chain(o,this._allpassFiltersL[0]):this.effectSendR.chain(o,this._allpassFiltersR[0]),this.roomSize.connect(o.resonance),this.dampening.connect(o.dampening),this._combFilters.push(o)}a.default.connectSeries.apply(a.default,this._allpassFiltersL),a.default.connectSeries.apply(a.default,this._allpassFiltersR),a.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL),a.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR),this._readOnly(["roomSize","dampening"])},a.default.extend(a.default.Freeverb,a.default.StereoEffect),a.default.Freeverb.defaults={roomSize:.7,dampening:3e3},a.default.Freeverb.prototype.dispose=function(){a.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFiltersL.length;t++)this._allpassFiltersL[t].disconnect(),this._allpassFiltersL[t]=null;this._allpassFiltersL=null;for(var e=0;e<this._allpassFiltersR.length;e++)this._allpassFiltersR[e].disconnect(),this._allpassFiltersR[e]=null;this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},e.default=a.default.Freeverb},function(t,e,i){"use strict";i.r(e);var r=i(0);i(33),i(2),i(18),r.default.FeedbackDelay=function(){var t=r.default.defaults(arguments,["delayTime","feedback"],r.default.FeedbackDelay);r.default.FeedbackEffect.call(this,t),this._delayNode=new r.default.Delay(t.delayTime,t.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},r.default.extend(r.default.FeedbackDelay,r.default.FeedbackEffect),r.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},r.default.FeedbackDelay.prototype.dispose=function(){return r.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},e.default=r.default.FeedbackDelay},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(7),r.default.Distortion=function(){var t=r.default.defaults(arguments,["distortion"],r.default.Distortion);r.default.Effect.call(this,t),this._shaper=new r.default.WaveShaper(4096),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample},r.default.extend(r.default.Distortion,r.default.Effect),r.default.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(r.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){var e=100*(this._distortion=t),i=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*i/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(r.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),r.default.Distortion.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=r.default.Distortion},function(t,e,i){"use strict";i.r(e);var r=i(0);i(12),i(15),i(18),r.default.Chorus=function(){var t=r.default.defaults(arguments,["frequency","delayTime","depth"],r.default.Chorus);r.default.StereoEffect.call(this,t),this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new r.default.LFO({frequency:t.frequency,min:0,max:1}),this._lfoR=new r.default.LFO({frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new r.default.Delay,this._delayNodeR=new r.default.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=t.frequency,this.type=t.type,this._readOnly(["frequency"]),this.spread=t.spread},r.default.extend(r.default.Chorus,r.default.StereoEffect),r.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(r.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;t=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-t,0),this._lfoL.max=this._delayTime+t,this._lfoR.min=Math.max(this._delayTime-t,0),this._lfoR.max=this._delayTime+t}}),Object.defineProperty(r.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(r.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(r.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),r.default.Chorus.prototype.dispose=function(){return r.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},e.default=r.default.Chorus},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(7),r.default.Chebyshev=function(){var t=r.default.defaults(arguments,["order"],r.default.Chebyshev);r.default.Effect.call(this,t),this._shaper=new r.default.WaveShaper(4096),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample},r.default.extend(r.default.Chebyshev,r.default.Effect),r.default.Chebyshev.defaults={order:1,oversample:"none"},r.default.Chebyshev.prototype._getCoefficient=function(t,e,i){return i.hasOwnProperty(e)||(i[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,i)-this._getCoefficient(t,e-2,i)),i[e]},Object.defineProperty(r.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),i=e.length,r=0;r<i;++r){var n=2*r/i-1;e[r]=0==n?0:this._getCoefficient(n,t,{})}this._shaper.curve=e}}),Object.defineProperty(r.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),r.default.Chebyshev.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=r.default.Chebyshev},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(13),i(75),r.default.BitCrusher=function(){var t=r.default.defaults(arguments,["bits"],r.default.BitCrusher);r.default.Effect.call(this,t);var e=1/Math.pow(2,t.bits-1);this._subtract=new r.default.Subtract,this._modulo=new r.default.Modulo(e),this._bits=t.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},r.default.extend(r.default.BitCrusher,r.default.Effect),r.default.BitCrusher.defaults={bits:4},Object.defineProperty(r.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;t=1/Math.pow(2,t-1);this._modulo.value=t}}),r.default.BitCrusher.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},e.default=r.default.BitCrusher},function(t,e,i){"use strict";i.r(e);var r=i(0);i(58),i(42),i(8),i(9),r.default.AutoWah=function(){var t=r.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],r.default.AutoWah);r.default.Effect.call(this,t),this.follower=new r.default.Follower(t.follower),this._sweepRange=new r.default.ScaleExp(0,1,.5),this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this._inputBoost=new r.default.Gain,this._bandpass=new r.default.Filter({rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new r.default.Filter(0,"peaking"),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,this._readOnly(["gain","Q"])},r.default.extend(r.default.AutoWah,r.default.Effect),r.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(r.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(r.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(r.default.AutoWah.prototype,"sensitivity",{get:function(){return r.default.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/r.default.dbToGain(t)}}),r.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},r.default.AutoWah.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},e.default=r.default.AutoWah},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(12),i(48),r.default.AutoPanner=function(){var t=r.default.defaults(arguments,["frequency"],r.default.AutoPanner);r.default.Effect.call(this,t),this._lfo=new r.default.LFO({frequency:t.frequency,amplitude:t.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new r.default.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=t.type,this._readOnly(["depth","frequency"])},r.default.extend(r.default.AutoPanner,r.default.Effect),r.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1},r.default.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},r.default.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},r.default.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},r.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(r.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),r.default.AutoPanner.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},e.default=r.default.AutoPanner},function(t,e,i){"use strict";i.r(e);var r=i(0);i(8),i(12),i(9),r.default.AutoFilter=function(){var t=r.default.defaults(arguments,["frequency","baseFrequency","octaves"],r.default.AutoFilter);r.default.Effect.call(this,t),this._lfo=new r.default.LFO({frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new r.default.Filter(t.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=t.type,this._readOnly(["frequency","depth"]),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency},r.default.extend(r.default.AutoFilter,r.default.Effect),r.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},r.default.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},r.default.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},r.default.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},r.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(r.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(r.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(r.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),r.default.AutoFilter.prototype.dispose=function(){return r.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},e.default=r.default.AutoFilter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(23),i(10),i(19),i(2),i(22),i(28),r.default.Listener=function(){r.default.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],r.default.getContext(function(){this.set(n.defaults)}.bind(this))},r.default.extend(r.default.Listener),r.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},r.default.Listener.prototype.isListener=!0,r.default.Listener.prototype._rampTimeConstant=.01,r.default.Listener.prototype.setPosition=function(t,e,i){var r;return this.context.rawContext.listener.positionX?(r=this.now(),this.context.rawContext.listener.positionX.setTargetAtTime(t,r,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,r,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(i,r,this._rampTimeConstant)):this.context.rawContext.listener.setPosition(t,e,i),this._position=Array.prototype.slice.call(arguments),this},r.default.Listener.prototype.setOrientation=function(t,e,i,r,n,s){var o;return this.context.rawContext.listener.forwardX?(o=this.now(),this.context.rawContext.listener.forwardX.setTargetAtTime(t,o,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,o,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(i,o,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(r,o,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(n,o,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(s,o,this._rampTimeConstant)):this.context.rawContext.listener.setOrientation(t,e,i,r,n,s),this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(r.default.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(r.default.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(r.default.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(r.default.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(r.default.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(r.default.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(r.default.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(r.default.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(r.default.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),r.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var n=r.default.Listener;r.default.Listener=new n,r.default.Context.on("init",function(t){t.listener&&t.listener.isListener?r.default.Listener=t.listener:r.default.Listener=new n}),e.default=r.default.Listener},function(t,e,i){"use strict";i.r(e);var r=i(0);i(24),r.default.Draw=function(){r.default.call(this),this._events=new r.default.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},r.default.extend(r.default.Draw),r.default.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},r.default.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},r.default.Draw.prototype._drawLoop=function(){for(var t=r.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){var e=this._events.shift();t-e.time<=this.expiration&&e.callback()}0<this._events.length&&requestAnimationFrame(this._boundDrawLoop)},r.default.Draw=new r.default.Draw,e.default=r.default.Draw},function(t,e,i){"use strict";i.r(e);var r=i(0),n=(i(3),{});r.default.prototype.send=function(t,e){n.hasOwnProperty(t)||(n[t]=this.context.createGain()),e=r.default.defaultArg(e,0);e=new r.default.Gain(e,r.default.Type.Decibels);return this.connect(e),e.connect(n[t]),e},r.default.prototype.receive=function(t,e){return n.hasOwnProperty(t)||(n[t]=this.context.createGain()),r.default.connect(n[t],this,0,e),this},r.default.Context.on("init",function(t){t.buses?n=t.buses:(n={},t.buses=n)}),e.default=r.default},function(t,e,i){"use strict";i.r(e);var r=i(0);i(4),r.default.CtrlRandom=function(){var t=r.default.defaults(arguments,["min","max"],r.default.CtrlRandom);r.default.call(this),this.min=t.min,this.max=t.max,this.integer=t.integer},r.default.extend(r.default.CtrlRandom),r.default.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(r.default.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),i=Math.random(),e=i*t+(1-i)*e;return e=this.integer?Math.floor(e):e}}),e.default=r.default.CtrlRandom},function(t,e,i){"use strict";i.r(e);var a=i(0);a.default.CtrlMarkov=function(t,e){a.default.call(this),this.values=a.default.defaultArg(t,{}),this.value=a.default.defaultArg(e,Object.keys(this.values)[0])},a.default.extend(a.default.CtrlMarkov),a.default.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(a.default.isArray(t))for(var e=this._getProbDistribution(t),i=Math.random(),r=0,n=0;n<e.length;n++){var s,o=e[n];r<i&&i<r+o&&(s=t[n],a.default.isObject(s)?this.value=s.value:this.value=s),r+=o}else this.value=t}return this.value},a.default.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],i=0,r=!1,n=0;n<t.length;n++){var s=t[n];a.default.isObject(s)?(r=!0,e[n]=s.probability):e[n]=1/t.length,i+=e[n]}if(r)for(var o=0;o<e.length;o++)e[o]=e[o]/i;return e},a.default.CtrlMarkov.prototype.dispose=function(){this.values=null},e.default=a.default.CtrlMarkov},function(t,e,i){"use strict";i.r(e);var a=i(0);i(4),a.default.CtrlInterpolate=function(){var t=a.default.defaults(arguments,["values","index"],a.default.CtrlInterpolate);a.default.call(this),this.values=t.values,this.index=t.index},a.default.extend(a.default.CtrlInterpolate),a.default.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(a.default.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index,t=Math.min(t,this.values.length-1),e=Math.floor(t),i=this.values[e],r=this.values[Math.ceil(t)];return this._interpolate(t-e,i,r)}}),a.default.CtrlInterpolate.prototype._interpolate=function(t,e,i){if(a.default.isArray(e)){for(var r=[],n=0;n<e.length;n++)r[n]=this._interpolate(t,e[n],i[n]);return r}if(a.default.isObject(e)){var s,o={};for(s in e)o[s]=this._interpolate(t,e[s],i[s]);return o}return(1-t)*(e=this._toNumber(e))+t*this._toNumber(i)},a.default.CtrlInterpolate.prototype._toNumber=function(t){return a.default.isNumber(t)?t:this.toSeconds(t)},a.default.CtrlInterpolate.prototype.dispose=function(){this.values=null},e.default=a.default.CtrlInterpolate},function(t,e,i){"use strict";i.r(e);var r=i(0);i(36),i(1),r.default.Waveform=function(){var t=r.default.defaults(arguments,["size"],r.default.Waveform);t.type=r.default.Analyser.Type.Waveform,r.default.AudioNode.call(this),this._analyser=this.input=this.output=new r.default.Analyser(t)},r.default.extend(r.default.Waveform,r.default.AudioNode),r.default.Waveform.defaults={size:1024},r.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(r.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),r.default.Waveform.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=r.default.Waveform},function(t,e,i){"use strict";i.r(e);var r=i(0);i(23),i(10),i(19),i(2),i(22),i(28),i(1),r.default.Panner3D=function(){var t=r.default.defaults(arguments,["positionX","positionY","positionZ"],r.default.Panner3D);r.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=t.panningModel,this._panner.maxDistance=t.maxDistance,this._panner.distanceModel=t.distanceModel,this._panner.coneOuterGain=t.coneOuterGain,this._panner.coneOuterAngle=t.coneOuterAngle,this._panner.coneInnerAngle=t.coneInnerAngle,this._panner.refDistance=t.refDistance,this._panner.rolloffFactor=t.rolloffFactor,this._orientation=[t.orientationX,t.orientationY,t.orientationZ],this._position=[t.positionX,t.positionY,t.positionZ],this.orientationX=t.orientationX,this.orientationY=t.orientationY,this.orientationZ=t.orientationZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},r.default.extend(r.default.Panner3D,r.default.AudioNode),r.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},r.default.Panner3D.prototype._rampTimeConstant=.01,r.default.Panner3D.prototype.setPosition=function(t,e,i){var r;return this._panner.positionX?(r=this.now(),this._panner.positionX.setTargetAtTime(t,r,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,r,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(i,r,this._rampTimeConstant)):this._panner.setPosition(t,e,i),this._position=Array.prototype.slice.call(arguments),this},r.default.Panner3D.prototype.setOrientation=function(t,e,i){var r;return this._panner.orientationX?(r=this.now(),this._panner.orientationX.setTargetAtTime(t,r,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,r,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(i,r,this._rampTimeConstant)):this._panner.setOrientation(t,e,i),this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(r.default.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(r.default.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(r.default.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(r.default.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(r.default.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(r.default.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),r.default.Panner3D._aliasProperty=function(e){Object.defineProperty(r.default.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})},r.default.Panner3D._aliasProperty("panningModel"),r.default.Panner3D._aliasProperty("refDistance"),r.default.Panner3D._aliasProperty("rolloffFactor"),r.default.Panner3D._aliasProperty("distanceModel"),r.default.Panner3D._aliasProperty("coneInnerAngle"),r.default.Panner3D._aliasProperty("coneOuterAngle"),r.default.Panner3D._aliasProperty("coneOuterGain"),r.default.Panner3D._aliasProperty("maxDistance"),r.default.Panner3D.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},e.default=r.default.Panner3D},function(t,e,i){"use strict";i.r(e);var r=i(0);i(60),i(43),i(1),r.default.MultibandCompressor=function(t){r.default.AudioNode.call(this),t=r.default.defaultArg(arguments,r.default.MultibandCompressor.defaults),this._splitter=this.input=new r.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new r.default.Gain,this.low=new r.default.Compressor(t.low),this.mid=new r.default.Compressor(t.mid),this.high=new r.default.Compressor(t.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},r.default.extend(r.default.MultibandCompressor,r.default.AudioNode),r.default.MultibandCompressor.defaults={low:r.default.Compressor.defaults,mid:r.default.Compressor.defaults,high:r.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3},r.default.MultibandCompressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},e.default=r.default.MultibandCompressor},function(t,e,i){"use strict";i.r(e);var r=i(0);i(10),i(1),r.default.Mono=function(){r.default.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new r.default.Merge,r.default.connect(this.input,this._merge,0,0),r.default.connect(this.input,this._merge,0,1)},r.default.extend(r.default.Mono,r.default.AudioNode),r.default.Mono.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},e.default=r.default.Mono},function(t,e,i){"use strict";i.r(e);var r=i(0);i(53),i(52),i(43),i(1),r.default.MidSideCompressor=function(t){r.default.AudioNode.call(this),t=r.default.defaultArg(t,r.default.MidSideCompressor.defaults),this._midSideSplit=this.input=new r.default.MidSideSplit,this._midSideMerge=this.output=new r.default.MidSideMerge,this.mid=new r.default.Compressor(t.mid),this.side=new r.default.Compressor(t.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},r.default.extend(r.default.MidSideCompressor,r.default.AudioNode),r.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},r.default.MidSideCompressor.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},e.default=r.default.MidSideCompressor},function(t,e,i){"use strict";i.r(e);var s=i(0);i(36),i(1),s.default.Meter=function(){var t=s.default.defaults(arguments,["smoothing"],s.default.Meter);s.default.AudioNode.call(this),this.smoothing=t.smoothing,this._rms=0,this.input=this.output=this._analyser=new s.default.Analyser("waveform",256)},s.default.extend(s.default.Meter,s.default.AudioNode),s.default.Meter.defaults={smoothing:.8},s.default.Meter.prototype.getLevel=function(){for(var t=this._analyser.getValue(),e=0,i=0;i<t.length;i++){var r=t[i];e+=r*r}var n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),s.default.gainToDb(this._rms)},s.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},s.default.Meter.prototype.dispose=function(){return s.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},e.default=s.default.Meter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(43),i(1),r.default.Limiter=function(){var t=r.default.defaults(arguments,["threshold"],r.default.Limiter);r.default.AudioNode.call(this),this._compressor=this.input=this.output=new r.default.Compressor({attack:.001,decay:.001,threshold:t.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},r.default.extend(r.default.Limiter,r.default.AudioNode),r.default.Limiter.defaults={threshold:-12},r.default.Limiter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},e.default=r.default.Limiter},function(t,e,i){"use strict";i.r(e);var r=i(0);i(58),i(85),i(1),r.default.Gate=function(){var t=r.default.defaults(arguments,["threshold","smoothing"],r.default.Gate);r.default.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new r.default.Follower(t.smoothing),this._gt=new r.default.GreaterThan(r.default.dbToGain(t.threshold)),r.default.connect(this.input,this.output),r.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)},r.default.extend(r.default.Gate,r.default.AudioNode),r.default.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(r.default.Gate.prototype,"threshold",{get:function(){return r.default.gainToDb(this._gt.value)},set:function(t){this._gt.value=r.default.dbToGain(t)}}),Object.defineProperty(r.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),r.default.Gate.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},e.default=r.default.Gate},function(t,e,i){"use strict";i.r(e);var r=i(0);i(36),i(1),r.default.FFT=function(){var t=r.default.defaults(arguments,["size"],r.default.FFT);t.type=r.default.Analyser.Type.FFT,r.default.AudioNode.call(this),this._analyser=this.input=this.output=new r.default.Analyser(t)},r.default.extend(r.default.FFT,r.default.AudioNode),r.default.FFT.defaults={size:1024},r.default.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(r.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),r.default.FFT.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=r.default.FFT},function(t,e,i){"use strict";i.r(e);var r=i(0);i(60),i(3),i(1),r.default.EQ3=function(){var t=r.default.defaults(arguments,["low","mid","high"],r.default.EQ3);r.default.AudioNode.call(this),this.output=new r.default.Gain,this._multibandSplit=this.input=new r.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this._lowGain=new r.default.Gain(t.low,r.default.Type.Decibels),this._midGain=new r.default.Gain(t.mid,r.default.Type.Decibels),this._highGain=new r.default.Gain(t.high,r.default.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},r.default.extend(r.default.EQ3,r.default.AudioNode),r.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},r.default.EQ3.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},e.default=r.default.EQ3},function(t,e,i){"use strict";i.r(e);var r=i(0);i(91),i(88),i(1),r.default.Channel=function(){var t=r.default.defaults(arguments,["volume","pan"],r.default.PanVol);r.default.AudioNode.call(this,t),this._solo=this.input=new r.default.Solo(t.solo),this._panVol=this.output=new r.default.PanVol({pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},r.default.extend(r.default.Channel,r.default.AudioNode),r.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(r.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(r.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(r.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),r.default.Channel.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},e.default=r.default.Channel},function(t,e){var i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){i(31),i(36),i(146),i(43),i(23),i(47),i(145),i(59),i(144),i(9),i(58),i(41),i(143),i(12),i(142),i(54),i(10),i(141),i(140),i(52),i(53),i(139),i(138),i(60),i(48),i(137),i(91),i(86),i(88),i(19),i(27),i(136),i(135),i(134),i(79),i(133),i(1),i(11),i(78),i(132),i(83),i(20),i(18),i(131),i(35),i(3),i(81),i(130),i(40),i(77),i(76),i(14),i(24),i(34),i(16),i(56),i(80),i(129),i(128),i(127),i(126),i(125),i(124),i(74),i(123),i(8),i(122),i(33),i(121),i(120),i(73),i(119),i(118),i(117),i(116),i(15),i(115),i(114),i(72),i(113),i(112),i(51),i(71),i(70),i(111),i(110),i(109),i(108),i(107),i(21),i(106),i(105),i(25),i(66),i(104),i(103),i(102),i(101),i(38),i(87),i(29),i(22),i(89),i(100),i(85),i(84),i(75),i(5),i(90),i(99),i(61),i(26),i(42),i(2),i(30),i(13),i(82),i(98),i(7),i(28),i(68),i(32),i(67),i(49),i(97),i(39),i(37),i(17),i(64),i(65),i(96),i(50),i(69),i(6),i(57),i(95),i(46),i(94),i(55),i(63),i(62),i(45),i(4),t.exports=i(0).default}],n={},r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=148);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n},"object"==typeof i&&"object"==typeof e?e.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof i?i.Tone=n():r.Tone=n()},{}],66:[function(t,e,i){"use strict";var P=t("punycode"),w=t("./util");function T(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=n,i.resolve=function(t,e){return n(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?n(t,!1,!0).resolveObject(e):e},i.format=function(t){w.isString(t)&&(t=n(t));return t instanceof T?t.format():T.prototype.format.call(t)},i.Url=T;var O=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,R=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),M=["'"].concat(i),C=["%","/","?",";","#"].concat(M),I=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,N=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F={javascript:!0,"javascript:":!0},k={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=t("querystring");function n(t,e,i){if(t&&w.isObject(t)&&t instanceof T)return t;var r=new T;return r.parse(t,e,i),r}T.prototype.parse=function(t,e,i){if(!w.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",r=t.split(n);r[0]=r[0].replace(/\\/g,"/");var s=(s=t=r.join(n)).trim();if(!i&&1===t.split("#").length){var o=R.exec(s);if(o)return this.path=s,this.href=s,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?B.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,o=O.exec(s);if(o&&(A=(o=o[0]).toLowerCase(),this.protocol=A,s=s.substr(o.length)),(i||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||o&&k[o]||(s=s.substr(2),this.slashes=!0)),!k[o]&&(a||o&&!L[o])){for(var l=-1,h=0;h<I.length;h++)-1!==(u=s.indexOf(I[h]))&&(-1===l||u<l)&&(l=u);-1!==(T=-1===l?s.lastIndexOf("@"):s.lastIndexOf("@",l))&&(x=s.slice(0,T),s=s.slice(T+1),this.auth=decodeURIComponent(x));for(var u,l=-1,h=0;h<C.length;h++)-1!==(u=s.indexOf(C[h]))&&(-1===l||u<l)&&(l=u);-1===l&&(l=s.length),this.host=s.slice(0,l),s=s.slice(l),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var d=this.hostname.split(/\./),h=0,f=d.length;h<f;h++){var p=d[h];if(p&&!p.match(D)){for(var m="",y=0,_=p.length;y<_;y++)127<p.charCodeAt(y)?m+="x":m+=p[y];if(!m.match(D)){var g=d.slice(0,h),v=d.slice(h+1),b=p.match(N);b&&(g.push(b[1]),v.unshift(b[2])),v.length&&(s="/"+v.join(".")+s),this.hostname=g.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=P.toASCII(this.hostname));var T=this.port?":"+this.port:"",x=this.hostname||"";this.host=x+T,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!F[A])for(h=0,f=M.length;h<f;h++){var E,S=M[h];-1!==s.indexOf(S)&&((E=encodeURIComponent(S))===S&&(E=escape(S)),s=s.split(S).join(E))}c=s.indexOf("#");-1!==c&&(this.hash=s.substr(c),s=s.slice(0,c));var A,c=s.indexOf("?");return-1!==c?(this.search=s.substr(c),this.query=s.substr(c+1),e&&(this.query=B.parse(this.query)),s=s.slice(0,c)):e&&(this.search="",this.query={}),s&&(this.pathname=s),L[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(T=this.pathname||"",A=this.search||"",this.path=T+A),this.href=this.format(),this},T.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&w.isObject(this.query)&&Object.keys(this.query).length&&(s=B.stringify(this.query));s=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||L[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n=n||"",r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},T.prototype.resolve=function(t){return this.resolveObject(n(t,!1,!0)).format()},T.prototype.resolveObject=function(t){w.isString(t)&&((f=new T).parse(t,!1,!0),t=f);for(var e=new T,i=Object.keys(this),r=0;r<i.length;r++){var n=i[r];e[n]=this[n]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var a=s[o];"protocol"!==a&&(e[a]=t[a])}return L[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!L[t.protocol]){for(var l=Object.keys(t),h=0;h<l.length;h++){var u=l[h];e[u]=t[u]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||k[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(p=e.pathname||"",m=e.search||"",e.path=p+m),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var d=e.pathname&&"/"===e.pathname.charAt(0),f=t.host||t.pathname&&"/"===t.pathname.charAt(0),p=f||d||e.host&&t.pathname,m=p,y=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],d=e.protocol&&!L[e.protocol];if(d&&(e.hostname="",e.port=null,e.host&&(""===y[0]?y[0]=e.host:y.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),p=p&&(""===c[0]||""===y[0])),f)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,y=c;else if(c.length)(y=y||[]).pop(),y=y.concat(c),e.search=t.search,e.query=t.query;else if(!w.isNullOrUndefined(t.search))return d&&(e.hostname=e.host=y.shift(),(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),e.search=t.search,e.query=t.query,w.isNull(e.pathname)&&w.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!y.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var _=y.slice(-1)[0],f=(e.host||t.host||1<y.length)&&("."===_||".."===_)||""===_,g=0,v=y.length;0<=v;v--)"."===(_=y[v])?y.splice(v,1):".."===_?(y.splice(v,1),g++):g&&(y.splice(v,1),g--);if(!p&&!m)for(;g--;)y.unshift("..");!p||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),f&&"/"!==y.join("/").substr(-1)&&y.push("");var b,f=""===y[0]||y[0]&&"/"===y[0].charAt(0);return d&&(e.hostname=e.host=!f&&y.length?y.shift():"",(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),(p=p||e.host&&y.length)&&!f&&y.unshift(""),y.length?e.pathname=y.join("/"):(e.pathname=null,e.path=null),w.isNull(e.pathname)&&w.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},T.prototype.parseHost=function(){var t=this.host,e=r.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":67,punycode:58,querystring:61}],67:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],68:[function(t,e,i){"use strict";function r(t){this._data=new DataView(t),this._offset=2===this.version?24:20}r.isCompatible=function(t){var e;if(e=t&&"object"==typeof t&&"byteLength"in t){t=new DataView(t).getInt32(0,!0);if(1!==t&&2!==t)throw new TypeError("This waveform data version not supported.")}return e},r.prototype={get version(){return this._data.getInt32(0,!0)},get bits(){return Boolean(this._data.getUint32(4,!0))?8:16},get channels(){return 2===this.version?this._data.getInt32(20,!0):1},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},get length(){return this._data.getUint32(16,!0)},at:function(t){return this._data.getInt8(this._offset+t)},concatBuffers:function(){for(var t=Array.prototype.slice.call(arguments),e=this._offset,i=e,r=0,n=[this].concat(t).map(function(t){return t._data.buffer}),s=0;s<n.length;s++){var o=n[s],a=new DataView(o).getInt32(16,!0);i+=o.byteLength-e,r+=a}var t=new ArrayBuffer(i),l=new DataView(n[0]),h=new DataView(t);for(s=0;s<e;s++)h.setUint8(s,l.getUint8(s));h.setInt32(16,r,!0);var u=0,c=new Uint8Array(t,e);for(s=0;s<n.length;s++)o=n[s],c.set(new Uint8Array(o,e),u),u+=o.byteLength-e;return t}},e.exports=r},{}],69:[function(t,e,i){"use strict";function r(t){this._data=t}r.isCompatible=function(t){return t&&"object"==typeof t&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t},r.prototype={get version(){return this._data.version||1},get bits(){return this._data.bits},get channels(){return this._data.channels||1},get sample_rate(){return this._data.sample_rate},get scale(){return this._data.samples_per_pixel},get length(){return this._data.length},at:function(t){var e=this._data.data;if(0<=t&&t<e.length)return e[t];throw new RangeError("Invalid index: "+t)},concatBuffers:function(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return t._data.data}),i=Object.assign({},this._data);return i.data=i.data.concat.apply(i.data,e),i.length+=t.reduce(function(t,e){return t+e.length},0),i}},e.exports=r},{}],70:[function(t,e,i){"use strict";var s=t("../core"),n=t("inline-worker");function o(t,i){var r=new n(function(){this.addEventListener("message",function t(e){for(var i,r,n=e.data.scale,s=e.data.amplitude_scale,o=e.data.split_channels,a=e.data.audio_buffer,l=a.channels,h=o?l.length:1,u=1===h?1:2,c=1==u?20:24,o=(i=a.length,e=n,o=Math.floor(i/e),0<i-o*e&&o++,o),d=new DataView(new ArrayBuffer(c+2*o*h)),f=0,p=a.length,m=c,y=new Array(h),_=new Array(h),g=0;g<h;g++)y[g]=1/0,_[g]=-1/0;for(d.setInt32(0,u,!0),d.setUint32(4,1,!0),d.setInt32(8,a.sampleRate,!0),d.setInt32(12,n,!0),d.setInt32(16,o,!0),2==u&&d.setInt32(20,h,!0),r=0;r<p;r++){var v=0;if(1===h){for(g=0;g<l.length;++g)v+=l[g][r];(v=Math.floor(127*v*s/l.length))<y[0]&&(y[0]=v,y[0]<-128&&(y[0]=-128)),v>_[0]&&(_[0]=v,127<_[0]&&(_[0]=127))}else for(g=0;g<h;++g)(v=Math.floor(127*l[g][r]*s))<y[g]&&(y[g]=v,y[g]<-128&&(y[g]=-128)),v>_[g]&&(_[g]=v,127<_[g]&&(_[g]=127));if(++f===n){for(g=0;g<h;g++)d.setInt8(m++,y[g]),d.setInt8(m++,_[g]),y[g]=1/0,_[g]=-1/0;f=0}}if(0<f)for(g=0;g<h;g++)d.setInt8(m++,y[g]),d.setInt8(m++,_[g]);this.postMessage(d),this.removeEventListener("message",t),this.close()})});r.addEventListener("message",function t(e){i(e.data),r.removeEventListener("message",t)}),r.postMessage(t)}e.exports=function(r,n){return function(e){for(var t={length:e.length,sampleRate:e.sampleRate,channels:[]},i=0;i<e.numberOfChannels;++i)t.channels[i]=e.getChannelData(i);o({scale:r.scale,amplitude_scale:r.amplitude_scale,split_channels:r.split_channels,audio_buffer:t},function(t){n(null,new s(t.buffer),e)})}}},{"../core":74,"inline-worker":46}],71:[function(t,e,i){"use strict";var r=512,n=1,s=!1;e.exports=function(t){if(Object.prototype.hasOwnProperty.call(t,"scale_adjuster"))throw new Error("Please rename the 'scale_adjuster' option to 'amplitude_scale'");return{scale:t.scale||r,amplitude_scale:t.amplitude_scale||n,split_channels:t.split_channels||s}}},{}],72:[function(t,e,i){"use strict";var n=t("./audiodecoder"),r=t("./options");function s(t,e,i,r){t.decodeAudioData(e,n(i,r),function(t){t=t||new DOMException("EncodingError"),r(t)})}e.exports=function(t,e){var i=r(t);if(t.audio_context&&t.array_buffer)return s(t.audio_context,t.array_buffer,i,e);if(t.audio_buffer)return t=t.audio_buffer,n(i,e)(t);throw new TypeError("Please pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")}},{"./audiodecoder":70,"./options":71}],73:[function(t,e,i){"use strict";function r(t,e){this._waveformData=t,this._channelIndex=e}r.prototype.min_sample=function(t){t=2*(t*this._waveformData.channels+this._channelIndex);return this._waveformData._adapter.at(t)},r.prototype.max_sample=function(t){t=2*(t*this._waveformData.channels+this._channelIndex)+1;return this._waveformData._adapter.at(t)},r.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex)},r.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex+1)},e.exports=r},{}],74:[function(t,e,i){"use strict";var r=t("./channel"),n=t("./adapters/object"),s=[t("./adapters/arraybuffer"),n];function b(t){var e=this._getAdapter(t);this._adapter=new e(t),this._channels=[];for(var i=0;i<this.channels;i++)this._channels[i]=new r(this,i)}b.create=function(t){return new b(t)},b.prototype={_getAdapter:function(e){var i=null;if(s.some(function(t){if(t.isCompatible(e))return i=t,!0}),null===i)throw new TypeError("Could not detect a WaveformData adapter from the input.");return i},resample:function(i){(i="number"==typeof i?{width:i}:i).input_index="number"==typeof i.input_index?i.input_index:null,i.output_index="number"==typeof i.output_index?i.output_index:null,i.scale="number"==typeof i.scale?i.scale:null,i.width="number"==typeof i.width?i.width:null;var t=Boolean(i.input_index)||Boolean(i.output_index);if(null!=i.input_index&&i.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+i.input_index+"]");if(null!=i.output_index&&i.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+i.output_index+"]");if(null!=i.width&&i.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+i.width+"]");if(null!=i.scale&&i.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+i.scale+"]");if(!i.scale&&!i.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var e=["width","scale","output_index","input_index"].reduce(function(t,e){return t+(null===i[e]?0:1)},0);if(t&&4!==e)throw new Error("Some partial resampling options are missing. You provided "+e+" of them over 4.");for(var r=[],n=i.scale||Math.floor(this.duration*this.sample_rate/i.width),s=this.scale,o=2*this.channels,a=this.length,l=i.input_index||0,h=i.output_index||0,u=this.channels,c=new Array(u),d=new Array(u),f=0;f<u;++f)0<a?(c[f]=this.channel(f).min_sample(l),d[f]=this.channel(f).max_sample(l)):(c[f]=0,d[f]=0);var p,m,y,_;if(n<s)throw new Error("Zoom level "+n+" too low, minimum: "+s);function g(t){return Math.floor(t*n)}function v(t,e){r.push(t,e)}for(;l<a;){for(;Math.floor(g(h)/s)<=l;){if(0<h)for(f=0;f<u;++f)v(c[f],d[f]);if(_=l,(p=g(++h))!==g(h-1))for(f=0;f<u;++f)c[f]=127,d[f]=-128}for(p=g(h),a<(m=Math.floor(p/s))&&(m=a);l<m;){for(f=0;f<u;++f)(y=this.channel(f).min_sample(l))<c[f]&&(c[f]=y),(y=this.channel(f).max_sample(l))>d[f]&&(d[f]=y);l++}if(t&&r.length/o>=i.width)break}if(t){if(r.length/o>i.width&&l!==_)for(f=0;f<u;++f)v(c[f],d[f])}else if(l!==_)for(f=0;f<u;++f)v(c[f],d[f]);return new b({version:this._adapter.version,bits:this.bits,samples_per_pixel:n,length:r.length/o,data:r,sample_rate:this.sample_rate,channels:u})},concat:function(){var e=this,t=Array.prototype.slice.call(arguments);t.forEach(function(t){if(e.channels!==t.channels||e.sample_rate!==t.sample_rate||e.scale!==t.scale||Object.getPrototypeOf(e._adapter)!==Object.getPrototypeOf(t._adapter)||e._adapter.version!==t._adapter.version)throw new Error("Waveforms are incompatible")});t=t.map(function(t){return t._adapter});return new b(this._adapter.concatBuffers.apply(this._adapter,t))},_offsetValues:function(t,e,i){var r=this._adapter,n=[],s=this.channels;i+=t*s*2;for(var o=0;o<e;o++)n.push(r.at(o*s*2+i));return n},get length(){return this._adapter.length},get bits(){return this._adapter.bits},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._adapter.channels},channel:function(t){if(0<=t&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._adapter.sample_rate},get scale(){return this._adapter.scale},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate}},e.exports=b},{"./adapters/arraybuffer":68,"./adapters/object":69,"./channel":73}],75:[function(t,e,i){"use strict";var r=t("./lib/core");r.createFromAudio=t("./lib/builders/webaudio"),e.exports=r},{"./lib/builders/webaudio":72,"./lib/core":74}],76:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.backgroundAudio=function(){function t(){s(this,t),this.TONE=osmo.scroll.TONE,this.allTracksCount=0,this.currentTrack,this.introTrack,this.baseTracks={},this.allBackgroundTrackPaths=[]}var e,i,r;return e=t,(i=[{key:"start",value:function(){this.TONE.start(),this.currentTrack="intro",this.introTrack.start()}},{key:"loadAudio",value:function(){for(var i=this,r=this,t=0;t<7;t++)!function(t){var e=t+1,t="./assets/audio/tracks/Baseline_"+e+".mp3";i.allBackgroundTrackPaths.push(t);t=new i.TONE.Player({url:t,loop:!0,fadeOut:10,fadeIn:2,onload:function(){r.allTracksCount++,r.allTracksCount==r.allBackgroundTrackPaths.length&&(osmo.scroll.loaded.backgroundaudio=!0)}}).toMaster();i.baseTracks["base"+e]=t}(t);var e="./assets/audio/loops/-1.mp3";this.allBackgroundTrackPaths.push(e),this.introTrack=new this.TONE.Player({url:e,loop:!0,loopStart:0,loopEnd:20,fadeOut:4,fadeIn:2,onload:function(){r.allTracksCount++}}).toMaster()}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],77:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.legendAudio=function(){function t(){s(this,t),this.TONE=osmo.scroll.TONE,this.allTracksLoadedCount=0,this.allAudioPaths=[],this.audioPlayerInstances={}}var e,i,r;return e=t,(i=[{key:"loadAudio",value:function(){var t,i=this,r=this;for(t in osmo.scroll.datasets)!function(t){var e=osmo.scroll.datasets[t].audiofile;i.allAudioPaths.push(e);e=new i.TONE.Player({url:e,loop:!0,fadeOut:1,fadeIn:1,onload:function(){r.allTracksLoadedCount++,r.allTracksLoadedCount==Object.keys(osmo.scroll.datasets).length&&(osmo.scroll.loaded.legendaudio=!0)}}).toMaster();i.audioPlayerInstances[t]=e}(t)}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],78:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.dataSvg=function(){function t(){s(this,t),this.PIXI=osmo.scroll.PIXI,this.quality,this.scrollWidth,this.scrollHeight,this.scale,this.mainScroll,this.backgroundContainer,this.init,this.initSplash,this.createTriangle}var e,i,r;return e=t,(i=[{key:"init",value:function(t){this.quality=t,this.backgroundContainer=new this.PIXI.Container,osmo.scroll.mainStage.addChild(this.backgroundContainer)}},{key:"initSVGscroll",value:function(t){var e=new this.PIXI.Sprite(this.PIXI.Loader.shared.resources[t+"01-or8.png"].texture),i=new this.PIXI.Sprite(this.PIXI.Loader.shared.resources[t+"02-or8.png"].texture);osmo.scroll.mainScroll={part1:e,part2:i};t=osmo.scroll.pixiHeight/e.height;osmo.scroll.mainScrollScale=t,e.scale.set(t,t),i.scale.set(t,t),this.scrollWidth=2*e.width,this.scrollHeight=osmo.scroll.pixiHeight;e.x=495/623.5*-1*osmo.scroll.pixiHeight+3*osmo.scroll.pixiWidth/4,i.x=e.x+e.width,this.backgroundContainer.addChild(e),this.backgroundContainer.addChild(i)}},{key:"initSplash",value:function(s){var o=this,a="./assets/images/OsmoSplash.png";o.PIXI.Loader.shared.add(a).load(function(){var t=new o.PIXI.Sprite(o.PIXI.Loader.shared.resources[a].texture);o.backgroundContainer.addChild(t);var e=s/t.width;t.scale.set(e,e),t.anchor.x=.5,t.anchor.y=.5,t.x=osmo.scroll.pixiWidth/2,t.y=osmo.scroll.pixiHeight/2;var i=new o.PIXI.TextStyle({fontFamily:"Roboto",fontSize:window.isMobile?12:18,fill:"#b97941"}),r=new o.PIXI.Text(window.isMobile?"Hold & Scroll to explore":"Scroll to explore",i),n=new o.PIXI.Point(t.x-t.width/3+15,t.y+.4*t.height);r.x=n.x,r.y=n.y;e=new o.PIXI.Point(n.x+r.width+10,n.y+12),i=new o.PIXI.Point((t.width-r.width)/2,0),n=new o.PIXI.Graphics;n.position.set(e.x,e.y),n.lineStyle(1,12155201).moveTo(0,0).lineTo(i.x,i.y);t=window.isMobile?4:8,t=o.createTriangle(e.x+i.x,e.y+i.y+t/2,t,12155201);t.rotation=-Math.PI/2,o.backgroundContainer.addChild(r),o.backgroundContainer.addChild(n),o.backgroundContainer.addChild(t)})}},{key:"createTriangle",value:function(t,e,i,r){var n=new this.PIXI.Graphics;n.x=t,n.y=e;t=i,e=t,i=t/2;return n.beginFill(r,1),n.lineStyle(0,r,1),n.moveTo(t,0),n.lineTo(i,e),n.lineTo(0,0),n.lineTo(i,0),n.endFill(),n}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],79:[function(t,e,i){"use strict";function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,n,s=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return s}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.legendSvg=function(){function t(){s(this,t),this.PIXI=osmo.scroll.PIXI,this.loadIndividualFiles=!1,this.mergedPolygons={},this.mergedLegends={},this.earlySVGDataPromises=[],this.allSVGDataPromises=[],this.popupBBoxes={},this.maskAreas=[],this.legendFiles=[],this.maskContainer,this.legendContainer,this.maskAlpha=0,this.init,this.loadDatasets}var e,i,r;return e=t,(i=[{key:"init",value:function(){var e=this,t=setInterval(function(){osmo.datasvg&&(null==osmo.scroll.mainScroll||jQuery.isEmptyObject(e.mergedLegends)||jQuery.isEmptyObject(e.mergedPolygons)||(clearInterval(t),e.loadDatasets()))},1e3),i="./assets/data/mergedLegends.json?v="+window.version;$.getJSON(i,function(t){e.mergedLegends=t});i="./assets/data/mergedPolygons.json?v="+window.version;$.getJSON(i,function(t){e.mergedPolygons=t}),this.legendContainer=new this.PIXI.Container,this.maskContainer=new this.PIXI.Container,this.maskContainer.visible=!0,this.legendContainer.visible=!1,osmo.scroll.mainStage.addChild(this.legendContainer,this.maskContainer)}},{key:"loadDataset",value:function(t){var e,i,r,n,s,o,a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];osmo.scroll.datasets.hasOwnProperty(t)&&(e=this.mergedLegends[t],i=JSON.parse(this.mergedPolygons[t]),r=osmo.scroll.datasets[t].legendpath,n=osmo.scroll.datasets[t].title,"front"!=(o=osmo.scroll.datasets[t].order)&&"back"!=o&&(o=null),osmo.scroll.datasets[t].hasOwnProperty("popdimensions")&&(s=osmo.scroll.datasets[t].popdimensions,this.popupBBoxes[t]={mask:null,legend:null,paths:[],rects:[],dimensions:s,polygons:osmo.scroll.datasets[t].physics},this.popupBBoxes[t].dimensions.length,osmo.scroll.mainScrollScale,osmo.scroll.pixiHeight,osmo.scroll.refPopupSize.height,this.maskContainer.visible=!1),o=this.maskLoad(n,i,t,o),t=this.legendLoad(n,e,r,t,this.loadIndividualFiles),a?(this.earlySVGDataPromises.push(o),this.earlySVGDataPromises.push(t)):(this.allSVGDataPromises.push(o),this.allSVGDataPromises.push(t)))}},{key:"loadDatasets",value:function(){for(var t in osmo.scroll.datasets)this.loadDataset(t,!0);Promise.all(this.earlySVGDataPromises).then(function(t){$("#percentage").html("Processing datasets..."),setTimeout(function(){osmo.scroll.loaded.svgdata=!0},4e3)})}},{key:"correctMaskOrder",value:function(){}},{key:"maskLoad",value:function(t,h,u){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,d=this;return new Promise(function(t,e){if(null!=d.popupBBoxes[u]){parseInt(d.popupBBoxes[u].dimensions[0].x),parseInt(d.popupBBoxes[u].dimensions[0].y);var i=parseInt(d.popupBBoxes[u].dimensions[0].width),r=parseInt(d.popupBBoxes[u].dimensions[0].height),n=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height;i*=n,r*=n;var s=new d.PIXI.Graphics;if(s.beginFill(16753920),s.lineStyle(1,16711680),s.alpha=d.maskAlpha,null!=h.shapes){var o,a=function(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=f(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,n=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw n}}}}(h.shapes);try{for(a.s();!(o=a.n()).done;){var l=o.value;s.drawPolygon(l.shape)}}catch(t){a.e(t)}finally{a.f()}}d.popupBBoxes[u].paths.push(s);i=s;d.maskAreas.push(i),null==i.data&&(i.data={}),i.data.legendName="legend-"+u,i.data.maskName="mask-"+u,i.data.id=u,i.name="mask-"+u,i.data.order=c;n=1;h.viewport&&(r=h.viewport.split(" ")[3],n=osmo.scroll.pixiHeight/r),i.scale.set(n,n),i.x=3*osmo.scroll.pixiWidth/4,d.popupBBoxes[u].mask=i,d.maskContainer.addChild(i),t("m"+u)}})}},{key:"legendLoad",value:function(t,i,a,l,h){var u=this;return new Promise(function(r,t){var n,e,s;s=h?u.PIXI.Texture.from(a,{resolution:1}):(e=c(u.updateSVGviewbox(i,l),2),i=e[0],n=e[1],e=(new DOMParser).parseFromString(i,"image/svg+xml"),e=(new XMLSerializer).serializeToString(e),e="data:image/svg+xml;base64,"+window.btoa(e),e=new u.PIXI.SVGResource(e,{scale:8}),u.PIXI.Texture.from(e,{resolution:1}));var o=!1;s.on("update",function(){var t,e,i;o||(t=new u.PIXI.Sprite(s),u.legendFiles.push(t),e=.5*parseFloat(u.maskAreas.length)/parseFloat(Object.keys(osmo.scroll.datasets).length),i=.5*parseFloat(u.legendFiles.length)/parseFloat(Object.keys(osmo.scroll.datasets).length),i="&nbsp;&nbsp;"+parseInt(100*(e+i))+"%",$("#percentage").html(i),null!=u.popupBBoxes[l]&&(u.popupBBoxes[l].legend=t),null==t.data&&(t.data={}),t.data.legendName="legend-"+l,t.data.maskName="mask-"+l,t.name="legend-"+l,t.visible=!1,i=osmo.scroll.pixiHeight/s.height,t.x=h?3*osmo.scroll.pixiWidth/4:n*i*8+3*osmo.scroll.pixiWidth/4,t.scale.set(i,i),u.legendContainer.addChild(t),r("l"+l)),o=!0})})}},{key:"updateChildLegend",value:function(t,e,i){for(var r=0;r<t.length;r++){var n=t[r];n.data.legendName=e,n.data.titleName=i,null!=n.children&&this.updateChildLegend(n.children,e,i)}}},{key:"updateSVGviewbox",value:function(t,e){var i=document.createElement("div");i.innerHTML=t;var r,n=i.getElementsByTagName("svg")[0],s=n.getAttribute("viewBox"),o=(s=s||n.getAttribute("x")+" "+n.getAttribute("y")+" "+n.getAttribute("width")+" "+n.getAttribute("height")).split(" ")[0],a=s.split(" ")[1],l=s.split(" ")[2],h=s.split(" ")[3],u=o,c=a,d=l,i=h;return this.popupBBoxes.hasOwnProperty(e)&&(s=parseFloat(this.popupBBoxes[e].dimensions[0].x),o=parseFloat(this.popupBBoxes[e].dimensions[0].y),a=parseFloat(this.popupBBoxes[e].dimensions[0].width),l=parseFloat(this.popupBBoxes[e].dimensions[0].height),o*=h=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height,l*=h,(u=(s*=h)+(a*=h)/2-(h=(h=2e3)<a?a:h))<0&&(u=0),d=h),r=u+" "+c+" "+d+" "+i,"0a"==e&&"0b"==e||(n.removeAttribute("style"),n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("width"),n.removeAttribute("height"),n.removeAttribute("viewBox"),n.setAttribute("x",u+"px"),n.setAttribute("y",c+"px"),n.setAttribute("width",d+"px"),n.setAttribute("height",i+"px"),n.setAttribute("viewBox",r)),[t=n.outerHTML,u]}},{key:"highlightLegend",value:function(t,e){osmo.scroll.mainScroll.part1.alpha=.1,osmo.scroll.mainScroll.part2.alpha=.1;for(var i=osmo.scroll.datasets[t].title,r=0;r<this.maskAreas.length;r++)this.maskAreas[r].alpha=0;e.alpha=this.maskAlpha,this.legendContainer.visible=!0;for(var n=0;n<this.legendFiles.length;n++)this.legendFiles[n].visible&&(this.legendFiles[n].visible=!1);if(this.popupBBoxes[t].legend.visible=!0,null!=osmo.legendinteract.cursorLoading&&clearTimeout(osmo.legendinteract.cursorLoading),(osmo.legendinteract.cursorLoading=null)==osmo.legendinteract.cursorLoading){for(var s in osmo.scroll.datasets)osmo.legendaudio.audioPlayerInstances[s].stop();osmo.legendaudio.audioPlayerInstances[t].start(),$(".cursor-pointer").css("border","none"),$(".cursor-loading").show(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").html('<span style="background: rgba(0,0,0,0.45); margin: -100%; padding: 2px 2px;">'+i+"</span>"),$(".cursor-txt").show(),this.reset_animation("cursor-clc","cursor-loading-circle"),this.reset_animation("cursor-cl","cursor-loading");osmo.legendinteract.cursorLoading=setTimeout(function(){osmo.legendinteract.cursorLoading=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-pointer-dot").show(),$(".cursor-txt").html("Click to open"),$(".cursor-txt").show()},4e3)}}},{key:"reset_animation",value:function(t,e){var i=$("#"+t);i.removeClass(e),setTimeout(function(){i.addClass(e)},100)}},{key:"removeHighlight",value:function(){osmo.scroll.mainScroll.part1.alpha=1,osmo.scroll.mainScroll.part2.alpha=1;for(var t=0;t<this.maskAreas.length;t++)this.maskAreas[t].alpha=this.maskAlpha;this.legendContainer.visible=!1;for(var e,i=0;i<this.legendFiles.length;i++)this.legendFiles[i].visible&&(this.legendFiles[i].visible=!1);for(e in osmo.scroll.datasets)osmo.legendaudio.audioPlayerInstances[e].stop();null!=osmo.legendinteract.cursorLoading&&clearTimeout(osmo.legendinteract.cursorLoading),osmo.legendinteract.cursorLoading=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").hide(),this.dragMode=!1,this.isDragging=!1}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],80:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.legendInteraction=function(){function t(){s(this,t),this.PIXI=osmo.scroll.PIXI,this.cursorLoading=null,this.prevHitResultName=null,this.currentFocus=null,this.dragMode=!1,this.isDragging=!1,this.loadingStage=null,this.prevBoundsCenter=null,this.prevZoom=null}var e,i,r;return e=t,(i=[{key:"init",value:function(){var t=this;$("#popcancel").click(function(){t.closeLegendPopup()}),$("#popup-info-toggle").click(function(){"&lt;"==$("#popup-info-toggle").html()?($("#popup-info-toggle").html("&gt;"),$("#focused-info").animate({left:"-33%"},600)):"&gt;"==$("#popup-info-toggle").html()&&($("#popup-info-toggle").html("&lt;"),$("#focused-info").animate({left:"0%"},600))}),$("#focused-info").mouseenter(function(){$("#cursor").hide()}),$("#focused-info").mouseleave(function(){$("#cursor").show()})}},{key:"initMaskInteractions",value:function(){var t,i=this;for(t in osmo.scroll.datasets)!function(t){var e;!osmo.legendsvg.popupBBoxes.hasOwnProperty(t)||null!=(e=osmo.legendsvg.popupBBoxes[t].mask)&&(e.interactive=!0,e.on("pointerdown",function(){null==i.cursorLoading&&i.showLegend(t)}),e.on("pointerover",function(){osmo.legendsvg.highlightLegend(t,e)}),e.on("pointerout",function(){osmo.legendsvg.removeHighlight(t)}))}(t)}},{key:"showLegend",value:function(t){$("#focused-info").animate({left:"0px"},1200),$(".nav").hide(),osmo.scroll.hitPopupMode="focused",osmo.datasvg.backgroundContainer.visible=!1,osmo.legendsvg.maskContainer.visible=!1,osmo.legendsvg.legendContainer.visible=!0,null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-pointer").css("border","none"),$(".cursor-loading-full").show(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").hide(),this.dragMode=!1,this.isDragging=!1;var e=this;this.loadingStage=setTimeout(function(){null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").show(),$(".cursor-txt").html("Click & drag"),$(".cursor-txt").show(),e.dragMode=!0,e.isDragging=!1},4e3),this.currentFocus=t,$("#focused-heading").text(osmo.scroll.datasets[this.currentFocus].title);var i="\n      <p>".concat(osmo.scroll.datasets[this.currentFocus].desc,'</p>\n      <br>\n      <br>\n      <span style="font-weight: 400;">Sound description:</span>\n      <p style="margin-top: 0;">').concat(osmo.scroll.datasets[this.currentFocus].sounddesc,"</p>");$("#focused-description").html(i),$("#head-normal-view").hide(),$("#focused-cta").show(),$("#focused-info").show(),osmo.legendsvg.popupBBoxes[this.currentFocus].legend.visible=!0;var r=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].x),n=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].y),t=(parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].width),parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].height)),i=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height;r*=i,n*=i,t*=i,this.prevBoundsCenter=new this.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y);t=new this.PIXI.Point(-1*r*osmo.scroll.pixiScale,osmo.scroll.pixiHeight/2-n-t/2);osmo.scroll.mainStage.position=t,$("body").css("background-color","#A3BDC7")}},{key:"closeLegendPopup",value:function(){$("#head-normal-view").show(),$("#focused-cta").hide(),$("#focused-info").animate({left:"-33%"},600),$("#focused-info").hide(),$(".nav").show(),$("body").css("background-color","#b5ced5"),osmo.datasvg.backgroundContainer.visible=!0,osmo.legendsvg.maskContainer.visible=!0,osmo.legendsvg.legendContainer.visible=!1;for(var t=0;t<osmo.legendsvg.legendFiles.length;t++)osmo.legendsvg.legendFiles[t].visible&&(osmo.legendsvg.legendFiles[t].visible=!1);null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").html(""),$(".cursor-txt").hide(),this.dragMode=!1,this.isDragging=!1;var e=this.prevBoundsCenter,i=(this.prevZoom,e.x-osmo.scroll.mainStage.position.x),e=-(e.y-osmo.scroll.mainStage.position.y);osmo.scroll.mainStage.position=osmo.pzinteract.changeCenter(osmo.scroll.mainStage.position,i,e,1.005),this.currentFocus=null,osmo.scroll.hitPopupMode="hovering"}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],81:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=t("@pixi-essentials/svg");function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.default=function t(){o(this,t)},window.osmo=window.osmo||{},osmo.navigationInteraction=function(){function t(){o(this,t),this.PIXI=osmo.scroll.PIXI,this.TONE=osmo.scroll.TONE,this.TWEENMAX=osmo.scroll.TWEENMAX,this.POWER4=osmo.scroll.POWER4,this.BGAUDIO=osmo.bgaudio,this.mousePos,this.currentNavLoc=-1,this.navigationFile="./assets/data/ChapterNavigation.svg",this.navContainer,this.navScene,this.navScale,this.navChapters,this.isOnDiv=!1,this.init,this.update}var e,i,r;return e=t,(i=[{key:"init",value:function(){var t=this;this.navContainer=new this.PIXI.Container,this.navContainer.visible=!1,osmo.scroll.mainStage.addChild(this.navContainer),$(".nav").mouseenter(function(){t.isOnDiv=!0}),$(".nav").mouseleave(function(){t.isOnDiv=!1})}},{key:"loadNav",value:function(){var e=this;$.get(this.navigationFile,function(t){t=t.documentElement;e.navScene=new n.SVGScene(t),e.navChapters=e.navScene.content.children[4].children,e.navScale=osmo.scroll.pixiHeight/e.navScene.height,e.navScene.x=3*osmo.scroll.pixiWidth/4,e.navScene.scale.set(e.navScale,e.navScale),e.navScene.alpha=1})}},{key:"initNav",value:function(){var u=this,c=osmo.scroll.pixiWidth;$(".jump").click(function(t){osmo.pzinteract.disableMaskInteractions();var e=parseInt($(t.currentTarget).attr("data-id")),i=$.grep($(u.navChapters),function(t){return t.id=="nav-ch"+e}),r=-1*parseFloat($(i).attr("x"))*u.navScale*osmo.scroll.pixiScale,t=parseFloat($(i).attr("width"))*u.navScale*osmo.scroll.pixiScale;r-=c<t?c/2:t/2;i=2e3,t=Math.abs(r-osmo.scroll.mainStage.position.x);t<c&&(i=parseInt(2e3*(t/c)))<350&&(i=350),u.TWEENMAX.to(osmo.scroll.mainStage.position,i/1e3,{x:r,ease:u.POWER4.easeInOut});for(var n=$(".jump"),s=e,o=0;o<n.length;o++){var a=$(n[o]),l=parseInt(a.attr("data-id"));a.hasClass("selected")&&(a.removeClass("selected"),a.find("img")[0].src=a.find("img")[0].src.replace("_selected","_default")),l==s&&(u.currentNavLoc=s,a.addClass("selected"),a.find("img")[0].src=a.find("img")[0].src.replace("_default","_selected"))}for(var h=0;h<7;h++)u.BGAUDIO.baseTracks["base"+(h+1)].stop();setTimeout(function(){u.BGAUDIO.currentTrack="base"+e,u.BGAUDIO.baseTracks[u.BGAUDIO.currentTrack].start(),osmo.legendsvg.maskContainer.visible=!0},i)})}},{key:"updateBasetrack",value:function(){if(-1!=this.currentNavLoc&&this.BGAUDIO.currentTrack!="base"+this.currentNavLoc){this.BGAUDIO.currentTrack="base"+this.currentNavLoc;for(var t=0;t<7;t++)this.BGAUDIO.baseTracks["base"+(t+1)].stop();this.BGAUDIO.baseTracks[this.BGAUDIO.currentTrack].start()}}},{key:"scrollNavEffect",value:function(){for(var t=0;t<this.navChapters.length-1;t++){var e=parseFloat($(this.navChapters[t]).attr("x"))*this.navScale*osmo.scroll.pixiScale,i=parseFloat($(this.navChapters[t+1]).attr("x"))*this.navScale*osmo.scroll.pixiScale;if(Math.abs(osmo.scroll.mainStage.position.x)>e&&Math.abs(osmo.scroll.mainStage.position.x)<i){i=this.navChapters[t].id;if(i.includes("nav-ch")){-1==this.currentNavLoc&&($(".nav").fadeIn(),this.BGAUDIO.introTrack.stop(),this.BGAUDIO.currentTrack="none");var r=parseInt(i.replace("nav-ch",""));if(this.currentNavLoc!=r)for(var n=$(".jump"),s=0;s<n.length;s++){var o=$(n[s]),a=parseInt(o.attr("data-id"));o.hasClass("selected")&&(o.removeClass("selected"),o.find("img")[0].src=o.find("img")[0].src.replace("_selected","_default")),a==r&&(this.currentNavLoc=r,o.addClass("selected"),o.find("img")[0].src=o.find("img")[0].src.replace("_default","_selected"))}}if(i.includes("intro")&&($(".nav").fadeOut(),this.currentNavLoc=-1,"intro"!=this.BGAUDIO.currentTrack)){for(var l=0;l<7;l++)this.BGAUDIO.baseTracks["base"+(l+1)].stop();this.BGAUDIO.introTrack.start(),this.BGAUDIO.currentTrack="intro"}}}osmo.pzinteract.navScrolledUpdate=!0}}])&&s(e.prototype,i),r&&s(e,r),t}()},{"@pixi-essentials/svg":4}],82:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.panAndZoomInteraction=function(){function t(){s(this,t),this.PIXI=osmo.scroll.PIXI,this.maxZoom=1,this.isCompletedDetecting=!1,this.isTrackpadDetected=!1,this.navScrolledUpdate=!0,this.deltaValX=0,this.deltaValY=0,this.init}var e,i,r;return e=t,(i=[{key:"init",value:function(){var n=this;this.detectMouseType(),$("#main-scroll-canvas").on("wheel",function(t){var e,i,r;osmo.scroll.started&&osmo.scroll.loaded.svgdata&&osmo.scroll.loaded.HQimage&&(n.disableMaskInteractions(),n.navScrolledUpdate&&"focused"!=osmo.scroll.hitPopupMode&&(n.navScrolledUpdate=!1,setTimeout(function(){osmo.navinteract.scrollNavEffect()},50),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){osmo.navinteract.updateBasetrack()},250)),clearTimeout($.data(this,"scrollTimerLong")),$.data(this,"scrollTimerLong",setTimeout(function(){osmo.pzinteract.enableMaskInteractions()},500))),window.isMobile?e=t:(e=t.originalEvent,t.preventDefault()),"focused"!=osmo.scroll.hitPopupMode?(r=Math.abs(e.deltaY)>Math.abs(e.deltaX)?(i=e.deltaY,e.deltaY):(i=e.deltaX,e.deltaX),osmo.scroll.mainStage.position=osmo.pzinteract.changeCenter(osmo.scroll.mainStage.position,i,0,1.005*osmo.scroll.pixiScale)):(i=e.deltaX,r=e.deltaY,osmo.scroll.mainStage.position=osmo.pzinteract.changeCenter(osmo.scroll.mainStage.position,i,r,1.005*osmo.scroll.pixiScale,!1)))})}},{key:"averageDelta",value:function(){}},{key:"disableMaskInteractions",value:function(){if(osmo.legendsvg.maskContainer.visible){osmo.scroll.mainScroll.part1.alpha=1,osmo.scroll.mainScroll.part2.alpha=1,osmo.legendsvg.maskContainer.visible=!1,osmo.legendsvg.legendContainer.visible=!0;for(var t=0;t<osmo.legendsvg.legendFiles.length;t++)osmo.legendsvg.legendFiles[t].visible&&(osmo.legendsvg.legendFiles[t].visible=!1)}}},{key:"enableMaskInteractions",value:function(){0==osmo.legendsvg.maskContainer.visible&&(osmo.legendsvg.maskContainer.visible=!0)}},{key:"changeCenter",value:function(t,e,i,r){var n=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=osmo.datasvg.scrollWidth,o=osmo.scroll.pixiWidth,a=osmo.scroll.pixiScale,i=new this.PIXI.Point(e,-i);return i.multiplyScalar(r,i),t.add(i,t),n&&(0<t.x&&(t.x=0),t.x<-1*(s*a-3*o/4)&&(t.x=-1*(s*a-3*o/4))),t}},{key:"changeZoom",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1.015,t=0<e?t/i:e<0?t*i:t;return t=(!(3<arguments.length&&void 0!==arguments[3])||arguments[3])&&(t=t<=1?1:t)>maxZoom?maxZoom:t}},{key:"setMaxZoom",value:function(t){this.maxZoom=t}},{key:"detectTrackPad",value:function(t){var e=!1;t.wheelDeltaY?t.wheelDeltaY===-3*t.deltaY&&(e=!0):0===t.deltaMode&&(e=!0),osmo.pzinteract.isCompletedDetecting=!0,osmo.pzinteract.isTrackpadDetected=e,$("#scrollm").hide(),document.removeEventListener("wheel",osmo.pzinteract.detectTrackPad,!1),document.removeEventListener("DOMMouseScroll",osmo.pzinteract.detectTrackPad,!1)}},{key:"detectMouseType",value:function(){window.isMobile?(this.isCompletedDetecting=!0,this.isTrackpadDetected=!0):(document.addEventListener("wheel",osmo.pzinteract.detectTrackPad,!1),document.addEventListener("DOMMouseScroll",osmo.pzinteract.detectTrackPad,!1))}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],83:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.speakerMicroInteraction=function(){function t(){s(this,t)}var e,i,r;return e=t,(i=[{key:"init",value:function(){$(document).ready(function(){var t=!1,e=!1;$(".vlCtrl").mouseenter(function(){t=!0}),$(".vlCtrl").mouseleave(function(){t=!1,e||$(".vlCtrl").hide()}),$(".speaker").hover(function(){e=!0,$(".vlCtrl").show()},function(){e=!1,setTimeout(function(){t&&!e||$(".vlCtrl").fadeOut()},1500)});function i(){return document.querySelector(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")}function f(t,e){return t+(e-t)*(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)}var r=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{x:(+t.getAttribute("x1")+ +t.getAttribute("x2"))/2,y:(+t.getAttribute("y1")+ +t.getAttribute("y2"))/2}},n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}t=t.getBoundingClientRect();return{x:t.width/2,y:t.height/2}},p={speakB:i("#speakB"),arcBigB:i("#arcBigB"),arcSmB:i("#arcSmB"),speakF:i("#speakF"),arcBigF:i("#arcBigF"),arcSmF:i("#arcSmF"),crossLtRb:i("#crossLtRb"),crossLbRt:i("#crossLbRt"),ctrlCirce:i("#ctrlCirce"),ctrlLineF:i("#ctrlLineF"),ctrlLineB:i("#ctrlLineB")},m={arcBigLen:p.arcBigF.getTotalLength(),arcSmLen:p.arcSmF.getTotalLength(),speakLen:p.speakF.getTotalLength()},y=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"px";return"translate(".concat(t).concat(i,", ").concat(e).concat(i,")")},_=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return"scale(".concat(t,", ").concat(e,")")},g=function(t,e,i,r){var n=(t/=r)*t,r=n*t;return e+i*(1.7*r*n-2.05*n*n+1.5*r-.2*n+.05*t)},v=function(t,e,i,r){var n=(t/=r)*t,r=n*t;return e+i*(33*r*n+-106*n*n+126*r+-67*n+15*t)},b=function(t,e,i,r){var n=(t/=r)*t,r=n*t;return e+i*(81*r*n+-210*n*n+190*r+-70*n+10*t)},T={dx:.2,ds:.03,flag:!0,step:0,speed:5,curPosBig:{x:0,y:0,scale:1},curPosSm:{x:0,y:0,scale:1},curPos:1,prevPos:1,off:!1,offCurStep:100,offMaxStep:100,offSpeed:2,offRefresh:function(){this.offCurStep=this.offMaxStep,this.off=!0},on:!1,onCurStep:0,onMaxStep:20,onSpeed:2,onRefresh:function(){this.off=!1,this.onCurStep=0,this.on=!0},pointLbRt:r(p.crossLbRt),pointLtRb:r(p.crossLtRb),animation:function(){var t,e,i,n,r,s,o,a,l,h,u,c,d=this;this.off?(osmo.scroll.TONE.Master.mute=!0,[p.arcBigB,p.arcBigF,p.arcSmB,p.arcSmF].forEach(function(t){t.setAttribute("visibility","hidden")}),[p.crossLbRt,p.crossLtRb].forEach(function(t){t.setAttribute("visibility","visible")}),t=m.speakLen,r=this.offMaxStep-20,this.offCurStep>=this.offMaxStep-20&&(e=(20+this.offCurStep-this.offMaxStep)/20,i=f(1,.7,1-e),p.speakF.setAttribute("stroke-dasharray",t*e+","+1.05*t),p.speakF.setAttribute("stroke-dashoffset",-t*(1-e)/2+""),p.speakB.setAttribute("stroke-dasharray",t*i+","+1.05*t),p.speakB.setAttribute("stroke-dashoffset",-t*(1-i)/2+"")),this.offCurStep<r&&this.offCurStep>=r-20&&(i=1-(this.offCurStep-r+20)/20,i=f(.7,1,i),p.speakB.setAttribute("stroke-dasharray",t*i+","+1.05*t),p.speakB.setAttribute("stroke-dashoffset",-t*(1-i)/2+"")),this.offCurStep<r&&0<=this.offCurStep&&(p.speakF.setAttribute("visibility","hidden"),n=this.offCurStep/r,[p.crossLbRt,p.crossLtRb].forEach(function(t,e){var i=v(1-n,0,1,1),r=0==e?b(1-n,-3,3,1):b(1-n,-2,2,1),e=0==e?b(1-n,-2,2,1):b(1-n,2,-2,1),r=-d.pointLbRt.x*(i-1)+r,e=-d.pointLbRt.y*(i-1)+e;t.setAttribute("transform",y(r,e,"")+_(i,i))})),this.offCurStep+=-this.offSpeed):(this.on&&([p.speakF,p.arcBigB,p.arcSmB,p.arcSmF].forEach(function(t){t.setAttribute("visibility","visible")}),[p.crossLbRt,p.crossLtRb].forEach(function(t){t.setAttribute("visibility","hidden"),t.setAttribute("transform","scale(0)")}),h=this.onCurStep/this.onMaxStep,p.speakF.setAttribute("stroke-dasharray",(r=m.speakLen)*h+","+1.05*r),p.speakF.setAttribute("stroke-dashoffset",-r*(1-h)/2+""),this.onCurStep+=this.onSpeed),this.step>=this.speed&&(this.flag=!this.flag,this.step=0),h=this.step/this.speed,u=1-g(1-this.curPos,0,1,.5),c=1-g(1-this.curPos,0,1,1),this.curPos<.5&&(u=0),(c<=0||!c)&&(c=0),osmo.scroll.TONE.Master.mute&&(osmo.scroll.TONE.Master.mute=!1),this.prevPos!=this.curPos&&(osmo.scroll.TONE.Master.volume.value=osmo.scroll.map(this.curPos,0,1,osmo.scroll.Volume_db.min,osmo.scroll.Volume_db.max),localStorage.setItem("master_volume",this.curPos)),this.prevPos=this.curPos,l=this.flag?(s=f(0,3*this.dx,h),o=f(0,2*-this.dx,h),a=f(0,this.ds,h),f(0,-this.ds,h)):(s=f(3*this.dx,0,h),o=f(2*-this.dx,0,h),a=f(this.ds,0,h),f(-this.ds,0,h)),[p.arcBigF,p.arcBigB].forEach(function(t){var e=d.curPosBig.scale+a*u,i=-x.pointBig.y*(e-1)*1.5;t.setAttribute("transform",y(d.curPosBig.x+s*u,i,"")+_(e,e))}),[p.arcSmF,p.arcSmB].forEach(function(t){var e=d.curPosSm.scale+l*c,i=-x.pointSm.y*(e-1)*3;t.setAttribute("transform",y(d.curPosSm.x+o*c,i,"")+_(e,e))}),this.step++),requestAnimationFrame(this.animation.bind(T))}};requestAnimationFrame(T.animation.bind(T));var x={dx:0,maxX:+p.ctrlLineB.getAttribute("x2"),minX:+p.ctrlLineB.getAttribute("x1"),curCx:+p.ctrlCirce.getAttribute("cx"),pointBig:n(p.arcBigF),pointSm:n(p.arcSmF),interact:!1,animateDrag:function(){var e=this;this.curCx+=this.dx;var t=this.curCx,i=m.arcSmLen,r=m.arcBigLen,n=((t=(t=t>this.maxX?this.maxX:t)<this.minX?this.minX:t)-this.minX)/(this.maxX-this.minX);T.curPos=n,p.ctrlCirce.setAttribute("cx",t),p.ctrlLineF.setAttribute("x2",t);var s,o=f(1,.85,1-n),a=f(0,-3,1-n),l=f(0,-1,1-n);[p.arcBigF,p.arcBigB].forEach(function(t){T.curPosBig.x=-e.pointBig.x*(o-1)+a,T.curPosBig.y=-e.pointBig.y*(o-1)*1.5,T.curPosBig.scale=o,t.setAttribute("transform",y(T.curPosBig.x,T.curPosBig.y,"")+_(o,o))}),[p.arcSmF,p.arcSmB].forEach(function(t){T.curPosSm.x=-e.pointSm.x*(o-1)+l,T.curPosSm.y=-e.pointSm.y*(o-1)*3,T.curPosSm.scale=o,t.setAttribute("transform",y(T.curPosSm.x,T.curPosSm.y,"")+_(o,o))}),.5<n&&(T.off&&T.onRefresh(),s=f(1,-1,1-n),p.arcBigF.setAttribute("visibility","visible"),p.arcSmF.setAttribute("visibility","visible"),p.arcBigF.setAttribute("stroke-dasharray",r*s+","+1.05*r),p.arcBigF.setAttribute("stroke-dashoffset",-r*(1-s)/2+""),p.arcSmF.setAttribute("stroke-dasharray",i+""),p.arcSmF.setAttribute("stroke-dashoffset","0")),n<=.5&&0<n&&(T.off&&T.onRefresh(),s=f(1,0,1-2*n),p.arcBigF.setAttribute("visibility","hidden"),p.arcSmF.setAttribute("visibility","visible"),p.arcSmF.setAttribute("stroke-dasharray",i*s+","+1.05*i),p.arcSmF.setAttribute("stroke-dashoffset",-i*(1-s)/2+"")),n<=0&&(p.arcSmF.setAttribute("visibility","hidden"),0==T.off&&T.offRefresh())}},r=localStorage.getItem("master_volume");null==r?r=(x.curCx-x.minX)/(x.maxX-x.minX):(n=(x.maxX-x.minX)*r,p.ctrlLineF.setAttribute("x2",n),p.ctrlCirce.setAttribute("cx",n),x.curCx=n),osmo.scroll.TONE.Master.volume.value=osmo.scroll.map(r,0,1,osmo.scroll.Volume_db.min,osmo.scroll.Volume_db.max),$(document).on("mousedown touchstart","#ctrlCirce, #ctrlLineB, #ctrlLineF",function(t){var e=-1*(t.pageY||t.originalEvent.touches[0].pageY);t.preventDefault(),x.interact=!0,this!=p.ctrlLineB&&this!=p.ctrlLineF||(t=((t=p.ctrlCirce.getBoundingClientRect()).left+t.right)/2,x.dx=e-t,x.animateDrag()),$(document).on("mousemove touchmove",function(t){t.preventDefault();t=-1*(t.pageY||t.originalEvent.touches[0].pageY);x.dx=t-e,e=t,x.animateDrag()}),$(document).on("mouseup touchend",function(t){x.curCx<x.minX&&(x.curCx=x.minX),x.curCx>x.maxX&&(x.curCx=x.maxX),$(document).off("mousemove touchmove mouseup touchend")})});var s={flag:!0,last:0};$(document).on("mousedown touchstart",".speaker",function(t){t.preventDefault(),x.interact=!0,x.dx=0,s.flag?(s.flag=!1,s.last=x.curCx,x.curCx=0):(s.flag=!0,x.curCx=s.last),x.animateDrag()})})}}])&&n(e.prototype,i),r&&n(e,r),t}()},{}],84:[function(t,e,i){"use strict";var r,n=(r=t("jquery"))&&r.__esModule?r:{default:r};window.jQuery=n.default,window.$=n.default},{jquery:51}],85:[function(t,e,i){"use strict";var r;t("./jquery-global.js"),t("./osmoScroll"),window.osmo=window.osmo||{},window.isMobile=(r=!1,function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(r=!0)}(navigator.userAgent||navigator.vendor||window.opera),r),window.onload=function(){window.version=$("#versionid").text(),osmo.scroll=new osmo.Scroll,osmo.scroll.init();!window.isMobile?window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:'<div id="main-inner-choice" style="display: block;font-family: \'Roboto\'; font-weight: 300;"><button type="button" class="btn btn-filled" id="start-btn">Start</button></div>'}):(window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:'<div id="percentage" style="color: #b97941; font-weight: 400;"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #b97941"></div><div class="sk-child sk-bounce2" style="background-color: #b97941"></div><div class="sk-child sk-bounce3" style="background-color: #b97941"></div></div>'}),osmo.scroll.loadMQ());var t=$(".pg-loading-logo");osmo.scroll.splashWidth=t.outerWidth(),$("#start-btn").on("click",function(){osmo.scroll.start()}),$(window).on("resize",function(){window.location.reload(!0)})}},{"./jquery-global.js":84,"./osmoScroll":86}],86:[function(t,e,i){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(t("lottie-web"));t("jquery-mousewheel"),t("jquery-ui");var s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};e=d(e);if(e&&e.has(t))return e.get(t);var i,r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t){var s;"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&((s=n?Object.getOwnPropertyDescriptor(t,i):null)&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=t[i])}r.default=t,e&&e.set(t,r);return r}(t("pixi.js"));t("@pixi/math-extras");var a=r(t("tone")),l=r(t("waveform-data")),h=r(t("screenfull/dist/screenfull")),u=t("gsap"),c=t("@pixi-essentials/cull");function d(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(d=function(t){return t?i:e})(t)}function r(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t("./audio/backgroundAudio"),t("./audio/legendAudio"),t("./data/dataSvg"),t("./data/legendSvg"),t("./interactions/navigationInteraction"),t("./interactions/panAndZoomInteraction"),t("./interactions/legendInteraction"),t("./interactions/speakerMicroInteraction"),i.default=function t(){p(this,t)},window.osmo=window.osmo||{},osmo.Scroll=function(){function t(){p(this,t),this.PIXI,this.TONE,this.WAVEFORMDATA,this.TWEENMAX,this.POWER4,this.MAINSCREEN,this.mainApp,this.mainStage,this.mainScroll,this.mainScrollScale,this.navContainer,this.legendContainer,this.maskContainer,this.pixiHeight,this.pixiWidth,this.splashWidth,this.mouseLoc,this.loaded={HQimage:!1,svgdata:!1,backgroundaudio:!1,legendaudio:!1},this.datasets={},this.pixiScale=2,this.Volume_db={min:-12,max:6},this.refPopupSize={width:1440,height:821},this.hitPopupMode="hovering",this.prevBoundsCenter=null,this.prevZoom=null,this.started=!1,this.init,this.initPixi,this.initModal,this.start,this.addActionButtons,this.loadHQ,this.loadMQ}var e,i,r;return e=t,(i=[{key:"init",value:function(){osmo.scroll.PIXI=s,osmo.scroll.TONE=a.default,osmo.scroll.WAVEFORMDATA=l.default,osmo.scroll.TWEENMAX=u.TweenMax,osmo.scroll.POWER4=u.Power4,this.initPixi(),this.renderAnimations(),this.addActionButtons(),this.initModal(!1),osmo.bgaudio=new osmo.backgroundAudio,osmo.bgaudio.loadAudio();var t="./assets/data/dataSummary.json?v="+window.version;$.getJSON(t,function(t){osmo.scroll.datasets=t,osmo.legendaudio=new osmo.legendAudio,osmo.legendaudio.loadAudio(),osmo.legendsvg=new osmo.legendSvg,osmo.legendsvg.init()}),osmo.pzinteract=new osmo.panAndZoomInteraction,osmo.pzinteract.init(),osmo.navinteract=new osmo.navigationInteraction,osmo.navinteract.init(),osmo.legendinteract=new osmo.legendInteraction,osmo.legendinteract.init(),document.addEventListener("mousemove",function(t){osmo.scroll.mouseLoc=new osmo.scroll.PIXI.Point(t.pageX,t.pageY);var e=t.pageX,t=t.pageY;$(".cursor-pointer-wrapper").css("transform","translate3d("+e+"px, "+t+"px, 0px)")}),$(".head-actions").mouseenter(function(){document.body.style.cursor="auto",$(".cursor-pointer-wrapper").css("opacity",0)}),$(".head-actions").mouseleave(function(){document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1)}),$(".nav").mouseenter(function(){document.body.style.cursor="auto",$(".cursor-pointer-wrapper").css("opacity",0)}),$(".nav").mouseleave(function(){document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1)})}},{key:"start",value:function(){this.TONE.start(),this.started=!0,$("#start-btn").hide();$(".pg-loading-html").empty(),$(".pg-loading-html").append($.parseHTML('<div id="percentage" style="color: #b97941; font-weight: 400;"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #b97941"></div><div class="sk-child sk-bounce2" style="background-color: #b97941"></div><div class="sk-child sk-bounce3" style="background-color: #b97941"></div></div>')),this.loadHQ()}},{key:"initPixi",value:function(){var t=this,e=document.getElementById("main-scroll-canvas");t.pixiHeight=e.offsetHeight,t.pixiWidth=e.offsetWidth;e=new s.Application({width:t.pixiWidth*t.pixiScale,height:t.pixiHeight*t.pixiScale,antialias:!0,backgroundAlpha:0,view:e});t.mainApp=e,t.mainStage=t.mainApp.stage,t.mainStage.scale.set(t.pixiScale,t.pixiScale);var i=new c.Cull({recursive:!0,toggle:"renderable"});i.add(t.mainStage),t.mainApp.renderer.on("prerender",function(){i.cull(t.mainApp.renderer.screen)})}},{key:"initModal",value:function(t){var e=document.querySelector(".modal"),i=document.querySelector(".close-button"),r=this;i.addEventListener("click",r.toggleModal),window.addEventListener("click",function(t){t.target===e&&r.toggleModal()}),$(document).keydown(function(t){27==t.keyCode&&r.toggleModal()}),t&&r.toggleModal()}},{key:"toggleModal",value:function(){document.querySelector(".modal").classList.toggle("show-modal")}},{key:"renderAnimations",value:function(){n.default.loadAnimation({container:document.getElementById("headphones"),renderer:"svg",loop:!0,autoplay:!0,path:"assets/12308-headphone.json"})}},{key:"addActionButtons",value:function(){$("#show-info").on("click",function(t){osmo.scroll.toggleModal()}),$("#enter-fullscreen").on("click",function(t){var e=$("#enter-fullscreen");e.toggleClass("on"),e.hasClass("on")?e.text("fullscreen_exit"):e.text("fullscreen"),h.default.toggle()}),osmo.smi=new osmo.speakerMicroInteraction,osmo.smi.init()}},{key:"loadHQ",value:function(){var t=this,e="./assets/images/SCROLL_cs6_ver23_APP_final_150ppi-LOW-";osmo.scroll.PIXI.Loader.shared.add(e+"01-or8.png").add(e+"02-or8.png").load(function(){t.onScrollData(e)})}},{key:"onScrollData",value:function(t){osmo.datasvg=new osmo.dataSvg,osmo.datasvg.init("High"),osmo.datasvg.initSplash(osmo.scroll.splashWidth),osmo.datasvg.initSVGscroll(t),osmo.scroll.loaded.HQimage=!0;var n=setInterval(function(){var t=osmo.scroll.loaded.backgroundaudio,e=osmo.scroll.loaded.legendaudio,i=osmo.scroll.loaded.HQimage,r=osmo.scroll.loaded.svgdata;t&&i&&r&&!e&&$("#percentage").html("Loading audio..."),t&&e&&i&&r&&(clearInterval(n),osmo.navinteract.loadNav(),osmo.navinteract.initNav(),osmo.legendinteract.initMaskInteractions(),window.loading_screen.finish(),osmo.bgaudio.start(),document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1))},500)}},{key:"map",value:function(t,e,i,r,n){return r+(t-e)/(i-e)*(n-r)}}])&&f(e.prototype,i),r&&f(e,r),t}()},{"./audio/backgroundAudio":76,"./audio/legendAudio":77,"./data/dataSvg":78,"./data/legendSvg":79,"./interactions/legendInteraction":80,"./interactions/navigationInteraction":81,"./interactions/panAndZoomInteraction":82,"./interactions/speakerMicroInteraction":83,"@pixi-essentials/cull":2,"@pixi/math-extras":22,gsap:45,"jquery-mousewheel":49,"jquery-ui":50,"lottie-web":53,"pixi.js":55,"screenfull/dist/screenfull":62,tone:65,"waveform-data":75}]},{},[85]);