!function r(a,o,l){function u(e,t){if(!o[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var s=o[e]={exports:{}};a[e][0].call(s.exports,function(t){return u(a[e][1][t]||t)},s,s.exports,r,a,o,l)}return o[e].exports}for(var h="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){var n,s;n=this,s=function(t){"use strict";var a={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},e="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",o={5:e,"5module":e+" export import",6:e+" const class extends export import super"},l=/^in(stanceof)?$/,i="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿯ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞿꟂ-Ᶎꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭧꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",n="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷹᷻-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿",s=new RegExp("["+i+"]"),r=new RegExp("["+i+n+"]");i=n=null;var u=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,477,28,11,0,9,21,155,22,13,52,76,44,33,24,27,35,30,0,12,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,0,33,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,0,161,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,270,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,754,9486,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],h=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,525,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,4,9,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,232,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,792487,239];function c(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(t<(i+=e[n]))return!1;if(t<=(i+=e[n+1]))return!0}}function d(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&s.test(String.fromCharCode(t)):!1!==e&&c(t,u)))}function f(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?170<=t&&r.test(String.fromCharCode(t)):!1!==e&&(c(t,u)||c(t,h)))))}var p=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null};function _(t,e){return new p(t,{beforeExpr:!0,binop:e})}var m={beforeExpr:!0},g={startsExpr:!0},v={};function y(t,e){return void 0===e&&(e={}),e.keyword=t,v[t]=new p(t,e)}var b={num:new p("num",g),regexp:new p("regexp",g),string:new p("string",g),name:new p("name",g),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",m),semi:new p(";",m),colon:new p(":",m),dot:new p("."),question:new p("?",m),arrow:new p("=>",m),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",m),backQuote:new p("`",g),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:_("||",1),logicalAND:_("&&",2),bitwiseOR:_("|",3),bitwiseXOR:_("^",4),bitwiseAND:_("&",5),equality:_("==/!=/===/!==",6),relational:_("</>/<=/>=",7),bitShift:_("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:_("%",10),star:_("*",10),slash:_("/",10),starstar:new p("**",{beforeExpr:!0}),_break:y("break"),_case:y("case",m),_catch:y("catch"),_continue:y("continue"),_debugger:y("debugger"),_default:y("default",m),_do:y("do",{isLoop:!0,beforeExpr:!0}),_else:y("else",m),_finally:y("finally"),_for:y("for",{isLoop:!0}),_function:y("function",g),_if:y("if"),_return:y("return",m),_switch:y("switch"),_throw:y("throw",m),_try:y("try"),_var:y("var"),_const:y("const"),_while:y("while",{isLoop:!0}),_with:y("with"),_new:y("new",{beforeExpr:!0,startsExpr:!0}),_this:y("this",g),_super:y("super",g),_class:y("class",g),_extends:y("extends",m),_export:y("export"),_import:y("import",g),_null:y("null",g),_true:y("true",g),_false:y("false",g),_in:y("in",{beforeExpr:!0,binop:7}),_instanceof:y("instanceof",{beforeExpr:!0,binop:7}),_typeof:y("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:y("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:y("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,x=new RegExp(w.source,"g");function S(t,e){return 10===t||13===t||!e&&(8232===t||8233===t)}var T=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,k=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,A=Object.prototype,C=A.hasOwnProperty,P=A.toString;function E(t,e){return C.call(t,e)}var O=Array.isArray||function(t){return"[object Array]"===P.call(t)};function M(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}var I=function(t,e){this.line=t,this.column=e},N=function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)};function R(t,e){for(var i=1,n=0;;){x.lastIndex=n;var s=x.exec(t);if(!(s&&s.index<e))return new I(i,e-n);++i,n=s.index+s[0].length}}var L={ecmaVersion:9,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!(I.prototype.offset=function(t){return new I(this.line,this.column+t)}),allowImportExportEverywhere:!1,allowAwaitOutsideFunction:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1};function F(t){var o,l,e={};for(var i in L)e[i]=t&&E(t,i)?t[i]:L[i];if(2015<=e.ecmaVersion&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),O(e.onToken)){var n=e.onToken;e.onToken=function(t){return n.push(t)}}return O(e.onComment)&&(e.onComment=(l=(o=e).onComment,function(t,e,i,n,s,r){var a={type:t?"Block":"Line",value:e,start:i,end:n};o.locations&&(a.loc=new N(this,s,r)),o.ranges&&(a.range=[i,n]),l.push(a)})),e}function q(t,e){return 2|(t?4:0)|(e?8:0)}var D=function(t,e,i){this.options=t=F(t),this.sourceFile=t.sourceFile,this.keywords=M(o[6<=t.ecmaVersion?6:"module"===t.sourceType?"5module":5]);var n="";if(!0!==t.allowReserved){for(var s=t.ecmaVersion;!(n=a[s]);s--);"module"===t.sourceType&&(n+=" await")}this.reservedWords=M(n);var r=(n?n+" ":"")+a.strict;this.reservedWordsStrict=M(r),this.reservedWordsStrictBind=M(r+" "+a.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=b.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports={},0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null},B={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0}};D.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)},B.inFunction.get=function(){return 0<(2&this.currentVarScope().flags)},B.inGenerator.get=function(){return 0<(8&this.currentVarScope().flags)},B.inAsync.get=function(){return 0<(4&this.currentVarScope().flags)},B.allowSuper.get=function(){return 0<(64&this.currentThisScope().flags)},B.allowDirectSuper.get=function(){return 0<(128&this.currentThisScope().flags)},B.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},D.prototype.inNonArrowFunction=function(){return 0<(2&this.currentThisScope().flags)},D.extend=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,n=0;n<t.length;n++)i=t[n](i);return i},D.parse=function(t,e){return new this(e,t).parse()},D.parseExpressionAt=function(t,e,i){var n=new this(i,t,e);return n.nextToken(),n.parseExpression()},D.tokenizer=function(t,e){return new this(e,t)},Object.defineProperties(D.prototype,B);var j=D.prototype,V=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)")/;function z(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}j.strictDirective=function(t){for(;;){k.lastIndex=t,t+=k.exec(this.input)[0].length;var e=V.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2]))return!0;t+=e[0].length,k.lastIndex=t,t+=k.exec(this.input)[0].length,";"===this.input[t]&&t++}},j.eat=function(t){return this.type===t&&(this.next(),!0)},j.isContextual=function(t){return this.type===b.name&&this.value===t&&!this.containsEsc},j.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},j.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},j.canInsertSemicolon=function(){return this.type===b.eof||this.type===b.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},j.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},j.semicolon=function(){this.eat(b.semi)||this.insertSemicolon()||this.unexpected()},j.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},j.expect=function(t){this.eat(t)||this.unexpected()},j.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},j.checkPatternErrors=function(t,e){if(t){-1<t.trailingComma&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;-1<i&&this.raiseRecoverable(i,"Parenthesized pattern")}},j.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return 0<=i||0<=n;0<=i&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),0<=n&&this.raiseRecoverable(n,"Redefinition of __proto__ property")},j.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},j.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var U=D.prototype;U.parseTopLevel=function(t){var e={};for(t.body||(t.body=[]);this.type!==b.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,s=Object.keys(this.undefinedExports);n<s.length;n+=1){var r=s[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var W={kind:"loop"},H={kind:"switch"};U.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;k.lastIndex=this.pos;var e=k.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(91===n)return!0;if(t)return!1;if(123===n)return!0;if(d(n,!0)){for(var s=i+1;f(this.input.charCodeAt(s),!0);)++s;var r=this.input.slice(i,s);if(!l.test(r))return!0}return!1},U.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;k.lastIndex=this.pos;var t=k.exec(this.input),e=this.pos+t[0].length;return!(w.test(this.input.slice(this.pos,e))||"function"!==this.input.slice(e,e+8)||e+8!==this.input.length&&f(this.input.charAt(e+8)))},U.parseStatement=function(t,e,i){var n,s=this.type,r=this.startNode();switch(this.isLet(t)&&(s=b._var,n="let"),s){case b._break:case b._continue:return this.parseBreakContinueStatement(r,s.keyword);case b._debugger:return this.parseDebuggerStatement(r);case b._do:return this.parseDoStatement(r);case b._for:return this.parseForStatement(r);case b._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&6<=this.options.ecmaVersion&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case b._class:return t&&this.unexpected(),this.parseClass(r,!0);case b._if:return this.parseIfStatement(r);case b._return:return this.parseReturnStatement(r);case b._switch:return this.parseSwitchStatement(r);case b._throw:return this.parseThrowStatement(r);case b._try:return this.parseTryStatement(r);case b._const:case b._var:return n=n||this.value,t&&"var"!==n&&this.unexpected(),this.parseVarStatement(r,n);case b._while:return this.parseWhileStatement(r);case b._with:return this.parseWithStatement(r);case b.braceL:return this.parseBlock(!0,r);case b.semi:return this.parseEmptyStatement(r);case b._export:case b._import:if(10<this.options.ecmaVersion&&s===b._import){k.lastIndex=this.pos;var a=k.exec(this.input),o=this.pos+a[0].length;if(40===this.input.charCodeAt(o))return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===b._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var l=this.value,u=this.parseExpression();return s===b.name&&"Identifier"===u.type&&this.eat(b.colon)?this.parseLabeledStatement(r,l,u,t):this.parseExpressionStatement(r,u)}},U.parseBreakContinueStatement=function(t,e){var i="break"===e;this.next(),this.eat(b.semi)||this.insertSemicolon()?t.label=null:this.type!==b.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if(null==t.label||s.name===t.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},U.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},U.parseDoStatement=function(t){return this.next(),this.labels.push(W),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(b._while),t.test=this.parseParenExpression(),6<=this.options.ecmaVersion?this.eat(b.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},U.parseForStatement=function(t){this.next();var e=9<=this.options.ecmaVersion&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction)&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(W),this.enterScope(0),this.expect(b.parenL),this.type===b.semi)return-1<e&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===b._var||this.type===b._const||i){var n=this.startNode(),s=i?"let":this.value;return this.next(),this.parseVar(n,!0,s),this.finishNode(n,"VariableDeclaration"),(this.type===b._in||6<=this.options.ecmaVersion&&this.isContextual("of"))&&1===n.declarations.length?(9<=this.options.ecmaVersion&&(this.type===b._in?-1<e&&this.unexpected(e):t.await=-1<e),this.parseForIn(t,n)):(-1<e&&this.unexpected(e),this.parseFor(t,n))}var r=new z,a=this.parseExpression(!0,r);return this.type===b._in||6<=this.options.ecmaVersion&&this.isContextual("of")?(9<=this.options.ecmaVersion&&(this.type===b._in?-1<e&&this.unexpected(e):t.await=-1<e),this.toAssignable(a,!1,r),this.checkLVal(a),this.parseForIn(t,a)):(this.checkExpressionErrors(r,!0),-1<e&&this.unexpected(e),this.parseFor(t,a))},U.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Q|(i?0:$),!1,e)},U.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(b._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},U.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(b.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},U.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(b.braceL),this.labels.push(H),this.enterScope(0);for(var i=!1;this.type!==b.braceR;)if(this.type===b._case||this.type===b._default){var n=this.type===b._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(b.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},U.parseThrowStatement=function(t){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var G=[];U.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===b._catch){var e=this.startNode();if(this.next(),this.eat(b.parenL)){e.param=this.parseBindingAtom();var i="Identifier"===e.param.type;this.enterScope(i?32:0),this.checkLVal(e.param,i?4:2),this.expect(b.parenR)}else this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0);e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(b._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},U.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},U.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(W),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},U.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},U.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},U.parseLabeledStatement=function(t,e,i,n){for(var s=0,r=this.labels;s<r.length;s+=1){r[s].name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===b._switch?"switch":null,o=this.labels.length-1;0<=o;o--){var l=this.labels[o];if(l.statementStart!==t.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(n?-1===n.indexOf("label")?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},U.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},U.parseBlock=function(t,e){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(b.braceL),t&&this.enterScope(0);!this.eat(b.braceR);){var i=this.parseStatement(null);e.body.push(i)}return t&&this.exitScope(),this.finishNode(e,"BlockStatement")},U.parseFor=function(t,e){return t.init=e,this.expect(b.semi),t.test=this.type===b.semi?null:this.parseExpression(),this.expect(b.semi),t.update=this.type===b.parenR?null:this.parseExpression(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},U.parseForIn=function(t,e){var i=this.type===b._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)?this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"):"AssignmentPattern"===e.type&&this.raise(e.start,"Invalid left-hand side in for-loop"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(b.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},U.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(b.eq)?n.init=this.parseMaybeAssign(e):"const"!==i||this.type===b._in||6<=this.options.ecmaVersion&&this.isContextual("of")?"Identifier"===n.id.type||e&&(this.type===b._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(b.comma))break}return t},U.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLVal(t.id,"var"===e?1:2,!1)};var Q=1,$=2;U.parseFunction=function(t,e,i,n){this.initFunction(t),(9<=this.options.ecmaVersion||6<=this.options.ecmaVersion&&!n)&&(this.type===b.star&&e&$&&this.unexpected(),t.generator=this.eat(b.star)),8<=this.options.ecmaVersion&&(t.async=!!n),e&Q&&(t.id=4&e&&this.type!==b.name?null:this.parseIdent(),!t.id||e&$||this.checkLVal(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(q(t.async,t.generator)),e&Q||(t.id=this.type===b.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(t,e&Q?"FunctionDeclaration":"FunctionExpression")},U.parseFunctionParams=function(t){this.expect(b.parenL),t.params=this.parseBindingList(b.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams()},U.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.startNode(),s=!1;for(n.body=[],this.expect(b.braceL);!this.eat(b.braceR);){var r=this.parseClassElement(null!==t.superClass);r&&(n.body.push(r),"MethodDefinition"===r.type&&"constructor"===r.kind&&(s&&this.raise(r.start,"Duplicate constructor in the same class"),s=!0))}return t.body=this.finishNode(n,"ClassBody"),this.strict=i,this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},U.parseClassElement=function(t){var s=this;if(this.eat(b.semi))return null;var r=this.startNode(),e=function(t,e){void 0===e&&(e=!1);var i=s.start,n=s.startLoc;return!!s.eatContextual(t)&&(!(s.type===b.parenL||e&&s.canInsertSemicolon())||(r.key&&s.unexpected(),r.computed=!1,r.key=s.startNodeAt(i,n),r.key.name=t,s.finishNode(r.key,"Identifier"),!1))};r.kind="method",r.static=e("static");var i=this.eat(b.star),n=!1;i||(8<=this.options.ecmaVersion&&e("async",!0)?(n=!0,i=9<=this.options.ecmaVersion&&this.eat(b.star)):e("get")?r.kind="get":e("set")&&(r.kind="set")),r.key||this.parsePropertyName(r);var a=r.key,o=!1;return r.computed||r.static||!("Identifier"===a.type&&"constructor"===a.name||"Literal"===a.type&&"constructor"===a.value)?r.static&&"Identifier"===a.type&&"prototype"===a.name&&this.raise(a.start,"Classes may not have a static property named prototype"):("method"!==r.kind&&this.raise(a.start,"Constructor can't have get/set modifier"),i&&this.raise(a.start,"Constructor can't be a generator"),n&&this.raise(a.start,"Constructor can't be an async method"),r.kind="constructor",o=t),this.parseClassMethod(r,i,n,o),"get"===r.kind&&0!==r.value.params.length&&this.raiseRecoverable(r.value.start,"getter should have no params"),"set"===r.kind&&1!==r.value.params.length&&this.raiseRecoverable(r.value.start,"setter should have exactly one param"),"set"===r.kind&&"RestElement"===r.value.params[0].type&&this.raiseRecoverable(r.value.params[0].start,"Setter cannot use rest params"),r},U.parseClassMethod=function(t,e,i,n){return t.value=this.parseMethod(e,i,n),this.finishNode(t,"MethodDefinition")},U.parseClassId=function(t,e){this.type===b.name?(t.id=this.parseIdent(),e&&this.checkLVal(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},U.parseClassSuper=function(t){t.superClass=this.eat(b._extends)?this.parseExprSubscripts():null},U.parseExport=function(t,e){if(this.next(),this.eat(b.star))return this.expectContextual("from"),this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(b._default)){var i;if(this.checkExport(e,"default",this.lastTokStart),this.type===b._function||(i=this.isAsyncFunction())){var n=this.startNode();this.next(),i&&this.next(),t.declaration=this.parseFunction(n,4|Q,!1,i)}else if(this.type===b._class){var s=this.startNode();t.declaration=this.parseClass(s,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(null),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==b.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var r=0,a=t.specifiers;r<a.length;r+=1){var o=a[r];this.checkUnreserved(o.local),this.checkLocalExport(o.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},U.checkExport=function(t,e,i){t&&(E(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},U.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e.name,e.start);else if("ObjectPattern"===i)for(var n=0,s=e.properties;n<s.length;n+=1){var r=s[n];this.checkPatternExport(t,r)}else if("ArrayPattern"===i)for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(t,l)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(t,e.expression)},U.checkVariableExport=function(t,e){if(t)for(var i=0,n=e;i<n.length;i+=1){var s=n[i];this.checkPatternExport(t,s.id)}},U.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},U.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(b.braceL);!this.eat(b.braceR);){if(i)i=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var n=this.startNode();n.local=this.parseIdent(!0),n.exported=this.eatContextual("as")?this.parseIdent(!0):n.local,this.checkExport(t,n.exported.name,n.exported.start),e.push(this.finishNode(n,"ExportSpecifier"))}return e},U.parseImport=function(t){return this.next(),this.type===b.string?(t.specifiers=G,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===b.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},U.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===b.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,2),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(b.comma))return t}if(this.type===b.star){var n=this.startNode();return this.next(),this.expectContextual("as"),n.local=this.parseIdent(),this.checkLVal(n.local,2),t.push(this.finishNode(n,"ImportNamespaceSpecifier")),t}for(this.expect(b.braceL);!this.eat(b.braceR);){if(e)e=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var s=this.startNode();s.imported=this.parseIdent(!0),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLVal(s.local,2),t.push(this.finishNode(s,"ImportSpecifier"))}return t},U.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},U.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var Z=D.prototype;Z.toAssignable=function(t,e,i){if(6<=this.options.ecmaVersion&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.toAssignable(r,e),"RestElement"!==r.type||"ArrayPattern"!==r.argument.type&&"ObjectPattern"!==r.argument.type||this.raise(r.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},Z.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var s=t[n];s&&this.toAssignable(s,e)}if(i){var r=t[i-1];6===this.options.ecmaVersion&&e&&r&&"RestElement"===r.type&&"Identifier"!==r.argument.type&&this.unexpected(r.argument.start)}return t},Z.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},Z.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==b.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},Z.parseBindingAtom=function(){if(6<=this.options.ecmaVersion)switch(this.type){case b.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(b.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case b.braceL:return this.parseObj(!0)}return this.parseIdent()},Z.parseBindingList=function(t,e,i){for(var n=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(b.comma),e&&this.type===b.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===b.ellipsis){var r=this.parseRestBinding();this.parseBindingListItem(r),n.push(r),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}var a=this.parseMaybeDefault(this.start,this.startLoc);this.parseBindingListItem(a),n.push(a)}return n},Z.parseBindingListItem=function(t){return t},Z.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(b.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},Z.checkLVal=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Identifier":2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(E(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),0!==e&&5!==e&&this.declareName(t.name,e,t.start);break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var n=0,s=t.properties;n<s.length;n+=1){var r=s[n];this.checkLVal(r,e,i)}break;case"Property":this.checkLVal(t.value,e,i);break;case"ArrayPattern":for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLVal(l,e,i)}break;case"AssignmentPattern":this.checkLVal(t.left,e,i);break;case"RestElement":this.checkLVal(t.argument,e,i);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,i);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var X=D.prototype;X.checkPropClash=function(t,e,i){if(!(9<=this.options.ecmaVersion&&"SpreadElement"===t.type||6<=this.options.ecmaVersion&&(t.computed||t.method||t.shorthand))){var n,s=t.key;switch(s.type){case"Identifier":n=s.name;break;case"Literal":n=String(s.value);break;default:return}var r=t.kind;if(6<=this.options.ecmaVersion)"__proto__"===n&&"init"===r&&(e.proto&&(i&&i.doubleProto<0?i.doubleProto=s.start:this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[n="$"+n];if(a)("init"===r?this.strict&&a.init||a.get||a.set:a.init||a[r])&&this.raiseRecoverable(s.start,"Redefinition of property");else a=e[n]={init:!1,get:!1,set:!1};a[r]=!0}}},X.parseExpression=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeAssign(t,e);if(this.type!==b.comma)return s;var r=this.startNodeAt(i,n);for(r.expressions=[s];this.eat(b.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")},X.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,s=-1,r=-1,a=-1;e?(s=e.parenthesizedAssign,r=e.trailingComma,a=e.shorthandAssign,e.parenthesizedAssign=e.trailingComma=e.shorthandAssign=-1):(e=new z,n=!0);var o=this.start,l=this.startLoc;this.type!==b.parenL&&this.type!==b.name||(this.potentialArrowAt=this.start);var u=this.parseMaybeConditional(t,e);if(i&&(u=i.call(this,u,o,l)),this.type.isAssign){var h=this.startNodeAt(o,l);return h.operator=this.value,h.left=this.type===b.eq?this.toAssignable(u,!1,e):u,n||z.call(e),e.shorthandAssign=-1,this.checkLVal(u),this.next(),h.right=this.parseMaybeAssign(t),this.finishNode(h,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),-1<s&&(e.parenthesizedAssign=s),-1<r&&(e.trailingComma=r),-1<a&&(e.shorthandAssign=a),u},X.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,s=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return s;if(this.eat(b.question)){var r=this.startNodeAt(i,n);return r.test=s,r.consequent=this.parseMaybeAssign(),this.expect(b.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return s},X.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,s=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?s:s.start===i&&"ArrowFunctionExpression"===s.type?s:this.parseExprOp(s,i,n,-1,t)},X.parseExprOp=function(t,e,i,n,s){var r=this.type.binop;if(null==r||s&&this.type===b._in||!(n<r))return t;var a=this.type===b.logicalOR||this.type===b.logicalAND,o=this.value;this.next();var l=this.start,u=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,r,s),c=this.buildBinary(e,i,t,h,o,a);return this.parseExprOp(c,e,i,n,s)},X.buildBinary=function(t,e,i,n,s,r){var a=this.startNodeAt(t,e);return a.left=i,a.operator=s,a.right=n,this.finishNode(a,r?"LogicalExpression":"BinaryExpression")},X.parseMaybeUnary=function(t,e){var i,n=this.start,s=this.startLoc;if(this.isContextual("await")&&(this.inAsync||!this.inFunction&&this.options.allowAwaitOutsideFunction))i=this.parseAwait(),e=!0;else if(this.type.prefix){var r=this.startNode(),a=this.type===b.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(r.argument):this.strict&&"delete"===r.operator&&"Identifier"===r.argument.type?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):e=!0,i=this.finishNode(r,a?"UpdateExpression":"UnaryExpression")}else{if(i=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var o=this.startNodeAt(n,s);o.operator=this.value,o.prefix=!1,o.argument=i,this.checkLVal(i),this.next(),i=this.finishNode(o,"UpdateExpression")}}return!e&&this.eat(b.starstar)?this.buildBinary(n,s,i,this.parseMaybeUnary(null,!1),"**",!1):i},X.parseExprSubscripts=function(t){var e=this.start,i=this.startLoc,n=this.parseExprAtom(t),s="ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(t)||s)return n;var r=this.parseSubscripts(n,e,i);return t&&"MemberExpression"===r.type&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1)),r},X.parseSubscripts=function(t,e,i,n){for(var s=8<=this.options.ecmaVersion&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(t.start,t.end);;){var r=this.parseSubscript(t,e,i,n,s);if(r===t||"ArrowFunctionExpression"===r.type)return r;t=r}},X.parseSubscript=function(t,e,i,n,s){var r=this.eat(b.bracketL);if(r||this.eat(b.dot)){var a=this.startNodeAt(e,i);a.object=t,a.property=r?this.parseExpression():this.parseIdent("never"!==this.options.allowReserved),a.computed=!!r,r&&this.expect(b.bracketR),t=this.finishNode(a,"MemberExpression")}else if(!n&&this.eat(b.parenL)){var o=new z,l=this.yieldPos,u=this.awaitPos,h=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var c=this.parseExprList(b.parenR,8<=this.options.ecmaVersion&&"Import"!==t.type,!1,o);if(s&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(o,!1),this.checkYieldAwaitInDefaultParams(),0<this.awaitIdentPos&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=l,this.awaitPos=u,this.awaitIdentPos=h,this.parseArrowExpression(this.startNodeAt(e,i),c,!0);this.checkExpressionErrors(o,!0),this.yieldPos=l||this.yieldPos,this.awaitPos=u||this.awaitPos,this.awaitIdentPos=h||this.awaitIdentPos;var d=this.startNodeAt(e,i);if(d.callee=t,d.arguments=c,"Import"===d.callee.type){1!==d.arguments.length&&this.raise(d.start,"import() requires exactly one argument");var f=d.arguments[0];f&&"SpreadElement"===f.type&&this.raise(f.start,"... is not allowed in import()")}t=this.finishNode(d,"CallExpression")}else if(this.type===b.backQuote){var p=this.startNodeAt(e,i);p.tag=t,p.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(p,"TaggedTemplateExpression")}return t},X.parseExprAtom=function(t){this.type===b.slash&&this.readRegexp();var e,i=this.potentialArrowAt===this.start;switch(this.type){case b._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),e=this.startNode(),this.next(),this.type!==b.parenL||this.allowDirectSuper||this.raise(e.start,"super() call outside constructor of a subclass"),this.type!==b.dot&&this.type!==b.bracketL&&this.type!==b.parenL&&this.unexpected(),this.finishNode(e,"Super");case b._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case b.name:var n=this.start,s=this.startLoc,r=this.containsEsc,a=this.parseIdent(!1);if(8<=this.options.ecmaVersion&&!r&&"async"===a.name&&!this.canInsertSemicolon()&&this.eat(b._function))return this.parseFunction(this.startNodeAt(n,s),0,!1,!0);if(i&&!this.canInsertSemicolon()){if(this.eat(b.arrow))return this.parseArrowExpression(this.startNodeAt(n,s),[a],!1);if(8<=this.options.ecmaVersion&&"async"===a.name&&this.type===b.name&&!r)return a=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(b.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,s),[a],!0)}return a;case b.regexp:var o=this.value;return(e=this.parseLiteral(o.value)).regex={pattern:o.pattern,flags:o.flags},e;case b.num:case b.string:return this.parseLiteral(this.value);case b._null:case b._true:case b._false:return(e=this.startNode()).value=this.type===b._null?null:this.type===b._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case b.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(i);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),u;case b.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(b.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case b.braceL:return this.parseObj(!1,t);case b._function:return e=this.startNode(),this.next(),this.parseFunction(e,0);case b._class:return this.parseClass(this.startNode(),!1);case b._new:return this.parseNew();case b.backQuote:return this.parseTemplate();case b._import:return 10<this.options.ecmaVersion?this.parseDynamicImport():this.unexpected();default:this.unexpected()}},X.parseDynamicImport=function(){var t=this.startNode();return this.next(),this.type!==b.parenL&&this.unexpected(),this.finishNode(t,"Import")},X.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1)),this.next(),this.finishNode(e,"Literal")},X.parseParenExpression=function(){this.expect(b.parenL);var t=this.parseExpression();return this.expect(b.parenR),t},X.parseParenAndDistinguishExpression=function(t){var e,i=this.start,n=this.startLoc,s=8<=this.options.ecmaVersion;if(6<=this.options.ecmaVersion){this.next();var r,a=this.start,o=this.startLoc,l=[],u=!0,h=!1,c=new z,d=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==b.parenR;){if(u?u=!1:this.expect(b.comma),s&&this.afterTrailingComma(b.parenR,!0)){h=!0;break}if(this.type===b.ellipsis){r=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element");break}l.push(this.parseMaybeAssign(!1,c,this.parseParenItem))}var p=this.start,_=this.startLoc;if(this.expect(b.parenR),t&&!this.canInsertSemicolon()&&this.eat(b.arrow))return this.checkPatternErrors(c,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=d,this.awaitPos=f,this.parseParenArrowList(i,n,l);l.length&&!h||this.unexpected(this.lastTokStart),r&&this.unexpected(r),this.checkExpressionErrors(c,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=f||this.awaitPos,1<l.length?((e=this.startNodeAt(a,o)).expressions=l,this.finishNodeAt(e,"SequenceExpression",p,_)):e=l[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var m=this.startNodeAt(i,n);return m.expression=e,this.finishNode(m,"ParenthesizedExpression")}return e},X.parseParenItem=function(t){return t},X.parseParenArrowList=function(t,e,i){return this.parseArrowExpression(this.startNodeAt(t,e),i)};var Y=[];X.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(6<=this.options.ecmaVersion&&this.eat(b.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),("target"!==t.property.name||i)&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inNonArrowFunction()||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty")}var n=this.start,s=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,s,!0),10<this.options.ecmaVersion&&"Import"===t.callee.type&&this.raise(t.callee.start,"Cannot use new with import(...)"),this.eat(b.parenL)?t.arguments=this.parseExprList(b.parenR,8<=this.options.ecmaVersion&&"Import"!==t.callee.type,!1):t.arguments=Y,this.finishNode(t,"NewExpression")},X.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===b.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===b.backQuote,this.finishNode(i,"TemplateElement")},X.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===b.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(b.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(b.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},X.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===b.name||this.type===b.num||this.type===b.string||this.type===b.bracketL||this.type.keyword||9<=this.options.ecmaVersion&&this.type===b.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},X.parseObj=function(t,e){var i=this.startNode(),n=!0,s={};for(i.properties=[],this.next();!this.eat(b.braceR);){if(n)n=!1;else if(this.expect(b.comma),this.afterTrailingComma(b.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,s,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},X.parseProperty=function(t,e){var i,n,s,r,a=this.startNode();if(9<=this.options.ecmaVersion&&this.eat(b.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===b.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(this.type===b.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),a.argument=this.parseMaybeAssign(!1,e),this.type===b.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));6<=this.options.ecmaVersion&&(a.method=!1,a.shorthand=!1,(t||e)&&(s=this.start,r=this.startLoc),t||(i=this.eat(b.star)));var o=this.containsEsc;return this.parsePropertyName(a),!t&&!o&&8<=this.options.ecmaVersion&&!i&&this.isAsyncProp(a)?(n=!0,i=9<=this.options.ecmaVersion&&this.eat(b.star),this.parsePropertyName(a,e)):n=!1,this.parsePropertyValue(a,t,i,n,s,r,e,o),this.finishNode(a,"Property")},X.parsePropertyValue=function(t,e,i,n,s,r,a,o){if((i||n)&&this.type===b.colon&&this.unexpected(),this.eat(b.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init";else if(6<=this.options.ecmaVersion&&this.type===b.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n);else if(e||o||!(5<=this.options.ecmaVersion)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===b.comma||this.type===b.braceR)6<=this.options.ecmaVersion&&!t.computed&&"Identifier"===t.key.type?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=s),t.kind="init",e?t.value=this.parseMaybeDefault(s,r,t.key):this.type===b.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(s,r,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(i||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var l="get"===t.kind?0:1;if(t.value.params.length!==l){var u=t.value.start;"get"===t.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},X.parsePropertyName=function(t){if(6<=this.options.ecmaVersion){if(this.eat(b.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(b.bracketR),t.key;t.computed=!1}return t.key=this.type===b.num||this.type===b.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},X.initFunction=function(t){t.id=null,6<=this.options.ecmaVersion&&(t.generator=t.expression=!1),8<=this.options.ecmaVersion&&(t.async=!1)},X.parseMethod=function(t,e,i){var n=this.startNode(),s=this.yieldPos,r=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(n),6<=this.options.ecmaVersion&&(n.generator=t),8<=this.options.ecmaVersion&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|q(e,n.generator)|(i?128:0)),this.expect(b.parenL),n.params=this.parseBindingList(b.parenR,!1,8<=this.options.ecmaVersion),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0),this.yieldPos=s,this.awaitPos=r,this.awaitIdentPos=a,this.finishNode(n,"FunctionExpression")},X.parseArrowExpression=function(t,e,i){var n=this.yieldPos,s=this.awaitPos,r=this.awaitIdentPos;return this.enterScope(16|q(i,!1)),this.initFunction(t),8<=this.options.ecmaVersion&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1),this.yieldPos=n,this.awaitPos=s,this.awaitIdentPos=r,this.finishNode(t,"ArrowFunctionExpression")},X.parseFunctionBody=function(t,e,i){var n=e&&this.type!==b.braceL,s=this.strict,r=!1;if(n)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var a=7<=this.options.ecmaVersion&&!this.isSimpleParamList(t.params);s&&!a||(r=this.strictDirective(this.end))&&a&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var o=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!s&&!r&&!e&&!i&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=o}this.exitScope(),this.strict&&t.id&&this.checkLVal(t.id,5),this.strict=s},X.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){if("Identifier"!==i[e].type)return!1}return!0},X.checkParams=function(t,e){for(var i={},n=0,s=t.params;n<s.length;n+=1){var r=s[n];this.checkLVal(r,1,e?null:i)}},X.parseExprList=function(t,e,i,n){for(var s=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(b.comma),e&&this.afterTrailingComma(t))break;var a=void 0;i&&this.type===b.comma?a=null:this.type===b.ellipsis?(a=this.parseSpread(n),n&&this.type===b.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):a=this.parseMaybeAssign(!1,n),s.push(a)}return s},X.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;(this.inGenerator&&"yield"===n&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))},X.parseIdent=function(t,e){var i=this.startNode();return this.type===b.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,"class"!==i.name&&"function"!==i.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(i,"Identifier"),t||(this.checkUnreserved(i),"await"!==i.name||this.awaitIdentPos||(this.awaitIdentPos=i.start)),i},X.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===b.semi||this.canInsertSemicolon()||this.type!==b.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(b.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},X.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var K=D.prototype;K.raise=function(t,e){var i=R(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n},K.raiseRecoverable=K.raise,K.curPosition=function(){if(this.options.locations)return new I(this.curLine,this.pos-this.lineStart)};var J=D.prototype,tt=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};J.enterScope=function(t){this.scopeStack.push(new tt(t))},J.exitScope=function(){this.scopeStack.pop()},J.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},J.declareName=function(t,e,i){var n=!1;if(2===e){var s=this.currentScope();n=-1<s.lexical.indexOf(t)||-1<s.functions.indexOf(t)||-1<s.var.indexOf(t),s.lexical.push(t),this.inModule&&1&s.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var r=this.currentScope();n=this.treatFunctionsAsVar?-1<r.lexical.indexOf(t):-1<r.lexical.indexOf(t)||-1<r.var.indexOf(t),r.functions.push(t)}else for(var a=this.scopeStack.length-1;0<=a;--a){var o=this.scopeStack[a];if(-1<o.lexical.indexOf(t)&&!(32&o.flags&&o.lexical[0]===t)||!this.treatFunctionsAsVarInScope(o)&&-1<o.functions.indexOf(t)){n=!0;break}if(o.var.push(t),this.inModule&&1&o.flags&&delete this.undefinedExports[t],3&o.flags)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},J.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},J.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},J.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags)return e}},J.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(3&e.flags&&!(16&e.flags))return e}};var et=function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new N(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},it=D.prototype;function nt(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}it.startNode=function(){return new et(this,this.start,this.startLoc)},it.startNodeAt=function(t,e){return new et(this,t,e)},it.finishNode=function(t,e){return nt.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};var st=function(t,e,i,n,s){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=n,this.generator=!!s},rt={b_stat:new st("{",!(it.finishNodeAt=function(t,e,i,n){return nt.call(this,t,e,i,n)})),b_expr:new st("{",!0),b_tmpl:new st("${",!1),p_stat:new st("(",!1),p_expr:new st("(",!0),q_tmpl:new st("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new st("function",!1),f_expr:new st("function",!0),f_expr_gen:new st("function",!0,!1,null,!0),f_gen:new st("function",!1,!1,null,!0)},at=D.prototype;at.initialContext=function(){return[rt.b_stat]},at.braceIsBlock=function(t){var e=this.curContext();return e===rt.f_expr||e===rt.f_stat||(t!==b.colon||e!==rt.b_stat&&e!==rt.b_expr?t===b._return||t===b.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):t===b._else||t===b.semi||t===b.eof||t===b.parenR||t===b.arrow||(t===b.braceL?e===rt.b_stat:t!==b._var&&t!==b._const&&t!==b.name&&!this.exprAllowed):!e.isExpr)},at.inGeneratorContext=function(){for(var t=this.context.length-1;1<=t;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},at.updateContext=function(t){var e,i=this.type;i.keyword&&t===b.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},b.parenR.updateContext=b.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===rt.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},b.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?rt.b_stat:rt.b_expr),this.exprAllowed=!0},b.dollarBraceL.updateContext=function(){this.context.push(rt.b_tmpl),this.exprAllowed=!0},b.parenL.updateContext=function(t){var e=t===b._if||t===b._for||t===b._with||t===b._while;this.context.push(e?rt.p_stat:rt.p_expr),this.exprAllowed=!0},b.incDec.updateContext=function(){},b._function.updateContext=b._class.updateContext=function(t){!t.beforeExpr||t===b.semi||t===b._else||t===b._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(t===b.colon||t===b.braceL)&&this.curContext()===rt.b_stat?this.context.push(rt.f_stat):this.context.push(rt.f_expr),this.exprAllowed=!1},b.backQuote.updateContext=function(){this.curContext()===rt.q_tmpl?this.context.pop():this.context.push(rt.q_tmpl),this.exprAllowed=!1},b.star.updateContext=function(t){if(t===b._function){var e=this.context.length-1;this.context[e]===rt.f_expr?this.context[e]=rt.f_expr_gen:this.context[e]=rt.f_gen}this.exprAllowed=!0},b.name.updateContext=function(t){var e=!1;6<=this.options.ecmaVersion&&t!==b.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var ot="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",lt=ot+" Extended_Pictographic",ut={9:ot,10:lt,11:"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS Extended_Pictographic"},ht="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ct="Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",dt=ct+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ft={9:ct,10:dt,11:"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho"},pt={};function _t(t){var e=pt[t]={binary:M(ut[t]+" "+ht),nonBinary:{General_Category:M(ht),Script:M(ft[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}_t(9),_t(10),_t(11);var mt=D.prototype,gt=function(t){this.parser=t,this.validFlags="gim"+(6<=t.options.ecmaVersion?"uy":"")+(9<=t.options.ecmaVersion?"s":""),this.unicodeProperties=pt[11<=t.options.ecmaVersion?11:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};function vt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}function yt(t){return 36===t||40<=t&&t<=43||46===t||63===t||91<=t&&t<=94||123<=t&&t<=125}function bt(t){return 65<=t&&t<=90||97<=t&&t<=122}function wt(t){return bt(t)||95===t}function xt(t){return 48<=t&&t<=57}function St(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Tt(t){return 65<=t&&t<=70?t-65+10:97<=t&&t<=102?t-97+10:t-48}function kt(t){return 48<=t&&t<=55}gt.prototype.reset=function(t,e,i){var n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,this.switchU=n&&6<=this.parser.options.ecmaVersion,this.switchN=n&&9<=this.parser.options.ecmaVersion},gt.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},gt.prototype.at=function(t){var e=this.source,i=e.length;if(i<=t)return-1;var n=e.charCodeAt(t);if(!this.switchU||n<=55295||57344<=n||i<=t+1)return n;var s=e.charCodeAt(t+1);return 56320<=s&&s<=57343?(n<<10)+s-56613888:n},gt.prototype.nextIndex=function(t){var e=this.source,i=e.length;if(i<=t)return i;var n,s=e.charCodeAt(t);return!this.switchU||s<=55295||57344<=s||i<=t+1||(n=e.charCodeAt(t+1))<56320||57343<n?t+1:t+2},gt.prototype.current=function(){return this.at(this.pos)},gt.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},gt.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},gt.prototype.eat=function(t){return this.current()===t&&(this.advance(),!0)},mt.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=0;n<i.length;n++){var s=i.charAt(n);-1===e.indexOf(s)&&this.raise(t.start,"Invalid regular expression flag"),-1<i.indexOf(s,n+1)&&this.raise(t.start,"Duplicate regular expression flag")}},mt.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&9<=this.options.ecmaVersion&&0<t.groupNames.length&&(t.switchN=!0,this.regexp_pattern(t))},mt.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];-1===t.groupNames.indexOf(n)&&t.raise("Invalid named capture referenced")}},mt.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},mt.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},mt.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!(t.switchU?!this.regexp_eatAtom(t):!this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},mt.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(9<=this.options.ecmaVersion&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},mt.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},mt.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},mt.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,s=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue),t.eat(125)))return-1!==s&&s<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},mt.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},mt.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},mt.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},mt.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(9<=this.options.ecmaVersion?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},mt.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},mt.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},mt.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!yt(e)&&(t.lastIntValue=e,t.advance(),!0)},mt.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;-1!==(i=t.current())&&!yt(i);)t.advance();return t.pos!==e},mt.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||40<=e&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},mt.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},mt.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},mt.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=vt(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=vt(t.lastIntValue);return!0}return!1},mt.regexp_eatRegExpIdentifierStart=function(t){var e,i=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),d(e=n,!0)||36===e||95===e?(t.lastIntValue=n,!0):(t.pos=i,!1)},mt.regexp_eatRegExpIdentifierPart=function(t){var e,i=t.pos,n=t.current();return t.advance(),92===n&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(n=t.lastIntValue),f(e=n,!0)||36===e||95===e||8204===e||8205===e?(t.lastIntValue=n,!0):(t.pos=i,!1)},mt.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},mt.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},mt.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},mt.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},mt.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},mt.regexp_eatZero=function(t){return 48===t.current()&&!xt(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},mt.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},mt.regexp_eatControlLetter=function(t){var e=t.current();return!!bt(e)&&(t.lastIntValue=e%32,t.advance(),!0)},mt.regexp_eatRegExpUnicodeEscapeSequence=function(t){var e,i=t.pos;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(t.switchU&&55296<=n&&n<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(56320<=r&&r<=57343)return t.lastIntValue=1024*(n-55296)+(r-56320)+65536,!0}t.pos=s,t.lastIntValue=n}return!0}if(t.switchU&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&(0<=(e=t.lastIntValue)&&e<=1114111))return!0;t.switchU&&t.raise("Invalid unicode escape"),t.pos=i}return!1},mt.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},mt.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(49<=e&&e<=57){for(;t.lastIntValue=10*t.lastIntValue+(e-48),t.advance(),48<=(e=t.current())&&e<=57;);return!0}return!1},mt.regexp_eatCharacterClassEscape=function(t){var e,i=t.current();if(100===(e=i)||68===e||115===e||83===e||119===e||87===e)return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&9<=this.options.ecmaVersion&&(80===i||112===i)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},mt.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,s),!0}return!1},mt.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){E(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},mt.regexp_validateUnicodePropertyNameOrValue=function(t,e){t.unicodeProperties.binary.test(e)||t.raise("Invalid property name")},mt.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";wt(e=t.current());)t.lastStringValue+=vt(e),t.advance();return""!==t.lastStringValue},mt.regexp_eatUnicodePropertyValue=function(t){var e,i=0;for(t.lastStringValue="";wt(e=i=t.current())||xt(e);)t.lastStringValue+=vt(i),t.advance();return""!==t.lastStringValue},mt.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},mt.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},mt.regexp_classRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;!t.switchU||-1!==e&&-1!==i||t.raise("Invalid character class"),-1!==e&&-1!==i&&i<e&&t.raise("Range out of order in character class")}}},mt.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||kt(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return 93!==n&&(t.lastIntValue=n,t.advance(),!0)},mt.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},mt.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!xt(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},mt.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},mt.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;xt(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},mt.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;St(i=t.current());)t.lastIntValue=16*t.lastIntValue+Tt(i),t.advance();return t.pos!==e},mt.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},mt.regexp_eatOctalDigit=function(t){var e=t.current();return kt(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},mt.regexp_eatFixedHexDigits=function(t,e){for(var i=t.pos,n=t.lastIntValue=0;n<e;++n){var s=t.current();if(!St(s))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Tt(s),t.advance()}return!0};var At=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new N(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},Ct=D.prototype;function Pt(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}Ct.next=function(){this.options.onToken&&this.options.onToken(new At(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},Ct.getToken=function(){return this.next(),new At(this)},"undefined"!=typeof Symbol&&(Ct[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===b.eof,value:t}}}}),Ct.curContext=function(){return this.context[this.context.length-1]},Ct.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(b.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},Ct.readToken=function(t){return d(t,6<=this.options.ecmaVersion)||92===t?this.readWord():this.getTokenFromCode(t)},Ct.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);return t<=55295||57344<=t?t:(t<<10)+this.input.charCodeAt(this.pos+1)-56613888},Ct.skipBlockComment=function(){var t,e=this.options.onComment&&this.curPosition(),i=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(x.lastIndex=i;(t=x.exec(this.input))&&t.index<this.pos;)++this.curLine,this.lineStart=t.index+t[0].length;this.options.onComment&&this.options.onComment(!0,this.input.slice(i+2,n),i,this.pos,e,this.curPosition())},Ct.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!S(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},Ct.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(8<t&&t<14||5760<=t&&T.test(String.fromCharCode(t))))break t;++this.pos}}},Ct.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},Ct.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(48<=t&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return 6<=this.options.ecmaVersion&&46===t&&46===e?(this.pos+=3,this.finishToken(b.ellipsis)):(++this.pos,this.finishToken(b.dot))},Ct.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(b.assign,2):this.finishOp(b.slash,1)},Ct.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=42===t?b.star:b.modulo;return 7<=this.options.ecmaVersion&&42===t&&42===e&&(++i,n=b.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(b.assign,i+1):this.finishOp(n,i)},Ct.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?b.logicalOR:b.logicalAND,2):61===e?this.finishOp(b.assign,2):this.finishOp(124===t?b.bitwiseOR:b.bitwiseAND,1)},Ct.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(b.assign,2):this.finishOp(b.bitwiseXOR,1)},Ct.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!w.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(b.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(b.assign,2):this.finishOp(b.plusMin,1)},Ct.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(b.assign,i+1):this.finishOp(b.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(b.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},Ct.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(b.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&6<=this.options.ecmaVersion?(this.pos+=2,this.finishToken(b.arrow)):this.finishOp(61===t?b.eq:b.prefix,1)},Ct.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(b.parenL);case 41:return++this.pos,this.finishToken(b.parenR);case 59:return++this.pos,this.finishToken(b.semi);case 44:return++this.pos,this.finishToken(b.comma);case 91:return++this.pos,this.finishToken(b.bracketL);case 93:return++this.pos,this.finishToken(b.bracketR);case 123:return++this.pos,this.finishToken(b.braceL);case 125:return++this.pos,this.finishToken(b.braceR);case 58:return++this.pos,this.finishToken(b.colon);case 63:return++this.pos,this.finishToken(b.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(b.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(6<=this.options.ecmaVersion){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(b.prefix,1)}this.raise(this.pos,"Unexpected character '"+Pt(t)+"'")},Ct.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},Ct.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(w.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++this.pos}var s=this.input.slice(i,this.pos);++this.pos;var r=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(r);var o=this.regexpState||(this.regexpState=new gt(this));o.reset(i,s,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(s,a)}catch(t){}return this.finishToken(b.regexp,{pattern:s,flags:a,value:l})},Ct.readInt=function(t,e){for(var i=this.pos,n=0,s=0,r=null==e?1/0:e;s<r;++s){var a=this.input.charCodeAt(this.pos),o=void 0;if(t<=(o=97<=a?a-97+10:65<=a?a-65+10:48<=a&&a<=57?a-48:1/0))break;++this.pos,n=n*t+o}return this.pos===i||null!=e&&this.pos-i!==e?null:n},Ct.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return null==i&&this.raise(this.start+2,"Expected number in radix "+t),11<=this.options.ecmaVersion&&110===this.input.charCodeAt(this.pos)?(i="undefined"!=typeof BigInt?BigInt(this.input.slice(e,this.pos)):null,++this.pos):d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,i)},Ct.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10)||this.raise(e,"Invalid number");var i=2<=this.pos-e&&48===this.input.charCodeAt(e);i&&this.strict&&this.raise(e,"Invalid number"),i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1);var n=this.input.charCodeAt(this.pos);if(!i&&!t&&11<=this.options.ecmaVersion&&110===n){var s=this.input.slice(e,this.pos),r="undefined"!=typeof BigInt?BigInt(s):null;return++this.pos,d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(b.num,r)}46!==n||i||(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),69!==n&&101!==n||i||(43!==(n=this.input.charCodeAt(++this.pos))&&45!==n||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),d(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=this.input.slice(e,this.pos),o=i?parseInt(a,8):parseFloat(a);return this.finishToken(b.num,o)},Ct.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,1114111<t&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},Ct.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;92===n?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):(S(n,10<=this.options.ecmaVersion)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(b.string,e)};var Et={};Ct.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==Et)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},Ct.invalidStringToken=function(t,e){if(this.inTemplateElement&&9<=this.options.ecmaVersion)throw Et;this.raise(t,e)},Ct.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==b.template&&this.type!==b.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(b.template,t)):36===i?(this.pos+=2,this.finishToken(b.dollarBraceL)):(++this.pos,this.finishToken(b.backQuote));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(S(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},Ct.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(b.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},Ct.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Pt(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(48<=e&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return 255<n&&(i=i.slice(0,-1),n=parseInt(i,8)),this.pos+=i.length-1,e=this.input.charCodeAt(this.pos),"0"===i&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return S(e)?"":String.fromCharCode(e)}},Ct.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},Ct.readWord1=function(){for(var t="",e=!(this.containsEsc=!1),i=this.pos,n=6<=this.options.ecmaVersion;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(f(s,n))this.pos+=s<=65535?1:2;else{if(92!==s)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?d:f)(a,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Pt(a),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},Ct.readWord=function(){var t=this.readWord1(),e=b.name;return this.keywords.test(t)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+t),e=v[t]),this.finishToken(e,t)};D.acorn={Parser:D,version:"6.4.0",defaultOptions:L,Position:I,SourceLocation:N,getLineInfo:R,Node:et,TokenType:p,tokTypes:b,keywordTypes:v,TokContext:st,tokContexts:rt,isIdentifierChar:f,isIdentifierStart:d,Token:At,isNewLine:S,lineBreak:w,lineBreakG:x,nonASCIIwhitespace:T},t.Node=et,t.Parser=D,t.Position=I,t.SourceLocation=N,t.TokContext=st,t.Token=At,t.TokenType=p,t.defaultOptions=L,t.getLineInfo=R,t.isIdentifierChar=f,t.isIdentifierStart=d,t.isNewLine=S,t.keywordTypes=v,t.lineBreak=w,t.lineBreakG=x,t.nonASCIIwhitespace=T,t.parse=function(t,e){return D.parse(t,e)},t.parseExpressionAt=function(t,e,i){return D.parseExpressionAt(t,e,i)},t.tokContexts=rt,t.tokTypes=b,t.tokenizer=function(t,e){return D.tokenizer(t,e)},t.version="6.4.0",Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof i&&void 0!==e?s(i):"function"==typeof define&&define.amd?define(["exports"],s):s((n=n||self).acorn={})},{}],2:[function(t,e,i){},{}],3:[function(t,e,i){(function(s){var r=!!(s===s.window&&s.URL&&s.Blob&&s.Worker);function t(t,e){var i,n=this;if(e=e||{},r)return i=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new s.Worker(s.URL.createObjectURL(new s.Blob([i],{type:"text/javascript"})));this.self=e,this.self.postMessage=function(t){setTimeout(function(){n.onmessage({data:t})},0)},setTimeout(t.bind(e,e),0)}t.prototype.postMessage=function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)},e.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,i){var n;n=function(d){var f,p,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],_=Array.prototype.slice;if(d.event.fixHooks)for(var i=t.length;i;)d.event.fixHooks[t[--i]]=d.event.mouseHooks;var m=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],n,!1);else this.onmousewheel=n;d.data(this,"mousewheel-line-height",m.getLineHeight(this)),d.data(this,"mousewheel-page-height",m.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],n,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(t){var e,i=t||window.event,n=_.call(arguments,1),s=0,r=0,a=0,o=0,l=0;if((t=d.event.fix(i)).type="mousewheel","detail"in i&&(a=-1*i.detail),"wheelDelta"in i&&(a=i.wheelDelta),"wheelDeltaY"in i&&(a=i.wheelDeltaY),"wheelDeltaX"in i&&(r=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(r=-1*a,a=0),s=0===a?r:a,"deltaY"in i&&(s=a=-1*i.deltaY),"deltaX"in i&&(r=i.deltaX,0===a&&(s=-1*r)),0!==a||0!==r){if(1===i.deltaMode){var u=d.data(this,"mousewheel-line-height");s*=u,a*=u,r*=u}else if(2===i.deltaMode){var h=d.data(this,"mousewheel-page-height");s*=h,a*=h,r*=h}if(e=Math.max(Math.abs(a),Math.abs(r)),(!p||e<p)&&v(i,p=e)&&(p/=40),v(i,e)&&(s/=40,r/=40,a/=40),s=Math[1<=s?"floor":"ceil"](s/p),r=Math[1<=r?"floor":"ceil"](r/p),a=Math[1<=a?"floor":"ceil"](a/p),m.settings.normalizeOffset&&this.getBoundingClientRect){var c=this.getBoundingClientRect();o=t.clientX-c.left,l=t.clientY-c.top}return t.deltaX=r,t.deltaY=a,t.deltaFactor=p,t.offsetX=o,t.offsetY=l,t.deltaMode=0,n.unshift(t,s,r,a),f&&clearTimeout(f),f=setTimeout(g,200),(d.event.dispatch||d.event.handle).apply(this,n)}}function g(){p=null}function v(t,e){return m.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof i?e.exports=n:n(jQuery)},{}],5:[function(t,i,e){!function(t,e){"use strict";"object"==typeof i&&"object"==typeof i.exports?i.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(S,t){"use strict";var e=[],n=Object.getPrototypeOf,o=e.slice,_=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},l=e.push,s=e.indexOf,i={},r=i.toString,m=i.hasOwnProperty,a=m.toString,u=a.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},T=S.document,h={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var n,s,r=(i=i||T).createElement("script");if(r.text=t,e)for(n in h)(s=e[n]||e.getAttribute&&e.getAttribute(n))&&r.setAttribute(n,s);i.head.appendChild(r).parentNode.removeChild(r)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[r.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)};function c(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!v(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}k.fn=k.prototype={jquery:"3.5.1",constructor:k,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(i){return this.pushStack(k.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},k.extend=k.fn.extend=function(){var t,e,i,n,s,r,a=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[o]||{},o++),"object"==typeof a||v(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(t=arguments[o]))for(e in t)n=t[e],"__proto__"!==e&&a!==n&&(u&&n&&(k.isPlainObject(n)||(s=Array.isArray(n)))?(i=a[e],r=s&&!Array.isArray(i)?[]:s||k.isPlainObject(i)?i:{},s=!1,a[e]=k.extend(u,r,n)):void 0!==n&&(a[e]=n));return a},k.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==r.call(t))&&(!(e=n(t))||"function"==typeof(i=m.call(e,"constructor")&&e.constructor)&&a.call(i)===u)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,i){b(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(c(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){var i=e||[];return null!=t&&(c(Object(t))?k.merge(i,"string"==typeof t?[t]:t):l.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:s.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,a=!i;s<r;s++)!e(t[s],s)!==a&&n.push(t[s]);return n},map:function(t,e,i){var n,s,r=0,a=[];if(c(t))for(n=t.length;r<n;r++)null!=(s=e(t[r],r,i))&&a.push(s);else for(r in t)null!=(s=e(t[r],r,i))&&a.push(s);return _(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=e[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var d=function(i){var t,f,b,r,s,p,c,_,w,l,u,x,S,a,T,m,o,h,g,k="sizzle"+1*new Date,d=i.document,A=0,n=0,v=lt(),y=lt(),C=lt(),P=lt(),E=function(t,e){return t===e&&(u=!0),0},O={}.hasOwnProperty,e=[],M=e.pop,I=e.push,N=e.push,R=e.slice,L=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="[\\x20\\t\\r\\n\\f]",D="(?:\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+q+"*("+D+")(?:"+q+"*([*^$|!~]?=)"+q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+D+"))|)"+q+"*\\]",j=":("+D+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",V=new RegExp(q+"+","g"),z=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),U=new RegExp("^"+q+"*,"+q+"*"),W=new RegExp("^"+q+"*([>+~]|"+q+")"+q+"*"),H=new RegExp(q+"|>"),G=new RegExp(j),Q=new RegExp("^"+D+"$"),$={ID:new RegExp("^#("+D+")"),CLASS:new RegExp("^\\.("+D+")"),TAG:new RegExp("^("+D+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)","i")},Z=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+q+"?|\\\\([^\\r\\n\\f])","g"),it=function(t,e){var i="0x"+t.slice(1)-65536;return e||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},nt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,st=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},rt=function(){x()},at=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(e=R.call(d.childNodes),d.childNodes),e[d.childNodes.length].nodeType}catch(t){N={apply:e.length?function(t,e){I.apply(t,R.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function ot(e,t,i,n){var s,r,a,o,l,u,h,c=t&&t.ownerDocument,d=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return i;if(!n&&(x(t),t=t||S,T)){if(11!==d&&(l=J.exec(e)))if(s=l[1]){if(9===d){if(!(a=t.getElementById(s)))return i;if(a.id===s)return i.push(a),i}else if(c&&(a=c.getElementById(s))&&g(t,a)&&a.id===s)return i.push(a),i}else{if(l[2])return N.apply(i,t.getElementsByTagName(e)),i;if((s=l[3])&&f.getElementsByClassName&&t.getElementsByClassName)return N.apply(i,t.getElementsByClassName(s)),i}if(f.qsa&&!P[e+" "]&&(!m||!m.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(h=e,c=t,1===d&&(H.test(e)||W.test(e))){for((c=tt.test(e)&&gt(t.parentNode)||t)===t&&f.scope||((o=t.getAttribute("id"))?o=o.replace(nt,st):t.setAttribute("id",o=k)),r=(u=p(e)).length;r--;)u[r]=(o?"#"+o:":scope")+" "+yt(u[r]);h=u.join(",")}try{return N.apply(i,c.querySelectorAll(h)),i}catch(t){P(e,!0)}finally{o===k&&t.removeAttribute("id")}}}return _(e.replace(z,"$1"),t,i,n)}function lt(){var n=[];return function t(e,i){return n.push(e+" ")>b.cacheLength&&delete t[n.shift()],t[e+" "]=i}}function ut(t){return t[k]=!0,t}function ht(t){var e=S.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ct(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function dt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ft(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pt(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function _t(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&at(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function mt(a){return ut(function(r){return r=+r,ut(function(t,e){for(var i,n=a([],t.length,r),s=n.length;s--;)t[i=n[s]]&&(t[i]=!(e[i]=t[i]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in f=ot.support={},s=ot.isXML=function(t){var e=t.namespaceURI,i=(t.ownerDocument||t).documentElement;return!Z.test(e||i&&i.nodeName||"HTML")},x=ot.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:d;return n!=S&&9===n.nodeType&&n.documentElement&&(a=(S=n).documentElement,T=!s(S),d!=S&&(i=S.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",rt,!1):i.attachEvent&&i.attachEvent("onunload",rt)),f.scope=ht(function(t){return a.appendChild(t).appendChild(S.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),f.attributes=ht(function(t){return t.className="i",!t.getAttribute("className")}),f.getElementsByTagName=ht(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),f.getElementsByClassName=K.test(S.getElementsByClassName),f.getById=ht(function(t){return a.appendChild(t).id=k,!S.getElementsByName||!S.getElementsByName(k).length}),f.getById?(b.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&T){var i=e.getElementById(t);return i?[i]:[]}}):(b.filter.ID=function(t){var i=t.replace(et,it);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&T){var i,n,s,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(s=e.getElementsByName(t),n=0;r=s[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),b.find.TAG=f.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):f.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;i=r[s++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=f.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&T)return e.getElementsByClassName(t)},o=[],m=[],(f.qsa=K.test(S.querySelectorAll))&&(ht(function(t){var e;a.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+q+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+q+"*(?:value|"+F+")"),t.querySelectorAll("[id~="+k+"-]").length||m.push("~="),(e=S.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+q+"*name"+q+"*="+q+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ht(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+q+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=K.test(h=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ht(function(t){f.disconnectedMatch=h.call(t,"*"),h.call(t,"[s!='']:x"),o.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),o=o.length&&new RegExp(o.join("|")),e=K.test(a.compareDocumentPosition),g=e||K.test(a.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!f.sortDetached&&e.compareDocumentPosition(t)===i?t==S||t.ownerDocument==d&&g(d,t)?-1:e==S||e.ownerDocument==d&&g(d,e)?1:l?L(l,t)-L(l,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,a=[t],o=[e];if(!s||!r)return t==S?-1:e==S?1:s?-1:r?1:l?L(l,t)-L(l,e):0;if(s===r)return dt(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)o.unshift(i);for(;a[n]===o[n];)n++;return n?dt(a[n],o[n]):a[n]==d?-1:o[n]==d?1:0}),S},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if(x(t),f.matchesSelector&&T&&!P[e+" "]&&(!o||!o.test(e))&&(!m||!m.test(e)))try{var i=h.call(t,e);if(i||f.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){P(e,!0)}return 0<ot(e,S,null,[t]).length},ot.contains=function(t,e){return(t.ownerDocument||t)!=S&&x(t),g(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!=S&&x(t);var i=b.attrHandle[e.toLowerCase()],n=i&&O.call(b.attrHandle,e.toLowerCase())?i(t,e,!T):void 0;return void 0!==n?n:f.attributes||!T?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},ot.escape=function(t){return(t+"").replace(nt,st)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],n=0,s=0;if(u=!f.detectDuplicates,l=!f.sortStable&&t.slice(0),t.sort(E),u){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return l=null,t},r=ot.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=r(e);return i},(b=ot.selectors={cacheLength:50,createPseudo:ut,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&G.test(i)&&(e=p(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=v[t+" "];return e||(e=new RegExp("(^|"+q+")"+t+"("+q+"|$)"))&&v(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,n,s){return function(t){var e=ot.attr(t,i);return null==e?"!="===n:!n||(e+="","="===n?e===s:"!="===n?e!==s:"^="===n?s&&0===e.indexOf(s):"*="===n?s&&-1<e.indexOf(s):"$="===n?s&&e.slice(-s.length)===s:"~="===n?-1<(" "+e.replace(V," ")+" ").indexOf(s):"|="===n&&(e===s||e.slice(0,s.length+1)===s+"-"))}},CHILD:function(p,t,e,_,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===t;return 1===_&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var n,s,r,a,o,l,u=g!==v?"nextSibling":"previousSibling",h=t.parentNode,c=y&&t.nodeName.toLowerCase(),d=!i&&!y,f=!1;if(h){if(g){for(;u;){for(a=t;a=a[u];)if(y?a.nodeName.toLowerCase()===c:1===a.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?h.firstChild:h.lastChild],v&&d){for(f=(o=(n=(s=(r=(a=h)[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===A&&n[1])&&n[2],a=o&&h.childNodes[o];a=++o&&a&&a[u]||(f=o=0)||l.pop();)if(1===a.nodeType&&++f&&a===t){s[p]=[A,o,f];break}}else if(d&&(f=o=(n=(s=(r=(a=t)[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===A&&n[1]),!1===f)for(;(a=++o&&a&&a[u]||(f=o=0)||l.pop())&&((y?a.nodeName.toLowerCase()!==c:1!==a.nodeType)||!++f||(d&&((s=(r=a[k]||(a[k]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]=[A,f]),a!==t)););return(f-=m)===_||f%_==0&&0<=f/_}}},PSEUDO:function(t,r){var e,a=b.pseudos[t]||b.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return a[k]?a(r):1<a.length?(e=[t,t,"",r],b.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,e){for(var i,n=a(t,r),s=n.length;s--;)t[i=L(t,n[s])]=!(e[i]=n[s])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ut(function(t){var n=[],s=[],o=c(t.replace(z,"$1"));return o[k]?ut(function(t,e,i,n){for(var s,r=o(t,null,n,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,e,i){return n[0]=t,o(n,null,i,s),n[0]=null,!s.pop()}}),has:ut(function(e){return function(t){return 0<ot(e,t).length}}),contains:ut(function(e){return e=e.replace(et,it),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:ut(function(i){return Q.test(i||"")||ot.error("unsupported lang: "+i),i=i.replace(et,it).toLowerCase(),function(t){var e;do{if(e=T?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:_t(!1),disabled:_t(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,i){return[i<0?i+e:i]}),even:mt(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:mt(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:mt(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:mt(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=pt(t);function vt(){}function yt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function bt(o,t,e){var l=t.dir,u=t.next,h=u||l,c=e&&"parentNode"===h,d=n++;return t.first?function(t,e,i){for(;t=t[l];)if(1===t.nodeType||c)return o(t,e,i);return!1}:function(t,e,i){var n,s,r,a=[A,d];if(i){for(;t=t[l];)if((1===t.nodeType||c)&&o(t,e,i))return!0}else for(;t=t[l];)if(1===t.nodeType||c)if(s=(r=t[k]||(t[k]={}))[t.uniqueID]||(r[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[l]||t;else{if((n=s[h])&&n[0]===A&&n[1]===d)return a[2]=n[2];if((s[h]=a)[2]=o(t,e,i))return!0}return!1}}function wt(s){return 1<s.length?function(t,e,i){for(var n=s.length;n--;)if(!s[n](t,e,i))return!1;return!0}:s[0]}function xt(t,e,i,n,s){for(var r,a=[],o=0,l=t.length,u=null!=e;o<l;o++)(r=t[o])&&(i&&!i(r,n,s)||(a.push(r),u&&e.push(o)));return a}function St(f,p,_,m,g,t){return m&&!m[k]&&(m=St(m)),g&&!g[k]&&(g=St(g,t)),ut(function(t,e,i,n){var s,r,a,o=[],l=[],u=e.length,h=t||function(t,e,i){for(var n=0,s=e.length;n<s;n++)ot(t,e[n],i);return i}(p||"*",i.nodeType?[i]:i,[]),c=!f||!t&&p?h:xt(h,o,f,i,n),d=_?g||(t?f:u||m)?[]:e:c;if(_&&_(c,d,i,n),m)for(s=xt(d,l),m(s,[],i,n),r=s.length;r--;)(a=s[r])&&(d[l[r]]=!(c[l[r]]=a));if(t){if(g||f){if(g){for(s=[],r=d.length;r--;)(a=d[r])&&s.push(c[r]=a);g(null,d=[],s,n)}for(r=d.length;r--;)(a=d[r])&&-1<(s=g?L(t,a):o[r])&&(t[s]=!(e[s]=a))}}else d=xt(d===e?d.splice(u,d.length):d),g?g(null,e,d,n):N.apply(e,d)})}function Tt(t){for(var s,e,i,n=t.length,r=b.relative[t[0].type],a=r||b.relative[" "],o=r?1:0,l=bt(function(t){return t===s},a,!0),u=bt(function(t){return-1<L(s,t)},a,!0),h=[function(t,e,i){var n=!r&&(i||e!==w)||((s=e).nodeType?l(t,e,i):u(t,e,i));return s=null,n}];o<n;o++)if(e=b.relative[t[o].type])h=[bt(wt(h),e)];else{if((e=b.filter[t[o].type].apply(null,t[o].matches))[k]){for(i=++o;i<n&&!b.relative[t[i].type];i++);return St(1<o&&wt(h),1<o&&yt(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(z,"$1"),e,o<i&&Tt(t.slice(o,i)),i<n&&Tt(t=t.slice(i)),i<n&&yt(t))}h.push(e)}return wt(h)}return vt.prototype=b.filters=b.pseudos,b.setFilters=new vt,p=ot.tokenize=function(t,e){var i,n,s,r,a,o,l,u=y[t+" "];if(u)return e?0:u.slice(0);for(a=t,o=[],l=b.preFilter;a;){for(r in i&&!(n=U.exec(a))||(n&&(a=a.slice(n[0].length)||a),o.push(s=[])),i=!1,(n=W.exec(a))&&(i=n.shift(),s.push({value:i,type:n[0].replace(z," ")}),a=a.slice(i.length)),b.filter)!(n=$[r].exec(a))||l[r]&&!(n=l[r](n))||(i=n.shift(),s.push({value:i,type:r,matches:n}),a=a.slice(i.length));if(!i)break}return e?a.length:a?ot.error(t):y(t,o).slice(0)},c=ot.compile=function(t,e){var i,m,g,v,y,n,s=[],r=[],a=C[t+" "];if(!a){for(e||(e=p(t)),i=e.length;i--;)(a=Tt(e[i]))[k]?s.push(a):r.push(a);(a=C(t,(m=r,v=0<(g=s).length,y=0<m.length,n=function(t,e,i,n,s){var r,a,o,l=0,u="0",h=t&&[],c=[],d=w,f=t||y&&b.find.TAG("*",s),p=A+=null==d?1:Math.random()||.1,_=f.length;for(s&&(w=e==S||e||s);u!==_&&null!=(r=f[u]);u++){if(y&&r){for(a=0,e||r.ownerDocument==S||(x(r),i=!T);o=m[a++];)if(o(r,e||S,i)){n.push(r);break}s&&(A=p)}v&&((r=!o&&r)&&l--,t&&h.push(r))}if(l+=u,v&&u!==l){for(a=0;o=g[a++];)o(h,c,e,i);if(t){if(0<l)for(;u--;)h[u]||c[u]||(c[u]=M.call(n));c=xt(c)}N.apply(n,c),s&&!t&&0<c.length&&1<l+g.length&&ot.uniqueSort(n)}return s&&(A=p,w=d),h},v?ut(n):n))).selector=t}return a},_=ot.select=function(t,e,i,n){var s,r,a,o,l,u="function"==typeof t&&t,h=!n&&p(t=u.selector||t);if(i=i||[],1===h.length){if(2<(r=h[0]=h[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===e.nodeType&&T&&b.relative[r[1].type]){if(!(e=(b.find.ID(a.matches[0].replace(et,it),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(s=$.needsContext.test(t)?0:r.length;s--&&(a=r[s],!b.relative[o=a.type]);)if((l=b.find[o])&&(n=l(a.matches[0].replace(et,it),tt.test(r[0].type)&&gt(e.parentNode)||e))){if(r.splice(s,1),!(t=n.length&&yt(r)))return N.apply(i,n),i;break}}return(u||c(t,h))(n,e,!T,i,!e||tt.test(t)&&gt(e.parentNode)||e),i},f.sortStable=k.split("").sort(E).join("")===k,f.detectDuplicates=!!u,x(),f.sortDetached=ht(function(t){return 1&t.compareDocumentPosition(S.createElement("fieldset"))}),ht(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),f.attributes&&ht(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ht(function(t){return null==t.getAttribute("disabled")})||ct(F,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),ot}(S);k.find=d,k.expr=d.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=d.uniqueSort,k.text=d.getText,k.isXMLDoc=d.isXML,k.contains=d.contains,k.escapeSelector=d.escape;var f=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&k(t).is(i))break;n.push(t)}return n},p=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},x=k.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,i,n){return v(i)?k.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?k.grep(t,function(t){return t===i!==n}):"string"!=typeof i?k.grep(t,function(t){return-1<s.call(i,t)!==n}):k.filter(i,t,n)}k.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?k.find.matchesSelector(n,t)?[n]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,i,n=this.length,s=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<n;e++)if(k.contains(s[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)k.find(t,s[e],i);return 1<n?k.uniqueSort(i):i},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&x.test(t)?k(t):t||[],!1).length}});var E,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,i){var n,s;if(!t)return this;if(i=i||E,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==i.ready?i.ready(t):t(k):k.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:O.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:T,!0)),C.test(n[1])&&k.isPlainObject(e))for(n in e)v(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(s=T.getElementById(n[2]))&&(this[0]=s,this.length=1),this}).prototype=k.fn,E=k(T);var M=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,s=this.length,r=[],a="string"!=typeof t&&k(t);if(!x.test(t))for(;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?-1<a.index(i):1===i.nodeType&&k.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(1<r.length?k.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?s.call(k(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return p((t.parentNode||{}).firstChild,t)},children:function(t){return p(t.firstChild)},contents:function(t){return null!=t.contentDocument&&n(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(n,s){k.fn[n]=function(t,e){var i=k.map(this,s,t);return"Until"!==n.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=k.filter(e,i)),1<this.length&&(I[n]||k.uniqueSort(i),M.test(n)&&i.reverse()),this.pushStack(i)}});var R=/[^\x20\t\r\n\f]+/g;function L(t){return t}function F(t){throw t}function q(t,e,i,n){var s;try{t&&v(s=t.promise)?s.call(t).done(e).fail(i):t&&v(s=t.then)?s.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}k.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},k.each(t.match(R)||[],function(t,e){i[e]=!0}),i):k.extend({},n);var s,e,r,a,o=[],l=[],u=-1,h=function(){for(a=a||n.once,r=s=!0;l.length;u=-1)for(e=l.shift();++u<o.length;)!1===o[u].apply(e[0],e[1])&&n.stopOnFalse&&(u=o.length,e=!1);n.memory||(e=!1),s=!1,a&&(o=e?[]:"")},c={add:function(){return o&&(e&&!s&&(u=o.length-1,l.push(e)),function i(t){k.each(t,function(t,e){v(e)?n.unique&&c.has(e)||o.push(e):e&&e.length&&"string"!==w(e)&&i(e)})}(arguments),e&&!s&&h()),this},remove:function(){return k.each(arguments,function(t,e){for(var i;-1<(i=k.inArray(e,o,i));)o.splice(i,1),i<=u&&u--}),this},has:function(t){return t?-1<k.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return a=l=[],o=e="",this},disabled:function(){return!o},lock:function(){return a=l=[],e||s||(o=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),s||h()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(t){var r=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],s="pending",a={state:function(){return s},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return a.then(null,t)},pipe:function(){var s=arguments;return k.Deferred(function(n){k.each(r,function(t,e){var i=v(s[e[4]])&&s[e[4]];o[e[1]](function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),s=null}).promise()},then:function(e,i,n){var l=0;function u(s,r,a,o){return function(){var i=this,n=arguments,t=function(){var t,e;if(!(s<l)){if((t=a.apply(i,n))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,v(e)?o?e.call(t,u(l,r,L,o),u(l,r,F,o)):(l++,e.call(t,u(l,r,L,o),u(l,r,F,o),u(l,r,L,r.notifyWith))):(a!==L&&(i=void 0,n=[t]),(o||r.resolveWith)(i,n))}},e=o?t:function(){try{t()}catch(t){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(t,e.stackTrace),l<=s+1&&(a!==F&&(i=void 0,n=[t]),r.rejectWith(i,n))}};s?e():(k.Deferred.getStackHook&&(e.stackTrace=k.Deferred.getStackHook()),S.setTimeout(e))}}return k.Deferred(function(t){r[0][3].add(u(0,t,v(n)?n:L,t.notifyWith)),r[1][3].add(u(0,t,v(e)?e:L)),r[2][3].add(u(0,t,v(i)?i:F))}).promise()},promise:function(t){return null!=t?k.extend(t,a):a}},o={};return k.each(r,function(t,e){var i=e[2],n=e[5];a[e[1]]=i.add,n&&i.add(function(){s=n},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),i.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=i.fireWith}),a.promise(o),t&&t.call(o,o),o},when:function(t){var i=arguments.length,e=i,n=Array(e),s=o.call(arguments),r=k.Deferred(),a=function(e){return function(t){n[e]=this,s[e]=1<arguments.length?o.call(arguments):t,--i||r.resolveWith(n,s)}};if(i<=1&&(q(t,r.done(a(e)).resolve,r.reject,!i),"pending"===r.state()||v(s[e]&&s[e].then)))return r.then();for(;e--;)q(s[e],a(e),r.reject);return r.promise()}});var D=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){S.console&&S.console.warn&&t&&D.test(t.name)},k.readyException=function(t){S.setTimeout(function(){throw t})};var B=k.Deferred();function j(){T.removeEventListener("DOMContentLoaded",j),S.removeEventListener("load",j),k.ready()}k.fn.ready=function(t){return B.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0)!==t&&0<--k.readyWait||B.resolveWith(T,[k])}}),k.ready.then=B.then,"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?S.setTimeout(k.ready):(T.addEventListener("DOMContentLoaded",j),S.addEventListener("load",j));var V=function(t,e,i,n,s,r,a){var o=0,l=t.length,u=null==i;if("object"===w(i))for(o in s=!0,i)V(t,e,o,i[o],!0,r,a);else if(void 0!==n&&(s=!0,v(n)||(a=!0),u&&(e=a?(e.call(t,n),null):(u=e,function(t,e,i){return u.call(k(t),i)})),e))for(;o<l;o++)e(t[o],i,a?n:n.call(t[o],o,e(t[o],i)));return s?t:u?e.call(t):l?e(t[0],i):r},z=/^-ms-/,U=/-([a-z])/g;function W(t,e){return e.toUpperCase()}function H(t){return t.replace(z,"ms-").replace(U,W)}var G=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(t){var e=t[this.expando];return e||(e={},G(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[H(e)]=i;else for(n in e)s[H(n)]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][H(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(H):(e=H(e))in n?[e]:e.match(R)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||k.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var $=new Q,Z=new Q,X=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function K(t,e,i){var n,s;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Y,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(s=i)||"false"!==s&&("null"===s?null:s===+s+""?+s:X.test(s)?JSON.parse(s):s)}catch(t){}Z.set(t,e,i)}else i=void 0;return i}k.extend({hasData:function(t){return Z.hasData(t)||$.hasData(t)},data:function(t,e,i){return Z.access(t,e,i)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,i){return $.access(t,e,i)},_removeData:function(t,e){$.remove(t,e)}}),k.fn.extend({data:function(i,t){var e,n,s,r=this[0],a=r&&r.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Z.set(this,i)}):V(this,function(t){var e;if(r&&void 0===t)return void 0!==(e=Z.get(r,i))?e:void 0!==(e=K(r,i))?e:void 0;this.each(function(){Z.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(s=Z.get(r),1===r.nodeType&&!$.get(r,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(n=a[e].name).indexOf("data-")&&(n=H(n.slice(5)),K(r,n,s[n]));$.set(r,"hasDataAttrs",!0)}return s},removeData:function(t){return this.each(function(){Z.remove(this,t)})}}),k.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=$.get(t,e),i&&(!n||Array.isArray(i)?n=$.access(t,e,k.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=k.queue(t,e),n=i.length,s=i.shift(),r=k._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,function(){k.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return $.get(t,i)||$.access(t,i,{empty:k.Callbacks("once memory").add(function(){$.remove(t,[e+"queue",i])})})}}),k.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?k.queue(this[0],e):void 0===i?this:this.each(function(){var t=k.queue(this,e,i);k._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&k.dequeue(this,e)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=k.Deferred(),r=this,a=this.length,o=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=$.get(r[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(e)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],it=T.documentElement,nt=function(t){return k.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(nt=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var rt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&nt(t)&&"none"===k.css(t,"display")};function at(t,e,i,n){var s,r,a=20,o=n?function(){return n.cur()}:function(){return k.css(t,e,"")},l=o(),u=i&&i[3]||(k.cssNumber[e]?"":"px"),h=t.nodeType&&(k.cssNumber[e]||"px"!==u&&+l)&&tt.exec(k.css(t,e));if(h&&h[3]!==u){for(l/=2,u=u||h[3],h=+l||1;a--;)k.style(t,e,h+u),(1-r)*(1-(r=o()/l||.5))<=0&&(a=0),h/=r;h*=2,k.style(t,e,h+u),i=i||[]}return i&&(h=+h||+l||0,s=i[1]?h+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=h,n.end=s)),s}var ot={};function lt(t,e){for(var i,n,s,r,a,o,l,u=[],h=0,c=t.length;h<c;h++)(n=t[h]).style&&(i=n.style.display,e?("none"===i&&(u[h]=$.get(n,"display")||null,u[h]||(n.style.display="")),""===n.style.display&&rt(n)&&(u[h]=(l=a=r=void 0,a=(s=n).ownerDocument,o=s.nodeName,(l=ot[o])||(r=a.body.appendChild(a.createElement(o)),l=k.css(r,"display"),r.parentNode.removeChild(r),"none"===l&&(l="block"),ot[o]=l)))):"none"!==i&&(u[h]="none",$.set(n,"display",i)));for(h=0;h<c;h++)null!=u[h]&&(t[h].style.display=u[h]);return t}k.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){rt(this)?k(this).show():k(this).hide()})}});var ut,ht,ct=/^(?:checkbox|radio)$/i,dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ft=/^$|^module$|\/(?:java|ecma)script/i;ut=T.createDocumentFragment().appendChild(T.createElement("div")),(ht=T.createElement("input")).setAttribute("type","radio"),ht.setAttribute("checked","checked"),ht.setAttribute("name","t"),ut.appendChild(ht),g.checkClone=ut.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ut.cloneNode(!0).lastChild.defaultValue,ut.innerHTML="<option></option>",g.option=!!ut.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?k.merge([t],i):i}function mt(t,e){for(var i=0,n=t.length;i<n;i++)$.set(t[i],"globalEval",!e||$.get(e[i],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,g.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var gt=/<|&#?\w+;/;function vt(t,e,i,n,s){for(var r,a,o,l,u,h,c=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===w(r))k.merge(d,r.nodeType?[r]:r);else if(gt.test(r)){for(a=a||c.appendChild(e.createElement("div")),o=(dt.exec(r)||["",""])[1].toLowerCase(),l=pt[o]||pt._default,a.innerHTML=l[1]+k.htmlPrefilter(r)+l[2],h=l[0];h--;)a=a.lastChild;k.merge(d,a.childNodes),(a=c.firstChild).textContent=""}else d.push(e.createTextNode(r));for(c.textContent="",f=0;r=d[f++];)if(n&&-1<k.inArray(r,n))s&&s.push(r);else if(u=nt(r),a=_t(c.appendChild(r),"script"),u&&mt(a),i)for(h=0;r=a[h++];)ft.test(r.type||"")&&i.push(r);return c}var yt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function St(){return!1}function Tt(t,e){return t===function(){try{return T.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,i,n,s,r){var a,o;if("object"==typeof e){for(o in"string"!=typeof i&&(n=n||i,i=void 0),e)kt(t,o,i,n,e[o],r);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=St;else if(!s)return t;return 1===r&&(a=s,(s=function(t){return k().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),t.each(function(){k.event.add(this,e,s,n,i)})}function At(t,s,r){r?($.set(t,s,!1),k.event.add(t,s,{namespace:!1,handler:function(t){var e,i,n=$.get(this,s);if(1&t.isTrigger&&this[s]){if(n.length)(k.event.special[s]||{}).delegateType&&t.stopPropagation();else if(n=o.call(arguments),$.set(this,s,n),e=r(this,s),this[s](),n!==(i=$.get(this,s))||e?$.set(this,s,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else n.length&&($.set(this,s,{value:k.event.trigger(k.extend(n[0],k.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,s)&&k.event.add(t,s,xt)}k.event={global:{},add:function(e,t,i,n,s){var r,a,o,l,u,h,c,d,f,p,_,m=$.get(e);if(G(e))for(i.handler&&(i=(r=i).handler,s=r.selector),s&&k.find.matchesSelector(it,s),i.guid||(i.guid=k.guid++),(l=m.events)||(l=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(R)||[""]).length;u--;)f=_=(o=wt.exec(t[u])||[])[1],p=(o[2]||"").split(".").sort(),f&&(c=k.event.special[f]||{},f=(s?c.delegateType:c.bindType)||f,c=k.event.special[f]||{},h=k.extend({type:f,origType:_,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&k.expr.match.needsContext.test(s),namespace:p.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,p,a)||e.addEventListener&&e.addEventListener(f,a)),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),k.event.global[f]=!0)},remove:function(t,e,i,n,s){var r,a,o,l,u,h,c,d,f,p,_,m=$.hasData(t)&&$.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(R)||[""]).length;u--;)if(f=_=(o=wt.exec(e[u])||[])[1],p=(o[2]||"").split(".").sort(),f){for(c=k.event.special[f]||{},d=l[f=(n?c.delegateType:c.bindType)||f]||[],o=o[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)h=d[r],!s&&_!==h.origType||i&&i.guid!==h.guid||o&&!o.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(d.splice(r,1),h.selector&&d.delegateCount--,c.remove&&c.remove.call(t,h));a&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,p,m.handle)||k.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)k.event.remove(t,f+e[u],i,n,!0);k.isEmptyObject(l)&&$.remove(t,"handle events")}},dispatch:function(t){var e,i,n,s,r,a,o=new Array(arguments.length),l=k.event.fix(t),u=($.get(this,"events")||Object.create(null))[l.type]||[],h=k.event.special[l.type]||{};for(o[0]=l,e=1;e<arguments.length;e++)o[e]=arguments[e];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,u),e=0;(s=a[e++])&&!l.isPropagationStopped();)for(l.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==r.namespace&&!l.rnamespace.test(r.namespace)||(l.handleObj=r,l.data=r.data,void 0!==(n=((k.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,o))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(t,e){var i,n,s,r,a,o=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(r=[],a={},i=0;i<l;i++)void 0===a[s=(n=e[i]).selector+" "]&&(a[s]=n.needsContext?-1<k(s,this).index(u):k.find(s,this,null,[u]).length),a[s]&&r.push(n);r.length&&o.push({elem:u,handlers:r})}return u=this,l<e.length&&o.push({elem:u,handlers:e.slice(l)}),o},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ct.test(e.type)&&e.click&&A(e,"input")&&At(e,"click",xt),!1},trigger:function(t){var e=this||t;return ct.test(e.type)&&e.click&&A(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return ct.test(e.type)&&e.click&&A(e,"input")&&$.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(t,e){k.event.special[t]={setup:function(){return At(this,t,Tt),!1},trigger:function(){return At(this,t),!0},delegateType:e}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,s){k.event.special[t]={delegateType:s,bindType:s,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||k.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=s),e}}}),k.fn.extend({on:function(t,e,i,n){return kt(this,t,e,i,n)},one:function(t,e,i,n){return kt(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,k(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=St),this.each(function(){k.event.remove(this,t,i,e)});for(s in t)this.off(s,e,t[s]);return this}});var Ct=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Et=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Nt(t,e){var i,n,s,r,a,o;if(1===e.nodeType){if($.hasData(t)&&(o=$.get(t).events))for(s in $.remove(e,"handle events"),o)for(i=0,n=o[s].length;i<n;i++)k.event.add(e,s,o[s][i]);Z.hasData(t)&&(r=Z.access(t),a=k.extend({},r),Z.set(e,a))}}function Rt(i,n,s,r){n=_(n);var t,e,a,o,l,u,h=0,c=i.length,d=c-1,f=n[0],p=v(f);if(p||1<c&&"string"==typeof f&&!g.checkClone&&Pt.test(f))return i.each(function(t){var e=i.eq(t);p&&(n[0]=f.call(this,t,e.html())),Rt(e,n,s,r)});if(c&&(e=(t=vt(n,i[0].ownerDocument,!1,i,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(o=(a=k.map(_t(t,"script"),Mt)).length;h<c;h++)l=t,h!==d&&(l=k.clone(l,!0,!0),o&&k.merge(a,_t(l,"script"))),s.call(i[h],l,h);if(o)for(u=a[a.length-1].ownerDocument,k.map(a,It),h=0;h<o;h++)l=a[h],ft.test(l.type||"")&&!$.access(l,"globalEval")&&k.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):b(l.textContent.replace(Et,""),l,u))}return i}function Lt(t,e,i){for(var n,s=e?k.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||k.cleanData(_t(n)),n.parentNode&&(i&&nt(n)&&mt(_t(n,"script")),n.parentNode.removeChild(n));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,s,r,a,o,l,u,h=t.cloneNode(!0),c=nt(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(a=_t(h),n=0,s=(r=_t(t)).length;n<s;n++)o=r[n],l=a[n],void 0,"input"===(u=l.nodeName.toLowerCase())&&ct.test(o.type)?l.checked=o.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=o.defaultValue);if(e)if(i)for(r=r||_t(t),a=a||_t(h),n=0,s=r.length;n<s;n++)Nt(r[n],a[n]);else Nt(t,h);return 0<(a=_t(h,"script")).length&&mt(a,!c&&_t(t,"script")),h},cleanData:function(t){for(var e,i,n,s=k.event.special,r=0;void 0!==(i=t[r]);r++)if(G(i)){if(e=i[$.expando]){if(e.events)for(n in e.events)s[n]?k.event.remove(i,n):k.removeEvent(i,n,e.handle);i[$.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Lt(this,t,!0)},remove:function(t){return Lt(this,t)},text:function(t){return V(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ct.test(t)&&!pt[(dt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(k.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Rt(this,arguments,function(t){var e=this.parentNode;k.inArray(this,i)<0&&(k.cleanData(_t(this)),e&&e.replaceChild(t,this))},i)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){k.fn[t]=function(t){for(var e,i=[],n=k(t),s=n.length-1,r=0;r<=s;r++)e=r===s?this:this.clone(!0),k(n[r])[a](e),l.apply(i,e.get());return this.pushStack(i)}});var Ft=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=S),e.getComputedStyle(t)},Dt=function(t,e,i){var n,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];for(s in n=i.call(t),e)t.style[s]=r[s];return n},Bt=new RegExp(et.join("|"),"i");function jt(t,e,i){var n,s,r,a,o=t.style;return(i=i||qt(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||nt(t)||(a=k.style(t,e)),!g.pixelBoxStyles()&&Ft.test(a)&&Bt.test(e)&&(n=o.width,s=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=s,o.maxWidth=r)),void 0!==a?a+"":a}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(l).appendChild(u);var t=S.getComputedStyle(u);i="1%"!==t.top,o=12===e(t.marginLeft),u.style.right="60%",r=36===e(t.right),n=36===e(t.width),u.style.position="absolute",s=12===e(u.offsetWidth/3),it.removeChild(l),u=null}}function e(t){return Math.round(parseFloat(t))}var i,n,s,r,a,o,l=T.createElement("div"),u=T.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return t(),n},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),o},scrollboxSize:function(){return t(),s},reliableTrDimensions:function(){var t,e,i,n;return null==a&&(t=T.createElement("table"),e=T.createElement("tr"),i=T.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",i.style.height="9px",it.appendChild(t).appendChild(e).appendChild(i),n=S.getComputedStyle(e),a=3<parseInt(n.height),it.removeChild(t)),a}}))}();var zt=["Webkit","Moz","ms"],Ut=T.createElement("div").style,Wt={};function Ht(t){var e=k.cssProps[t]||Wt[t];return e||(t in Ut?t:Wt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=zt.length;i--;)if((t=zt[i]+e)in Ut)return t}(t)||t)}var Gt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Zt={letterSpacing:"0",fontWeight:"400"};function Xt(t,e,i){var n=tt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Yt(t,e,i,n,s,r){var a="width"===e?1:0,o=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=k.css(t,i+et[a],!0,s)),n?("content"===i&&(l-=k.css(t,"padding"+et[a],!0,s)),"margin"!==i&&(l-=k.css(t,"border"+et[a]+"Width",!0,s))):(l+=k.css(t,"padding"+et[a],!0,s),"padding"!==i?l+=k.css(t,"border"+et[a]+"Width",!0,s):o+=k.css(t,"border"+et[a]+"Width",!0,s));return!n&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-o-.5))||0),l}function Kt(t,e,i){var n=qt(t),s=(!g.boxSizingReliable()||i)&&"border-box"===k.css(t,"boxSizing",!1,n),r=s,a=jt(t,e,n),o="offset"+e[0].toUpperCase()+e.slice(1);if(Ft.test(a)){if(!i)return a;a="auto"}return(!g.boxSizingReliable()&&s||!g.reliableTrDimensions()&&A(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,n))&&t.getClientRects().length&&(s="border-box"===k.css(t,"boxSizing",!1,n),(r=o in t)&&(a=t[o])),(a=parseFloat(a)||0)+Yt(t,e,i||(s?"border":"content"),r,n,a)+"px"}function Jt(t,e,i,n,s){return new Jt.prototype.init(t,e,i,n,s)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=jt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a,o=H(e),l=Qt.test(e),u=t.style;if(l||(e=Ht(o)),a=k.cssHooks[e]||k.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(t,!1,n))?s:u[e];"string"===(r=typeof i)&&(s=tt.exec(i))&&s[1]&&(i=at(t,e,s),r="number"),null!=i&&i==i&&("number"!==r||l||(i+=s&&s[3]||(k.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var s,r,a,o=H(e);return Qt.test(e)||(e=Ht(o)),(a=k.cssHooks[e]||k.cssHooks[o])&&"get"in a&&(s=a.get(t,!0,i)),void 0===s&&(s=jt(t,e,n)),"normal"===s&&e in Zt&&(s=Zt[e]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),k.each(["height","width"],function(t,l){k.cssHooks[l]={get:function(t,e,i){if(e)return!Gt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,l,i):Dt(t,$t,function(){return Kt(t,l,i)})},set:function(t,e,i){var n,s=qt(t),r=!g.scrollboxSize()&&"absolute"===s.position,a=(r||i)&&"border-box"===k.css(t,"boxSizing",!1,s),o=i?Yt(t,l,i,a,s):0;return a&&r&&(o-=Math.ceil(t["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(s[l])-Yt(t,l,"border",!1,s)-.5)),o&&(n=tt.exec(e))&&"px"!==(n[3]||"px")&&(t.style[l]=e,e=k.css(t,l)),Xt(0,e,o)}}}),k.cssHooks.marginLeft=Vt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(jt(t,"marginLeft"))||t.getBoundingClientRect().left-Dt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(s,r){k.cssHooks[s+r]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[s+et[e]+r]=n[e]||n[e-2]||n[0];return i}},"margin"!==s&&(k.cssHooks[s+r].set=Xt)}),k.fn.extend({css:function(t,e){return V(this,function(t,e,i){var n,s,r={},a=0;if(Array.isArray(e)){for(n=qt(t),s=e.length;a<s;a++)r[e[a]]=k.css(t,e[a],!1,n);return r}return void 0!==i?k.style(t,e,i):k.css(t,e)},t,e,1<arguments.length)}}),((k.Tween=Jt).prototype={constructor:Jt,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(k.cssNumber[i]?"":"px")},cur:function(){var t=Jt.propHooks[this.prop];return t&&t.get?t.get(this):Jt.propHooks._default.get(this)},run:function(t){var e,i=Jt.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Jt.propHooks._default.set(this),this}}).init.prototype=Jt.prototype,(Jt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Ht(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Jt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=Jt.prototype.init,k.fx.step={};var te,ee,ie,ne,se=/^(?:toggle|show|hide)$/,re=/queueHooks$/;function ae(){ee&&(!1===T.hidden&&S.requestAnimationFrame?S.requestAnimationFrame(ae):S.setTimeout(ae,k.fx.interval),k.fx.tick())}function oe(){return S.setTimeout(function(){te=void 0}),te=Date.now()}function le(t,e){var i,n=0,s={height:t};for(e=e?1:0;n<4;n+=2-e)s["margin"+(i=et[n])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function ue(t,e,i){for(var n,s=(he.tweeners[e]||[]).concat(he.tweeners["*"]),r=0,a=s.length;r<a;r++)if(n=s[r].call(i,e,t))return n}function he(r,t,e){var i,a,n=0,s=he.prefilters.length,o=k.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=te||oe(),e=Math.max(0,u.startTime+u.duration-t),i=1-(e/u.duration||0),n=0,s=u.tweens.length;n<s;n++)u.tweens[n].run(i);return o.notifyWith(r,[u,i,e]),i<1&&s?e:(s||o.notifyWith(r,[u,1,0]),o.resolveWith(r,[u]),!1)},u=o.promise({elem:r,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},e),originalProperties:t,originalOptions:e,startTime:te||oe(),duration:e.duration,tweens:[],createTween:function(t,e){var i=k.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var e=0,i=t?u.tweens.length:0;if(a)return this;for(a=!0;e<i;e++)u.tweens[e].run(1);return t?(o.notifyWith(r,[u,1,0]),o.resolveWith(r,[u,t])):o.rejectWith(r,[u,t]),this}}),h=u.props;for(!function(t,e){var i,n,s,r,a;for(i in t)if(s=e[n=H(i)],r=t[i],Array.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(a=k.cssHooks[n])&&"expand"in a)for(i in r=a.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=s);else e[n]=s}(h,u.opts.specialEasing);n<s;n++)if(i=he.prefilters[n].call(u,r,h,u.opts))return v(i.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return k.map(h,ue,u),v(u.opts.start)&&u.opts.start.call(r,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(he,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return at(i.elem,t,tt.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,s=(t=v(t)?(e=t,["*"]):t.match(R)).length;n<s;n++)i=t[n],he.tweeners[i]=he.tweeners[i]||[],he.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,s,r,a,o,l,u,h,c="width"in e||"height"in e,d=this,f={},p=t.style,_=t.nodeType&&rt(t),m=$.get(t,"fxshow");for(n in i.queue||(null==(a=k._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,k.queue(t,"fx").length||a.empty.fire()})})),e)if(s=e[n],se.test(s)){if(delete e[n],r=r||"toggle"===s,s===(_?"hide":"show")){if("show"!==s||!m||void 0===m[n])continue;_=!0}f[n]=m&&m[n]||k.style(t,n)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(f))for(n in c&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=$.get(t,"display")),"none"===(h=k.css(t,"display"))&&(u?h=u:(lt([t],!0),u=t.style.display||u,h=k.css(t,"display"),lt([t]))),("inline"===h||"inline-block"===h&&null!=u)&&"none"===k.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(h=p.display,u="none"===h?"":h)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(_=m.hidden):m=$.access(t,"fxshow",{display:u}),r&&(m.hidden=!_),_&&lt([t],!0),d.done(function(){for(n in _||lt([t]),$.remove(t,"fxshow"),f)k.style(t,n,f[n])})),l=ue(_?m[n]:0,n,d),n in m||(m[n]=l.start,_&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),k.speed=function(t,e,i){var n=t&&"object"==typeof t?k.extend({},t):{complete:i||!i&&e||v(t)&&t,duration:t,easing:i&&e||e&&!v(e)&&e};return k.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in k.fx.speeds?n.duration=k.fx.speeds[n.duration]:n.duration=k.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v(n.old)&&n.old.call(this),n.queue&&k.dequeue(this,n.queue)},n},k.fn.extend({fadeTo:function(t,e,i,n){return this.filter(rt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var s=k.isEmptyObject(e),r=k.speed(t,i,n),a=function(){var t=he(this,k.extend({},e),r);(s||$.get(this,"finish"))&&t.stop(!0)};return a.finish=a,s||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(s,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof s&&(r=t,t=s,s=void 0),t&&this.queue(s||"fx",[]),this.each(function(){var t=!0,e=null!=s&&s+"queueHooks",i=k.timers,n=$.get(this);if(e)n[e]&&n[e].stop&&a(n[e]);else for(e in n)n[e]&&n[e].stop&&re.test(e)&&a(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=s&&i[e].queue!==s||(i[e].anim.stop(r),t=!1,i.splice(e,1));!t&&r||k.dequeue(this,s)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=$.get(this),i=e[a+"queue"],n=e[a+"queueHooks"],s=k.timers,r=i?i.length:0;for(e.finish=!0,k.queue(this,a,[]),n&&n.stop&&n.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===a&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),k.each(["toggle","show","hide"],function(t,n){var s=k.fn[n];k.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?s.apply(this,arguments):this.animate(le(n,!0),t,e,i)}}),k.each({slideDown:le("show"),slideUp:le("hide"),slideToggle:le("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){k.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,i=k.timers;for(te=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||k.fx.stop(),te=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ee||(ee=!0,ae())},k.fx.stop=function(){ee=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(n,t){return n=k.fx&&k.fx.speeds[n]||n,t=t||"fx",this.queue(t,function(t,e){var i=S.setTimeout(t,n);e.stop=function(){S.clearTimeout(i)}})},ie=T.createElement("input"),ne=T.createElement("select").appendChild(T.createElement("option")),ie.type="checkbox",g.checkOn=""!==ie.value,g.optSelected=ne.selected,(ie=T.createElement("input")).value="t",ie.type="radio",g.radioValue="t"===ie.value;var ce,de=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return V(this,k.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?k.prop(t,e,i):(1===r&&k.isXMLDoc(t)||(s=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?ce:void 0)),void 0!==i?null===i?void k.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:null==(n=k.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,s=e&&e.match(R);if(s&&1===t.nodeType)for(;i=s[n++];)t.removeAttribute(i)}}),ce={set:function(t,e,i){return!1===e?k.removeAttr(t,i):t.setAttribute(i,i),i}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var a=de[e]||k.find.attr;de[e]=function(t,e,i){var n,s,r=e.toLowerCase();return i||(s=de[r],de[r]=n,n=null!=a(t,e,i)?r:null,de[r]=s),n}});var fe=/^(?:input|select|textarea|button)$/i,pe=/^(?:a|area)$/i;function _e(t){return(t.match(R)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function ge(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(R)||[]}k.fn.extend({prop:function(t,e){return V(this,k.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&k.isXMLDoc(t)||(e=k.propFix[e]||e,s=k.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||pe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(e){var t,i,n,s,r,a,o,l=0;if(v(e))return this.each(function(t){k(this).addClass(e.call(this,t,me(this)))});if((t=ge(e)).length)for(;i=this[l++];)if(s=me(i),n=1===i.nodeType&&" "+_e(s)+" "){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s!==(o=_e(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,s,r,a,o,l=0;if(v(e))return this.each(function(t){k(this).removeClass(e.call(this,t,me(this)))});if(!arguments.length)return this.attr("class","");if((t=ge(e)).length)for(;i=this[l++];)if(s=me(i),n=1===i.nodeType&&" "+_e(s)+" "){for(a=0;r=t[a++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");s!==(o=_e(n))&&i.setAttribute("class",o)}return this},toggleClass:function(s,e){var r=typeof s,a="string"===r||Array.isArray(s);return"boolean"==typeof e&&a?e?this.addClass(s):this.removeClass(s):v(s)?this.each(function(t){k(this).toggleClass(s.call(this,t,me(this),e),e)}):this.each(function(){var t,e,i,n;if(a)for(e=0,i=k(this),n=ge(s);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==s&&"boolean"!==r||((t=me(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===s?"":$.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+_e(me(i))+" ").indexOf(e))return!0;return!1}});var ve=/\r/g;k.fn.extend({val:function(i){var n,t,s,e=this[0];return arguments.length?(s=v(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=s?i.call(this,t,k(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=k.map(e,function(t){return null==t?"":t+""})),(n=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):e?(n=k.valHooks[e.type]||k.valHooks[e.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ve,""):null==t?"":t:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:_e(k.text(t))}},select:{get:function(t){var e,i,n,s=t.options,r=t.selectedIndex,a="select-one"===t.type,o=a?null:[],l=a?r+1:s.length;for(n=r<0?l:a?r:0;n<l;n++)if(((i=s[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=k(i).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var i,n,s=t.options,r=k.makeArray(e),a=s.length;a--;)((n=s[a]).selected=-1<k.inArray(k.valHooks.option.get(n),r))&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<k.inArray(k(t).val(),e)}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),g.focusin="onfocusin"in S;var ye=/^(?:focusinfocus|focusoutblur)$/,be=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,i,n){var s,r,a,o,l,u,h,c,d=[i||T],f=m.call(t,"type")?t.type:t,p=m.call(t,"namespace")?t.namespace.split("."):[];if(r=c=a=i=i||T,3!==i.nodeType&&8!==i.nodeType&&!ye.test(f+k.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,(t=t[k.expando]?t:new k.Event(f,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:k.makeArray(e,[t]),h=k.event.special[f]||{},n||!h.trigger||!1!==h.trigger.apply(i,e))){if(!n&&!h.noBubble&&!y(i)){for(o=h.delegateType||f,ye.test(o+f)||(r=r.parentNode);r;r=r.parentNode)d.push(r),a=r;a===(i.ownerDocument||T)&&d.push(a.defaultView||a.parentWindow||S)}for(s=0;(r=d[s++])&&!t.isPropagationStopped();)c=r,t.type=1<s?o:h.bindType||f,(u=($.get(r,"events")||Object.create(null))[t.type]&&$.get(r,"handle"))&&u.apply(r,e),(u=l&&r[l])&&u.apply&&G(r)&&(t.result=u.apply(r,e),!1===t.result&&t.preventDefault());return t.type=f,n||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),e)||!G(i)||l&&v(i[f])&&!y(i)&&((a=i[l])&&(i[l]=null),k.event.triggered=f,t.isPropagationStopped()&&c.addEventListener(f,be),i[f](),t.isPropagationStopped()&&c.removeEventListener(f,be),k.event.triggered=void 0,a&&(i[l]=a)),t.result}},simulate:function(t,e,i){var n=k.extend(new k.Event,i,{type:t,isSimulated:!0});k.event.trigger(n,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return k.event.trigger(t,e,i,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},function(i,n){var s=function(t){k.event.simulate(n,t.target,k.event.fix(t))};k.event.special[n]={setup:function(){var t=this.ownerDocument||this.document||this,e=$.access(t,n);e||t.addEventListener(i,s,!0),$.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=$.access(t,n)-1;e?$.access(t,n,e):(t.removeEventListener(i,s,!0),$.remove(t,n))}}});var we=S.location,xe={guid:Date.now()},Se=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new S.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Te=/\[\]$/,ke=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,Ce=/^(?:input|select|textarea|keygen)/i;function Pe(i,t,n,s){var e;if(Array.isArray(t))k.each(t,function(t,e){n||Te.test(i)?s(i,e):Pe(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,n,s)});else if(n||"object"!==w(t))s(i,t);else for(e in t)Pe(i+"["+e+"]",t[e],n,s)}k.param=function(t,e){var i,n=[],s=function(t,e){var i=v(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){s(this.name,this.value)});else for(i in t)Pe(i,t[i],e,s);return n.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ce.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!ct.test(t))}).map(function(t,e){var i=k(this).val();return null==i?null:Array.isArray(i)?k.map(i,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:i.replace(ke,"\r\n")}}).get()}});var Ee=/%20/g,Oe=/#.*$/,Me=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:GET|HEAD)$/,Re=/^\/\//,Le={},Fe={},qe="*/".concat("*"),De=T.createElement("a");function Be(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,s=t.toLowerCase().match(R)||[];if(v(e))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(e)):(r[i]=r[i]||[]).push(e)}}function je(e,s,r,a){var o={},l=e===Fe;function u(t){var n;return o[t]=!0,k.each(e[t]||[],function(t,e){var i=e(s,r,a);return"string"!=typeof i||l||o[i]?l?!(n=i):void 0:(s.dataTypes.unshift(i),u(i),!1)}),n}return u(s.dataTypes[0])||!o["*"]&&u("*")}function Ve(t,e){var i,n,s=k.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&k.extend(!0,t,n),t}De.href=we.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ve(Ve(t,k.ajaxSettings),e):Ve(k.ajaxSettings,t)},ajaxPrefilter:Be(Le),ajaxTransport:Be(Fe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var h,c,d,i,f,n,p,_,s,r,m=k.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?k(g):k.event,y=k.Deferred(),b=k.Callbacks("once memory"),w=m.statusCode||{},a={},o={},l="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(p){if(!i)for(i={};e=Ie.exec(d);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(t,e){return null==p&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,a[t]=e),this},overrideMimeType:function(t){return null==p&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||l;return h&&h.abort(e),u(0,e),this}};if(y.promise(x),m.url=((t||m.url||we.href)+"").replace(Re,we.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(R)||[""],null==m.crossDomain){n=T.createElement("a");try{n.href=m.url,n.href=n.href,m.crossDomain=De.protocol+"//"+De.host!=n.protocol+"//"+n.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),je(Le,m,e,x),p)return x;for(s in(_=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ne.test(m.type),c=m.url.replace(Oe,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Ee,"+")):(r=m.url.slice(c.length),m.data&&(m.processData||"string"==typeof m.data)&&(c+=(Se.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(c=c.replace(Me,"$1"),r=(Se.test(c)?"&":"?")+"_="+xe.guid+++r),m.url=c+r),m.ifModified&&(k.lastModified[c]&&x.setRequestHeader("If-Modified-Since",k.lastModified[c]),k.etag[c]&&x.setRequestHeader("If-None-Match",k.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+qe+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(s,m.headers[s]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||p))return x.abort();if(l="abort",b.add(m.complete),x.done(m.success),x.fail(m.error),h=je(Fe,m,e,x)){if(x.readyState=1,_&&v.trigger("ajaxSend",[x,m]),p)return x;m.async&&0<m.timeout&&(f=S.setTimeout(function(){x.abort("timeout")},m.timeout));try{p=!1,h.send(a,u)}catch(t){if(p)throw t;u(-1,t)}}else u(-1,"No Transport");function u(t,e,i,n){var s,r,a,o,l,u=e;p||(p=!0,f&&S.clearTimeout(f),h=void 0,d=n||"",x.readyState=0<t?4:0,s=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var n,s,r,a,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in o)if(o[s]&&o[s].test(n)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}a||(a=s)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),i[r]}(m,x,i)),!s&&-1<k.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),o=function(t,e,i,n){var s,r,a,o,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=u[l+" "+r]||u["* "+r]))for(s in u)if((o=s.split(" "))[1]===r&&(a=u[l+" "+o[0]]||u["* "+o[0]])){!0===a?a=u[s]:!0!==u[s]&&(r=o[0],h.unshift(o[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(m,o,x,s),s?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(k.lastModified[c]=l),(l=x.getResponseHeader("etag"))&&(k.etag[c]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=o.state,r=o.data,s=!(a=o.error))):(a=u,!t&&u||(u="error",t<0&&(t=0))),x.status=t,x.statusText=(e||u)+"",s?y.resolveWith(g,[r,u,x]):y.rejectWith(g,[x,u,a]),x.statusCode(w),w=void 0,_&&v.trigger(s?"ajaxSuccess":"ajaxError",[x,m,s?r:a]),b.fireWith(g,[x,u]),_&&(v.trigger("ajaxComplete",[x,m]),--k.active||k.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return k.get(t,e,i,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,s){k[s]=function(t,e,i,n){return v(e)&&(n=n||i,i=e,e=void 0),k.ajax(k.extend({url:t,type:s,dataType:n,data:e,success:i},k.isPlainObject(t)&&t))}}),k.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),k._evalUrl=function(t,e,i){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,i)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return v(i)?this.each(function(t){k(this).wrapInner(i.call(this,t))}):this.each(function(){var t=k(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=v(e);return this.each(function(t){k(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new S.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Ue=k.ajaxSettings.xhr();g.cors=!!Ue&&"withCredentials"in Ue,g.ajax=Ue=!!Ue,k.ajaxTransport(function(s){var r,a;if(g.cors||Ue&&!s.crossDomain)return{send:function(t,e){var i,n=s.xhr();if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);r=function(t){return function(){r&&(r=a=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(ze[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=r(),a=n.onerror=n.ontimeout=r("error"),void 0!==n.onabort?n.onabort=a:n.onreadystatechange=function(){4===n.readyState&&S.setTimeout(function(){r&&a()})},r=r("abort");try{n.send(s.hasContent&&s.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(i){var n,s;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=k("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",s=function(t){n.remove(),s=null,t&&e("error"===t.type?404:200,t.type)}),T.head.appendChild(n[0])},abort:function(){s&&s()}}});var We,He=[],Ge=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||k.expando+"_"+xe.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,i){var n,s,r,a=!1!==t.jsonp&&(Ge.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ge,"$1"+n):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return r||k.error(n+" was not called"),r[0]},t.dataTypes[0]="json",s=S[n],S[n]=function(){r=arguments},i.always(function(){void 0===s?k(S).removeProp(n):S[n]=s,t[n]&&(t.jsonpCallback=e.jsonpCallback,He.push(n)),r&&v(s)&&s(r[0]),r=s=void 0}),"script"}),g.createHTMLDocument=((We=T.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===We.childNodes.length),k.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(g.createHTMLDocument?((n=(e=T.implementation.createHTMLDocument("")).createElement("base")).href=T.location.href,e.head.appendChild(n)):e=T),r=!i&&[],(s=C.exec(t))?[e.createElement(s[1])]:(s=vt([t],e,r),r&&r.length&&k(r).remove(),k.merge([],s.childNodes)));var n,s,r},k.fn.load=function(t,e,i){var n,s,r,a=this,o=t.indexOf(" ");return-1<o&&(n=_e(t.slice(o)),t=t.slice(0,o)),v(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),0<a.length&&k.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?k("<div>").append(k.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(t,e,i){var n,s,r,a,o,l,u=k.css(t,"position"),h=k(t),c={};"static"===u&&(t.style.position="relative"),o=h.offset(),r=k.css(t,"top"),l=k.css(t,"left"),s=("absolute"===u||"fixed"===u)&&-1<(r+l).indexOf("auto")?(a=(n=h.position()).top,n.left):(a=parseFloat(r)||0,parseFloat(l)||0),v(e)&&(e=e.call(t,i,k.extend({},o))),null!=e.top&&(c.top=e.top-o.top+a),null!=e.left&&(c.left=e.left-o.left+s),"using"in e?e.using.call(t,c):("number"==typeof c.top&&(c.top+="px"),"number"==typeof c.left&&(c.left+="px"),h.css(c))}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],s={top:0,left:0};if("fixed"===k.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((s=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),s.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-s.top-k.css(n,"marginTop",!0),left:e.left-s.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||it})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,s){var r="pageYOffset"===s;k.fn[e]=function(t){return V(this,function(t,e,i){var n;if(y(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i)return n?n[s]:t[e];n?n.scrollTo(r?n.pageXOffset:i,r?i:n.pageYOffset):t[e]=i},e,t,arguments.length)}}),k.each(["top","left"],function(t,i){k.cssHooks[i]=Vt(g.pixelPosition,function(t,e){if(e)return e=jt(t,i),Ft.test(e)?k(t).position()[i]+"px":e})}),k.each({Height:"height",Width:"width"},function(a,o){k.each({padding:"inner"+a,content:o,"":"outer"+a},function(n,r){k.fn[r]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),s=n||(!0===t||!0===e?"margin":"border");return V(this,function(t,e,i){var n;return y(t)?0===r.indexOf("outer")?t["inner"+a]:t.document.documentElement["client"+a]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+a],n["scroll"+a],t.body["offset"+a],n["offset"+a],n["client"+a])):void 0===i?k.css(t,e,s):k.style(t,e,i,s)},o,i?t:void 0,i)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){k.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var Qe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var i,n,s;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return n=o.call(arguments,2),(s=function(){return t.apply(e||this,n.concat(o.call(arguments)))}).guid=t.guid=t.guid||k.guid++,s},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=v,k.isWindow=y,k.camelCase=H,k.type=w,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Qe,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var $e=S.jQuery,Ze=S.$;return k.noConflict=function(t){return S.$===k&&(S.$=Ze),t&&S.jQuery===k&&(S.jQuery=$e),k},void 0===t&&(S.jQuery=S.$=k),k})},{}],6:[function(ot,lt,t){(function(S,V){var E=(S=S||ot("./node/self.js")).window,O=S.document,U=new function(){var r=/^(statics|enumerable|beans|preserve)$/,t=[],n=t.slice,a=Object.create,d=Object.getOwnPropertyDescriptor,f=Object.defineProperty,s=t.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},o=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t},i=function(t,e,i){if(t){var n=d(t,"length");(n&&"number"==typeof n.value?s:function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)}).call(t,e,i=i||t)}return i};function l(a,o,l,u,h){var c={};function t(t,e){"string"==typeof(e=e||(e=d(o,t))&&(e.get?e:e.value))&&"#"===e[0]&&(e=a[e.substring(1)]||e);var i,n="function"==typeof e,s=e,r=h||n&&!e.base?e&&e.get?t in a:a[t]:null;h&&r||(n&&r&&(e.base=r),n&&!1!==u&&(i=t.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[i[3].toLowerCase()+i[4]]=i[2]),s&&!n&&s.get&&"function"==typeof s.get&&p.isPlainObject(s)||(s={value:s,writable:!0}),(d(a,t)||{configurable:!0}).configurable&&(s.configurable=!0,s.enumerable=null!=l?l:!i),f(a,t,s))}if(o){for(var e in o)o.hasOwnProperty(e)&&!r.test(e)&&t(e);for(var e in c){var i=c[e],n=a["set"+i],s=a["get"+i]||n&&a["is"+i];!s||!0!==u&&0!==s.length||t(e,{get:s,set:n})}}return a}function p(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&o(this,i)}return this}return l(p,{inject:function(t){if(t){var e=!0===t.statics?t:t.statics,i=t.beans,n=t.preserve;e!==t&&l(this.prototype,t,t.enumerable,i,n),l(this,e,null,i,n)}for(var s=1,r=arguments.length;s<r;s++)this.inject(arguments[s]);return this},extend:function(){for(var t,e,i,n=this,s=0,r=arguments.length;s<r&&(!t||!e);s++)i=arguments[s],t=t||i.initialize,e=e||i.prototype;return e=(t=t||function(){n.apply(this,arguments)}).prototype=e||a(this.prototype),f(e,"constructor",{value:t,writable:!0,configurable:!0}),l(t,this),arguments.length&&this.inject.apply(t,arguments),t.base=n,t}}).inject({enumerable:!1,initialize:p,set:p,inject:function(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&l(this,i,i.enumerable,i.beans,i.preserve)}return this},extend:function(){var t=a(this);return t.inject.apply(t,arguments)},each:function(t,e){return i(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:o,each:i,create:a,define:f,describe:d,clone:function(t){return o(new t.constructor,t)},isPlainObject:function(t){var e=null!=t&&t.constructor;return e&&(e===Object||e===p||"Object"===e.name)},pick:function(t,e){return t!==V?t:e},slice:function(t,e,i){return n.call(t,e,i)}}})};void 0!==lt&&(lt.exports=U),U.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+U.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?x.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return U.importJSON(t,this)},exportJSON:function(t){return U.exportJSON(this,t)},toJSON:function(){return U.serialize(this)},set:function(t,e){return t&&U.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!U.exports[i]&&(U.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){if((i=t.length)!==e.length)return!1;for(;i--;)if(!U.equals(t[i],e[i]))return!1}else{var i,n=Object.keys(t);if((i=n.length)!==Object.keys(e).length)return!1;for(;i--;){var s=n[i];if(!e.hasOwnProperty(s)||!U.equals(t[s],e[s]))return!1}}return!0}return!1},read:function(t,e,i,n){if(this===U){var s=this.peek(t,e);return t.__index++,s}var r=this.prototype,a=r._readIndex,o=e||a&&t.__index||0,l=t.length,u=t[o];if(n=n||l-o,u instanceof this||i&&i.readNull&&null==u&&n<=1)return a&&(t.__index=o+1),u&&i&&i.clone?u.clone():u;if(u=U.create(r),a&&(u.__read=!0),u=u.initialize.apply(u,0<o||o+n<l?U.slice(t,o,o+n):t)||u,a){t.__index=o+u.__read;var h=u.__filtered;h&&(t.__filtered=h,u.__filtered=V),u.__read=V}return u},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var s,r=[],a=e||0,o=n?a+n:t.length,l=a;l<o;l++)r.push(Array.isArray(s=t[l])?this.read(s,0,i):this.read(t,l,i,1));return r},readNamed:function(t,e,i,n,s){var r=this.getNamed(t,e),a=r!==V;if(a){var o=t.__filtered;if(!o){var l=this.getSource(t);(o=t.__filtered=U.create(l)).__unfiltered=l}o[e]=V}return this.read(a?[r]:t,i,n,s)},readSupported:function(i,n){var t=this.getSource(i),s=this,r=!1;return t&&Object.keys(t).forEach(function(t){if(t in n){var e=s.readNamed(i,t);e!==V&&(n[t]=e),r=!0}}),r},getSource:function(t){var e=t.__source;if(e===V){var i=1===t.length&&t[0];e=t.__source=i&&U.isPlainObject(i)?i:null}return e},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(i,n,s,t){var r;function e(t){if(!(s&&t in s||r&&t in r)){var e=n[t];e!==V&&(i[t]=e)}}if(t){for(var a,o={},l=0,u=t.length;l<u;l++)(a=t[l])in n&&(e(a),o[a]=!0);r=o}return Object.keys(n.__unfiltered||n).forEach(e),i},isPlainValue:function(t,e){return U.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var s,r=!n;if(r&&(e.formatter=new x(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var s=e.call(t),r=t._class;r&&s[0]!==r&&s.unshift(r),this.definitions[i]=s,n=this.references[i]=[i]}return n}}),t&&t._serialize){s=t._serialize(e,n);var a=t._class;!a||t._compactSerialize||!r&&i||s[0]===a||s.unshift(a)}else if(Array.isArray(t)){s=[];for(var o=0,l=t.length;o<l;o++)s[o]=U.serialize(t[o],e,i,n)}else if(U.isPlainObject(t)){s={};var u=Object.keys(t);for(o=0,l=u.length;o<l;o++){var h=u[o];s[h]=U.serialize(t[h],e,i,n)}}else s="number"==typeof t?e.formatter.number(t,e.precision):t;return r&&0<n.length?[["dictionary",n.definitions],s]:s},deserialize:function(t,e,i,n,s){var r=t,a=!i,o=a&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var l=t[0],u="dictionary"===l;if(1==t.length&&/^#/.test(l))return i.dictionary[l];r=[];for(var h=(l=U.exports[l])?1:0,c=t.length;h<c;h++)r.push(U.deserialize(t[h],e,i,u,o));if(l){var d=r;r=e?e(l,d,a||s):new l(d)}}else if(U.isPlainObject(t))for(var f in r={},n&&(i.dictionary=r),t)r[f]=U.deserialize(t[f],e,i);return o?r[1]:r},exportJSON:function(t,e){var i=U.serialize(t,e);return e&&0==e.asString?i:JSON.stringify(i)},importJSON:function(t,a){return U.deserialize("string"==typeof t?JSON.parse(t):t,function(t,e,i){var n=i&&a&&a.constructor===t,s=n?a:U.create(t.prototype);if(1===e.length&&s instanceof j&&(n||!(s instanceof o))){var r=e[0];U.isPlainObject(r)&&(r.insert=!1,n&&(e=e.concat([{insert:!0}])))}return(n?s.set:t).apply(s,e),n&&(a=null),s})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var n=t.length;t.length+=i;for(var s=0;s<i;s++)t[n+s]=e[s]}return t},splice:function(t,e,i,n){var s=e&&e.length,r=i===V;(i=r?t.length:i)>t.length&&(i=t.length);for(var a=0;a<s;a++)e[a]._index=i+a;if(r)return U.push(t,e),[];var o=[i,n];e&&U.push(o,e);for(var l=t.splice.apply(t,o),u=(a=0,l.length);a<u;a++)l[a]._index=V;for(a=i+s,u=t.length;a<u;a++)t[a]._index=a;return l},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var t={on:function(t,e){if("string"!=typeof t)U.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],s=this._callbacks=this._callbacks||{};-1===(s=s[t]=s[t]||[]).indexOf(e)&&(s.push(e),n&&n.install&&1===s.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"==typeof t){var i,n=this._eventTypes,s=n&&n[t],r=this._callbacks&&this._callbacks[t];return r&&(!e||-1!==(i=r.indexOf(e))&&1===r.length?(s&&s.uninstall&&s.uninstall.call(this,t),delete this._callbacks[t]):-1!==i&&r.splice(i,1)),this}U.each(t,function(t,e){this.off(e,t)},this)},once:function(e,i){return this.on(e,function t(){i.apply(this,arguments),this.off(e,t)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=U.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var r=0,a=i.length;r<a;r++)if(0==i[r].apply(this,n)){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var s in i)if(0<i[s].length){var r=e[s],a=r&&r[n];a&&a.call(this,s)}},statics:{inject:function t(a){var e=a._events;if(e){var o={};U.each(e,function(t,e){var i="string"==typeof t,n=i?t:e,s=U.capitalize(n),r=n.substring(2).toLowerCase();o[r]=i?{}:t,n="_"+n,a["get"+s]=function(){return this[n]},a["set"+s]=function(t){var e=this[n];e&&this.off(r,e),t&&this.on(r,t),this[n]=t}}),a._eventTypes=o}return t.base.apply(this,arguments)}}},c=U.extend({_class:"PaperScope",initialize:function t(){(at=this).settings=new U({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=nt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:w.nativeModes},nt.release(i)}if(!this.agent){var n=S.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(n)||[])[0],r="darwin"===s?"mac":s,a=e.agent=e.browser={platform:r};r&&(a[r]=!0),n.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,s){if(!a.chrome){var r="opera"===e?n:/^(node|trident)$/.test(e)?s:i;a.version=r,a.versionNumber=parseFloat(r),e={trident:"msie",jsdom:"node"}[e]||e,a.name=e,a[e]=!0}}),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.12.11",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var i=at.PaperScript.execute(t,this,e);return D.updateFocus(),i},install:function(e){var i=this;for(var t in U.each(["project","view","tool"],function(t){U.define(e,t,{configurable:!0,get:function(){return i[t]}})}),this)!/^_/.test(t)&&this[t]&&(e[t]=this[t])},setup:function(t){return(at=this).project=new h(t),this},createCanvas:function(t,e){return nt.getCanvas(t,e)},activate:function(){at=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;0<=i;i--)t[i].remove();for(i=e.length-1;0<=i;i--)e[i].remove()},remove:function(){this.clear(),delete c._scopes[this._id]},statics:new function(){function t(i){return i+="Attribute",function(t,e){return t[i](e)||t[i]("data-paper-"+e)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),e=U.extend(t,{initialize:function(t){this._scope=at,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),(this._scope[this._reference]=this).emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(U.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),!(this._scope=null))},getView:function(){return this._scope.getView()}}),z={findItemBoundsCollisions:function(t,e,i){function n(t){for(var e=new Array(t.length),i=0;i<t.length;i++){var n=t[i].getBounds();e[i]=[n.left,n.top,n.right,n.bottom]}return e}var s=n(t),r=e&&e!==t?n(e):s;return this.findBoundsCollisions(s,r,i||0)},findCurveBoundsCollisions:function(t,e,i,n){function s(t){for(var e=Math.min,i=Math.max,n=new Array(t.length),s=0;s<t.length;s++){var r=t[s];n[s]=[e(r[0],r[2],r[4],r[6]),e(r[1],r[3],r[5],r[7]),i(r[0],r[2],r[4],r[6]),i(r[1],r[3],r[5],r[7])]}return n}var r=s(t),a=e&&e!==t?s(e):r;if(n){for(var o=this.findBoundsCollisions(r,a,i||0,!1,!0),l=this.findBoundsCollisions(r,a,i||0,!0,!0),u=[],h=0,c=o.length;h<c;h++)u[h]={hor:o[h],ver:l[h]};return u}return this.findBoundsCollisions(r,a,i||0)},findBoundsCollisions:function(t,e,i,n,s){var r=!e||t===e,a=r?t:t.concat(e),o=t.length,l=a.length;function u(t,e,i){for(var n=0,s=t.length;n<s;){var r=s+n>>>1;a[t[r]][e]<i?n=r+1:s=r}return n-1}for(var h=n?1:0,c=h+2,d=n?0:1,f=d+2,p=new Array(l),_=0;_<l;_++)p[_]=_;p.sort(function(t,e){return a[t][h]-a[e][h]});var m=[],g=new Array(o);for(_=0;_<l;_++){var v=p[_],y=a[v],b=r?v:v-o,w=v<o,x=r||!w,S=w?[]:null;if(m.length){var T=u(m,c,y[h]-i)+1;if(m.splice(0,T),r&&s){S=S.concat(m);for(var k=0;k<m.length;k++){g[P=m[k]].push(b)}}else{var A=y[f],C=y[d];for(k=0;k<m.length;k++){var P=m[k],E=a[P],O=P<o,M=r||o<=P;(s||(w&&M||x&&O)&&A>=E[d]-i&&C<=E[f]+i)&&(w&&M&&S.push(r?P:P-o),x&&O&&g[P].push(b))}}}if(w&&(t===e&&S.push(v),g[v]=S),m.length){var I=u(m,c,y[c]);m.splice(I+1,0,v)}else m.push(v)}for(_=0;_<g.length;_++){var N=g[_];N&&N.sort(function(t,e){return t-e})}return g}},x=U.extend({initialize:function(t){this.precision=U.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});x.instance=new x;var W=new function(){var d=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],f=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],x=Math.abs,S=Math.sqrt,T=Math.pow,e=Math.log2||function(t){return Math.log(t)*Math.LOG2E},k=1e-12,A=112e-18;function C(t,e,i){return t<e?e:i<t?i:t}function m(t,e,i){function n(t){var e=134217729*t,i=t-e+e;return[i,t-i]}var s=e*e-t*i,r=e*e+t*i;if(3*x(s)<r){var a=n(t),o=n(e),l=n(i),u=e*e,h=t*i;s=u-h+(o[0]*o[0]-u+2*o[0]*o[1]+o[1]*o[1]-(a[0]*l[0]-h+a[0]*l[1]+a[1]*l[0]+a[1]*l[1]))}return s}function P(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||1e8<t)?T(2,-Math.round(e(t))):0}return{EPSILON:k,MACHINE_EPSILON:A,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(S(2)-1)/3,isZero:function(t){return-k<=t&&t<=k},isMachineZero:function(t){return-A<=t&&t<=A},clamp:C,integrate:function(t,e,i,n){for(var s=d[n-2],r=f[n-2],a=.5*(i-e),o=a+e,l=0,u=n+1>>1,h=1&n?r[l++]*t(o):0;l<u;){var c=a*s[l];h+=r[l++]*(t(o+c)+t(o-c))}return a*h},findRoot:function(t,e,i,n,s,r,a){for(var o=0;o<r;o++){var l=t(i),u=l/e(i),h=i-u;if(x(u)<a){i=h;break}i=0<l?(s=i,h<=n?.5*(n+s):h):(n=i,s<=h?.5*(n+s):h)}return C(i,n,s)},solveQuadratic:function(t,e,i,n,s,r){var a,o=1/0;if(x(t)<k){if(x(e)<k)return x(i)<k?-1:0;a=-i/e}else{var l=m(t,e*=-.5,i);if(l&&x(l)<A){var u=P(x(t),x(e),x(i));u&&(l=m(t*=u,e*=u,i*=u))}if(-A<=l){var h=l<0?0:S(l),c=e+(e<0?-h:h);o=0===c?-(a=i/t):(a=c/t,i/c)}}var d=0,f=null==s,p=s-k,_=r+k;return isFinite(a)&&(f||p<a&&a<_)&&(n[d++]=f?a:C(a,s,r)),o!==a&&isFinite(o)&&(f||p<o&&o<_)&&(n[d++]=f?o:C(o,s,r)),d},solveCubic:function(i,n,s,r,t,e,a){var o,l,u,h,c,d=P(x(i),x(n),x(s),x(r));function f(t){var e=i*(o=t);h=(e+(l=e+n))*o+(u=l*o+s),c=u*o+r}if(d&&(i*=d,n*=d,s*=d,r*=d),x(i)<k)i=n,l=s,u=r,o=1/0;else if(x(r)<k)l=n,u=s,o=0;else{f(-n/i/3);var p=c/i,_=T(x(p),1/3),m=p<0?-1:1,g=-h/i,v=0<g?1.324717957244746*Math.max(_,S(g)):_,y=o-m*v;if(y!==o){for(;f(y),m*o<m*(y=0===h?o:o-c/h/(1+A)););x(i)*o*o>x(r/o)&&(l=((u=-r/o)-s)/o)}}var b=W.solveQuadratic(i,l,u,t,e,a),w=null==e;return isFinite(o)&&(0===b||0<b&&o!==t[0]&&o!==t[1])&&(w||e-k<o&&o<a+k)&&(t[b++]=w?o:C(o,e,a)),b}}},u={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},H=U.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,s=0;if("number"===i){var r="number"==typeof e;this._set(t,r?e:t),n&&(s=r?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(s=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(a)?this._set(+a[0],+(1<a.length?a[1]:a[0])):"x"in a?this._set(a.x||0,a.y||0):"width"in a?this._set(a.width||0,a.height||0):"angle"in a?(this._set(a.length||0,0),this.setAngle(a.angle||0)):(this._set(0,0),s=0)}return n&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new H(this.x,this.y)},toString:function(){var t=x.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();W.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=H.read(arguments),e=this.getLength()*t.getLength();if(W.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:1<i?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return 0<=this.x?0<=this.y?1:4:0<=this.y?2:3}},{beans:!1,getDirectedAngle:function(){var t=H.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=arguments,e=H.read(t),i=e.x-this.x,n=e.y-this.y,s=i*i+n*n;return U.read(t)?s:Math.sqrt(s)},normalize:function(t){t===V&&(t=1);var e=this.getLength(),i=0!==e?t/e:0,n=new H(this.x*i,this.y*i);return 0<=i&&(n._angle=this._angle),n},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),s=Math.cos(t);return i=new H(i.x*s-i.y*n,i.x*n+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=H.read(arguments);return new H(this.x+t.x,this.y+t.y)},subtract:function(){var t=H.read(arguments);return new H(this.x-t.x,this.y-t.y)},multiply:function(){var t=H.read(arguments);return new H(this.x*t.x,this.y*t.y)},divide:function(){var t=H.read(arguments);return new H(this.x/t.x,this.y/t.y)},modulo:function(){var t=H.read(arguments);return new H(this.x%t.x,this.y%t.y)},negate:function(){return new H(-this.x,-this.y)},isInside:function(){return P.read(arguments).contains(this)},isClose:function(){var t=arguments,e=H.read(t),i=U.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=H.read(arguments);return H.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=H.read(arguments);return H.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=W.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return 0<=this.x*(1<t&&t<4?-1:1)&&0<=this.y*(2<t?-1:1)},dot:function(){var t=H.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=H.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=H.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new H(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=H.read(t),i=H.read(t);return new H(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=H.read(t),i=H.read(t);return new H(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new H(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},U.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new H(e(this.x),e(this.y))}},{})),d=H.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),G=U.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,s=0;if("number"===i){var r="number"==typeof e;this._set(t,r?e:t),n&&(s=r?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(s=null===t?1:0);else{var a="string"===i?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(a)?this._set(+a[0],+(1<a.length?a[1]:a[0])):"width"in a?this._set(a.width||0,a.height||0):"x"in a?this._set(a.x||0,a.y||0):(this._set(0,0),s=0)}return n&&(this.__read=s),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new G(this.width,this.height)},toString:function(){var t=x.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=G.read(arguments);return new G(this.width+t.width,this.height+t.height)},subtract:function(){var t=G.read(arguments);return new G(this.width-t.width,this.height-t.height)},multiply:function(){var t=G.read(arguments);return new G(this.width*t.width,this.height*t.height)},divide:function(){var t=G.read(arguments);return new G(this.width/t.width,this.height/t.height)},modulo:function(){var t=G.read(arguments);return new G(this.width%t.width,this.height%t.height)},negate:function(){return new G(-this.width,-this.height)},isZero:function(){var t=W.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new G(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new G(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new G(Math.random(),Math.random())}}},U.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new G(e(this.width),e(this.height))}},{})),i=G.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),P=U.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,n){var s,r=arguments,a=typeof t;if("number"===a?(this._set(t,e,i,n),s=4):"undefined"===a||null===t?(this._set(0,0,0,0),s=null===t?1:0):1===r.length&&(Array.isArray(t)?(this._set.apply(this,t),s=1):t.x!==V||t.width!==V?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),s=1):t.from===V&&t.to===V&&(this._set(0,0,0,0),U.readSupported(r,this)&&(s=1))),s===V){var o,l,u=H.readNamed(r,"from"),h=U.peek(r),c=u.x,d=u.y;if(h&&h.x!==V||U.hasNamed(r,"to")){var f=H.readNamed(r,"to");o=f.x-c,l=f.y-d,o<0&&(c=f.x,o=-o),l<0&&(d=f.y,l=-l)}else{var p=G.read(r);o=p.width,l=p.height}this._set(c,d,o,l),s=r.__index}var _=r.__filtered;return _&&(this.__filtered=_),this.__read&&(this.__read=s),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new P(this.x,this.y,this.width,this.height)},equals:function(t){var e=U.isPlainValue(t)?P.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=x.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){return new(t?H:d)(this.x,this.y,this,"setPoint")},setPoint:function(){var t=H.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){return new(t?G:i)(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=G.read(arguments),e=this._sx,i=this._sy,n=t.width,s=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-s)*i),this.width=n,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){return new(t?H:d)(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=H.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==V||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(P.read(arguments)):this._containsPoint(H.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=P.read(arguments),e=U.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=P.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new P(e,i,n-e,s-i)},unite:function(){var t=P.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new P(e,i,n-e,s-i)},include:function(){var t=H.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new P(e,i,n-e,s-i)},expand:function(){var t=G.read(arguments),e=t.width,i=t.height;return new P(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===V?t:e)-this.height)}},U.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);4<=e&&(t[1]+=n?"Y":"X");var s=t[n?0:1],r=t[n?1:0],a="get"+s,o="get"+r,l="set"+s,u="set"+r,h="set"+i;this["get"+i]=function(t){return new(t?H:d)(this[a](),this[o](),this,h)},this[h]=function(){var t=H.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),r=P.extend({initialize:function(t,e,i,n,s,r){this._set(t,e,i,n,!0),this._owner=s,this._setter=r},_set:function(t,e,i,n,s){return this._x=t,this._y=e,this._width=i,this._height=n,s||this._owner[this._setter](this),this}},new function(){var i=P.prototype;return U.each(["x","y","width","height"],function(t){var e=U.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},U.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var e="set"+t;this[e]=function(){this._dontNotify=!0,i[e].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),Q=U.extend({_class:"Matrix",initialize:function t(e,i){var n=arguments,s=n.length,r=!0;if(6<=s?this._set.apply(this,n):1===s||2===s?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):r=!1:s?r=!1:this.reset(),!r)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,s,r,a){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=s,this._ty=r,a||this._changed(),this},_serialize:function(t,e){return U.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new Q(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=x.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,U.pick(t,!0),e),this.isIdentity())},translate:function(){var t=H.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=H.read(t),i=H.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=H.read(arguments,1),i=e.x,n=e.y,s=Math.cos(t),r=Math.sin(t),a=i-i*s+n*r,o=n-i*r-n*s,l=this._a,u=this._b,h=this._c,c=this._d;return this._a=s*l+r*h,this._b=s*u+r*c,this._c=-r*l+s*h,this._d=-r*u+s*c,this._tx+=a*l+o*h,this._ty+=a*u+o*c,this._changed(),this},shear:function(){var t=arguments,e=H.read(t),i=H.read(t,0,{readNull:!0});i&&this.translate(i);var n=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*n,this._d+=e.x*s,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=H.read(t),i=H.read(t,0,{readNull:!0}),n=Math.PI/180,s=new H(Math.tan(e.x*n),Math.tan(e.y*n));return this.shear(s,i)},append:function(t,e){if(t){var i=this._a,n=this._b,s=this._c,r=this._d,a=t._a,o=t._c,l=t._b,u=t._d,h=t._tx,c=t._ty;this._a=a*i+l*s,this._c=o*i+u*s,this._b=a*n+l*r,this._d=o*n+u*r,this._tx+=h*i+c*s,this._ty+=h*n+c*r,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,n=this._b,s=this._c,r=this._d,a=this._tx,o=this._ty,l=t._a,u=t._c,h=t._b,c=t._d,d=t._tx,f=t._ty;this._a=l*i+u*n,this._c=l*s+u*r,this._b=h*i+c*n,this._d=h*s+c*r,this._tx=l*a+u*o+d,this._ty=h*a+c*o+f,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,s=this._tx,r=this._ty,a=t*n-e*i,o=null;return a&&!isNaN(a)&&isFinite(s)&&isFinite(r)&&(this._a=n/a,this._b=-e/a,this._c=-i/a,this._d=t/a,this._tx=(i*r-n*s)/a,this._ty=(e*s-t*r)/a,o=this),o},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new Q(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(H.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,s=t.y;return e||(e=new H),e._set(n*this._a+s*this._c+this._tx,n*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,s=2*i;n<s;n+=2){var r=t[n],a=t[n+1];e[n]=r*this._a+a*this._c+this._tx,e[n+1]=r*this._b+a*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,s=i+t.height,r=[e,i,n,i,n,s,e,s];return this._transformCoordinates(r,r,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),s=n.slice(0,2),r=s.slice(),a=2;a<8;a++){var o=n[a],l=1&a;o<s[l]?s[l]=o:o>r[l]&&(r[l]=o)}return e||(e=new P),e._set(s[0],s[1],r[0]-s[0],r[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(H.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,s=this._b,r=this._c,a=this._d,o=this._tx,l=this._ty,u=n*a-s*r,h=null;if(u&&!isNaN(u)&&isFinite(o)&&isFinite(l)){var c=t.x-this._tx,d=t.y-this._ty;e||(e=new H),h=e._set((c*a-d*r)/u,(d*n-c*s)/u,i)}return h},decompose:function(){var t,e,i,n=this._a,s=this._b,r=this._c,a=this._d,o=n*a-s*r,l=Math.sqrt,u=Math.atan2,h=180/Math.PI;if(0!==n||0!==s){var c=l(n*n+s*s);t=Math.acos(n/c)*(0<s?1:-1),e=[c,o/c],i=[u(n*r+s*a,c*c),0]}else if(0!==r||0!==a){var d=l(r*r+a*a);t=Math.asin(r/d)*(0<a?1:-1),e=[o/d,d],i=[0,u(n*r+s*a,d*d)]}else i=e=[t=0,0];return{translation:this.getTranslation(),rotation:t*h,scaling:new H(e),skewing:new H(i[0]*h,i[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new H(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},U.each(["a","b","c","d","tx","ty"],function(t){var e=U.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),$=U.extend({_class:"Line",initialize:function(t,e,i,n,s){(4<=arguments.length?(this._px=t,this._py=e,this._vx=i,this._vy=n,s):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,i))||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new H(this._px,this._py)},getVector:function(){return new H(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return $.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return $.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return $.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return H.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return H.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,s,r,a,o,l,u){l||(i-=t,n-=e,a-=s,o-=r);var h=i*o-n*a;if(!W.isMachineZero(h)){var c=t-s,d=e-r,f=(a*d-o*c)/h,p=(i*d-n*c)/h;if(u||-1e-12<f&&f<1+1e-12&&-1e-12<p&&p<1+1e-12)return u||(f=f<=0?0:1<=f?1:f),new H(t+f*i,e+f*n)}},getSide:function(t,e,i,n,s,r,a,o){a||(i-=t,n-=e);var l=s-t,u=l*n-(r-e)*i;return!o&&W.isMachineZero(u)&&0<=(u=(l*i+l*i)/(i*i+n*n))&&u<=1&&(u=0),u<0?-1:0<u?1:0},getSignedDistance:function(t,e,i,n,s,r,a){return a||(i-=t,n-=e),0===i?0<n?s-t:t-s:0===n?i<0?r-e:e-r:((s-t)*n-(r-e)*i)/(i<n?n*Math.sqrt(1+i*i/(n*n)):i*Math.sqrt(1+n*n/(i*i)))},getDistance:function(t,e,i,n,s,r,a){return Math.abs($.getSignedDistance(t,e,i,n,s,r,a))}}}),h=e.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){e.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new _(null,null,this),this._view=D.create(this,t||nt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return U.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var s=this._changesById,r=e._id,a=s[r];a?a.flags|=t:n.push(s[r]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;0<=e;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return!!t.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new o({project:this,insert:!0})},getSymbolDefinitions:function(){var n=[],s={};return this.getItems({class:a,match:function(t){var e=t._definition,i=e._id;return s[i]||(s[i]=!0,n.push(e)),!1}}),n},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],s=n._selection;1&s&&n.isInserted()?e.push(n):s||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(V,t)},insertLayer:function(t,e){if(e instanceof o){e._remove(!1,!0),U.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(V,new o(j.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return j._getItems(this,t)},getItem:function(t){return j._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return U.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var s=i[n];for(var r in e){var a=e[r];a&&a!=i&&delete a[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,s=new U({offset:new H(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new Q],updateMatrix:!0}),r=0,a=n.length;r<a;r++)n[r].draw(t,s);if(t.restore(),0<this._selectionCount){t.save(),t.strokeWidth=1;var o=this._selectionItems,l=this._scope.settings.handleSize,u=this._updateVersion;for(var h in o)o[h]._drawSelection(t,e,l,o,u);t.restore()}}}),j=U.extend(t,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=U.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new Q,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return U.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&U.isPlainObject(t),n=i&&!0===t.internal,s=this._matrix=new Q,r=i&&t.project||at.project,a=at.settings;return this._id=n?null:u.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&a.applyMatrix,e&&s.translate(e),(s._owner=this)._style=new _(r._currentStyle,this,r),n||i&&0==t.insert||!a.insertItems&&(!i||!0!==t.insert)?this._setProject(r):(i&&t.parent||r)._insertItem(V,this,!0),i&&t!==j.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(n,s){var r={},a=this;function t(t){for(var e in t){var i=a[e];U.equals(i,"leading"===e?1.2*t.fontSize:t[e])||(r[e]=U.serialize(i,n,"data"!==e,s))}}return t(this._serializeFields),this instanceof T||t(this._style._defaults),[this._class,r]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=V),16&t&&(this._globalMatrix=V),i&&72&t&&j._clearBoundsCache(i),2&t&&j._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||V,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},U.each(["locked","visible","blendMode","opacity","guide"],function(e){var t=U.capitalize(e),i="_"+e,n={locked:256,visible:265};this["get"+t]=function(){return this[i]},this["set"+t]=function(t){t!=this[i]&&(this[i]=t,this._changed(n[e]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&((this._clipMask=t)&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?H:d,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(H.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new d(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=H.read(arguments,0,{clone:!0,readNull:!0}),this._position=V}},U.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(e,t){this[t]=function(t){return this.getBounds(t,e)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof Q,n=U.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var s=this._getCachedBounds(i&&t,n).rect;return arguments.length?s:new r(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=P.read(arguments),e=this.getBounds(),i=this._matrix,n=new Q,s=t.getCenter();n.translate(s),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new Q).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),s=e.getCenter(),n.translate(-s.x,-s.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(j._updateBoundsCache(this,e.cacheItem),j._getBounds(i,t,e)):new P},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n=e.internal&&!i,s=e.cacheItem,r=n?null:this._matrix._orNullIfIdentity(),a=s&&(!t||t.equals(r))&&this._getBoundsCacheKey(e,n),o=this._bounds;if(j._updateBoundsCache(this._parent||this._symbol,s),a&&o&&a in o)return{rect:(d=o[a]).rect.clone(),nonscaling:d.nonscaling};var l=this._getBounds(t||r,e),u=l.rect||l,h=this._style,c=l.nonscaling||h.hasStroke()&&!h.getStrokeScaling();if(a){o||(this._bounds=o={});var d=o[a]={rect:u.clone(),nonscaling:c,internal:n}}return{rect:u,nonscaling:c}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=V;for(var i=0,n=e.list,s=n.length;i<s;i++){var r=n[i];r!==t&&(r._bounds=r._position=V,r._boundsCache&&j._clearBoundsCache(r))}}},_getBounds:function(t,e,i){var n=1/0,s=-n,r=n,a=s,o=!1;i=i||{};for(var l=0,u=t.length;l<u;l++){var h=t[l];if(h._visible&&!h.isEmpty(!0)){var c=h._getCachedBounds(e&&e.appended(h._matrix),i,!0),d=c.rect;n=Math.min(d.x,n),r=Math.min(d.y,r),s=Math.max(d.x+d.width,s),a=Math.max(d.y+d.height,a),c.nonscaling&&(o=!0)}}return{rect:isFinite(n)?new P(n,r,s-n,a-r):new P,nonscaling:o}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new d(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=H.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),n=this._decomposed,s=new Q,r=W.isZero;if(r(t.x)||r(t.y))s.translate(n.translation),i&&s.rotate(i),s.scale(e.x,e.y),this._matrix.set(s);else{var a=this.getPosition(!0);s.translate(a),i&&s.rotate(i),s.scale(e.x/t.x,e.y/t.y),i&&s.rotate(-i),s.translate(a.negate()),this.transform(s)}n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,n=[];i;){if(!i._globalMatrix){e=null;for(var s=0,r=n.length;s<r;s++)n[s]._globalMatrix=null;break}n.push(i),i=i._parent}e||(e=this._globalMatrix=this._matrix.clone(),(i=this._parent)&&e.prepend(i.getGlobalMatrix(!0)));return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,n=0,s=i&&i.length;n<s;n++)i[n]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof o)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return U.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(j.NO_INSERT),i=this._children,n=U.pick(t?t.insert:V,t===V||!0===t),s=U.pick(t?t.deep:V,!0);i&&e.copyAttributes(this),i&&!s||e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this);var r=this._name,a=this._parent;if(r&&a){i=a._children;for(var o=r,l=1;i[r];)r=o+" "+l++;r!==o&&e.setName(r)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,s=i.length;n<s;n++){var r=i[n];t.hasOwnProperty(r)&&(this[r]=t[r])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var a=t._data,o=t._name;this._data=a?U.clone(a):null,o&&this.setName(o)},rasterize:function(t,e){var i=this.getStrokeBounds(),n=(t||this.getView().getResolution())/72,s=i.getTopLeft().floor(),r=i.getBottomRight().ceil(),a=new G(r.subtract(s)),o=new A(j.NO_INSERT);if(!a.isZero()){var l=nt.getCanvas(a.multiply(n)),u=l.getContext("2d"),h=(new Q).scale(n).translate(s.negate());u.save(),h.applyToContext(u),this.draw(u,new U({matrices:[h]})),u.restore(),o.setCanvas(l)}return o.transform((new Q).translate(s.add(a.divide(2))).scale(1/n)),(e===V||e)&&o.insertAbove(this),o},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(H.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;0<=i;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return P.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new K.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof j&&0<this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length}},new function(){function t(){var t=arguments;return this._hitTest(H.read(t),M.getOptions(t))}function e(){var t=arguments,e=H.read(t),i=M.getOptions(t),n=[];return this._hitTest(e,new U({all:n},i)),n}function i(t,e,i,n){var s=this._children;if(s)for(var r=s.length-1;0<=r;r--){var a=s[r],o=a!==n&&a._hitTest(t,e,i);if(o&&!e.all)return o}return null}return h.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(n,e,t){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var i=this._matrix,s=t?t.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),r=Math.max(e.tolerance,1e-12),a=e._tolerancePadding=new G(K._getStrokePadding(r,i._shiftless().invert()));if(!(n=i._inverseTransform(n))||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(a.multiply(2))._containsPoint(n))return null;var o,l,u=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==U.hyphenate(this._class)||e.class&&!(this instanceof e.class)),h=e.match,c=this;function d(t){return t&&h&&!h(t)&&(t=null),t&&e.all&&e.all.push(t),t}function f(t,e){var i=e?o["get"+e]():c.getPosition();if(n.subtract(i).divide(a).length<=1)return new M(t,c,{name:e?U.hyphenate(e):t,point:i})}var p=e.position,_=e.center,m=e.bounds;if(u&&this._parent&&(p||_||m)){if((_||m)&&(o=this.getInternalBounds()),!(l=p&&f("position")||_&&f("center","Center"))&&m)for(var g=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!l;v++)l=f("bounds",g[v]);l=d(l)}return l||(l=this._hitTestChildren(n,e,s)||u&&d(this._hitTestSelf(n,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),l&&l.point&&(l.point=i.transform(l.point)),l},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new M("fill",this)},matches:function(t,e){var i=typeof t;if("object"===i){for(var n in t)if(t.hasOwnProperty(n)&&!this.matches(n,t[n]))return!1;return!0}if("function"===i)return t(this);if("match"===t)return e(this);var s=/^(empty|editable)$/.test(t)?this["is"+U.capitalize(t)]():"type"===t?U.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;s=this._class}if("function"==typeof e)return!!e(s);if(e){if(e.test)return e.test(s);if(U.isPlainObject(e))return function t(e,i){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n],r=i[n];if(U.isPlainObject(s)&&U.isPlainObject(r)){if(!t(s,r))return!1}else if(!U.equals(s,r))return!1}return!0}(e,s)}return U.equals(s,e)},getItems:function(t){return j._getItems(this,t,this._matrix)},getItem:function(t){return j._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,n,s,r){if(!s){var a="object"==typeof i&&i,o=a&&a.overlapping,l=a&&a.inside,u=(g=o||l)&&P.read([g]);s={items:[],recursive:a&&!1!==a.recursive,inside:!!l,overlapping:!!o,rect:u,path:o&&new K.Rectangle({rectangle:u,insert:!1})},a&&(i=U.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var h=e._children,c=s.items;n=(u=s.rect)&&(n||new Q);for(var d=0,f=h&&h.length;d<f;d++){var p=h[d],_=n&&n.appended(p._matrix),m=!0;if(u){var g=p.getBounds(_);if(!u.intersects(g))continue;u.contains(g)||s.overlapping&&(g.contains(u)||s.path.intersects(p,_))||(m=!1)}if(m&&p.matches(i)&&(c.push(p),r))break;if(!1!==s.recursive&&t(p,i,_,s,r),r&&0<c.length)break}return c}}},{importJSON:function(t){var e=U.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(V,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&0<e.length){for(var n={},s=(e=U.slice(e)).length-1;0<=s;s--){var r=(u=e[s])&&u._id;!u||n[r]?e.splice(s,1):(u._remove(!1,!0),n[r]=!0)}U.splice(i,e,t,0);for(var a=this._project,o=a._changes,l=(s=0,e.length);s<l;s++){var u,h=(u=e[s])._name;u._parent=this,u._setProject(a,!0),h&&u.setName(h),o&&u._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(V,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(V,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,s=i[n],r=s?s.indexOf(this):-1;-1!==r&&(e[n]==this&&delete e[n],s.splice(r,1),s.length?e[n]=s[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,s=this._index;return this._style&&this._style._dispose(),!!i&&(this._name&&this._removeNamed(),null!=s&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),U.splice(i._children,null,s,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),!(this._parent=null))},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=U.pick(e,this._children.length);for(var i=U.splice(this._children,null,t,e-t),n=i.length-1;0<=n;n--)i[n]._remove(!0,!1);return 0<i.length&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var n=0;n<i;n++)if(!e[n].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){for(var e=[];e.unshift(t),t=t._parent;);return e}for(var i=e(this),n=e(t),s=0,r=Math.min(i.length,n.length);s<r;s++)if(i[s]!=n[s])return i[s]._index<n[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&0<this._children.length},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return-1===this._getOrder(t)},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},U.each(["rotate","scale","shear","skew"],function(n){var s="rotate"===n;this[n]=function(){var t=arguments,e=(s?U:H).read(t),i=H.read(t,0,{readNull:!0});return this.transform((new Q)[n](e,i||this.getPosition(!0)))}},{translate:function(){var t=new Q;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var n=this._matrix,s=t&&!t.isIdentity(),r=i&&this._canApplyMatrix||this._applyMatrix&&(s||!n.isIdentity()||e&&this._children);if(!s&&!r)return this;if(s){!t.isInvertible()&&n.isInvertible()&&(n._backup=n.getValues()),n.prepend(t,!0);var a=this._style,o=a.getFillColor(!0),l=a.getStrokeColor(!0);o&&o.transform(t),l&&l.transform(t)}if(r&&(r=this._transformContent(n,e,i))){var u=this._pivot;u&&n._transformPoint(u,u,!0),n.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,c=this._position;(s||r)&&this._changed(25);var d=s&&h&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90==0){for(var f in h){var p=h[f];if(p.nonscaling)delete h[f];else if(r||!p.internal){var _=p.rect;t._transformBounds(_,_)}}var m=(this._bounds=h)[this._getBoundsCacheKey(this._boundsOptions||{})];m&&(this._position=this._getPositionFromBounds(m.rect))}else s&&c&&this._pivot&&(this._position=t._transformPoint(c,c));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var s=0,r=n.length;s<r;s++)n[s].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(H.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(H.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(H.read(arguments))},localToParent:function(){return this._matrix._transformPoint(H.read(arguments))},fitBounds:function(t,e){t=P.read(arguments);var i=this.getBounds(),n=i.height/i.width,s=t.height/t.width,r=(e?s<n:n<s)?t.width/i.width:t.height/i.height,a=new P(new H,new G(i.width*r,i.height*r));a.setCenter(t.getCenter()),this.setBounds(a)}}),{_setStyles:function(t,e,i){var n=this._style,s=this._matrix;if(n.hasFill()&&(t.fillStyle=n.getFillColor().toCanvasStyle(t,s)),n.hasStroke()){t.strokeStyle=n.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=n.getStrokeWidth();var r=n.getStrokeJoin(),a=n.getStrokeCap(),o=n.getMiterLimit();if(r&&(t.lineJoin=r),a&&(t.lineCap=a),o&&(t.miterLimit=o),at.support.nativeDash){var l=n.getDashArray(),u=n.getDashOffset();l&&l.length&&("setLineDash"in t?(t.setLineDash(l),t.lineDashOffset=u):(t.mozDash=l,t.mozDashOffset=u))}}if(n.hasShadow()){var h=e.pixelRatio||1,c=i._shiftless().prepend((new Q).scale(h,h)),d=c.transform(new H(n.getShadowBlur(),0)),f=c.transform(this.getShadowOffset());t.shadowColor=n.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=f.x,t.shadowOffsetY=f.y}},draw:function(t,e,i){this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var n=e.matrices,s=e.viewMatrix,r=this._matrix,a=n[n.length-1].appended(r);if(a.isInvertible()){s=s?s.appended(a):a,n.push(a),e.updateMatrix&&(this._globalMatrix=a);var o,l,u,h=this._blendMode,c=W.clamp(this._opacity,0,1),d="normal"===h,f=w.nativeModes[h],p=d&&1===c||e.dontStart||e.clip||(f||d&&c<1)&&this._canComposite(),_=e.pixelRatio||1;if(!p){var m=this.getStrokeBounds(s);if(!m.width||!m.height)return void n.pop();u=e.offset,l=e.offset=m.getTopLeft().floor(),o=t,t=nt.getContext(m.getSize().ceil().add(1).multiply(_)),1!==_&&t.scale(_,_)}t.save();var g=i?i.appended(r):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,v=!p&&e.clipItem,y=!g||v;if(p?(t.globalAlpha=c,f&&(t.globalCompositeOperation=h)):y&&t.translate(-l.x,-l.y),y&&(p?r:s).applyToContext(t),v&&e.clipItem.draw(t,e.extend({clip:!0})),g){t.setTransform(_,0,0,_,0,0);var b=e.offset;b&&t.translate(-b.x,-b.y)}this._draw(t,e,s,g),t.restore(),n.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),p||(w.process(h,t,o,c,l.subtract(u).multiply(_)),nt.release(t),e.offset=u)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof J)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,s){var r=this._selection,a=1&r,o=2&r||a&&this._selectBounds,l=4&r;if(this._drawSelected||(a=!1),(a||o||l)&&this._isUpdated(s)){var u,h=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),c=e.appended(this.getGlobalMatrix(!0)),d=i/2;if(t.strokeStyle=t.fillStyle=h?h.toCanvasStyle(t):"#009dec",a&&this._drawSelected(t,c,n),l){var f=this.getPosition(!0),p=this._parent,_=p?p.localToGlobal(f):f,m=_.x,g=_.y;t.beginPath(),t.arc(m,g,d,0,2*Math.PI,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],y=d,b=i+1,w=0;w<4;w++){var x=v[w],S=x[0],T=x[1];t.moveTo(m+S*y,g+T*y),t.lineTo(m+S*b,g+T*b),t.stroke()}}if(o){var k=c._transformCorners(this.getInternalBounds());t.beginPath();for(w=0;w<8;w++)t[w?"lineTo":"moveTo"](k[w],k[++w]);t.closePath(),t.stroke();for(w=0;w<8;w++)t.fillRect(k[w]-d,k[++w]-d,i,i)}}},_canComposite:function(){return!1}},U.each(["down","drag","up","move"],function(e){this["removeOn"+U.capitalize(e)]=function(){var t={};return t[e]=!0,this.removeOn(t)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,s=n._removeSets=n._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var n=i&&i.easing,s=i&&i.start,r=null!=i&&("number"==typeof i?i:i.duration),a=new b(this,t,e,r,n,s);return r&&this.on("frame",function t(e){a._handleFrame(1e3*e.time),a.running||this.off("frame",t)}),a},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),T=j.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function t(e){t.base.call(this,e),2050&e&&(this._clipItem=V)},_getClipItem:function(){var t=this._clipItem;if(t===V){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var n=this._getClipItem();return n?n._getCachedBounds(n._matrix.prepended(e),U.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,n){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,n,s)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var s=this._children,r=0,a=s.length;r<a;r++){var o=s[r];o!==n&&o.draw(t,e)}}}),o=T.extend({_class:"Layer",initialize:function(){T.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function t(){return this._parent?t.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),k=j.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&U.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new i(t.width,t.height,this,"setSize")},setSize:function(){var t=G.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;"rectangle"===e?this._radius.set(G.min(this._radius,t.divide(2).abs())):"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new i(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size._set(i,i)}else if(t=G.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){i=G.max(this._size,t.multiply(2));this._size.set(i)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(K[U.capitalize(this._type)])({center:new H,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),at.settings.applyMatrix&&e.setApplyMatrix(!0),(t===V||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var s=this._style,r=s.hasFill(),a=s.hasStroke(),o=e.dontFinish||e.clip,l=!n;if(r||a||o){var u=this._type,h=this._radius,c="circle"===u;if(e.dontStart||t.beginPath(),l&&c)t.arc(0,0,h,0,2*Math.PI,!0);else{var d=c?h:h.width,f=c?h:h.height,p=this._size,_=p.width,m=p.height;if(l&&"rectangle"===u&&0===d&&0===f)t.rect(-_/2,-m/2,_,m);else{var g=_/2,v=m/2,y=.44771525016920644,b=d*y,w=f*y,x=[-g,-v+f,-g,-v+w,-g+b,-v,-g+d,-v,g-d,-v,g-b,-v,g,-v+w,g,-v+f,g,v-f,g,v-w,g-b,v,g-d,v,-g+d,v,-g+b,v,-g,v-w,-g,v-f];n&&n.transform(x,x,32),t.moveTo(x[0],x[1]),t.bezierCurveTo(x[2],x[3],x[4],x[5],x[6],x[7]),g!==d&&t.lineTo(x[8],x[9]),t.bezierCurveTo(x[10],x[11],x[12],x[13],x[14],x[15]),v!==f&&t.lineTo(x[16],x[17]),t.bezierCurveTo(x[18],x[19],x[20],x[21],x[22],x[23]),g!==d&&t.lineTo(x[24],x[25]),t.bezierCurveTo(x[26],x[27],x[28],x[29],x[30],x[31])}}t.closePath()}o||!r&&!a||(this._setStyles(t,e,i),r&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new P(this._size).setCenter(0,0),n=this._style,s=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(K._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function v(t,e,i){var n=t._radius;if(!n.isZero())for(var s=t._size.divide(2),r=1;r<=4;r++){var a=new H(1<r&&r<4?-1:1,2<r?-1:1),o=a.multiply(s),l=o.subtract(a.multiply(n));if(new P(i?o.add(a.multiply(i)):o,l).contains(e))return{point:l,quadrant:r}}}function y(t,e,i,n){var s=t.divide(e);return(!n||s.isInQuadrant(n))&&s.subtract(s.normalize()).multiply(e).divide(i).length<=1}return{_contains:function t(e){if("rectangle"!==this._type)return e.divide(this.size).getLength()<=.5;var i=v(this,e);return i?e.subtract(i.point).divide(this._radius).getLength()<=1:t.base.call(this,e)},_hitTestSelf:function t(e,i,n,s){var r=!1,a=this._style,o=i.stroke&&a.hasStroke(),l=i.fill&&a.hasFill();if(o||l){var u=this._type,h=this._radius,c=o?a.getStrokeWidth()/2:0,d=i._tolerancePadding.add(K._getStrokePadding(c,!a.getStrokeScaling()&&s));if("rectangle"===u){var f=d.multiply(2),p=v(this,e,f);if(p)r=y(e.subtract(p.point),h,d,p.quadrant);else{var _=new P(this._size).setCenter(0,0),m=_.expand(f),g=_.expand(f.negate());r=m._containsPoint(e)&&!g._containsPoint(e)}}else r=y(e,h,d)}return r?new M(o?"stroke":"fill",this):t.base.apply(this,arguments)}}},{statics:new function(){function n(t,e,i,n,s){var r=U.create(k.prototype);return r._type=t,r._size=i,r._radius=n,r._initialize(U.getNamed(s),e),r}return{Circle:function(){var t=arguments,e=H.readNamed(t,"center"),i=U.readNamed(t,"radius");return n("circle",e,new G(2*i),i,t)},Rectangle:function(){var t=arguments,e=P.readNamed(t,"rectangle"),i=G.min(G.readNamed(t,"radius"),e.getSize(!0).divide(2));return n("rectangle",e.getCenter(!0),e.getSize(!0),i,t)},Ellipse:function(){var t=arguments,e=k._readEllipse(t),i=e.radius;return n("ellipse",e.center,i.multiply(2),i,t)},_readEllipse:function(t){var e,i;if(U.hasNamed(t,"radius"))e=H.readNamed(t,"center"),i=G.readNamed(t,"radius");else{var n=P.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),A=j.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:!0,beans:!0,initialize:function(t,e){if(!this._initialize(t,e!==V&&H.read(arguments))){var i,n=typeof t,s="string"===n?O.getElementById(t):"object"===n?t:null;if(s&&s!==j.NO_INSERT)if(s.getContext||null!=s.naturalHeight)i=s;else if(s){var r=G.read(arguments);r.isZero()||(i=nt.getCanvas(r))}i?this.setImage(i):this.setSource(t)}this._size||(this._size=new G,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=nt.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new i(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=G.read(arguments);if(!t.equals(this._size))if(0<t.width&&0<t.height){var e=this.getElement();this._setImage(nt.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&nt.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new H(0,0).transform(t),i=new H(1,0).transform(t).subtract(e),n=new H(0,1).transform(t).subtract(e);return new G(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(e){var n=this;function i(t){var e=n.getView(),i=t&&t.type||"load";e&&n.responds(i)&&(at=e._scope,n.emit(i,new m(t)))}this._setImage(e),this._loaded?setTimeout(i,0):e&&q.add(e,{load:function(t){n._setImage(e),i(t)},error:i})},_setImage:function(t){this._canvas&&nt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new G(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var e=nt.getContext(this._size);try{this._image&&e.drawImage(this._image,0,0),this._canvas=e.canvas}catch(t){nt.release(e)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new S.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=t,this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=P.read(arguments),e=nt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=P.read(arguments),e=new A(j.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=H.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof I?e=(i=t).getBounds():"object"==typeof t&&("width"in t?e=new P(t):"x"in t&&(e=new P(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=Math.min(e.width,32),s=Math.min(e.height,32),r=A._sampleContext;r?r.clearRect(0,0,33,33):r=A._sampleContext=nt.getContext(new G(32)),r.save();var a=(new Q).scale(n/e.width,s/e.height).translate(-e.x,-e.y);a.applyToContext(r),i&&i.draw(r,new U({clip:!0,matrices:[a]})),this._matrix.applyToContext(r);var o=this.getElement(),l=this._size;o&&r.drawImage(o,-l.width/2,-l.height/2),r.restore();for(var u=r.getImageData(.5,.5,Math.ceil(n),Math.ceil(s)).data,h=[0,0,0],c=0,d=0,f=u.length;d<f;d+=4){var p=u[d+3];c+=p,p/=255,h[0]+=u[d]*p,h[1]+=u[d+1]*p,h[2]+=u[d+2]*p}for(d=0;d<3;d++)h[d]/=c;return c?N.read(h):null},getPixel:function(){var t=H.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new N("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=H.read(t),i=N.read(t),n=i._convert("rgb"),s=i._alpha,r=this.getContext(!0),a=r.createImageData(1,1),o=a.data;o[0]=255*n[0],o[1]=255*n[1],o[2]=255*n[2],o[3]=null!=s?255*s:255,r.putImageData(a,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=G.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=P.read(arguments);return t.isEmpty()&&(t=new P(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=H.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new P(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new M("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var n=this.getElement();n&&0<n.width&&0<n.height&&(t.globalAlpha=W.clamp(this._opacity,0,1),this._setStyles(t,e,i),F.setPrefixed(t,"imageSmoothingEnabled",this._smoothing),t.drawImage(n,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),a=j.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==V&&H.read(arguments,1))||this.setDefinition(t instanceof C?t:new C(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var n=e.extend({all:!1}),s=this._definition._item._hitTest(t,n,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),C=U.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=u.get(),this.project=at.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return U.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&j._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),(this._item=t).remove(),t.setSelected(!1),e||t.setPosition(new H),(t._symbol=this)._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new a(this,t)},clone:function(){return new C(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),M=U.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&U.read(t);return new U({type:null,tolerance:at.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),Z=U.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,n,s,r){var a,o,l,u,h=arguments.length;0<h&&(null==t||"object"==typeof t?u=1===h&&t&&"point"in t?(a=t.point,o=t.handleIn,l=t.handleOut,t.selection):(a=t,o=e,l=i,n):(a=[t,e],o=i!==V?[i,n]:null,l=s!==V?[s,r]:null)),new f(a,this,"_point"),new f(o,this,"_handleIn"),new f(l,this,"_handleOut"),u&&this.setSelection(u)},_serialize:function(t,e){var i=this._point,n=this._selection,s=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&s.push(n),U.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,s=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=0<s?n[s-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[s])||i._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(H.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(H.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(H.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==V?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(0<e&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new Y(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var n=t||{},s=n.type,r=n.factor,a=this.getPrevious(),o=this.getNext(),l=(a||this)._point,u=this._point,h=(o||this)._point,c=l.getDistance(u),d=u.getDistance(h);if(s&&"catmull-rom"!==s){if("geometric"!==s)throw new Error("Smoothing method '"+s+"' not supported.");if(a&&o){var f=l.subtract(h),p=r===V?.4:r,_=p*c/(c+d);e||this.setHandleIn(f.multiply(_)),i||this.setHandleOut(f.multiply(_-p))}}else{var m=r===V?.5:r,g=Math.pow(c,m),v=g*g,y=Math.pow(d,m),b=y*y;if(!e&&a){var w=2*b+3*y*g+v,x=3*y*(y+g);this.setHandleIn(0!==x?new H((b*l._x+w*u._x-v*h._x)/x-u._x,(b*l._y+w*u._y-v*h._y)/x-u._y):new H)}if(!i&&o){w=2*v+3*g*y+b,x=3*g*(g+y);this.setHandleOut(0!==x?new H((v*h._x+w*u._x-b*l._x)/x-u._x,(v*h._y+w*u._y-b*l._y)/x-u._y):new H)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new Z(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new Z(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,s=i,r=t._point,a=e._point,o=t._handleIn,l=e._handleIn,u=e._handleOut,h=t._handleOut;this._point._set(n*r._x+s*a._x,n*r._y+s*a._y,!0),this._handleIn._set(n*o._x+s*l._x,n*o._y+s*l._y,!0),this._handleOut._set(n*h._x+s*u._x,n*h._y+s*u._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,s=i&&this._handleIn.isZero()?null:this._handleIn,r=i&&this._handleOut.isZero()?null:this._handleOut,a=n._x,o=n._y,l=2;return e[0]=a,e[1]=o,s&&(e[l++]=s._x+a,e[l++]=s._y+o),r&&(e[l++]=r._x+a,e[l++]=r._y+o),t&&(t._transformCoordinates(e,e,l/2),a=e[0],o=e[1],i?(n._x=a,n._y=o,l=2,s&&(s._x=e[l++]-a,s._y=e[l++]-o),r&&(r._x=e[l++]-a,r._y=e[l++]-o)):(s||(e[l++]=a,e[l++]=o),r||(e[l++]=a,e[l++]=o))),e}}),f=H.extend({initialize:function(t,e,i){var n,s,r;if(t)if((n=t[0])!==V)s=t[1];else{var a=t;(n=a.x)===V&&(n=(a=H.read(arguments)).x),s=a.y,r=a.selected}else n=s=0;this._x=n,this._y=s,(this._owner=e)[i]=this,r&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=W.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),X=U.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,s,r,a,o){var l,u,h,c,d,f,p=arguments.length;3===p?(this._path=t,l=e,u=i):p?1===p?"segment1"in t?(l=new Z(t.segment1),u=new Z(t.segment2)):"point1"in t?(h=t.point1,d=t.handle1,f=t.handle2,c=t.point2):Array.isArray(t)&&(h=[t[0],t[1]],c=[t[6],t[7]],d=[t[2]-t[0],t[3]-t[1]],f=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new Z(t),u=new Z(e)):4===p?(h=t,d=e,f=i,c=n):8===p&&(h=[t,e],c=[a,o],d=[i-t,n-e],f=[s-a,r-o]):(l=new Z,u=new Z),this._segment1=l||new Z(h,null,d),this._segment2=u||new Z(c,f,null)},_serialize:function(t,e){return U.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=V},clone:function(){return new X(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return X.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;(t=e.remove())&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(H.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(H.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(H.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(H.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return X.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new H(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=X.getLength(this.getValues(),0,1)),this._length},getArea:function(){return X.getArea(this.getValues())},getLine:function(){return new $(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new X(X.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return X.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=null;if(1e-8<=t&&t<=1-1e-8){var n=X.subdivide(this.getValues(),t),s=n[0],r=n[1],a=e||this.hasHandles(),o=this._segment1,l=this._segment2,u=this._path;a&&(o._handleOut._set(s[2]-s[0],s[3]-s[1]),l._handleIn._set(r[4]-r[6],r[5]-r[7]));var h=s[6],c=s[7],d=new Z(new H(h,c),a&&new H(s[4]-h,s[5]-c),a&&new H(r[2]-h,r[3]-c));i=u?(u.insert(o._index+1,d),this.getNext()):(this._segment2=d,this._changed(),new X(d,l))}return i},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===V?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===V?.5:e?t:this.getTimeAt(t))},reversed:function(){return new X(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var s=t._point,r=t._handleOut,a=e._handleIn,o=e._point,l=s.x,u=s.y,h=o.x,c=o.y,d=n?[l,u,l,u,h,c,h,c]:[l,u,l+r._x,u+r._y,h+a._x,c+a._y,h,c];return i&&i._transformCoordinates(d,d,4),d},subdivide:function(t,e){var i=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],u=t[7];e===V&&(e=.5);var h=1-e,c=h*i+e*s,d=h*n+e*r,f=h*s+e*a,p=h*r+e*o,_=h*a+e*l,m=h*o+e*u,g=h*c+e*f,v=h*d+e*p,y=h*f+e*_,b=h*p+e*m,w=h*g+e*y,x=h*v+e*b;return[[i,n,c,d,g,v,w,x],[w,x,y,b,_,m,l,u]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,s=t[n+0],r=t[n+2],a=t[n+4],o=t[n+6];if(r<=s==a<=r&&a<=r==o<=a||X.isStraight(t))i.push(t);else{var l=3*(r-a)-s+o,u=2*(s+a)-4*r,h=r-s,c=[],d=W.solveQuadratic(l,u,h,c,1e-8,1-1e-8);if(d){c.sort();var f=c[0],p=X.subdivide(t,f);i.push(p[0]),1<d&&(f=(c[1]-f)/(1-f),p=X.subdivide(p[1],f),i.push(p[0])),i.push(p[1])}else i.push(t)}return i},solveCubic:function(t,e,i,n,s,r){var a=t[e],o=t[e+2],l=t[e+4],u=t[e+6],h=0;if(!(a<i&&u<i&&o<i&&l<i||i<a&&i<u&&i<o&&i<l)){var c=3*(o-a),d=3*(l-o)-c,f=u-a-c-d;h=W.solveCubic(f,d,c,a-i,n,s,r)}return h},getTimeOf:function(t,e){var i=new H(t[0],t[1]),n=new H(t[6],t[7]);if(null===(e.isClose(i,1e-12)?0:e.isClose(n,1e-12)?1:null))for(var s=[e.x,e.y],r=[],a=0;a<2;a++)for(var o=X.solveCubic(t,a,s[a],r,0,1),l=0;l<o;l++){var u=r[l];if(e.isClose(X.getPoint(t,u),1e-7))return u}return e.isClose(i,1e-7)?0:e.isClose(n,1e-7)?1:null},getNearestTime:function(i,n){if(X.isStraight(i)){var t=i[0],e=i[1],s=i[6]-t,r=i[7]-e,a=s*s+r*r;if(0===a)return 0;var o=((n.x-t)*s+(n.y-e)*r)/a;return o<1e-12?0:.999999999999<o?1:X.getTimeOf(i,new H(t+o*s,e+o*r))}var l=1/0,u=0;function h(t){if(0<=t&&t<=1){var e=n.getDistance(X.getPoint(i,t),!0);if(e<l)return l=e,u=t,!0}}for(var c=0;c<=100;c++)h(c/100);for(var d=.005;1e-8<d;)h(u-d)||h(u+d)||(d/=2);return u},getPart:function(t,e,i){var n=i<e;if(n){var s=e;e=i,i=s}return 0<e&&(t=X.subdivide(t,e)[1]),i<1&&(t=X.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=3*s-2*i-l,c=3*r-2*n-u,d=3*a-2*l-i,f=3*o-2*u-n;return Math.max(h*h,d*d)+Math.max(c*c,f*f)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],l=t[7];return 3*((l-i)*(n+r)-(o-e)*(s+a)+s*(e-r)-n*(i-a)+l*(r+e/3)-o*(a+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],s=0;s<2;s++)X._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,n);return new P(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,s,r,a,o,l){function u(t,e){var i=t-e,n=t+e;i<a[s]&&(a[s]=i),n>o[s]&&(o[s]=n)}r/=2;var h=a[s]+r,c=o[s]-r;if(t<h||e<h||i<h||n<h||c<t||c<e||c<i||c<n)if(e<t!=e<n&&i<t!=i<n)u(t,0),u(n,0);else{var d=3*(e-i)-t+n,f=2*(t+i)-4*e,p=e-t,_=W.solveQuadratic(d,f,p,l);u(n,0);for(var m=0;m<_;m++){var g=l[m],v=1-g;1e-8<=g&&g<=1-1e-8&&u(v*v*v*t+3*v*v*g*e+3*v*g*g*i+g*g*g*n,r)}}}}},U.each(["getBounds","getStrokeBounds","getHandleBounds"],function(e){this[e]=function(){this._bounds||(this._bounds={});var t=this._bounds[e];return t||(t=this._bounds[e]=K[e]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),U.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var s=n.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var r=new $(t,n);if(r.getDistance(t.add(e))<1e-7&&r.getDistance(n.add(i))<1e-7){var a=s.dot(s),o=s.dot(e)/a,l=s.dot(i)/a;return 0<=o&&o<=1&&l<=0&&-1<=l}}return!1},isLinear:function(t,e,i,n){var s=n.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(a,t){this[t]=function(t){var e=this._segment1,i=this._segment2;return a(e._point,e._handleOut,i._handleIn,i._point,t)},this.statics[t]=function(t,e){var i=t[0],n=t[1],s=t[6],r=t[7];return a(new H(i,n),new H(t[2]-i,t[3]-n),new H(t[4]-s,t[5]-r),new H(s,r),e)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&0<=t&&t<=1?new Y(this,t):null},getTimeAt:function(t,e){return X.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=H.read(arguments);return t.isZero()?[]:X.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(H.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return X.getTimeOf(this.getValues(),H.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=H.read(arguments),e=this.getValues(),i=X.getNearestTime(e,t),n=X.getPoint(e,i);return new Y(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return U.each(t,function(n){this[n+"At"]=function(t,e){var i=this.getValues();return X[n](i,e?t:X.getTimeAt(i,t))},this[n+"AtTime"]=function(t){return X[n](this.getValues(),t)}},{statics:{_evaluateMethods:t}})},new function(){function d(t){var e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],l=t[7],u=9*(n-r)+3*(o-e),h=6*(e+r)-12*n,c=3*(n-e),d=9*(s-a)+3*(l-i),f=6*(i+a)-12*s,p=3*(s-i);return function(t){var e=(u*t+h)*t+c,i=(d*t+f)*t+p;return Math.sqrt(e*e+i*i)}}function f(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,i,n){if(null==e||e<0||1<e)return null;var s=t[0],r=t[1],a=t[2],o=t[3],l=t[4],u=t[5],h=t[6],c=t[7],d=W.isZero;d(a-s)&&d(o-r)&&(a=s,o=r),d(l-h)&&d(u-c)&&(l=h,u=c);var f,p,_=3*(a-s),m=3*(l-a)-_,g=h-s-_-m,v=3*(o-r),y=3*(u-o)-v,b=c-r-v-y;if(0===i)f=0===e?s:1===e?h:((g*e+m)*e+_)*e+s,p=0===e?r:1===e?c:((b*e+y)*e+v)*e+r;else{if(p=e<1e-8?(f=_,v):1-1e-8<e?(f=3*(h-l),3*(c-u)):(f=(3*g*e+2*m)*e+_,(3*b*e+2*y)*e+v),n){0===f&&0===p&&(e<1e-8||1-1e-8<e)&&(f=l-a,p=u-o);var w=Math.sqrt(f*f+p*p);w&&(f/=w,p/=w)}if(3===i){l=6*g*e+2*m,u=6*b*e+2*y;var x=Math.pow(f*f+p*p,1.5);f=0!==x?(f*u-p*l)/x:0,p=0}}return 2===i?new H(p,-f):new H(f,p)}return{statics:{classify:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=t[6],l=t[7],u=n*(i-l)+s*(o-e)+e*l-i*o,h=3*(r*(s-i)+a*(e-n)+n*i-s*e),c=h-u,d=c-u+(e*(l-a)+i*(r-o)+o*a-l*r),f=Math.sqrt(d*d+c*c+h*h),p=0!==f?1/f:0,_=W.isZero,m="serpentine";function g(t,e,i){var n=e!==V,s=n&&0<e&&e<1,r=n&&0<i&&i<1;return!n||(s||r)&&("loop"!==t||s&&r)||(s=r=!(t="arch")),{type:t,roots:s||r?s&&r?e<i?[e,i]:[i,e]:[s?e:i]:null}}if(c*=p,h*=p,_(d*=p))return _(c)?g(_(h)?"line":"quadratic"):g(m,h/(3*c));var v=3*c*c-4*d*h;if(_(v))return g("cusp",c/(2*d));var y=0<v?Math.sqrt(v/3):Math.sqrt(-v),b=2*d;return g(0<v?m:"loop",(c+y)/b,(c-y)/b)},getLength:function(t,e,i,n){if(e===V&&(e=0),i===V&&(i=1),X.isStraight(t)){var s=t;i<1&&(s=X.subdivide(s,i)[0],e/=i),0<e&&(s=X.subdivide(s,e)[1]);var r=s[6]-s[0],a=s[7]-s[1];return Math.sqrt(r*r+a*a)}return W.integrate(n||d(t),e,i,f(e,i))},getTimeAt:function(t,e,i){if(i===V&&(i=e<0?1:0),0===e)return i;var n=Math.abs,s=0<e,r=s?i:0,a=s?1:i,o=d(t),l=X.getLength(t,r,a,o),u=n(e)-l;if(n(u)<1e-12)return s?a:r;if(1e-12<u)return null;var h=e/l,c=0;return W.findRoot(function(t){return c+=W.integrate(o,i,t,f(i,t)),i=t,c-e},o,i+h,r,a,32,1e-12)},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],s=t[3],r=t[4],a=t[5],o=3*n-e-3*r+t[6],l=3*e-6*n+3*r,u=-3*e+3*n,h=3*s-i-3*a+t[7],c=3*i-6*s+3*a,d=-3*i+3*s,f=[];return W.solveCubic(9*(o*o+h*h),9*(o*l+c*h),2*(l*l+c*c)+3*(u*o+d*h),u*l+c*d,f,1e-8,1-1e-8),f.sort()}}}},new function(){function B(t,e,i,n,s,r,a){var o=!a&&i.getPrevious()===s,l=!a&&i!==s&&i.getNext()===s;if(null!==n&&(o?1e-8:0)<=n&&n<=(l?1-1e-8:1)&&null!==r&&(l?1e-8:0)<=r&&r<=(o?1-1e-8:1)){var u=new Y(i,n,null,a),h=new Y(s,r,null,a);(u._intersection=h)._intersection=u,e&&!e(u)||Y.insert(t,u,!0)}}function j(t,e,i,n){return t[0][1]<i?s(t,!0,i):e[0][1]>n?s(e,!1,n):t[0][0]}function s(t,e,i){for(var n=t[0][0],s=t[0][1],r=1,a=t.length;r<a;r++){var o=t[r][0],l=t[r][1];if(e?i<=l:l<=i)return l===i?o:n+(i-s)*(o-n)/(l-s);n=o,s=l}return null}function x(t,e,i,n,s){var r=W.isZero;if(r(n)&&r(s)){var a=X.getTimeOf(t,new H(e,i));return null===a?[]:[a]}for(var o=Math.atan2(-s,n),l=Math.sin(o),u=Math.cos(o),h=[],c=[],d=0;d<8;d+=2){var f=t[d]-e,p=t[d+1]-i;h.push(f*u-p*l,f*l+p*u)}return X.solveCubic(h,1,0,c,0,1),c}function w(t,e,i,n,s,r){var a=Math.min,o=Math.max;if(o(t[0],t[2],t[4],t[6])+1e-12>a(e[0],e[2],e[4],e[6])&&a(t[0],t[2],t[4],t[6])-1e-12<o(e[0],e[2],e[4],e[6])&&o(t[1],t[3],t[5],t[7])+1e-12>a(e[1],e[3],e[5],e[7])&&a(t[1],t[3],t[5],t[7])-1e-12<o(e[1],e[3],e[5],e[7])){var l=T(t,e);if(l)for(var u=0;u<2;u++){var h=l[u];B(s,r,i,h[0],n,h[1],!0)}else{var c=X.isStraight(t),d=X.isStraight(e),f=c&&d,p=c&&!d,_=s.length;if((f?function(t,e,i,n,s,r){var a=$.intersect(t[0],t[1],t[6],t[7],e[0],e[1],e[6],e[7]);a&&B(s,r,i,X.getTimeOf(t,a),n,X.getTimeOf(e,a))}:c||d?function(t,e,i,n,s,r,a){for(var o=e[0],l=e[1],u=x(t,o,l,e[6]-o,e[7]-l),h=0,c=u.length;h<c;h++){var d=u[h],f=X.getPoint(t,d),p=X.getTimeOf(e,f);null!==p&&B(s,r,a?n:i,a?p:d,a?i:n,a?d:p)}}:function t(e,i,n,s,r,a,o,l,u,h,c,d,f){if(4096<=++u||40<=++l)return u;var p,_,m=i[0],g=i[1],v=i[6],y=i[7],b=$.getSignedDistance,w=b(m,g,v,y,i[2],i[3]),x=b(m,g,v,y,i[4],i[5]),S=0<w*x?.75:4/9,T=S*Math.min(0,w,x),k=S*Math.max(0,w,x),A=b(m,g,v,y,e[0],e[1]),C=b(m,g,v,y,e[2],e[3]),P=b(m,g,v,y,e[4],e[5]),E=b(m,g,v,y,e[6],e[7]),O=function(t,e,i,n){var s,r=[0,t],a=[1/3,e],o=[2/3,i],l=[1,n],u=e-(2*t+n)/3,h=i-(t+2*n)/3;if(u*h<0)s=[[r,a,l],[r,o,l]];else{var c=u/h;s=[2<=c?[r,a,l]:c<=.5?[r,o,l]:[r,a,o,l],[r,l]]}return(u||h)<0?s.reverse():s}(A,C,P,E),M=O[0],I=O[1];if(0===w&&0===x&&0===A&&0===C&&0===P&&0===E||null==(p=j(M,I,T,k))||null==(_=j(M.reverse(),I.reverse(),T,k)))return u;var N=h+(c-h)*p,R=h+(c-h)*_;if(Math.max(f-d,R-N)<1e-9){var L=(N+R)/2,F=(d+f)/2;B(r,a,o?s:n,o?F:L,o?n:s,o?L:F)}else{e=X.getPart(e,p,_);var q=f-d;if(.8<_-p)if(q<R-N)L=(N+R)/2,u=t(i,(D=X.subdivide(e,.5))[0],s,n,r,a,!o,l,u,d,f,N,L),u=t(i,D[1],s,n,r,a,!o,l,u,d,f,L,R);else{var D;F=(d+f)/2,u=t((D=X.subdivide(i,.5))[0],e,s,n,r,a,!o,l,u,d,F,N,R),u=t(D[1],e,s,n,r,a,!o,l,u,F,f,N,R)}else u=0===q||1e-9<=q?t(i,e,s,n,r,a,!o,l,u,d,f,N,R):t(e,i,n,s,r,a,o,l,u,N,R,d,f)}return u})(p?e:t,p?t:e,p?n:i,p?i:n,s,r,p,0,0,0,1,0,1),!f||s.length===_)for(u=0;u<4;u++){var m=u>>1,g=1&u,v=6*m,y=6*g,b=new H(t[v],t[v+1]),w=new H(e[y],e[y+1]);b.isClose(w,1e-12)&&B(s,r,i,m,n,g)}}}return s}function S(t,e,i,n){var s=X.classify(t);if("loop"===s.type){var r=s.roots;B(i,n,e,r[0],e,r[1])}return i}function T(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,s=$.getDistance,r=1e-7,a=X.isStraight(t),o=X.isStraight(e),l=a&&o,u=i(t)<i(e),h=u?e:t,c=u?t:e,d=h[0],f=h[1],p=h[6]-d,_=h[7]-f;if(s(d,f,p,_,c[0],c[1],!0)<r&&s(d,f,p,_,c[6],c[7],!0)<r)!l&&s(d,f,p,_,h[2],h[3],!0)<r&&s(d,f,p,_,h[4],h[5],!0)<r&&s(d,f,p,_,c[2],c[3],!0)<r&&s(d,f,p,_,c[4],c[5],!0)<r&&(a=o=l=!0);else if(l)return null;if(a^o)return null;for(var m=[t,e],g=[],v=0;v<4&&g.length<2;v++){var y=1&v,b=1^y,w=v>>1,x=X.getTimeOf(m[y],new H(m[b][w?6:0],m[b][w?7:1]));if(null!=x){var S=y?[w,x]:[x,w];(!g.length||1e-8<n(S[0]-g[0][0])&&1e-8<n(S[1]-g[0][1]))&&g.push(S)}if(2<v&&!g.length)break}if(2!==g.length)g=null;else if(!l){var T=X.getPart(t,g[0][0],g[1][0]),k=X.getPart(e,g[0][1],g[1][1]);(n(k[2]-T[2])>r||n(k[3]-T[3])>r||n(k[4]-T[4])>r||n(k[5]-T[5])>r)&&(g=null)}return g}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?w(e,i,this,t,[]):S(e,this,[])},statics:{getOverlaps:T,getIntersections:function(t,e,i,n,s,r){var a=!e;a&&(e=t);for(var o=t.length,l=e.length,u=new Array(o),h=a?u:new Array(l),c=[],d=0;d<o;d++)u[d]=t[d].getValues(n);if(!a)for(d=0;d<l;d++)h[d]=e[d].getValues(s);for(var f=z.findCurveBoundsCollisions(u,h,1e-7),p=0;p<o;p++){var _=t[p],m=u[p];a&&S(m,_,c,i);var g=f[p];if(g)for(var v=0;v<g.length;v++){if(r&&c.length)return c;var y=g[v];if(!a||p<y){var b=e[y];w(m,h[y],_,b,c,i)}}}return c},getCurveLineIntersections:x,getTimesWithTangent:function(t,e){var i=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],u=t[7],h=e.normalize(),c=h.x,d=h.y,f=3*l-9*a+9*s-3*i,p=3*u-9*o+9*r-3*n,_=6*a-12*s+6*i,m=6*o-12*r+6*n,g=3*s-3*i,v=3*r-3*n,y=2*f*d-2*p*c,b=[];if(Math.abs(y)<W.CURVETIME_EPSILON){if(0!=(y=f*m-p*_)){var w=-(f*v-p*g)/y;0<=w&&w<=1&&b.push(w)}}else{var x=(_*_-4*f*g)*d*d+(-2*_*m+4*p*g+4*f*v)*c*d+(m*m-4*p*v)*c*c,S=_*d-m*c;if(0<=x&&0!=y){var T=Math.sqrt(x),k=-(S+T)/y,A=(-S+T)/y;0<=k&&k<=1&&b.push(k),0<=A&&A<=1&&b.push(A)}}return b}}}}),Y=U.extend({_class:"CurveLocation",initialize:function(t,e,i,n,s){if(.99999999<=e){var r=t.getNext();r&&(e=0,t=r)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=s,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();0===i?t=e._segment1:1===i?t=e._segment2:null!=i&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,i=this;function e(t){var e=t&&t.getCurve();if(e&&null!=(i._time=e.getTimeOf(i._point)))return i._setCurve(e),e}return t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||e(this._segment)||e(this._segment1)||e(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),s=0;s<i;s++)t+=n[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=null!=i&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof Y){var n=this.getCurve(),s=t.getCurve(),r=n._path;if(r===s._path){var a=Math.abs,o=a(this.getOffset()-t.getOffset()),l=!e&&this._intersection,u=!e&&t._intersection;i=(o<1e-7||r&&a(r.getLength()-o)<1e-7)&&(!l&&!u||l&&u&&l.equals(u,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=x.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var s=this.getTime();return null!=s&&t.push("time: "+i.number(s)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),n=1-1e-8,s=1e-8<=e&&e<=n,r=1e-8<=i&&i<=n;if(s&&r)return!this.isTouching();var a=this.getCurve(),o=a&&e<1e-8?a.getPrevious():a,l=t.getCurve(),u=l&&i<1e-8?l.getPrevious():l;if(n<e&&(a=a.getNext()),n<i&&(l=l.getNext()),!(o&&a&&u&&l))return!1;var h=[];function c(t,e){var i=t.getValues(),n=X.classify(i).roots||X.getPeaks(i),s=n.length,r=X.getLength(i,e&&s?n[s-1]:0,!e&&s?n[0]:1);h.push(s?r:r/32)}function d(t,e,i){return e<i?e<t&&t<i:e<t||t<i}s||(c(o,!0),c(a,!1)),r||(c(u,!0),c(l,!1));var f=this.getPoint(),p=Math.min.apply(Math,h),_=s?a.getTangentAtTime(e):a.getPointAt(p).subtract(f),m=s?_.negate():o.getPointAt(-p).subtract(f),g=r?l.getTangentAtTime(i):l.getPointAt(p).subtract(f),v=r?g.negate():u.getPointAt(-p).subtract(f),y=m.getAngle(),b=_.getAngle(),w=v.getAngle(),x=g.getAngle();return!!(s?d(y,w,x)^d(b,w,x)&&d(y,x,w)^d(b,x,w):d(w,y,b)^d(x,y,b)&&d(w,b,y)^d(x,b,y))},hasOverlap:function(){return!!this._overlap}},U.each(X._evaluateMethods,function(t){var i=t+"At";this[t]=function(){var t=this.getCurve(),e=this.getTime();return null!=e&&t&&t[i](e,!0)}},{preserve:!0}),new function(){function n(s,r,t){var a=s.length,e=0,i=a-1;function n(t,e){for(var i=t+e;-1<=i&&i<=a;i+=e){var n=s[(i%a+a)%a];if(!r.getPoint().isClose(n.getPoint(),1e-7))break;if(r.equals(n))return n}return null}for(;e<=i;){var o,l=e+i>>>1,u=s[l];if(t&&(o=r.equals(u)?u:n(l,-1)||n(l,1)))return r._overlap&&(o._overlap=o._intersection._overlap=!0),o;var h=r.getPath(),c=u.getPath();(h!==c?h._id-c._id:r.getIndex()+r.getTime()-(u.getIndex()+u.getTime()))<0?i=l-1:e=l+1}return s.splice(e,0,r),r}return{statics:{insert:n,expand:function(t){for(var e=t.slice(),i=t.length-1;0<=i;i--)n(e,t[i]._intersection,!1);return e}}}}),I=j.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(U.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i){var s=i[0];n=s&&Array.isArray(s[0])}else e&&(n=1<(e.match(/m/gi)||[]).length||/z\s*\S+/i.test(e));return new(n?J:K)(t)}},_asPathItem:function(){return this},isClockwise:function(){return 0<=this.getArea()},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var n,e,i,s=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),r=!1,a=new H,o=new H;function l(t,e){var i=+n[t];return r&&(i+=a[e]),i}function u(t){return new H(l(t,"x"),l(t+1,"y"))}this.clear();for(var h=0,c=s&&s.length;h<c;h++){var d=s[h],f=d[0],p=f.toLowerCase(),_=(n=d.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g))&&n.length;switch(r=f===p,"z"!==e||/[mz]/.test(p)||this.moveTo(a),p){case"m":case"l":for(var m="m"===p,g=0;g<_;g+=2)this[m?"moveTo":"lineTo"](a=u(g)),m&&(o=a,m=!1);i=a;break;case"h":case"v":var v="h"===p?"x":"y";a=a.clone();for(g=0;g<_;g++)a[v]=l(g,v),this.lineTo(a);i=a;break;case"c":for(g=0;g<_;g+=6)this.cubicCurveTo(u(g),i=u(g+2),a=u(g+4));break;case"s":for(g=0;g<_;g+=4)this.cubicCurveTo(/[cs]/.test(e)?a.multiply(2).subtract(i):a,i=u(g),a=u(g+2)),e=p;break;case"q":for(g=0;g<_;g+=4)this.quadraticCurveTo(i=u(g),a=u(g+2));break;case"t":for(g=0;g<_;g+=2)this.quadraticCurveTo(i=/[qt]/.test(e)?a.multiply(2).subtract(i):a,a=u(g)),e=p;break;case"a":for(g=0;g<_;g+=7)this.arcTo(a=u(g+5),new G(+n[g],+n[g+1]),+n[g+2],+n[g+4],+n[g+3]);break;case"z":this.closePath(1e-12),a=o}e=p}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,i,n){var s=this===t||!t,r=this._matrix._orNullIfIdentity(),a=s?r:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(r).intersects(t.getBounds(a),1e-12)?X.getIntersections(this.getCurves(),!s&&t.getCurves(),e,r,a,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var t=H.read(arguments),e=this.getCurves(),i=1/0,n=null,s=0,r=e.length;s<r;s++){var a=e[s].getNearestLocation(t);a._distance<i&&(i=a._distance,n=a)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,s=n?"_segments":"_children",r=t[s],a=e[s],o=this[s];if(!r||!a||r.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=o.length,u=a.length;if(l<u)for(var h=n?Z:K,c=l;c<u;c++)this.add(new h);else u<l&&this[n?"removeSegments":"removeChildren"](u,l);for(c=0;c<u;c++)o[c].interpolate(r[c],a[c],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],s=i.length,r=n.length,a=[],o=0;e=!0;for(var l=z.findItemBoundsCollisions(i,n,W.GEOMETRIC_EPSILON),u=s-1;0<=u&&e;u--){var h=i[u];e=!1;var c=l[u];if(c)for(var d=c.length-1;0<=d&&!e;d--)h.compare(n[c[d]])&&(a[c[d]]||(a[c[d]]=!0,o++),e=!0)}e=e&&o===r}return e}}),K=I.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,i=Array.isArray(t)?"object"==typeof t[0]?t:e:!t||t.size!==V||t.x===V&&t.point===V?null:e;i&&0<i.length?this.setSegments(i):(this._curves=V,this._segmentSelection=0,i||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!i&&t)},_equals:function(t){return this._closed===t._closed&&U.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),8&e){if(this._length=this._area=V,32&e)this._version++;else if(this._curves)for(var i=0,n=this._curves.length;i<n;i++)this._curves[i]._changed()}else 64&e&&(this._bounds=V)},getStyle:function(){var t=this._parent;return(t instanceof J?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=V,i){var n=t[i-1];"boolean"==typeof n&&(this.setClosed(n),i--),this._add(Z.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new X(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new X(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(s,t){var r,a,o,l,u,h,c,d,e=this._segments,i=e.length,f=new x(t),p=new Array(6),_=!0,m=[];function n(t,e){if(t._transformCoordinates(s,p),r=p[0],a=p[1],_)m.push("M"+f.pair(r,a)),_=!1;else if(u=p[2],h=p[3],u===r&&h===a&&c===o&&d===l){if(!e){var i=r-o,n=a-l;m.push(0===i?"v"+f.number(n):0===n?"h"+f.number(i):"l"+f.pair(i,n))}}else m.push("c"+f.pair(c-o,d-l)+" "+f.pair(u-o,h-l)+" "+f.pair(r-o,a-l));o=r,l=a,c=p[4],d=p[5]}if(!i)return"";for(var g=0;g<i;g++)n(e[g]);return this._closed&&0<i&&(n(e[0],!0),m.push("z")),m.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,s=e.length;n<s;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,s=t.length,r=null==e,a=(e=r?i.length:e,0);a<s;a++){var o=t[a];o._path&&(o=t[a]=o.clone()),o._path=this,o._index=e+a,o._selection&&this._updateSelection(o,0,o._selection)}if(r)U.push(i,t);else{i.splice.apply(i,[e,0].concat(t));a=e+s;for(var l=i.length;a<l;a++)i[a]._index=a}if(n){var u=this._countCurves(),h=0<e&&e+s-1===u?e-1:e,c=h,d=Math.min(h+s,u);t._curves&&(n.splice.apply(n,[h,0].concat(t._curves)),c+=t._curves.length);for(a=c;a<d;a++)n.splice(a,0,new X(this,null,null));this._adjustCurves(h,d)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i,n=this._segments,s=this._curves,r=t;r<e;r++)(i=s[r])._path=this,i._segment1=n[r],i._segment2=n[r+1]||n[0],i._changed();(i=s[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=s[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&0<t?t-1:t},add:function(t){var e=arguments;return 1<e.length&&"number"!=typeof t?this._add(Z.readList(e)):this._add([Z.read(e)])[0]},insert:function(t,e){var i=arguments;return 2<i.length&&"number"!=typeof e?this._add(Z.readList(i,1),t):this._add([Z.read(i,1)],t)[0]},addSegment:function(){return this._add([Z.read(arguments)])[0]},insertSegment:function(t){return this._add([Z.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(Z.readList(t))},insertSegments:function(t,e){return this._add(Z.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=U.pick(e,this._segments.length);var n=this._segments,s=this._curves,r=n.length,a=n.splice(t,e-t),o=a.length;if(!o)return a;for(var l=0;l<o;l++){var u=a[l];u._selection&&this._updateSelection(u,u._selection,0),u._index=u._path=null}l=t;for(var h=n.length;l<h;l++)n[l]._index=l;if(s){var c=0<t&&e===r+(this._closed?1:0)?t-1:t;for(l=(s=s.splice(c,o)).length-1;0<=l;l--)s[l]._path=null;i&&(a._curves=s.slice(1)),this._adjustCurves(c,c)}return this._changed(41),a},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){for(var e=this._segments,i=this._closed,n=t=0,s=e.length;n<s;n++){var r=n+1===s;t+=X.getArea(X.getValues(e[n],e[r?0:n+1],null,r&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&0<t&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){1&e||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var s=0;s<i;s++)e[s]._selection=n},_updateSelection:function(t,e,i){t._selection=i,0<(this._segmentSelection+=i-e)&&this.setSelected(!0)},divideAt:function(t){var e,i=this.getLocationAt(t);return i&&(e=i.getCurve().divideAt(i.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time;1-1e-8<n&&(i++,n=0);var s=this.getCurves();if(0<=i&&i<s.length){1e-8<=n&&s[i++].divideAtTime(n);var r,a=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),r=this):((r=new K(j.NO_INSERT)).insertAbove(this),r.copyAttributes(this)),r._add(a,0),this.addSegment(a[0]),r}return null},split:function(t,e){var i,n=e===V?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return null!=n?this.splitAt(n):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,s=this.getLastSegment(),r=t.getLastSegment();if(!r)return this;s&&s._point.isClose(r._point,i)&&t.reverse();var a=t.getFirstSegment();if(s&&s._point.isClose(a._point,i))s.setHandleOut(a._handleOut),this._add(n.slice(1));else{var o=this.getFirstSegment();o&&o._point.isClose(a._point,i)&&t.reverse(),r=t.getLastSegment(),o&&o._point.isClose(r._point,i)?(o.setHandleIn(r._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,i)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,s=e.length-1;0<=s;s--){var r=e[s];!r.hasHandles()&&(!r.hasLength(n)||i&&r.isCollinear(r.getNext()))&&r.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new v(this,t||.25,256,!0).parts,i=e.length,n=[],s=0;s<i;s++)n.push(new Z(e[s].curve.slice(0,2)));!this._closed&&0<i&&n.push(new Z(e[i-1].curve.slice(6))),this.setSegments(n)},simplify:function(t){var e=new n(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var s=this,e=t||{},i=e.type||"asymmetric",n=this._segments,r=n.length,a=this._closed;function o(t,e){var i=t&&t.index;if(null!=i){var n=t.path;if(n&&n!==s)throw new Error(t._class+" "+i+" of "+n+" is not part of "+s);e&&t instanceof X&&i++}else i="number"==typeof t?t:e;return Math.min(i<0&&a?i%r:i<0?i+r:i,r-1)}var l=a&&e.from===V&&e.to===V,u=o(e.from,0),h=o(e.to,r-1);if(h<u)if(a)u-=r;else{var c=u;u=h,h=c}if(/^(?:asymmetric|continuous)$/.test(i)){var d="asymmetric"===i,f=Math.min,p=h-u+1,_=p-1,m=l?f(p,4):1,g=m,v=m,y=[];if(a||(g=f(1,u),v=f(1,r-h-1)),(_+=g+v)<=1)return;for(var b=0,w=u-g;b<=_;b++,w++)y[b]=n[(w<0?w+r:w)%r]._point;var x=y[0]._x+2*y[1]._x,S=y[0]._y+2*y[1]._y,T=2,k=_-1,A=[x],C=[S],P=[T],E=[],O=[];for(b=1;b<_;b++){var M=b<k,I=M?4:d?2:7,N=M?4:d?3:8,R=M?2:d?0:1,L=(M?1:d?1:2)/T;T=P[b]=I-L,x=A[b]=N*y[b]._x+R*y[b+1]._x-L*x,S=C[b]=N*y[b]._y+R*y[b+1]._y-L*S}E[k]=A[k]/P[k],O[k]=C[k]/P[k];for(b=_-2;0<=b;b--)E[b]=(A[b]-E[b+1])/P[b],O[b]=(C[b]-O[b+1])/P[b];E[_]=(3*y[_]._x-E[k])/2,O[_]=(3*y[_]._y-O[k])/2;b=g;var F=_-v;for(w=u;b<=F;b++,w++){var q=n[w<0?w+r:w],D=q._point,B=E[b]-D._x,j=O[b]-D._y;(l||b<F)&&q.setHandleOut(B,j),(l||g<b)&&q.setHandleIn(-B,-j)}}else for(b=u;b<=h;b++)n[b<0?b+r:b].smooth(e,!l&&b===u,!l&&b===h)},toShape:function(t){if(!this._closed)return null;var e,i,n,s,r,a,o,u=this._segments;function l(t,e){var i=u[t],n=i.getNext(),s=u[e],r=s.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&s._handleOut.isZero()&&r._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(r._point.subtract(s._point))}function h(t){var e=u[t],i=e.getNext(),n=e._handleOut,s=i._handleIn,r=.5522847498307936;if(n.isOrthogonal(s)){var a=e._point,o=i._point,l=new $(a,n,!0).intersect(new $(o,s,!0),!0);return l&&W.isZero(n.getLength()/l.subtract(a).getLength()-r)&&W.isZero(s.getLength()/l.subtract(o).getLength()-r)}return!1}function c(t,e){return u[t]._point.getDistance(u[e]._point)}if(!this.hasHandles()&&4===u.length&&l(0,2)&&l(1,3)&&(r=u[1],a=r.getPrevious(),o=r.getNext(),a._handleOut.isZero()&&r._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&r._point.subtract(a._point).isOrthogonal(o._point.subtract(r._point)))?(e=k.Rectangle,i=new G(c(0,3),c(0,1)),s=u[1]._point.add(u[2]._point).divide(2)):8===u.length&&h(0)&&h(2)&&h(4)&&h(6)&&l(1,5)&&l(3,7)?(e=k.Rectangle,n=(i=new G(c(1,6),c(0,3))).subtract(new G(c(0,7),c(1,2))).divide(2),s=u[3]._point.add(u[4]._point).divide(2)):4===u.length&&h(0)&&h(1)&&h(2)&&h(3)&&(n=W.isZero(c(0,2)-c(1,3))?(e=k.Circle,c(0,2)/2):(e=k.Ellipse,new G(c(2,0)/2,c(3,1)/2)),s=u[1]._point),e){var d=this.getPosition(!0),f=new e({center:d,size:i,radius:n,insert:!1});return f.copyAttributes(this,!0),f._matrix.prepend(this._matrix),f.rotate(s.subtract(d).getAngle()+90),(t===V||t)&&f.insertAbove(this),f}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof J)return t.base.call(this,e);var i=this.getCurves(),n=e.getCurves(),s=i.length,r=n.length;if(!s||!r)return s==r;for(var a,o,l=i[0].getValues(),u=[],h=0,c=0,d=0;d<r;d++){var f=n[d].getValues();if(u.push(f),m=X.getOverlaps(l,f)){a=!d&&0<m[0][0]?r-1:d,o=m[0][1];break}}var p,_=Math.abs;for(f=u[a];l&&f;){var m;if(m=X.getOverlaps(l,f))if(_(m[0][0]-c)<1e-8){1===(c=m[1][0])&&(l=++h<s?i[h].getValues():null,c=0);var g=m[0][1];if(_(g-o)<1e-8){if(p||(p=[a,g]),1===(o=m[1][1])&&(++a>=r&&(a=0),f=u[a]||n[a].getValues(),o=0),!l)return p[0]===a&&p[1]===o;continue}}break}return!1},_hitTestSelf:function(n,s,t,r){var a,o,l,u,e,i,h=this,c=this.getStyle(),d=this._segments,f=d.length,p=this._closed,_=s._tolerancePadding,m=_,g=s.stroke&&c.hasStroke(),v=s.fill&&c.hasFill(),y=s.curves,b=g?c.getStrokeWidth()/2:v&&0<s.tolerance||y?0:null;function w(t,e){return n.subtract(t).divide(e).length<=1}function x(t,e,i){if(!s.selected||e.isSelected()){var n=t._point;if(e!==n&&(e=e.add(n)),w(e,m))return new M(i,h,{segment:t,point:e})}}function S(t,e){return(e||s.segments)&&x(t,t._point,"segment")||!e&&s.handles&&(x(t,t._handleIn,"handle-in")||x(t,t._handleOut,"handle-out"))}function T(t){u.add(t)}function k(t){var e,i=p||0<t._index&&t._index<f-1;return"round"===(i?a:o)?w(t._point,m):(u=new K({internal:!0,closed:!0}),i?t.isSmooth()||K._addBevelJoin(t,a,b,l,null,r,T,!0):"square"===o&&K._addSquareCap(t,o,b,null,r,T,!0),u.isEmpty()?void 0:u.contains(n)||(e=u.getNearestLocation(n))&&w(e.getPoint(),_))}if(null!==b&&(0<b?(a=c.getStrokeJoin(),o=c.getStrokeCap(),l=c.getMiterLimit(),m=m.add(K._getStrokePadding(b,r))):a=o="round"),!s.ends||s.segments||p){if(s.segments||s.handles)for(var A=0;A<f;A++)if(i=S(d[A]))return i}else if(i=S(d[0],!0)||S(d[f-1],!0))return i;if(null!==b){if(e=this.getNearestLocation(n)){var C=e.getTime();0===C||1===C&&1<f?k(e.getSegment())||(e=null):w(e.getPoint(),m)||(e=null)}if(!e&&"miter"===a&&1<f)for(A=0;A<f;A++){var P=d[A];if(n.getDistance(P._point)<=l*b&&k(P)){e=P.getLocation();break}}}return!e&&v&&this._contains(n)||e&&!g&&!y?new M("fill",this):e?new M(g?"stroke":"curve",this,{location:e,point:e.getPoint()}):null}},U.each(X._evaluateMethods,function(i){this[i+"At"]=function(t){var e=this.getLocationAt(t);return e&&e[i]()}},{beans:!1,getLocationOf:function(){for(var t=H.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,s=e.length;n<s;n++){var r=i,a=e[n];if(t<(i+=a.getLength()))return a.getLocationAt(t-r)}if(0<e.length&&t<=this.getLength())return new Y(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=H.read(arguments);if(t.isZero())return[];for(var e=[],i=0,n=this.getCurves(),s=0,r=n.length;s<r;s++){for(var a=n[s],o=a.getTimesWithTangent(t),l=0,u=o.length;l<u;l++){var h=i+a.getOffsetAtTime(o[l]);e.indexOf(h)<0&&e.push(h)}i+=a.length}return e}}),new function(){function g(n,t,s){var r,a,o,l,u,h,c,d,e=t._segments,i=e.length,f=new Array(6),p=!0;function _(t){if(s)t._transformCoordinates(s,f),r=f[0],a=f[1];else{var e=t._point;r=e._x,a=e._y}if(p)n.moveTo(r,a),p=!1;else{if(s)u=f[2],h=f[3];else{var i=t._handleIn;u=r+i._x,h=a+i._y}u===r&&h===a&&c===o&&d===l?n.lineTo(r,a):n.bezierCurveTo(c,d,u,h,r,a)}if(o=r,l=a,s)c=f[4],d=f[5];else{i=t._handleOut;c=o+i._x,d=l+i._y}}for(var m=0;m<i;m++)_(e[m]);t._closed&&0<i&&_(e[0])}return{_draw:function(t,e,i,n){var s=e.dontStart,r=e.dontFinish||e.clip,a=this.getStyle(),o=a.hasFill(),l=a.hasStroke(),u=a.getDashArray(),h=!at.support.nativeDash&&l&&u&&u.length;function c(t){return u[(t%h+h)%h]}if(s||t.beginPath(),(o||l&&!h||r)&&(g(t,this,n),this._closed&&t.closePath()),!r&&(o||l)&&(this._setStyles(t,e,i),o&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l)){if(h){s||t.beginPath();for(var d,f=new v(this,.25,32,!1,n),p=f.length,_=-a.getDashOffset(),m=0;0<_;)_-=c(m--)+c(m--);for(;_<p;)d=_+c(m++),(0<_||0<d)&&f.drawPart(t,Math.max(_,0),Math.max(d,0)),_=d+c(m++)}t.stroke()}},_drawSelected:function(t,e){t.beginPath(),g(t,this,e),t.stroke(),function(n,t,e,i){if(!(i<=0))for(var s,r,a=i/2,o=i-2,l=a-1,u=new Array(6),h=0,c=t.length;h<c;h++){var d=t[h],f=d._selection;if(d._transformCoordinates(e,u),s=u[0],r=u[1],2&f&&_(2),4&f&&_(4),n.fillRect(s-a,r-a,i,i),0<o&&!(1&f)){var p=n.fillStyle;n.fillStyle="#ffffff",n.fillRect(s-l,r-l,o,o),n.fillStyle=p}}function _(t){var e=u[t],i=u[t+1];s==e&&r==i||(n.beginPath(),n.moveTo(s,r),n.lineTo(e,i),n.stroke(),n.beginPath(),n.arc(e,i,a,0,2*Math.PI,!0),n.fill())}}(t,this._segments,e,at.settings.handleSize)}}},new function(){function z(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new Z(H.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new Z(H.read(arguments))])},cubicCurveTo:function(){var t=arguments,e=H.read(t),i=H.read(t),n=H.read(t),s=z(this);s.setHandleOut(e.subtract(s._point)),this._add([new Z(n,i.subtract(n))])},quadraticCurveTo:function(){var t=arguments,e=H.read(t),i=H.read(t),n=z(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var t=arguments,e=H.read(t),i=H.read(t),n=U.pick(U.read(t),.5),s=1-n,r=z(this)._point,a=e.subtract(r.multiply(s*s)).subtract(i.multiply(n*n)).divide(2*n*s);if(a.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(a,i)},arcTo:function(){var t,e,i,n,s=arguments,r=Math.abs,a=Math.sqrt,o=z(this),l=o._point,u=H.read(s),h=U.peek(s);if("boolean"==typeof(_=U.pick(h,!0)))var c=(g=l.add(u).divide(2)).add(g.subtract(l).rotate(_?-90:90));else if(U.remain(s)<=2)c=u,u=H.read(s);else if(!l.equals(u)){var d=G.read(s),f=W.isZero;if(f(d.width)||f(d.height))return this.lineTo(u);var p=U.read(s),_=!!U.read(s),m=!!U.read(s),g=l.add(u).divide(2),v=(B=l.subtract(g).rotate(-p)).x,y=B.y,b=r(d.width),w=r(d.height),x=b*b,S=w*w,T=v*v,k=y*y,A=a(T/x+k/S);if(1<A&&(x=(b*=A)*b,S=(w*=A)*w),r(A=(x*S-x*k-S*T)/(x*k+S*T))<1e-12&&(A=0),A<0)throw new Error("Cannot create an arc with the given arguments");t=new H(b*y/w,-w*v/b).multiply((m===_?-1:1)*a(A)).rotate(p).add(g),e=(i=(n=(new Q).translate(t).rotate(p).scale(b,w))._inverseTransform(l)).getDirectedAngle(n._inverseTransform(u)),!_&&0<e?e-=360:_&&e<0&&(e+=360)}if(c){var C=new $(l.add(c).divide(2),c.subtract(l).rotate(90),!0),P=new $(c.add(u).divide(2),u.subtract(c).rotate(90),!0),E=new $(l,u),O=E.getSide(c);if(!(t=C.intersect(P,!0))){if(!O)return this.lineTo(u);throw new Error("Cannot create an arc with the given arguments")}e=(i=l.subtract(t)).getDirectedAngle(u.subtract(t));var M=E.getSide(t,!0);0===M?e=O*r(e):O===M&&(e+=e<0?360:-360)}if(e){for(var I=r(e),N=360<=I?4:Math.ceil((I-1e-7)/90),R=e/N,L=R*Math.PI/360,F=4/3*Math.sin(L)/(1+Math.cos(L)),q=[],D=0;D<=N;D++){var B=u,j=null;if(D<N&&(j=i.rotate(90).multiply(F),n?(B=n._transformPoint(i),j=n._transformPoint(i.add(j)).subtract(B)):B=t.add(i)),D){var V=i.rotate(-90).multiply(F);n&&(V=n._transformPoint(i.add(V)).subtract(B)),q.push(new Z(B,V,j))}else o.setHandleOut(j);i=i.rotate(R)}this._add(q)}},lineBy:function(){var t=H.read(arguments),e=z(this)._point;this.lineTo(e.add(t))},curveBy:function(){var t=arguments,e=H.read(t),i=H.read(t),n=U.read(t),s=z(this)._point;this.curveTo(s.add(e),s.add(i),n)},cubicCurveBy:function(){var t=arguments,e=H.read(t),i=H.read(t),n=H.read(t),s=z(this)._point;this.cubicCurveTo(s.add(e),s.add(i),s.add(n))},quadraticCurveBy:function(){var t=arguments,e=H.read(t),i=H.read(t),n=z(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var t=arguments,e=z(this)._point,i=e.add(H.read(t)),n=U.pick(U.peek(t),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(H.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return K[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,s,r){var a=t[0];if(!a)return new P;var o=new Array(6),l=a._transformCoordinates(n,new Array(6)),u=l.slice(0,2),h=u.slice(),c=new Array(2);function d(t){t._transformCoordinates(n,o);for(var e=0;e<2;e++)X._addBounds(l[e],l[e+4],o[e+2],o[e],e,r?r[e]:0,u,h,c);var i=l;l=o,o=i}for(var f=1,p=t.length;f<p;f++)d(t[f]);return e&&d(a),new P(u[0],u[1],h[0]-u[0],h[1]-u[1])},getStrokeBounds:function(t,e,i,n,s){var r=i.getStyle(),a=r.hasStroke(),o=r.getStrokeWidth(),l=a&&i._getStrokeMatrix(n,s),u=a&&K._getStrokePadding(o,l),h=K.getBounds(t,e,i,n,s,u);if(!a)return h;var c=o/2,d=r.getStrokeJoin(),f=r.getStrokeCap(),p=r.getMiterLimit(),_=new P(new G(u));function m(t){h=h.include(t)}function g(t){h=h.unite(_.setCenter(t._point.transform(n)))}function v(t,e){"round"===e||t.isSmooth()?g(t):K._addBevelJoin(t,e,c,p,n,l,m)}function y(t,e){"round"===e?g(t):K._addSquareCap(t,e,c,n,l,m)}var b=t.length-(e?0:1);if(0<b){for(var w=1;w<b;w++)v(t[w],d);e?v(t[0],d):(y(t[0],f),y(t[t.length-1],f))}return h},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new H(t,0).transform(e),n=new H(0,t).transform(e),s=i.getAngleInRadians(),r=i.getLength(),a=n.getLength(),o=Math.sin(s),l=Math.cos(s),u=Math.tan(s),h=Math.atan2(a*u,r),c=Math.atan2(a,u*r);return[Math.abs(r*Math.cos(h)*l+a*Math.sin(h)*o),Math.abs(a*Math.sin(c)*l+r*Math.cos(c)*o)]},_addBevelJoin:function(t,e,i,n,s,r,a,o){var l=t.getCurve(),u=l.getPrevious(),h=l.getPoint1().transform(s),c=u.getNormalAtTime(1).multiply(i).transform(r),d=l.getNormalAtTime(0).multiply(i).transform(r),f=c.getDirectedAngle(d);if((f<0||180<=f)&&(c=c.negate(),d=d.negate()),o&&a(h),a(h.add(c)),"miter"===e){var p=new $(h.add(c),new H(-c.y,c.x),!0).intersect(new $(h.add(d),new H(-d.y,d.x),!0),!0);p&&h.getDistance(p)<=n*i&&a(p)}a(h.add(d))},_addSquareCap:function(t,e,i,n,s,r,a){var o=t._point.transform(n),l=t.getLocation(),u=l.getNormal().multiply(0===l.getTime()?i:-i).transform(s);"square"===e&&(a&&(r(o.subtract(u)),r(o.add(u))),o=o.add(u.rotate(-90))),r(o.add(u)),r(o.subtract(u))},getHandleBounds:function(t,e,i,n,s){var r,a,o=i.getStyle();if(s.stroke&&o.hasStroke()){var l=i._getStrokeMatrix(n,s),u=o.getStrokeWidth()/2,h=u;"miter"===o.getStrokeJoin()&&(h=u*o.getMiterLimit()),"square"===o.getStrokeCap()&&(h=Math.max(h,u*Math.SQRT2)),r=K._getStrokePadding(u,l),a=K._getStrokePadding(h,l)}for(var c=new Array(6),d=1/0,f=-d,p=d,_=f,m=0,g=t.length;m<g;m++){t[m]._transformCoordinates(n,c);for(var v=0;v<6;v+=2){var y=v?r:a,b=y?y[0]:0,w=y?y[1]:0,x=c[v],S=c[v+1],T=x-b,k=x+b,A=S-w,C=S+w;T<d&&(d=T),f<k&&(f=k),A<p&&(p=A),_<C&&(_=C)}}return new P(d,p,f-d,_-p)}}});K.inject({statics:new function(){var d=.5522847498307936,a=[new Z([-1,0],[0,d],[0,-d]),new Z([0,-1],[-d,0],[d,0]),new Z([1,0],[0,-d],[0,d]),new Z([0,1],[d,0],[-d,0])];function f(t,e,i){var n=U.getNamed(i),s=new K(n&&0==n.insert&&j.NO_INSERT);return s._add(t),s._closed=e,s.set(n,{insert:!0})}function n(t,e,i){for(var n=new Array(4),s=0;s<4;s++){var r=a[s];n[s]=new Z(r._point.multiply(e).add(t),r._handleIn.multiply(e),r._handleOut.multiply(e))}return f(n,!0,i)}return{Line:function(){var t=arguments;return f([new Z(H.readNamed(t,"from")),new Z(H.readNamed(t,"to"))],!1,t)},Circle:function(){var t=arguments,e=H.readNamed(t,"center"),i=U.readNamed(t,"radius");return n(e,new G(i),t)},Rectangle:function(){var t,e=arguments,i=P.readNamed(e,"rectangle"),n=G.readNamed(e,"radius",0,{readNull:!0}),s=i.getBottomLeft(!0),r=i.getTopLeft(!0),a=i.getTopRight(!0),o=i.getBottomRight(!0);if(!n||n.isZero())t=[new Z(s),new Z(r),new Z(a),new Z(o)];else{var l=(n=G.min(n,i.getSize(!0).divide(2))).width,u=n.height,h=l*d,c=u*d;t=[new Z(s.add(l,0),null,[-h,0]),new Z(s.subtract(0,u),[0,c]),new Z(r.add(0,u),null,[0,-c]),new Z(r.add(l,0),[-h,0],null),new Z(a.subtract(l,0),null,[h,0]),new Z(a.add(0,u),[0,-c],null),new Z(o.subtract(0,u),null,[0,c]),new Z(o.subtract(l,0),[h,0])]}return f(t,!0,e)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=arguments,e=k._readEllipse(t);return n(e.center,e.radius,t)},Oval:"#Ellipse",Arc:function(){var t=arguments,e=H.readNamed(t,"from"),i=H.readNamed(t,"through"),n=H.readNamed(t,"to"),s=U.getNamed(t),r=new K(s&&0==s.insert&&j.NO_INSERT);return r.moveTo(e),r.arcTo(i,n),r.set(s)},RegularPolygon:function(){for(var t=arguments,e=H.readNamed(t,"center"),i=U.readNamed(t,"sides"),n=U.readNamed(t,"radius"),s=360/i,r=i%3==0,a=new H(0,r?-n:n),o=r?-1:.5,l=new Array(i),u=0;u<i;u++)l[u]=new Z(e.add(a.rotate((u+o)*s)));return f(l,!0,t)},Star:function(){for(var t=arguments,e=H.readNamed(t,"center"),i=2*U.readNamed(t,"points"),n=U.readNamed(t,"radius1"),s=U.readNamed(t,"radius2"),r=360/i,a=new H(0,-1),o=new Array(i),l=0;l<i;l++)o[l]=new Z(e.add(a.rotate(r*l).multiply(l%2?s:n)));return f(o,!0,t)}}}});var J=I.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function t(e,i){var n=i,s=n[0];s&&"number"==typeof s[0]&&(n=[n]);for(var r=i.length-1;0<=r;r--){var a=n[r];n!==i||a instanceof K||(n=U.slice(n)),Array.isArray(a)?n[r]=new K({segments:a,insert:!1}):a instanceof J&&(n.splice.apply(n,[r,1].concat(a.removeChildren())),a.remove())}return t.base.call(this,e,n)},reduce:function t(e){for(var i=this._children,n=i.length-1;0<=n;n--){(s=i[n].reduce(e)).isEmpty()&&s.remove()}return i.length?t.base.call(this):((s=new K(j.NO_INSERT)).copyAttributes(this),s.insertAbove(this),this.remove(),s);var s},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)U.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],s=0,r=i.length;s<r;s++){var a=i[s],o=a._matrix;n.push(a.getPathData(t&&!o.isIdentity()?t.appended(o):t,e))}return n.join("")},_hitTestChildren:function t(e,i,n){return t.base.call(this,e,i.class===K||"path"===i.type?i:U.set({},i,{fill:!1}),n)},_draw:function(t,e,i,n){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var r=0,a=s.length;r<a;r++)s[r].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var o=this._style;o.hasFill()&&(t.fill(o.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),o.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,s=0,r=n.length;s<r;s++){var a=n[s],o=a._matrix;i[a._id]||a._drawSelected(t,o.isIdentity()?e:e.appended(o))}}},new function(){function n(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return U.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var t=n(this,!0);t[e].apply(t,arguments)}},{moveTo:function(){var t=n(this),e=t&&t.isEmpty()?t:new K(j.NO_INSERT);e!==t&&this.addChild(e),e.moveTo.apply(e,arguments)},moveBy:function(){var t=n(this,!0),e=t&&t.getLastSegment(),i=H.read(arguments);this.moveTo(e?i.add(e._point):i)},closePath:function(t){n(this,!0).closePath(t)}})},U.each(["reverse","flatten","simplify","smooth"],function(r){this[r]=function(t){for(var e,i=this._children,n=0,s=i.length;n<s;n++)e=i[n][r](t)||e;return e}},{}));I.inject(new function(){var R=Math.min,L=Math.max,F=Math.abs,T={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function k(t){return t._children||[t]}function A(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(e){for(var n=k(i),s=0,r=n.length;s<r;s++){(t=n[s])._closed||t.isEmpty()||(t.closePath(1e-12),t.getFirstSegment().setHandleIn(0,0),t.getLastSegment().setHandleOut(0,0))}i=i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0)}return i}function C(t,e,i,n,s){var r=new J(j.NO_INSERT);return r.addChildren(t,!0),r=r.reduce({simplify:e}),s&&0==s.insert||r.insertAbove(n&&i.isSibling(n)&&i.getIndex()<n.getIndex()?n:i),r.copyAttributes(i,!0),r}function P(t){return t.hasOverlap()||t.isCrossing()}function i(t,e,i,n){if(n&&(0==n.trace||n.stroke)&&/^(subtract|intersect)$/.test(i))return E(t,e,i);var s=A(t,!0),r=e&&t!==e&&A(e,!0),a=T[i];a[i]=!0,r&&(a.subtract||a.exclude)^r.isClockwise()^s.isClockwise()&&r.reverse();var o,l=N(Y.expand(s.getIntersections(r,P))),u=k(s),h=r&&k(r),c=[],d=[];function f(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];U.push(c,n._segments),U.push(d,n.getCurves()),n._overlapsOnly=!0}}function p(t){for(var e=[],i=0,n=t&&t.length;i<n;i++)e.push(d[t[i]]);return e}if(l.length){f(u),h&&f(h);for(var _=new Array(d.length),m=0,g=d.length;m<g;m++)_[m]=d[m].getValues();var v=z.findCurveBoundsCollisions(_,_,0,!0),y={};for(m=0;m<d.length;m++){var b=d[m],w=b._path._id;(y[w]=y[w]||{})[b.getIndex()]={hor:p(v[m].hor),ver:p(v[m].ver)}}for(m=0,g=l.length;m<g;m++)D(l[m]._segment,s,r,y,a);for(m=0,g=c.length;m<g;m++){var x=c[m],S=x._intersection;x._winding||D(x,s,r,y,a),S&&S._overlap||(x._path._overlapsOnly=!1)}o=B(c,a)}else o=I(h?u.concat(h):u.slice(),function(t){return!!a[t]});return C(o,!0,t,e,n)}function E(t,e,i){var n=A(t),s=A(e),r=n.getIntersections(s,P),a="subtract"===i,o="divide"===i,l={},u=[];function h(t){if(!l[t._id]&&(o||s.contains(t.getPointAt(t.getLength()/2))^a))return u.unshift(t),l[t._id]=!0}for(var c=r.length-1;0<=c;c--){var d=r[c].split();d&&(h(d)&&d.getFirstSegment().setHandleIn(0,0),n.getLastSegment().setHandleOut(0,0))}return h(n),C(u,!1,t,e)}function O(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;(t._next=e)._previous=t}}function M(t){for(var e=t.length-1;0<=e;e--)t[e].clearHandles()}function I(t,e,i){var n=t&&t.length;if(n){var s=U.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),r=t.slice().sort(function(t,e){return F(e.getArea())-F(t.getArea())}),a=r[0],o=z.findItemBoundsCollisions(r,null,W.GEOMETRIC_EPSILON);null==i&&(i=a.isClockwise());for(var l=0;l<n;l++){var u=r[l],h=s[u._id],c=0,d=o[l];if(d)for(var f=null,p=d.length-1;0<=p;p--)if(d[p]<l){f=f||u.getInteriorPoint();var _=r[d[p]];if(_.contains(f)){var m=s[_._id];c=m.winding,h.winding+=c,h.container=m.exclude?m.container:_;break}}if(e(h.winding)===e(c))h.exclude=!0,t[h.index]=null;else{var g=h.container;u.setClockwise(g?!g.isClockwise():i)}}}return t}function N(t,e,i){var n,s,r,a=e&&[],o=!1,l=i||[],u=i&&{};function h(t){return t._path._id+"."+t._segment1._index}for(var c=(i&&i.length)-1;0<=c;c--){(d=i[c])._path&&(u[h(d)]=!0)}for(c=t.length-1;0<=c;c--){var d,f,p=t[c],_=p._time,m=_,g=e&&!e(p);if((d=p._curve)&&(d!==s?(o=!d.hasHandles()||u&&u[h(d)],n=[],r=null,s=d):1e-8<=r&&(_/=r)),g)n&&n.push(p);else{if(e&&a.unshift(p),r=m,_<1e-8)f=d._segment1;else if(1-1e-8<_)f=d._segment2;else{var v=d.divideAtTime(_,!0);o&&l.push(d,v),f=v._segment1;for(var y=n.length-1;0<=y;y--){var b=n[y];b._time=(b._time-_)/(1-_)}}p._setSegment(f);var w=f._intersection,x=p._intersection;if(w){O(w,x);for(var S=w;S;)O(S._intersection,w),S=S._next}else f._intersection=x}}return i||M(l),a||t}function q(d,f,p,_,m){var g,t,e=Array.isArray(f)?f:f[p?"hor":"ver"],v=p?1:0,y=1^v,i=[d.x,d.y],b=i[v],w=i[y],x=1e-6,S=b-1e-9,T=b+1e-9,n=0,s=0,k=0,A=0,C=!1,r=!1,P=1,E=[];function O(t){var e=t[y+0],i=t[y+6];if(!(w<R(e,i)||w>L(e,i))){var n=t[v+0],s=t[v+2],r=t[v+4],a=t[v+6];if(e!==i){var o=w===e?0:w===i?1:S>L(n,s,r,a)||T<R(n,s,r,a)?1:0<X.solveCubic(t,y,w,E,0,1)?E[0]:1,l=0===o?n:1===o?a:X.getPoint(t,o)[p?"y":"x"],u=i<e?1:-1,h=g[y]>g[y+6]?1:-1,c=g[v+6];return w!==e?(l<S?k+=u:T<l?A+=u:C=!0,b-x<l&&l<b+x&&(P/=2)):(u!==h?n<S?k+=u:T<n&&(A+=u):n!=c&&(c<T&&T<l?(A+=u,C=!0):S<c&&l<S&&(k+=u,C=!0)),P/=4),g=t,!m&&S<l&&l<T&&0===X.getTangent(t,o)[p?"x":"y"]&&q(d,f,!p,_,!0)}(n<T&&S<a||a<T&&S<n)&&(C=!0)}}function a(t){var e=t[y+0],i=t[y+2],n=t[y+4],s=t[y+6];if(w<=L(e,i,n,s)&&w>=R(e,i,n,s))for(var r,a=t[v+0],o=t[v+2],l=t[v+4],u=t[v+6],h=S>L(a,o,l,u)||T<R(a,o,l,u)?[t]:X.getMonoCurves(t,p),c=0,d=h.length;c<d;c++)if(r=O(h[c]))return r}for(var o=0,l=e.length;o<l;o++){var u,h=e[o],c=h._path,M=h.getValues();if(!(o&&e[o-1]._path===c||(g=null,c._closed||(t=X.getValues(c.getLastCurve().getSegment2(),h.getSegment1(),null,!_))[y]!==t[y+6]&&(g=t),g))){g=M;for(var I=c.getLastCurve();I&&I!==h;){var N=I.getValues();if(N[y]!==N[y+6]){g=N;break}I=I.getPrevious()}}if(u=a(M))return u;if(o+1===l||e[o+1]._path!==c){if(t&&(u=a(t)))return u;!C||k||A||(k=A=c.isClockwise(_)^p?1:-1),n+=k,s+=A,k=A=0,C&&(C=!(r=!0)),t=null}}return n=F(n),s=F(s),{winding:L(n,s),windingL:n,windingR:s,quality:P,onPath:r}}function D(t,e,i,n,s){var r=[],a=t,o=0;do{if(m=t.getCurve()){var l=m.getLength();r.push({segment:t,curve:m,length:l}),o+=l}t=t.getNext()}while(t&&!t._intersection&&t!==a);for(var u=[.5,.25,.75],h={winding:0,quality:-1},c=0;c<u.length&&h.quality<.5;c++){l=o*u[c];for(var d=0,f=r.length;d<f;d++){var p=r[d],_=p.length;if(l<=_){var m,g=(m=p.curve)._path,v=g._parent,y=v instanceof J?v:g,b=W.clamp(m.getTimeAt(l),.001,.999),w=m.getPointAtTime(b),x=F(m.getTangentAtTime(b).y)<Math.SQRT1_2,S=null;if(s.subtract&&i){var T=(y===e?i:e)._getWinding(w,x,!0);if(y===e&&T.winding||y===i&&!T.winding){if(T.quality<1)continue;S={winding:0,quality:1}}}(S=S||q(w,n[g._id][m.getIndex()],x,!0)).quality>h.quality&&(h=S);break}l-=_}}for(d=r.length-1;0<=d;d--)r[d].segment._winding=h}function B(t,i){var u,e=[];function h(t){var e;return!(!t||t._visited||i&&(!i[(e=t._winding||{}).winding]||i.unite&&2===e.winding&&e.windingL&&e.windingR))}function c(t){if(t)for(var e=0,i=u.length;e<i;e++)if(t===u[e])return!0;return!1}function n(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}function s(a,o){var t=a._intersection,e=t,l=[];function i(t,e){for(;t&&t!==e;){var i=t._segment,n=i&&i._path;if(n){var s=i.getNext()||n.getFirstSegment(),r=s._intersection;i!==a&&(c(i)||c(s)||s&&h(i)&&(h(s)||r&&h(r._segment)))&&l.push(i),o&&u.push(i)}t=t._next}}if(o&&(u=[a]),t){for(i(t);t&&t._previous;)t=t._previous;i(t,e)}return l}t.sort(function(t,e){var i=t._intersection,n=e._intersection,s=!(!i||!i._overlap),r=!(!n||!n._overlap),a=t._path,o=e._path;return s^r?s?1:-1:!i^!n?i?1:-1:a!==o?a._id-o._id:t._index-e._index});for(var r=0,a=t.length;r<a;r++){var o,l,d,f=t[r],p=h(f),_=null,m=!1,g=!0,v=[];if(p&&f._path._overlapsOnly){var y=f._path,b=f._intersection._segment._path;y.compare(b)&&(y.getArea()&&e.push(y.clone(!1)),n(y),n(b),p=!1)}for(;p;){var w=!_,x=s(f,w),S=x.shift(),T=!(m=!w&&(c(f)||c(S)))&&S;if(w&&(_=new K(j.NO_INSERT),o=null),m){(f.isFirst()||f.isLast())&&(g=f._path._closed),f._visited=!0;break}if(T&&o&&(v.push(o),o=null),o||(T&&x.push(f),o={start:_._segments.length,crossings:x,visited:l=[],handleIn:d}),T&&(f=S),!h(f)){_.removeSegments(o.start);for(var k=0,A=l.length;k<A;k++)l[k]._visited=!1;for(l.length=0;(f=o&&o.crossings.shift())&&f._path||(f=null,(o=v.pop())&&(l=o.visited,d=o.handleIn)),o&&!h(f););if(!f)break}var C=f.getNext();_.add(new Z(f._point,d,C&&f._handleOut)),f._visited=!0,l.push(f),f=C||f._path.getFirstSegment(),d=C&&C._handleIn}m&&(g&&(_.getFirstSegment().setHandleIn(d),_.setClosed(g)),0!==_.getArea()&&e.push(_))}return e}return{_getWinding:function(t,e,i){return q(t,this.getCurves(),e,i)},unite:function(t,e){return i(this,t,"unite",e)},intersect:function(t,e){return i(this,t,"intersect",e)},subtract:function(t,e){return i(this,t,"subtract",e)},exclude:function(t,e){return i(this,t,"exclude",e)},divide:function(t,e){return e&&(0==e.trace||e.stroke)?E(this,t,"divide"):C([this.subtract(t,e),this.intersect(t,e)],!0,this,t,e)},resolveCrossings:function(){var t=this._children,e=t||[this];function i(t,e){var i=t&&t._intersection;return i&&i._overlap&&i._path===e}var n=!1,s=!1,r=this.getIntersections(null,function(t){return t.hasOverlap()&&(n=!0)||t.isCrossing()&&(s=!0)}),a=n&&s&&[];if(r=Y.expand(r),n)for(var o=N(r,function(t){return t.hasOverlap()},a),l=o.length-1;0<=l;l--){var u=o[l],h=u._path,c=u._segment,d=c.getPrevious(),f=c.getNext();i(d,h)&&i(f,h)&&(c.remove(),d._handleOut._set(0,0),f._handleIn._set(0,0),d===c||d.getCurve().hasLength()||(f._handleIn.set(d._handleIn),d.remove()))}s&&(N(r,n&&function(t){var e=t.getCurve(),i=t.getSegment(),n=t._intersection,s=n._curve,r=n._segment;if(e&&s&&e._path&&s._path)return!0;i&&(i._intersection=null),r&&(r._intersection=null)},a),a&&M(a),e=B(U.each(e,function(t){U.push(this,t._segments)},[])));var p,_=e.length;return 1<_&&t?(e!==t&&this.setChildren(e),p=this):1!==_||t||(e[0]!==this&&this.setSegments(e[0].removeSegments()),p=this),p||((p=new J(j.NO_INSERT)).addChildren(e),(p=p.reduce()).copyAttributes(this),this.replaceWith(p)),p},reorient:function(e,t){var i=this._children;return i&&i.length?this.setChildren(I(this.removeChildren(),function(t){return!!(e?t:1&t)},t)):t!==V&&this.setClockwise(t),this},getInteriorPoint:function(){var t=this.getBounds().getCenter(!0);if(!this.contains(t)){for(var e=this.getCurves(),i=t.y,n=[],s=[],r=0,a=e.length;r<a;r++){var o=e[r].getValues(),l=o[1],u=o[3],h=o[5],c=o[7];if(i>=R(l,u,h,c)&&i<=L(l,u,h,c))for(var d=X.getMonoCurves(o),f=0,p=d.length;f<p;f++){var _=d[f],m=_[1],g=_[7];if(m!==g&&(m<=i&&i<=g||g<=i&&i<=m)){var v=i===m?_[0]:i===g?_[6]:1===X.solveCubic(_,1,i,s,0,1)?X.getPoint(_,s[0]).x:(_[0]+_[6])/2;n.push(v)}}}1<n.length&&(n.sort(function(t,e){return t-e}),t.x=(n[0]+n[1])/2)}return t}}});var v=U.extend({_class:"PathFlattener",initialize:function(t,h,e,c,n){var i,s=[],d=[],f=0,p=1/(e||32),r=t._segments,a=r[0];function o(t,e){var i=X.getValues(t,e,n);s.push(i),function t(e,i,n,s){if(!(p<s-n)||c&&X.isStraight(e)||X.isFlatEnough(e,h||.25)){var r=e[6]-e[0],a=e[7]-e[1],o=Math.sqrt(r*r+a*a);0<o&&(f+=o,d.push({offset:f,curve:e,index:i,time:s}))}else{var l=X.subdivide(e,.5),u=(n+s)/2;t(l[0],i,n,u),t(l[1],i,u,s)}}(i,t._index,0,1)}for(var l=1,u=r.length;l<u;l++)o(a,i=r[l]),a=i;t._closed&&o(i||a,r[0]),this.curves=s,this.parts=d,this.length=f,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,s=this.index;(e=s)&&!(i[--s].offset<t););for(;e<n;e++){var r=i[e];if(r.offset>=t){var a=i[(this.index=e)-1],o=a&&a.index===r.index?a.time:0,l=a?a.offset:0;return{index:r.index,time:o+(r.time-o)*(t-l)/(r.offset-l)}}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),s=this._get(i),r=n.index,a=s.index;r<=a;r++){var o=X.getPart(this.curves[r],r===n.index?n.time:0,r===s.index?s.time:1);r===n.index&&t.moveTo(o[0],o[1]),t.bezierCurveTo.apply(t,o.slice(2))}}},U.each(X._evaluateMethods,function(i){this[i+"At"]=function(t){var e=this._get(t);return X[i](this.curves[e.index],e.time)}},{})),n=U.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,s=t._closed,r=0,a=n.length;r<a;r++){var o=n[r].point;e&&e.equals(o)||i.push(e=o.clone())}s&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=s},fit:function(t){var e=this.points,i=e.length,n=null;return 0<i&&(n=[new Z(e[0])],1<i&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,s,r){var a=this.points;if(n-i!=1){for(var o,l=this.chordLengthParameterize(i,n),u=Math.max(e,e*e),h=!0,c=0;c<=4;c++){var d=this.generateBezier(i,n,l,s,r),f=this.findMaxError(i,n,d,l);if(f.error<e&&h)return void this.addCurve(t,d);if(o=f.index,f.error>=u)break;h=this.reparameterize(i,n,l,d),u=f.error}var p=a[o-1].subtract(a[o+1]);this.fitCubic(t,e,i,o,s,p),this.fitCubic(t,e,o,n,p.negate(),r)}else{var _=a[i],m=a[n],g=_.getDistance(m)/3;this.addCurve(t,[_,_.add(s.normalize(g)),m.add(r.normalize(g)),m])}},addCurve:function(t,e){t[t.length-1].setHandleOut(e[1].subtract(e[0])),t.push(new Z(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,s){for(var r=Math.abs,a=this.points,o=a[t],l=a[e],u=[[0,0],[0,0]],h=[0,0],c=0,d=e-t+1;c<d;c++){var f=i[c],p=1-f,_=3*f*p,m=p*p*p,g=_*p,v=_*f,y=f*f*f,b=n.normalize(g),w=s.normalize(v),x=a[t+c].subtract(o.multiply(m+g)).subtract(l.multiply(v+y));u[0][0]+=b.dot(b),u[0][1]+=b.dot(w),u[1][0]=u[0][1],u[1][1]+=w.dot(w),h[0]+=b.dot(x),h[1]+=w.dot(x)}var S,T,k=u[0][0]*u[1][1]-u[1][0]*u[0][1];if(1e-12<r(k)){var A=u[0][0]*h[1]-u[1][0]*h[0];S=(h[0]*u[1][1]-h[1]*u[0][1])/k,T=A/k}else{var C=u[0][0]+u[0][1],P=u[1][0]+u[1][1];S=T=1e-12<r(C)?h[0]/C:1e-12<r(P)?h[1]/P:0}var E,O,M=l.getDistance(o),I=1e-12*M;if(S<I||T<I)S=T=M/3;else{var N=l.subtract(o);E=n.normalize(S),O=s.normalize(T),E.dot(N)-O.dot(N)>M*M&&(S=T=M/3,E=O=null)}return[o,o.add(E||n.normalize(S)),l.add(O||s.normalize(T)),l]},reparameterize:function(t,e,i,n){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(n,this.points[s],i[s-t]);s=1;for(var r=i.length;s<r;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],s=[],r=0;r<=2;r++)n[r]=t[r+1].subtract(t[r]).multiply(3);for(r=0;r<=1;r++)s[r]=n[r+1].subtract(n[r]).multiply(2);var a=this.evaluate(3,t,i),o=this.evaluate(2,n,i),l=this.evaluate(1,s,i),u=a.subtract(e),h=o.dot(o)+u.dot(l);return W.isMachineZero(h)?i:i-u.dot(o)/h},evaluate:function(t,e,i){for(var n=e.slice(),s=1;s<=t;s++)for(var r=0;r<=t-s;r++)n[r]=n[r].multiply(1-i).add(n[r+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);n=1;for(var s=e-t;n<=s;n++)i[n]/=i[s];return i},findMaxError:function(t,e,i,n){for(var s=Math.floor((e-t+1)/2),r=0,a=t+1;a<e;a++){var o=this.evaluate(3,i,n[a-t]).subtract(this.points[a]),l=o.x*o.x+o.y*o.y;r<=l&&(r=l,s=a)}return{error:r,index:s}}}),p=j.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&U.isPlainObject(t)&&t.x===V&&t.y===V;this._initialize(e&&t,!e&&H.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),l=p.extend({_class:"PointText",initialize:function(){p.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new d(t.x,t.y,this,"setPoint")},setPoint:function(){var t=H.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,s=this._style,r=s.hasFill(),a=s.hasStroke(),o=s.getLeading(),l=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var u=0,h=n.length;u<h;u++){t.shadowColor=l;var c=n[u];r&&(t.fillText(c,0,0),t.shadowColor="rgba(0,0,0,0)"),a&&t.strokeText(c,0,0),t.translate(0,o)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,s=n.length,r=i.getJustification(),a=i.getLeading(),o=this.getView().getTextWidth(i.getFontStyle(),n),l=0;"left"!==r&&(l-=o/("center"===r?2:1));var u=new P(l,s?-.75*a:0,o,s*a);return t?t._transformBounds(u,u):u}}),N=U.extend(new function(){var v,y={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},b={},w={transparent:[0,0,0,0]};var a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],i={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),s=n-Math.min(t,e,i);return[0===s?0:60*(n==t?(e-i)/s+(e<i?6:0):n==e?(i-t)/s+2:(t-e)/s+4),0===n?0:s/n,n]},"hsb-rgb":function(t,e,i){var n,s=(t=(t/60%6+6)%6)-(n=Math.floor(t)),r=[i,i*(1-e),i*(1-e*s),i*(1-e*(1-s))];return[r[(n=a[n])[0]],r[n[1]],r[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),s=Math.min(t,e,i),r=n-s,a=0===r,o=(n+s)/2;return[a?0:60*(n==t?(e-i)/r+(e<i?6:0):n==e?(i-t)/r+2:(t-e)/r+4),a?0:o<.5?r/(n+s):r/(2-n-s),o]},"hsl-rgb":function(t,e,i){if(0===e)return[i,i,i];for(var n=[(t=(t/360%1+1)%1)+1/3,t,t-1/3],s=i<.5?i*(1+e):i+e-i*e,r=2*i-s,a=[],o=0;o<3;o++){var l=n[o];l<0&&(l+=1),1<l&&(l-=1),a[o]=6*l<1?r+6*(s-r)*l:2*l<1?s:3*l<2?r+(s-r)*(2/3-l)*6:r}return a},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return U.each(y,function(t,r){b[r]=[],U.each(t,function(t,e){var i=U.capitalize(t),n=/^(hue|saturation)$/.test(t),s=b[r][e]="gradient"===r?"gradient"===t?function(t){var e=this._components[0];return e!==(t=R.read(Array.isArray(t)?t:arguments,0,{readNull:!0}))&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:function(){return H.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:+t};this["get"+i]=function(){return this._type===r||n&&/^hs[bl]$/.test(this._type)?this._components[e]:this._convert(r)[e]},this["set"+i]=function(t){this._type===r||n&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(r),this._properties=y[r],this._type=r),this._components[e]=s.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function t(e){var i,n,s,r,a=arguments,o=this.__read,l=0;Array.isArray(e)&&(e=(a=e)[0]);var u=null!=e&&typeof e;if("string"===u&&e in y&&(i=e,e=a[1],Array.isArray(e)?(n=e,s=a[2]):(o&&(l=1),a=U.slice(a,1),u=typeof e)),!n){if(r="number"===u?a:"object"===u&&null!=e.length?e:null){i||(i=3<=r.length?"rgb":"gray");var h=y[i].length;s=r[h],o&&(l+=r===arguments?h+(null!=s?1:0):1),r.length>h&&(r=U.slice(r,0,h))}else if("string"===u){var c=function(t){var e,i=t.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||t.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),n="rgb";if(i){var s=i[4]?4:3;e=new Array(s);for(var r=0;r<s;r++){var a=i[r+1];e[r]=parseInt(1==a.length?a+a:a,16)/255}}else if(i=t.match(/^(rgb|hsl)a?\((.*)\)$/)){n=i[1],e=i[2].trim().split(/[,\s]+/g);for(var o="hsl"===n,l=(r=0,Math.min(e.length,4));r<l;r++){var u=e[r];if(a=parseFloat(u),o)if(0===r){var h=u.match(/([a-z]*)$/)[1];a*={turn:360,rad:180/Math.PI,grad:.9}[h]||1}else r<3&&(a/=100);else r<3&&(a/=/%$/.test(u)?100:255);e[r]=a}}else{var c=w[t];if(!c)if(E){v||((v=nt.getContext(1,1)).globalCompositeOperation="copy"),v.fillStyle="rgba(0,0,0,0)",v.fillStyle=t,v.fillRect(0,0,1,1);var d=v.getImageData(0,0,1,1).data;c=w[t]=[d[0]/255,d[1]/255,d[2]/255]}else c=[0,0,0];e=c.slice()}return[n,e]}(e);i=c[0],4===(n=c[1]).length&&(s=n[3],n.length--)}else if("object"===u)if(e.constructor===t){if(i=e._type,n=e._components.slice(),s=e._alpha,"gradient"===i)for(var d=1,f=n.length;d<f;d++){var p=n[d];p&&(n[d]=p.clone())}}else if(e.constructor===R)i="gradient",r=a;else{var _=y[i="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb"],m=b[i];this._components=n=[];for(d=0,f=_.length;d<f;d++){null==(g=e[_[d]])&&!d&&"gradient"===i&&"stops"in e&&(g={stops:e.stops,radial:e.radial}),null!=(g=m[d].call(this,g))&&(n[d]=g)}s=e.alpha}o&&i&&(l=1)}if(this._type=i||"rgb",!n){this._components=n=[];for(d=0,f=(m=b[this._type]).length;d<f;d++){var g;null!=(g=m[d].call(this,r&&r[d]))&&(n[d]=g)}}return this._components=n,this._properties=y[this._type],this._alpha=s,o&&(this.__read=l),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return U.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(t){var e;return this._type===t?this._components.slice():(e=i[this._type+"-"+t])?e.apply(this,this._components):i["rgb-"+t].apply(this,i[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new N(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=y[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=U.isPlainValue(t,!0)?N.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&U.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=x.instance,s=0,r=t.length;s<r;s++){var a=this._components[s];null!=a&&e.push(t[s]+": "+(i?a:n.number(a)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){var e=this._convert("rgb"),i=t||null==this._alpha?1:this._alpha;function n(t){return Math.round(255*(t<0?0:1<t?1:t))}return e=[n(e[0]),n(e[1]),n(e[2])],i<1&&e.push(i<0?0:i),t?"#"+((1<<24)+(e[0]<<16)+(e[1]<<8)+e[2]).toString(16).slice(1):(4==e.length?"rgba(":"rgb(")+e.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var i,n=this._components,s=n[0],r=s._stops,a=n[1],o=n[2],l=n[3],u=e&&e.inverted();if(u&&(a=u._transformPoint(a),o=u._transformPoint(o),l&&(l=u._transformPoint(l))),s._radial){var h=o.getDistance(a);if(l){var c=l.subtract(a);c.getLength()>h&&(l=a.add(c.normalize(h-.1)))}var d=l||a;i=t.createRadialGradient(d.x,d.y,0,a.x,a.y,h)}else i=t.createLinearGradient(a.x,a.y,o.x,o.y);for(var f=0,p=r.length;f<p;f++){var _=r[f],m=_._offset;i.addColorStop(null==m?f/(p-1):m,_._color.toCanvasStyle())}return this._canvasStyle=i},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var s=e[i];t._transformPoint(s,s,!0)}this._changed()}},statics:{_types:y,random:function(){var t=Math.random;return new N(t(),t(),t())},_setOwner:function(t,e,i){return t&&(t._owner&&e&&t._owner!==e&&(t=t.clone()),!t._owner^!e&&(t._owner=e||null,t._setter=i||null)),t}}})},new function(){return U.each({add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}},function(a,t){this[t]=function(t){t=N.read(arguments);for(var e=this._type,i=this._components,n=t._convert(e),s=0,r=i.length;s<r;s++)n[s]=a(i[s],n[s]);return new N(e,n,null!=this._alpha?a(this._alpha,t.getAlpha()):null)}},{})}),R=U.extend({_class:"Gradient",initialize:function(t,e){this._id=u.get(),t&&U.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return U.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;-1!=e&&(this._owners.splice(e,1),this._owners.length||(this._owners=V))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new R(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=V;for(i=0,n=(e=this._stops=L.readList(t,0,{clone:!0})).length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var s=0;s<n;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),L=U.extend({_class:"GradientStop",initialize:function(t,e){var i=t,n=e;"object"==typeof t&&e===V&&(Array.isArray(t)&&"number"!=typeof t[0]?(i=t[0],n=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,n=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(n)},clone:function(){return new L(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return U.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){N._setOwner(this._color,null),this._color=N._setOwner(N.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),_=U.extend(new function(){var n={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new H,selectedColor:null},s=U.set({},n,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),r=U.set({},s,{fillColor:new N}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},a={beans:!0},l={_class:"Style",beans:!0,initialize:function(t,e,i){this._values={},this._owner=e,this._project=e&&e._project||i||at.project,this._defaults=!e||e instanceof T?s:e instanceof p?r:n,t&&this.set(t)}};return U.each(s,function(t,u){var h=/Color$/.test(u),c="shadowOffset"===u,e=U.capitalize(u),o=i[u],d="set"+e,f="get"+e;l[d]=function(t){var e=this._owner,i=e&&e._children,n=i&&0<i.length&&!(e instanceof J);if(n)for(var s=0,r=i.length;s<r;s++)i[s]._style[d](t);if(("selectedColor"===u||!n)&&u in this._defaults){var a=this._values[u];a!==t&&(h&&(a&&(N._setOwner(a,null),a._canvasStyle=null),t&&t.constructor===N&&(t=N._setOwner(t,e,n&&d))),this._values[u]=t,e&&e._changed(o||129))}},l[f]=function(t){var e=this._owner,i=e&&e._children,n=i&&0<i.length&&!(e instanceof J);if(n&&!t)for(var s=0,r=i.length;s<r;s++){var a=i[s]._style[f]();if(s){if(!U.equals(o,a))return V}else o=a}else if(u in this._defaults){var o;if((o=this._values[u])===V)(o=this._defaults[u])&&o.clone&&(o=o.clone());else{var l=h?N:c?H:null;!l||o&&o.constructor===l||(this._values[u]=o=l.read([o],0,{readNull:!0,clone:!0}))}}return o&&h&&(o=N._setOwner(o,e,n&&d)),o},a[f]=function(t){return this._style[f](t)},a[d]=function(t){this._style[d](t)}}),U.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;l[i]=a[i]="#get"+t,l[n]=a[n]="#set"+t}),j.inject(a),l},{set:function(t){var e=t instanceof _,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var s=i[n];this[n]=s&&e&&s.clone?s.clone():s}},equals:function(t){function e(t,e,i){var n=t._values,s=e._values,r=e._defaults;for(var a in n){var o=n[a],l=s[a];if(!(i&&a in s||U.equals(o,l===V?r[a]:l)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;(t=this.getFillColor())&&(t._canvasStyle=null),(t=this.getStrokeColor())&&(t._canvasStyle=null),(t=this.getShadowColor())&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&0<t.alpha},hasStroke:function(){var t=this.getStrokeColor();return!!t&&0<t.alpha&&0<this.getStrokeWidth()},hasShadow:function(){var t=this.getShadowColor();return!!t&&0<t.alpha&&(0<this.getShadowBlur()||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),null!=e?e:1.2*i}}),F=new function(){function s(t,e,i,n){for(var s=["","webkit","moz","Moz","ms","o"],r=e[0].toUpperCase()+e.substring(1),a=0;a<6;a++){var o=s[a],l=o?o+r:e;if(l in t){if(!i)return t[l];t[l]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,s=n.body,r=n.documentElement;try{i=t.getBoundingClientRect()}catch(t){i={left:0,top:0,width:0,height:0}}var a=i.left-(r.clientLeft||s.clientLeft||0),o=i.top-(r.clientTop||s.clientTop||0);if(!e){var l=n.defaultView;a+=l.pageXOffset||r.scrollLeft||s.scrollLeft,o+=l.pageYOffset||r.scrollTop||s.scrollTop}return new P(a,o,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new P(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return F.getBounds(t,e).getPoint()},getSize:function(t){return F.getBounds(t,!0).getSize()},isInvisible:function(t){return F.getSize(t).equals(new G(0,0))},isInView:function(t){return!F.isInvisible(t)&&F.getViewportBounds(t).intersects(F.getBounds(t,!0))},isInserted:function(t){return O.body.contains(t)},getPrefixed:function(t,e){return t&&s(t,e)},setPrefixed:function(t,e,i){if("object"==typeof e)for(var n in e)s(t,n,!0,e[n]);else s(t,e,!0,i)}}},q={add:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),r=0,a=s.length;r<a;r++){var o=s[r],l=t===O&&("touchstart"===o||"touchmove"===o)&&{passive:!1};t.addEventListener(o,n,l)}},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],s=i.split(/[\s,]+/g),r=0,a=s.length;r<a;r++)t.removeEventListener(s[r],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new H(e.pageX||e.clientX+O.documentElement.scrollLeft,e.pageY||e.clientY+O.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return q.getPoint(t).subtract(F.getOffset(e||q.getTarget(t)))}};q.requestAnimationFrame=new function(){var e,n=F.getPrefixed(E,"requestAnimationFrame"),s=!1,r=[];function a(){var t=r;r=[];for(var e=0,i=t.length;e<i;e++)t[e]();(s=n&&r.length)&&n(a)}return function(t){r.push(t),n?s||(n(a),s=!0):e||(e=setInterval(a,1e3/60))}};var D=U.extend(t,{_class:"View",initialize:function t(e,i){function n(t){return i[t]||parseInt(i.getAttribute(t),10)}function s(){var t=F.getSize(i);return t.isNaN()||t.isZero()?new G(n("width"),n("height")):t}var r;if(E&&i){this._id=i.getAttribute("id"),null==this._id&&i.setAttribute("id",this._id="paper-view-"+t._id++),q.add(i,this._viewEvents);var a="none";if(F.setPrefixed(i.style,{userDrag:a,userSelect:a,touchCallout:a,contentZooming:a,tapHighlightColor:"rgba(0,0,0,0)"}),c.hasAttribute(i,"resize")){var o=this;q.add(E,this._windowEvents={resize:function(){o.setViewSize(s())}})}if(r=s(),c.hasAttribute(i,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var l=this._stats.domElement,u=l.style,h=F.getOffset(i);u.position="absolute",u.left=h.x+"px",u.top=h.y+"px",O.body.appendChild(l)}}else r=new G(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=E&&E.devicePixelRatio||1),this._setElementSize(r.width,r.height),this._viewSize=r,t._views.push(this),((t._viewsById[this._id]=this)._matrix=new Q)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!at.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;D._focused===this&&(D._focused=null),D._views.splice(D._views.indexOf(this),1),delete D._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),q.remove(this._element,this._viewEvents),q.remove(E,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:U.each(j._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){(this._autoUpdate=t)&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var e=this;q.requestAnimationFrame(function(){if(e._requested=!1,e._animate){e.requestUpdate();var t=e._element;F.getPrefixed(O,"hidden")&&"true"!==c.getAttribute(t,"keepalive")||!F.isInView(t)||e._handleFrame()}e._autoUpdate&&e.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){at=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new U({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1==++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0==--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new U(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=V},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new i(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=G.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new P(new H,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return F.isInView(this._element)},isInserted:function(){return F.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var n=i.parentNode,s=O.createElement("div");s.style.fontSize=t,n.appendChild(s),e=parseFloat(F.getStyles(s).fontSize),n.removeChild(s)}else e=parseFloat(e);return e},getTextWidth:function(t,e){return 0}},U.each(["rotate","scale","shear","skew"],function(n){var s="rotate"===n;this[n]=function(){var t=arguments,e=(s?U:H).read(t),i=H.read(t,0,{readNull:!0});return this.transform((new Q)[n](e,i||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new Q;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=H.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform((new Q).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new d(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=H.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(H.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(H.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(H.read(arguments))},getEventPoint:function(t){return this.viewToProject(q.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){return O&&"string"==typeof e&&(e=O.getElementById(e)),new(E?s:D)(t,e)}}},new function(){if(E){var n,s,t,e,i,_=!1,r=!1,a=E.navigator;a.pointerEnabled||a.msPointerEnabled?(t="pointerdown MSPointerDown",e="pointermove MSPointerMove",i="pointerup pointercancel MSPointerUp MSPointerCancel"):(t="touchstart",e="touchmove",i="touchend touchcancel","ontouchstart"in E&&a.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(t+=" mousedown",e+=" mousemove",i+=" mouseup"));var o={},l={mouseout:function(t){var e=D._focused,i=q.getRelatedTarget(t);if(e&&(!i||"HTML"===i.nodeName)){var n=q.getOffset(t,e._element),s=n.x,r=Math.abs,a=r(s),o=a-(1<<25);n.x=r(o)<a?o*(s<0?-1:1):s,f(e,t,e.viewToProject(n))}},scroll:d};o[t]=function(t){var e=D._focused=c(t);_||(_=!0,e._handleMouseEvent("mousedown",t))},l[e]=function(t){var e=D._focused;if(!r){var i=c(t);i?e!==i&&(e&&f(e,t),n||(n=e),e=D._focused=s=i):s&&s===e&&(n&&!n.isInserted()&&(n=null),e=D._focused=n,n=null,d())}e&&f(e,t)},l[t]=function(){r=!0},l[i]=function(t){var e=D._focused;e&&_&&e._handleMouseEvent("mouseup",t),r=_=!1},q.add(O,l),q.add(E,{load:d});var m,g,v,y,b,w,x,S,T=!1,k=!1,h={doubleclick:"click",mousedrag:"mousemove"},A=!1,u={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:o,_handleMouseEvent:function(t,e,i){var n=this._itemEvents,s=n.native[t],r="mousemove"===t,a=this._scope.tool,o=this;function l(t){return n.virtual[t]||o.responds(t)||a&&a.responds(t)}r&&_&&l("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var u=this.getBounds().contains(i),h=s&&u&&o._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),c=h&&h.item||null,d=!1,f={};if(f[t.substr(5)]=!0,s&&c!==y&&(y&&C(y,null,"mouseleave",e,i),c&&C(c,null,"mouseenter",e,i),y=c),A^u&&(C(this,null,u?"mouseenter":"mouseleave",e,i),u?this:null,d=!0),!u&&!f.drag||i.equals(g)||(P(this,c,r?t:"mousemove",e,i,g),d=!0),A=u,f.down&&u||f.up&&m){if(P(this,c,t,e,i,m),f.down){if(S=c===w&&Date.now()-x<300,v=w=c,!k&&c){for(var p=c;p&&!p.responds("mousedrag");)p=p._parent;p&&(b=c)}m=i}else f.up&&(k||c!==v||(x=Date.now(),P(this,c,S?"doubleclick":"click",e,i,m),S=!1),v=b=null);d=!(A=!1)}g=i,d&&a&&(T=a._handleMouseEvent(t,e,i,f)||T),!1!==e.cancelable&&(T&&!f.move||f.down&&l("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(e,i,n,s){var r,a=this._scope,t=a.tool;function o(t){t.responds(e)&&(at=a,t.emit(e,r=r||new B(e,i,n,s)))}this.isVisible()&&(o(this),t&&t.responds(e)&&o(t))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i.native,s=i.virtual;for(var r in u)n[r]=(n[r]||0)+(u[r][t]||0)*e;s[t]=(s[t]||0)+e},statics:{updateFocus:d,_resetState:function(){_=r=T=A=!1,n=s=m=g=v=y=b=w=x=S=null}}}}function c(t){var e=q.getTarget(t);return e.getAttribute&&D._viewsById[e.getAttribute("id")]}function d(){var t=D._focused;if(!t||!t.isVisible())for(var e=0,i=D._views.length;e<i;e++)if((t=D._views[e]).isVisible()){D._focused=s=t;break}}function f(t,e,i){t._handleMouseEvent("mousemove",e,i)}function C(t,n,e,s,r,a,i){var o,l=!1;function u(t,e){if(t.responds(e)){if(o||(o=new tt(e,s,r,n||t,a?r.subtract(a):null)),t.emit(e,o)&&(T=!0,o.prevented&&(k=!0),o.stopped))return l=!0}else{var i=h[e];if(i)return u(t,i)}}for(;t&&t!==i&&!u(t,e);)t=t._parent;return l}function P(t,e,i,n,s,r){return t._project.removeOn(i),k=T=!1,b&&C(b,null,i,n,s,r)||e&&e!==b&&!e.isDescendant(b)&&C(e,null,"mousedrag"===i?"mousemove":i,n,s,r,b)||C(t,b||e||t,i,n,s,r)}}),s=D.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof E.HTMLCanvasElement)){var i=G.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+U.slice(arguments,1));e=nt.getCanvas(i)}var n=this._context=e.getContext("2d");if(n.save(),this._pixelRatio=1,!/^off|false$/.test(c.getAttribute(e,"hidpi"))){var s=E.devicePixelRatio||1,r=F.getPrefixed(n,"backingStorePixelRatio")||1;this._pixelRatio=s/r}D.call(this,t,e),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var n=this._pixelRatio;if(t.base.call(this,e*n,i*n),1!==n){var s=this._element,r=this._context;if(!c.hasAttribute(s,"resize")){var a=s.style;a.width=e+"px",a.height=i+"px"}r.restore(),r.save(),r.scale(n,n)}},getContext:function(){return this._context},getPixelSize:function t(e){var i,n=at.agent;if(n&&n.firefox)i=t.base.call(this,e);else{var s=this._context,r=s.font;s.font=e+" serif",i=parseFloat(s.font),s.font=r}return i},getTextWidth:function(t,e){var i=this._context,n=i.font,s=0;i.font=t;for(var r=0,a=e.length;r<a;r++)s=Math.max(s,i.measureText(e[r]).width);return i.font=n,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),!(this._needsUpdate=!1)}}),m=U.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return g.modifiers}}),B=m.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),g=new function(){var l,s,i={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},n={tab:"\t",space:" ",enter:"\r"},u={},h={},c=new U({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=at&&at.agent;return t&&t.mac?this.meta:this.control}}});function r(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===V?String.fromCharCode(t.keyCode):e,i[e]||(1<e.length?U.hyphenate(e):e.toLowerCase())}function d(t,e,i,n){var s,r=D._focused;if((u[e]=t)?h[e]=i:delete h[e],1<e.length&&(s=U.camelize(e))in c){c[s]=t;var a=at&&at.agent;if("meta"===s&&a&&a.mac)if(t)l={};else{for(var o in l)o in h&&d(!1,o,l[o],n);l=null}}else t&&l&&(l[e]=i);r&&r._handleKeyEvent(t?"keydown":"keyup",n,e,i)}return q.add(O,{keydown:function(t){var e=r(t),i=at&&at.agent;1<e.length||i&&i.chrome&&(t.altKey||i.mac&&t.metaKey||!i.mac&&t.ctrlKey)?d(!0,e,n[e]||(1<e.length?"":e),t):s=e},keypress:function(t){if(s){var e=r(t),i=t.charCode,n=32<=i?String.fromCharCode(i):1<e.length?"":e;e!==s&&(e=n.toLowerCase()),d(!0,e,n,t),s=null}},keyup:function(t){var e=r(t);e in h&&d(!1,e,h[e],t)}}),q.add(E,{blur:function(t){for(var e in h)d(!1,e,h[e],t)}}),{modifiers:c,isDown:function(t){return!!u[t]}}},tt=m.extend({_class:"MouseEvent",initialize:function(t,e,i,n,s){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=s},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),y=m.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)i=(e=i)._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),et=e.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){e.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){null!=(this._minDistance=t)&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,a,o){at=this._scope,o.drag&&!this.responds(t)&&(t="mousemove");var l=o.move||o.drag,i=this.responds(t),n=this.minDistance,s=this.maxDistance,r=!1,u=this;function h(t,e){var i=a,n=l?u._point:u._downPoint||i;if(l){if(0<=u._moveCount&&i.equals(n))return!1;if(n&&(null!=t||null!=e)){var s=i.subtract(n),r=s.getLength();if(r<(t||0))return!1;e&&(i=n.add(s.normalize(Math.min(r,e))))}u._moveCount++}return u._point=i,u._lastPoint=n||i,o.down&&(u._moveCount=-1,u._downPoint=i,u._downCount++),!0}function c(){i&&(r=u.emit(t,new y(u,t,e))||r)}if(o.down)h(),c();else if(o.up)h(null,s),c();else if(i)for(;h(n,s);)c();return r}}),b=U.extend(t,{_class:"Tween",statics:{easings:{linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:2*(2-t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},initialize:function t(e,i,n,s,r,a){this.object=e;var o=typeof r,l="function"===o;this.type=l?o:"string"===o?r:"linear",this.easing=l?r:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var u=i||n;this._keys=u?Object.keys(u):[],this._parsedKeys=this._parseKeys(this._keys),this._from=u&&this._getState(i),this._to=u&&this._getState(n),!1!==a&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(e){if(this.running){1<=e&&(e=1,this.running=!1);for(var i=this.easing(e),t=this._keys,n=function(t){return"function"==typeof t?t(i,e):t},s=0,r=t&&t.length;s<r;s++){var a=t[s],o=n(this._from[a]),l=n(this._to[a]),u=o&&l&&o.__add&&l.__add?l.__subtract(o).__multiply(i).__add(o):(l-o)*i+o;this._setProperty(this._parsedKeys[a],u)}this.responds("update")&&this.emit("update",new U({progress:e,factor:i})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},n=0,s=e.length;n<s;n++){var r,a=e[n],o=this._parsedKeys[a],l=this._getProperty(o);if(t){var u=this._resolveValue(l,t[a]);this._setProperty(o,u),r=(r=this._getProperty(o))&&r.clone?r.clone():r,this._setProperty(o,l)}else r=l&&l.clone?l.clone():l;i[a]=r}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&2===e.length){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}if("string"==typeof e){var n=e.match(/^[+\-*/]=(.*)/);if(n){var s=JSON.parse(n[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,i){return at.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,n=t.length;i<n;i++){var s=t[i],r=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=r.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,n=0,s=t.length-(e||0);n<s&&i;n++)i=i[t[n]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),it=function(i){var n=new S.XMLHttpRequest;return n.open((i.method||"get").toUpperCase(),i.url,U.pick(i.async,!0)),i.mimeType&&n.overrideMimeType(i.mimeType),n.onload=function(){var t=n.status;0===t||200===t?i.onLoad&&i.onLoad.call(n,n.responseText):n.onerror()},n.onerror=function(){var t=n.status,e='Could not load "'+i.url+'" (Status: '+t+")";if(!i.onError)throw new Error(e);i.onError(e,t)},n.send(null)},nt=U.exports.CanvasProvider={canvases:[],getCanvas:function(t,e){if(!E)return null;var i,n=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=O.createElement("canvas"),n=!1);var s=i.getContext("2d");if(!s)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===t&&i.height===e?n&&s.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),s.save(),i},getContext:function(t,e){var i=this.getCanvas(t,e);return i?i.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},w=new function(){var _,m,g,v,y,b,w,x,S,T,k,h=Math.min,c=Math.max,t=Math.abs;function d(t,e,i){return.2989*t+.587*e+.114*i}function e(t,e,i,n){var s=n-d(t,e,i),r=(n=d(S=t+s,T=e+s,k=i+s),h(S,T,k)),a=c(S,T,k);if(r<0){var o=n-r;S=n+(S-n)*n/o,T=n+(T-n)*n/o,k=n+(k-n)*n/o}if(255<a){var l=255-n,u=a-n;S=n+(S-n)*l/u,T=n+(T-n)*l/u,k=n+(k-n)*l/u}}function i(t,e,i){return c(t,e,i)-h(t,e,i)}function n(t,e,i,n){var s,r=[t,e,i],a=c(t,e,i),o=h(t,e,i);s=0===h(o=o===t?0:o===e?1:2,a=a===t?0:a===e?1:2)?1===c(o,a)?2:1:0,r[a]>r[o]?(r[s]=(r[s]-r[o])*n/(r[a]-r[o]),r[a]=n):r[s]=r[a]=0,r[o]=0,S=r[0],T=r[1],k=r[2]}var A={multiply:function(){S=y*_/255,T=b*m/255,k=w*g/255},screen:function(){S=y+_-y*_/255,T=b+m-b*m/255,k=w+g-w*g/255},overlay:function(){S=y<128?2*y*_/255:255-2*(255-y)*(255-_)/255,T=b<128?2*b*m/255:255-2*(255-b)*(255-m)/255,k=w<128?2*w*g/255:255-2*(255-w)*(255-g)/255},"soft-light":function(){var t=_*y/255;S=t+y*(255-(255-y)*(255-_)/255-t)/255,T=(t=m*b/255)+b*(255-(255-b)*(255-m)/255-t)/255,k=(t=g*w/255)+w*(255-(255-w)*(255-g)/255-t)/255},"hard-light":function(){S=_<128?2*_*y/255:255-2*(255-_)*(255-y)/255,T=m<128?2*m*b/255:255-2*(255-m)*(255-b)/255,k=g<128?2*g*w/255:255-2*(255-g)*(255-w)/255},"color-dodge":function(){S=0===y?0:255===_?255:h(255,255*y/(255-_)),T=0===b?0:255===m?255:h(255,255*b/(255-m)),k=0===w?0:255===g?255:h(255,255*w/(255-g))},"color-burn":function(){S=255===y?255:0===_?0:c(0,255-255*(255-y)/_),T=255===b?255:0===m?0:c(0,255-255*(255-b)/m),k=255===w?255:0===g?0:c(0,255-255*(255-w)/g)},darken:function(){S=y<_?y:_,T=b<m?b:m,k=w<g?w:g},lighten:function(){S=_<y?y:_,T=m<b?b:m,k=g<w?w:g},difference:function(){(S=y-_)<0&&(S=-S),(T=b-m)<0&&(T=-T),(k=w-g)<0&&(k=-k)},exclusion:function(){S=y+_*(255-y-y)/255,T=b+m*(255-b-b)/255,k=w+g*(255-w-w)/255},hue:function(){n(_,m,g,i(y,b,w)),e(S,T,k,d(y,b,w))},saturation:function(){n(y,b,w,i(_,m,g)),e(S,T,k,d(y,b,w))},luminosity:function(){e(y,b,w,d(_,m,g))},color:function(){e(_,m,g,d(y,b,w))},add:function(){S=h(y+_,255),T=h(b+m,255),k=h(w+g,255)},subtract:function(){S=c(y-_,0),T=c(b-m,0),k=c(w-g,0)},average:function(){S=(y+_)/2,T=(b+m)/2,k=(w+g)/2},negation:function(){S=255-t(255-_-y),T=255-t(255-m-b),k=255-t(255-g-w)}},C=this.nativeModes=U.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),s=nt.getContext(1,1);s&&(U.each(A,function(t,e){var i="darken"===e,n=!1;s.save();try{s.fillStyle=i?"#300":"#a00",s.fillRect(0,0,1,1),s.globalCompositeOperation=e,s.globalCompositeOperation===e&&(s.fillStyle=i?"#a00":"#300",s.fillRect(0,0,1,1),n=s.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(t){}s.restore(),C[e]=n}),nt.release(s)),this.process=function(t,e,i,n,s){var r=e.canvas,a="normal"===t;if(a||C[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,a||(i.globalCompositeOperation=t),i.drawImage(r,s.x,s.y),i.restore();else{var o=A[t];if(!o)return;for(var l=i.getImageData(s.x,s.y,r.width,r.height),u=l.data,h=e.getImageData(0,0,r.width,r.height).data,c=0,d=u.length;c<d;c+=4){_=h[c],y=u[c],m=h[c+1],b=u[c+1],g=h[c+2],w=u[c+2],v=h[c+3],x=u[c+3],o();var f=v*n/255,p=1-f;u[c]=f*S+p*y,u[c+1]=f*T+p*b,u[c+2]=f*k+p*w,u[c+3]=v*n+p*x}i.putImageData(l,s.x,s.y)}}},st=new function(){var n="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",e="http://www.w3.org/1999/xlink",a={href:e,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function s(t,e,i){for(var n in e){var s=e[n],r=a[n];"number"==typeof s&&i&&(s=i.number(s)),r?t.setAttributeNS(r,n,s):t.setAttribute(n,s)}return t}return{svg:n,xmlns:t,xlink:e,create:function(t,e,i){return s(O.createElementNS(n,t),e,i)},get:function(t,e){var i=a[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n},set:s}},rt=U.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof I||t instanceof k||t instanceof p)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=U.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&U.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var _;function d(t,e,i){var n,s=new U,r=t.getTranslation();e&&(t.isInvertible()?(n=(t=t._shiftless())._inverseTransform(r),r=null):n=new H,s[i?"cx":"x"]=n.x,s[i?"cy":"y"]=n.y);if(!t.isIdentity()){var a=t.decompose();if(a){var o=[],l=a.rotation,u=a.scaling,h=a.skewing;r&&!r.isZero()&&o.push("translate("+_.point(r)+")"),l&&o.push("rotate("+_.number(l)+")"),W.isZero(u.x-1)&&W.isZero(u.y-1)||o.push("scale("+_.point(u)+")"),h.x&&o.push("skewX("+_.number(h.x)+")"),h.y&&o.push("skewY("+_.number(h.y)+")"),s.transform=o.join(" ")}else s.transform="matrix("+t.getValues().join(",")+")"}return s}function t(t,e){for(var i=d(t._matrix),n=t._children,s=st.create("g",i,_),r=0,a=n.length;r<a;r++){var o=n[r],l=v(o,e);if(l)if(o.isClipMask()){var u=st.create("clipPath");u.appendChild(l),g(o,u,"clip"),st.set(s,{"clip-path":"url(#"+u.id+")"})}else s.appendChild(l)}return s}function f(t){var e=t._type,i=t._radius,n=d(t._matrix,!0,"rectangle"!==e);if("rectangle"===e){e="rect";var s=t._size,r=s.width,a=s.height;n.x-=r/2,n.y-=a/2,n.width=r,n.height=a,i.isZero()&&(i=null)}return i&&("circle"===e?n.r=i:(n.rx=i.width,n.ry=i.height)),st.create(e,n,_)}var r,o={Group:t,Layer:t,Raster:function(t,e){var i=d(t._matrix,!0),n=t.getSize(),s=t.getImage();return i.x-=n.width/2,i.y-=n.height/2,i.width=n.width,i.height=n.height,i.href=0==e.embedImages&&s&&s.src||t.toDataURL(),st.create("image",i,_)},Path:function(t,e){var i=e.matchShapes;if(i){var n=t.toShape(!1);if(n)return f(n)}var s,r=t._segments,a=r.length,o=d(t._matrix);if(i&&2<=a&&!t.hasHandles())if(2<a){s=t._closed?"polygon":"polyline";for(var l=[],u=0;u<a;u++)l.push(_.point(r[u]._point));o.points=l.join(" ")}else{s="line";var h=r[0]._point,c=r[1]._point;o.set({x1:h.x,y1:h.y,x2:c.x,y2:c.y})}else s="path",o.d=t.getPathData(null,e.precision);return st.create(s,o,_)},Shape:f,CompoundPath:function(t,e){var i=d(t._matrix),n=t.getPathData(null,e.precision);return n&&(i.d=n),st.create("path",i,_)},SymbolItem:function(t,e){var i=d(t._matrix,!0),n=t._definition,s=m(n,"symbol"),r=n._item,a=r.getStrokeBounds();return s||((s=st.create("symbol",{viewBox:_.rectangle(a)})).appendChild(v(r,e)),g(n,s,"symbol")),i.href="#"+s.id,i.x+=a.x,i.y+=a.y,i.width=a.width,i.height=a.height,i.overflow="visible",st.create("use",i,_)},PointText:function(t){var e=st.create("text",d(t._matrix,!0),_);return e.textContent=t._content,e}};function l(r,t,e){var a={},o=!e&&r.getParent(),l=[];return null!=r._name&&(a.id=r._name),U.each(rt,function(t){var e=t.get,i=t.type,n=r[e]();if(t.exportFilter?t.exportFilter(r,n):!o||!U.equals(o[e](),n)){if("color"===i&&null!=n){var s=n.getAlpha();s<1&&(a[t.attribute+"-opacity"]=s)}"style"===i?l.push(t.attribute+": "+n):a[t.attribute]=null==n?"none":"color"===i?n.gradient?function(t){var e=m(t,"color");if(!e){var i,n=t.getGradient(),s=n._radial,r=t.getOrigin(),a=t.getDestination();if(s){i={cx:r.x,cy:r.y,r:r.getDistance(a)};var o=t.getHighlight();o&&(i.fx=o.x,i.fy=o.y)}else i={x1:r.x,y1:r.y,x2:a.x,y2:a.y};i.gradientUnits="userSpaceOnUse",e=st.create((s?"radial":"linear")+"Gradient",i,_);for(var l=n._stops,u=0,h=l.length;u<h;u++){var c=l[u],d=c._color,f=d.getAlpha(),p=c._offset;i={offset:null==p?u/(h-1):p},d&&(i["stop-color"]=d.toCSS(!0)),f<1&&(i["stop-opacity"]=f),e.appendChild(st.create("stop",i,_))}g(t,e,"color")}return"url(#"+e.id+")"}(n):n.toCSS(!0):"array"===i?n.join(","):"lookup"===i?t.toSVG[n]:n}}),l.length&&(a.style=l.join(";")),1===a.opacity&&delete a.opacity,r._visible||(a.visibility="hidden"),st.set(t,a,_)}function m(t,e){return r||(r={ids:{},svgs:{}}),t&&r.svgs[e+"-"+(t._id||t.__id||(t.__id=u.get("svg")))]}function g(t,e,i){r||m();var n=r.ids[i]=(r.ids[i]||0)+1;e.id=i+"-"+n,r.svgs[i+"-"+(t._id||t.__id)]=e}function p(t,e){var i=t,n=null;if(r){for(var s in i="svg"===t.nodeName.toLowerCase()&&t,r.svgs)n||(i||(i=st.create("svg")).appendChild(t),n=i.insertBefore(st.create("defs"),i.firstChild)),n.appendChild(r.svgs[s]);r=null}return e.asString?(new S.XMLSerializer).serializeToString(i):i}function v(t,e,i){var n=o[t._class],s=n&&n(t,e);if(s){var r=e.onExport;r&&(s=r(t,s,e)||s);var a=JSON.stringify(t._data);a&&"{}"!==a&&"null"!==a&&s.setAttribute("data-paper-data",a)}return s&&l(t,s,i)}function y(t){return t||(t={}),_=new x(t.precision),t}j.inject({exportSVG:function(t){return p(v(this,t=y(t),!0),t)}}),h.inject({exportSVG:function(t){t=y(t);var e=this._children,i=this.getView(),n=U.pick(t.bounds,"view"),s=t.matrix||"view"===n&&i._matrix,r=s&&Q.read([s]),a="view"===n?new P([0,0],i.getViewSize()):"content"===n?j._getBounds(e,r,{stroke:!0}).rect:P.read([n],0,{readNull:!0}),o={version:"1.1",xmlns:st.svg,"xmlns:xlink":st.xlink};a&&(o.width=a.width,o.height=a.height,(a.x||0===a.x||a.y||0===a.y)&&(o.viewBox=_.rectangle(a)));var l=st.create("svg",o,_),u=l;r&&!r.isIdentity()&&(u=l.appendChild(st.create("g",d(r),_)));for(var h=0,c=e.length;h<c;h++)u.appendChild(v(e[h],t,!0));return p(l,t)}})},new function(){var m,g={};function p(t,e,i,n,s,r){var a=st.get(t,e)||r,o=null==a?n?null:i?"":0:i?a:parseFloat(a);return/%\s*$/.test(a)?o/100*(s?1:m[/x|^width/.test(e)?"width":"height"]):o}function _(t,e,i,n,s,r,a){return e=p(t,e||"x",!1,n,s,r),i=p(t,i||"y",!1,n,s,a),!n||null!=e&&null!=i?new H(e,i):null}function v(t,e,i,n,s){return e=p(t,e||"width",!1,n,s),i=p(t,i||"height",!1,n,s),!n||null!=e&&null!=i?new G(e,i):null}function c(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?r(t)||t:"lookup"===e?i[t]:t}function s(t,e,i,n){var s=t.childNodes,r="clippath"===e,a="defs"===e,o=new T,l=o._project,u=l._currentStyle,h=[];if(r||a||(o=b(o,t,n),l._currentStyle=o._style.clone()),n)for(var c=t.querySelectorAll("defs"),d=0,f=c.length;d<f;d++)w(c[d],i,!1);for(d=0,f=s.length;d<f;d++){var p,_=s[d];1!==_.nodeType||/^defs$/i.test(_.nodeName)||!(p=w(_,i,!1))||p instanceof C||h.push(p)}return o.addChildren(h),r&&(o=b(o.reduce(),t,n)),l._currentStyle=u,(r||a)&&(o.remove(),o=null),o}function t(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],s=0,r=i.length;s<r;s+=2)n.push(new H(parseFloat(i[s]),parseFloat(i[s+1])));var a=new K(n);return"polygon"===e&&a.closePath(),a}function e(t,e){var i,n=(p(t,"href",!0)||"").substring(1),s="radialgradient"===e;if(n)(i=g[n].getGradient())._radial^s&&((i=i.clone())._radial=s);else{for(var r=t.childNodes,a=[],o=0,l=r.length;o<l;o++){var u=r[o];1===u.nodeType&&a.push(b(new L,u))}i=new R(a,s)}var h,c,d,f="userSpaceOnUse"!==p(t,"gradientUnits",!0);return s?(c=(h=_(t,"cx","cy",!1,f,"50%","50%")).add(p(t,"r",!1,!1,f,"50%"),0),d=_(t,"fx","fy",!0,f)):(h=_(t,"x1","y1",!1,f,"0%","0%"),c=_(t,"x2","y2",!1,f,"100%","0%")),b(new N(i,h,c,d),t)._scaleToBounds=f,null}var y={"#document":function(t,e,i,n){for(var s=t.childNodes,r=0,a=s.length;r<a;r++){var o=s[r];if(1===o.nodeType)return w(o,i,n)}},g:s,svg:s,clippath:s,polygon:t,polyline:t,path:function(t){return I.create(t.getAttribute("d"))},lineargradient:e,radialgradient:e,image:function(i){var t=new A(p(i,"href",!0));return t.on("load",function(){var t=v(i);this.setSize(t);var e=_(i).add(t.divide(2));this._matrix.append((new Q).translate(e))}),t},symbol:function(t,e,i,n){return new C(s(t,e,i,n),!0)},defs:s,use:function(t){var e=(p(t,"href",!0)||"").substring(1),i=g[e],n=_(t);return i?i instanceof C?i.place(n):i.clone().translate(n):null},circle:function(t){return new k.Circle(_(t,"cx","cy"),p(t,"r"))},ellipse:function(t){return new k.Ellipse({center:_(t,"cx","cy"),radius:v(t,"rx","ry")})},rect:function(t){return new k.Rectangle(new P(_(t),v(t)),v(t,"rx","ry"))},line:function(t){return new K.Line(_(t,"x1","y1"),_(t,"x2","y2"))},text:function(t){var e=new l(_(t).add(_(t,"dx","dy")));return e.setContent(t.textContent.trim()||""),e},switch:s};function i(t,e,i,n){if(t.transform){for(var s=(n.getAttribute(i)||"").split(/\)\s*/g),r=new Q,a=0,o=s.length;a<o;a++){var l=s[a];if(!l)break;for(var u=l.split(/\(\s*/),h=u[0],c=u[1].split(/[\s,]+/g),d=0,f=c.length;d<f;d++)c[d]=parseFloat(c[d]);switch(h){case"matrix":r.append(new Q(c[0],c[1],c[2],c[3],c[4],c[5]));break;case"rotate":r.rotate(c[0],c[1]||0,c[2]||0);break;case"translate":r.translate(c[0],c[1]||0);break;case"scale":r.scale(c);break;case"skewX":r.skew(c[0],0);break;case"skewY":r.skew(0,c[0])}}t.transform(r)}}function n(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",s=t[n]&&t[n]();s&&s.setAlpha(parseFloat(e))}var a=U.set(U.each(rt,function(s){this[s.attribute]=function(t,e){if(t[s.set]&&(t[s.set](c(e,s.type,s.fromSVG)),"color"===s.type)){var i=t[s.get]();if(i&&i._scaleToBounds){var n=t.getBounds();i.transform((new Q).translate(n.getPoint()).scale(n.getSize()))}}}},{}),{id:function(t,e){(g[e]=t).setName&&t.setName(e)},"clip-path":function(t,e){var i=r(e);if(i){if((i=i.clone()).setClipMask(!0),!(t instanceof T))return new T(i,t);t.insertChild(0,i)}},gradientTransform:i,transform:i,"fill-opacity":n,"stroke-opacity":n,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,i,n,s){var r,a=new P(c(e,"array")),o=v(n,null,null,!0);if(t instanceof T){var l=o?o.divide(a.getSize()):1,u=(new Q).scale(l).translate(a.getPoint().negate());r=t}else t instanceof C&&(o&&a.setSize(o),r=t._item);if(r){if("visible"!==d(n,"overflow",s)){var h=new k.Rectangle(a);h.setClipMask(!0),r.addChild(h)}u&&r.transform(u)}}});function d(t,e,i){var n=t.attributes[e],s=n&&n.value;if(!s&&t.style){var r=U.camelize(e);(s=t.style[r])||i.node[r]===i.parent[r]||(s=i.node[r])}return s?"none"===s?null:s:V}function b(n,s,t){var e=s.parentNode,r={node:F.getStyles(s)||{},parent:!t&&!/^defs$/i.test(e.tagName)&&F.getStyles(e)||{}};return U.each(a,function(t,e){var i=d(s,e,r);n=i!==V&&t(n,i,e,s,r)||n}),n}function r(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=e&&e[1],n=i&&g[E?i.replace(E.location.href.split("#")[0]+"#",""):i];return n&&n._scaleToBounds&&((n=n.clone())._scaleToBounds=!0),n}function w(t,e,i){var n,s,r,a=t.nodeName.toLowerCase(),o="#document"!==a,l=O.body;i&&o&&(m=at.getView().getSize(),m=v(t,null,null,!0)||m,n=st.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),s=t.parentNode,r=t.nextSibling,n.appendChild(t),l.appendChild(n));var u=at.settings,h=u.applyMatrix,c=u.insertItems;u.applyMatrix=!1,u.insertItems=!1;var d=y[a],f=d&&d(t,a,e,i)||null;if(u.insertItems=c,u.applyMatrix=h,f){!o||f instanceof T||(f=b(f,t,i));var p=e.onImport,_=o&&t.getAttribute("data-paper-data");p&&(f=p(t,f,e)||f),e.expandShapes&&f instanceof k&&(f.remove(),f=f.toPath()),_&&(f._data=JSON.parse(_))}return n&&(l.removeChild(n),s&&(r?s.insertBefore(t,r):s.appendChild(t))),i&&(g={},f&&U.pick(e.applyMatrix,h)&&f.matrix.apply(!0,!0)),f}function o(n,s,r){if(!n)return null;s="function"==typeof s?{onLoad:s}:s||{};var a=at,o=null;function t(t){try{var e="object"==typeof t?t:(new S.DOMParser).parseFromString(t.trim(),"image/svg+xml");if(!e.nodeName)throw e=null,new Error("Unsupported SVG source: "+n);at=a,o=w(e,s,!0),s&&!1===s.insert||r._insertItem(V,o);var i=s.onLoad;i&&i(o,t)}catch(t){l(t)}}function l(t,e){var i=s.onError;if(!i)throw new Error(t);i(t,e)}if("string"!=typeof n||/^[\s\S]*</.test(n)){if("undefined"!=typeof File&&n instanceof File){var e=new FileReader;return e.onload=function(){t(e.result)},e.onerror=function(){l(e.error)},e.readAsText(n)}t(n)}else{var i=O.getElementById(n);i?t(i):it({url:n,async:!0,onLoad:t,onError:l})}return o}j.inject({importSVG:function(t,e){return o(t,e,this)}}),h.inject({importSVG:function(t,e){return this.activate(),o(t,e,this)}})},U.exports.PaperScript=function(){var t,e,i,n,s=this,r=s.acorn;if(!r&&void 0!==ot)try{r=ot("acorn")}catch(t){}r||(r=t=e={},i=this,n=function(t){"use strict";var f,p,d,i;t.version="0.5.0",t.parse=function(t,e){return p=String(t),d=p.length,s(e),Gt(),function(t){x=S=_,f.locations&&(l=new Ht);T=A=null,k=[],Kt();var e=t||he(),i=!0;t||(e.body=[]);for(;g!==c;){var n=xe();e.body.push(n),i&&fe(n)&&oe(!0),i=!1}return de(e,"Program")}(f.program)};var n=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function s(t){for(var e in f=t||{},n)Object.prototype.hasOwnProperty.call(f,e)||(f[e]=n[e]);i=f.sourceFile||null}var _,m,r,a,o,g,v,y,b,w,x,S,l,T,k,A,u=t.getLineInfo=function(t,e){for(var i=1,n=0;;){zt.lastIndex=n;var s=zt.exec(t);if(!(s&&s.index<e))break;++i,n=s.index+s[0].length}return{line:i,column:e-n}};function C(t,e){var i=u(p,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=_,n}t.tokenize=function(t,e){p=String(t),d=p.length,s(e),Gt();var i={};function n(t){return S=r,Kt(t),i.start=m,i.end=r,i.startLoc=a,i.endLoc=o,i.type=g,i.value=v,i}return n.jumpTo=function(t,e){var i;if(_=t,f.locations)for(b=1,w=zt.lastIndex=0;(i=zt.exec(p))&&i.index<t;)++b,w=i.index+i[0].length;y=e,Xt()},n};var P=[],E={type:"num"},h={type:"regexp"},O={type:"string"},M={type:"name"},c={type:"eof"},I={keyword:"break"},N={keyword:"case",beforeExpr:!0},R={keyword:"catch"},L={keyword:"continue"},F={keyword:"debugger"},q={keyword:"default"},D={keyword:"do",isLoop:!0},B={keyword:"else",beforeExpr:!0},j={keyword:"finally"},V={keyword:"for",isLoop:!0},z={keyword:"function"},U={keyword:"if"},W={keyword:"return",beforeExpr:!0},H={keyword:"switch"},G={keyword:"throw",beforeExpr:!0},Q={keyword:"try"},$={keyword:"var"},Z={keyword:"while",isLoop:!0},X={keyword:"with"},Y={keyword:"new",beforeExpr:!0},K={keyword:"this"},J={keyword:"null",atomValue:null},tt={keyword:"true",atomValue:!0},et={keyword:"false",atomValue:!1},it={keyword:"in",binop:7,beforeExpr:!0},nt={break:I,case:N,catch:R,continue:L,debugger:F,default:q,do:D,else:B,finally:j,for:V,function:z,if:U,return:W,switch:H,throw:G,try:Q,var:$,while:Z,with:X,null:J,true:tt,false:et,new:Y,in:it,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:K,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},st={type:"[",beforeExpr:!0},rt={type:"]"},at={type:"{",beforeExpr:!0},ot={type:"}"},lt={type:"(",beforeExpr:!0},ut={type:")"},ht={type:",",beforeExpr:!0},ct={type:";",beforeExpr:!0},dt={type:":",beforeExpr:!0},ft={type:"."},pt={type:"?",beforeExpr:!0},_t={binop:10,beforeExpr:!0},mt={isAssign:!0,beforeExpr:!0},gt={isAssign:!0,beforeExpr:!0},vt={postfix:!0,prefix:!0,isUpdate:!0},yt={prefix:!0,beforeExpr:!0},bt={binop:1,beforeExpr:!0},wt={binop:2,beforeExpr:!0},xt={binop:3,beforeExpr:!0},St={binop:4,beforeExpr:!0},Tt={binop:5,beforeExpr:!0},kt={binop:6,beforeExpr:!0},At={binop:7,beforeExpr:!0},Ct={binop:8,beforeExpr:!0},Pt={binop:9,prefix:!0,beforeExpr:!0},Et={binop:10,beforeExpr:!0};for(var e in t.tokTypes={bracketL:st,bracketR:rt,braceL:at,braceR:ot,parenL:lt,parenR:ut,comma:ht,semi:ct,colon:dt,dot:ft,question:pt,slash:_t,eq:mt,name:M,eof:c,num:E,regexp:h,string:O},nt)t.tokTypes["_"+e]=nt[e];function Ot(t){t=t.split(" ");var i="",e=[];t:for(var n=0;n<t.length;++n){for(var s=0;s<e.length;++s)if(e[s][0].length==t[n].length){e[s].push(t[n]);continue t}e.push([t[n]])}function r(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}if(3<e.length){e.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(n=0;n<e.length;++n){var a=e[n];i+="case "+a[0].length+":",r(a)}i+="}"}else r(t);return new Function("str",i)}var Mt,It=Ot("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Nt=Ot("class enum extends super const export import"),Rt=Ot("implements interface let package private protected public static yield"),Lt=Ot("eval arguments"),Ft=Ot("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),qt=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Dt="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",Bt=new RegExp("["+Dt+"]"),jt=new RegExp("["+Dt+"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Vt=/[\n\r\u2028\u2029]/,zt=/\r\n|[\n\r\u2028\u2029]/g,Ut=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||170<=t&&Bt.test(String.fromCharCode(t)))},Wt=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||170<=t&&jt.test(String.fromCharCode(t))))};function Ht(){this.line=b,this.column=_-w}function Gt(){b=1,_=w=0,y=!0,Xt()}function Qt(t,e){r=_,f.locations&&(o=new Ht),g=t,Xt(),v=e,y=t.beforeExpr}function $t(){var t,e=f.onComment&&f.locations&&new Ht,i=_,n=p.indexOf("*/",_+=2);if(-1===n&&C(_-2,"Unterminated comment"),_=n+2,f.locations)for(zt.lastIndex=i;(t=zt.exec(p))&&t.index<_;)++b,w=t.index+t[0].length;f.onComment&&f.onComment(!0,p.slice(i+2,n),i,_,e,f.locations&&new Ht)}function Zt(){for(var t=_,e=f.onComment&&f.locations&&new Ht,i=p.charCodeAt(_+=2);_<d&&10!==i&&13!==i&&8232!==i&&8233!==i;)++_,i=p.charCodeAt(_);f.onComment&&f.onComment(!1,p.slice(t+2,_),t,_,e,f.locations&&new Ht)}function Xt(){for(;_<d;){var t=p.charCodeAt(_);if(32===t)++_;else if(13===t){++_,10===(e=p.charCodeAt(_))&&++_,f.locations&&(++b,w=_)}else if(10===t||8232===t||8233===t)++_,f.locations&&(++b,w=_);else if(8<t&&t<14)++_;else if(47===t){var e;if(42===(e=p.charCodeAt(_+1)))$t();else{if(47!==e)break;Zt()}}else if(160===t)++_;else{if(!(5760<=t&&qt.test(String.fromCharCode(t))))break;++_}}}function Yt(t){switch(t){case 46:return 48<=(c=p.charCodeAt(_+1))&&c<=57?ie(!0):(++_,Qt(ft));case 40:return++_,Qt(lt);case 41:return++_,Qt(ut);case 59:return++_,Qt(ct);case 44:return++_,Qt(ht);case 91:return++_,Qt(st);case 93:return++_,Qt(rt);case 123:return++_,Qt(at);case 125:return++_,Qt(ot);case 58:return++_,Qt(dt);case 63:return++_,Qt(pt);case 48:var e=p.charCodeAt(_+1);if(120===e||88===e)return function(){_+=2;var t=ee(16);null==t&&C(m+2,"Expected hexadecimal number");Ut(p.charCodeAt(_))&&C(_,"Identifier directly after number");return Qt(E,t)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return ie(!1);case 34:case 39:return function(t){_++;for(var e="";;){d<=_&&C(m,"Unterminated string constant");var i=p.charCodeAt(_);if(i===t)return++_,Qt(O,e);if(92===i){i=p.charCodeAt(++_);var n=/^[0-7]+/.exec(p.slice(_,_+3));for(n&&(n=n[0]);n&&255<parseInt(n,8);)n=n.slice(0,-1);if("0"===n&&(n=null),++_,n)A&&C(_-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(n,8)),_+=n.length-1;else switch(i){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(ne(2));break;case 117:e+=String.fromCharCode(ne(4));break;case 85:e+=String.fromCharCode(ne(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\v";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===p.charCodeAt(_)&&++_;case 10:f.locations&&(w=_,++b);break;default:e+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||C(m,"Unterminated string constant"),e+=String.fromCharCode(i),++_}}(t);case 47:return h=p.charCodeAt(_+1),y?(++_,te()):61===h?Jt(gt,2):Jt(_t,1);case 37:case 42:return 61===p.charCodeAt(_+1)?Jt(gt,2):Jt(Et,1);case 124:case 38:return l=t,(u=p.charCodeAt(_+1))===l?Jt(124===l?bt:wt,2):61===u?Jt(gt,2):Jt(124===l?xt:Tt,1);case 94:return 61===p.charCodeAt(_+1)?Jt(gt,2):Jt(St,1);case 43:case 45:return a=t,(o=p.charCodeAt(_+1))===a?45==o&&62==p.charCodeAt(_+2)&&Vt.test(p.slice(S,_))?(_+=3,Zt(),Xt(),Kt()):Jt(vt,2):61===o?Jt(gt,2):Jt(Pt,1);case 60:case 62:return n=t,s=p.charCodeAt(_+1),r=1,s===n?(r=62===n&&62===p.charCodeAt(_+2)?3:2,61===p.charCodeAt(_+r)?Jt(gt,r+1):Jt(Ct,r)):33==s&&60==n&&45==p.charCodeAt(_+2)&&45==p.charCodeAt(_+3)?(_+=4,Zt(),Xt(),Kt()):(61===s&&(r=61===p.charCodeAt(_+2)?3:2),Jt(At,r));case 61:case 33:return i=t,61===p.charCodeAt(_+1)?Jt(kt,61===p.charCodeAt(_+2)?3:2):Jt(61===i?mt:yt,1);case 126:return Jt(yt,1)}var i,n,s,r,a,o,l,u,h,c;return!1}function Kt(t){if(t?_=m+1:m=_,f.locations&&(a=new Ht),t)return te();if(d<=_)return Qt(c);var e=p.charCodeAt(_);if(Ut(e)||92===e)return re();var i=Yt(e);if(!1===i){var n=String.fromCharCode(e);if("\\"===n||Bt.test(n))return re();C(_,"Unexpected character '"+n+"'")}return i}function Jt(t,e){var i=p.slice(_,_+e);_+=e,Qt(t,i)}function te(){for(var t,e,i=_;;){d<=_&&C(i,"Unterminated regular expression");var n=p.charAt(_);if(Vt.test(n)&&C(i,"Unterminated regular expression"),t)t=!1;else{if("["===n)e=!0;else if("]"===n&&e)e=!1;else if("/"===n&&!e)break;t="\\"===n}++_}var s=p.slice(i,_);++_;var r=se();r&&!/^[gmsiy]*$/.test(r)&&C(i,"Invalid regexp flag");try{var a=new RegExp(s,r)}catch(t){t instanceof SyntaxError&&C(i,t.message),C(t)}return Qt(h,a)}function ee(t,e){for(var i=_,n=0,s=0,r=null==e?1/0:e;s<r;++s){var a,o=p.charCodeAt(_);if(t<=(a=97<=o?o-97+10:65<=o?o-65+10:48<=o&&o<=57?o-48:1/0))break;++_,n=n*t+a}return _===i||null!=e&&_-i!==e?null:n}function ie(t){var e=_,i=!1,n=48===p.charCodeAt(_);t||null!==ee(10)||C(e,"Invalid number"),46===p.charCodeAt(_)&&(++_,ee(10),i=!0);var s=p.charCodeAt(_);69!==s&&101!==s||(43!==(s=p.charCodeAt(++_))&&45!==s||++_,null===ee(10)&&C(e,"Invalid number"),i=!0),Ut(p.charCodeAt(_))&&C(_,"Identifier directly after number");var r,a=p.slice(e,_);return i?r=parseFloat(a):n&&1!==a.length?/[89]/.test(a)||A?C(e,"Invalid number"):r=parseInt(a,8):r=parseInt(a,10),Qt(E,r)}function ne(t){var e=ee(16,t);return null===e&&C(m,"Bad character escape sequence"),e}function se(){for(var t,e=!(Mt=!1),i=_;;){var n=p.charCodeAt(_);if(Wt(n))Mt&&(t+=p.charAt(_)),++_;else{if(92!==n)break;Mt||(t=p.slice(i,_)),Mt=!0,117!=p.charCodeAt(++_)&&C(_,"Expecting Unicode escape sequence \\uXXXX"),++_;var s=ne(4),r=String.fromCharCode(s);r||C(_-1,"Invalid Unicode escape"),(e?Ut(s):Wt(s))||C(_-4,"Invalid Unicode escape"),t+=r}e=!1}return Mt?t:p.slice(i,_)}function re(){var t=se(),e=M;return!Mt&&Ft(t)&&(e=nt[t]),Qt(e,t)}function ae(){x=m,S=r,l=o,Kt()}function oe(t){if(A=t,_=m,f.locations)for(;_<w;)w=p.lastIndexOf("\n",w-2)+1,--b;Xt(),Kt()}function le(){this.type=null,this.start=m,this.end=null}function ue(){this.start=a,(this.end=null)!==i&&(this.source=i)}function he(){var t=new le;return f.locations&&(t.loc=new ue),f.directSourceFile&&(t.sourceFile=f.directSourceFile),f.ranges&&(t.range=[m,0]),t}function ce(t){var e=new le;return e.start=t.start,f.locations&&(e.loc=new ue,e.loc.start=t.loc.start),f.ranges&&(e.range=[t.range[0],0]),e}function de(t,e){return t.type=e,t.end=S,f.locations&&(t.loc.end=l),f.ranges&&(t.range[1]=S),t}function fe(t){return 5<=f.ecmaVersion&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function pe(t){if(g===t)return ae(),!0}function _e(){return!f.strictSemicolons&&(g===c||g===ot||Vt.test(p.slice(S,m)))}function me(){pe(ct)||_e()||ve()}function ge(t){g===t?ae():ve()}function ve(){C(m,"Unexpected token")}function ye(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&C(t.start,"Assigning to rvalue"),A&&"Identifier"===t.type&&Lt(t.name)&&C(t.start,"Assigning to "+t.name+" in strict mode")}var be={kind:"loop"},we={kind:"switch"};function xe(){(g===_t||g===gt&&"/="==v)&&Kt(!0);var t=g,e=he();switch(t){case I:case L:ae();var i=t===I;pe(ct)||_e()?e.label=null:g!==M?ve():(e.label=Fe(),me());for(var n=0;n<k.length;++n){var s=k[n];if(null==e.label||s.name===e.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(e.label&&i)break}}return n===k.length&&C(e.start,"Unsyntactic "+t.keyword),de(e,i?"BreakStatement":"ContinueStatement");case F:return ae(),me(),de(e,"DebuggerStatement");case D:return ae(),k.push(be),e.body=xe(),k.pop(),ge(Z),e.test=Se(),me(),de(e,"DoWhileStatement");case V:if(ae(),k.push(be),ge(lt),g===ct)return ke(e,null);if(g===$){var r=he();return ae(),Ce(r,!0),de(r,"VariableDeclaration"),1===r.declarations.length&&pe(it)?Ae(e,r):ke(e,r)}r=Pe(!1,!0);return pe(it)?(ye(r),Ae(e,r)):ke(e,r);case z:return ae(),Re(e,!0);case U:return ae(),e.test=Se(),e.consequent=xe(),e.alternate=pe(B)?xe():null,de(e,"IfStatement");case W:return T||f.allowReturnOutsideFunction||C(m,"'return' outside of function"),ae(),pe(ct)||_e()?e.argument=null:(e.argument=Pe(),me()),de(e,"ReturnStatement");case H:ae(),e.discriminant=Se(),e.cases=[],ge(at),k.push(we);for(var a,o;g!=ot;)if(g===N||g===q){var l=g===N;a&&de(a,"SwitchCase"),e.cases.push(a=he()),a.consequent=[],ae(),l?a.test=Pe():(o&&C(x,"Multiple default clauses"),o=!0,a.test=null),ge(dt)}else a||ve(),a.consequent.push(xe());return a&&de(a,"SwitchCase"),ae(),k.pop(),de(e,"SwitchStatement");case G:return ae(),Vt.test(p.slice(S,m))&&C(S,"Illegal newline after throw"),e.argument=Pe(),me(),de(e,"ThrowStatement");case Q:if(ae(),e.block=Te(),e.handler=null,g===R){var u=he();ae(),ge(lt),u.param=Fe(),A&&Lt(u.param.name)&&C(u.param.start,"Binding "+u.param.name+" in strict mode"),ge(ut),u.guard=null,u.body=Te(),e.handler=de(u,"CatchClause")}return e.guardedHandlers=P,e.finalizer=pe(j)?Te():null,e.handler||e.finalizer||C(e.start,"Missing catch or finally clause"),de(e,"TryStatement");case $:return ae(),Ce(e),me(),de(e,"VariableDeclaration");case Z:return ae(),e.test=Se(),k.push(be),e.body=xe(),k.pop(),de(e,"WhileStatement");case X:return A&&C(m,"'with' in strict mode"),ae(),e.object=Se(),e.body=xe(),de(e,"WithStatement");case at:return Te();case ct:return ae(),de(e,"EmptyStatement");default:var h=v,c=Pe();if(t===M&&"Identifier"===c.type&&pe(dt)){for(n=0;n<k.length;++n)k[n].name===h&&C(c.start,"Label '"+h+"' is already declared");var d=g.isLoop?"loop":g===H?"switch":null;return k.push({name:h,kind:d}),e.body=xe(),k.pop(),e.label=c,de(e,"LabeledStatement")}return e.expression=c,me(),de(e,"ExpressionStatement")}}function Se(){ge(lt);var t=Pe();return ge(ut),t}function Te(t){var e,i=he(),n=!0,s=!1;for(i.body=[],ge(at);!pe(ot);){var r=xe();i.body.push(r),n&&t&&fe(r)&&(e=s,oe(s=!0)),n=!1}return s&&!e&&oe(!1),de(i,"BlockStatement")}function ke(t,e){return t.init=e,ge(ct),t.test=g===ct?null:Pe(),ge(ct),t.update=g===ut?null:Pe(),ge(ut),t.body=xe(),k.pop(),de(t,"ForStatement")}function Ae(t,e){return t.left=e,t.right=Pe(),ge(ut),t.body=xe(),k.pop(),de(t,"ForInStatement")}function Ce(t,e){for(t.declarations=[],t.kind="var";;){var i=he();if(i.id=Fe(),A&&Lt(i.id.name)&&C(i.id.start,"Binding "+i.id.name+" in strict mode"),i.init=pe(mt)?Pe(!0,e):null,t.declarations.push(de(i,"VariableDeclarator")),!pe(ht))break}return t}function Pe(t,e){var i=Ee(e);if(t||g!==ht)return i;var n=ce(i);for(n.expressions=[i];pe(ht);)n.expressions.push(Ee(e));return de(n,"SequenceExpression")}function Ee(t){var e=function(t){var e=(i=t,function t(e,i,n){var s=g.binop;if(null==s||n&&g===it||!(i<s))return e;var r=ce(e);r.left=e,r.operator=v;var a=g;ae(),r.right=t(Oe(),s,n);var o=de(r,a===bt||a===wt?"LogicalExpression":"BinaryExpression");return t(o,i,n)}(Oe(),-1,i));var i;if(pe(pt)){var n=ce(e);return n.test=e,n.consequent=Pe(!0),ge(dt),n.alternate=Pe(!0,t),de(n,"ConditionalExpression")}return e}(t);if(g.isAssign){var i=ce(e);return i.operator=v,i.left=e,ae(),i.right=Ee(t),ye(e),de(i,"AssignmentExpression")}return e}function Oe(){if(g.prefix){var t=he(),e=g.isUpdate;return t.operator=v,t.prefix=!0,y=!0,ae(),t.argument=Oe(),e?ye(t.argument):A&&"delete"===t.operator&&"Identifier"===t.argument.type&&C(t.start,"Deleting local variable in strict mode"),de(t,e?"UpdateExpression":"UnaryExpression")}for(var i=Me(Ie());g.postfix&&!_e();){(t=ce(i)).operator=v,t.prefix=!1,ye(t.argument=i),ae(),i=de(t,"UpdateExpression")}return i}function Me(t,e){var i;return pe(ft)?((i=ce(t)).object=t,i.property=Fe(!0),i.computed=!1,Me(de(i,"MemberExpression"),e)):pe(st)?((i=ce(t)).object=t,i.property=Pe(),i.computed=!0,ge(rt),Me(de(i,"MemberExpression"),e)):e||!pe(lt)?t:((i=ce(t)).callee=t,i.arguments=Le(ut,!1),Me(de(i,"CallExpression"),e))}function Ie(){switch(g){case K:var t=he();return ae(),de(t,"ThisExpression");case M:return Fe();case E:case O:case h:return(t=he()).value=v,t.raw=p.slice(m,r),ae(),de(t,"Literal");case J:case tt:case et:return(t=he()).value=g.atomValue,t.raw=g.keyword,ae(),de(t,"Literal");case lt:var e=a,i=m;ae();var n=Pe();return n.start=i,n.end=r,f.locations&&(n.loc.start=e,n.loc.end=o),f.ranges&&(n.range=[i,r]),ge(ut),n;case st:t=he();return ae(),t.elements=Le(rt,!0,!0),de(t,"ArrayExpression");case at:return function(){var t=he(),e=!0,i=!1;t.properties=[],ae();for(;!pe(ot);){if(e)e=!1;else if(ge(ht),f.allowTrailingCommas&&pe(ot))break;var n,s={key:Ne()},r=!1;if(pe(dt)?(s.value=Pe(!0),n=s.kind="init"):5<=f.ecmaVersion&&"Identifier"===s.key.type&&("get"===s.key.name||"set"===s.key.name)?(r=i=!0,n=s.kind=s.key.name,s.key=Ne(),g!==lt&&ve(),s.value=Re(he(),!1)):ve(),"Identifier"===s.key.type&&(A||i))for(var a=0;a<t.properties.length;++a){var o=t.properties[a];if(o.key.name===s.key.name){var l=n==o.kind||r&&"init"===o.kind||"init"===n&&("get"===o.kind||"set"===o.kind);l&&!A&&"init"===n&&"init"===o.kind&&(l=!1),l&&C(s.key.start,"Redefinition of property")}}t.properties.push(s)}return de(t,"ObjectExpression")}();case z:t=he();return ae(),Re(t,!1);case Y:return function(){var t=he();ae(),t.callee=Me(Ie(),!0),pe(lt)?t.arguments=Le(ut,!1):t.arguments=P;return de(t,"NewExpression")}();default:ve()}}function Ne(){return g===E||g===O?Ie():Fe(!0)}function Re(t,e){g===M?t.id=Fe():e?ve():t.id=null,t.params=[];var i=!0;for(ge(lt);!pe(ut);)i?i=!1:ge(ht),t.params.push(Fe());var n=T,s=k;if(T=!0,k=[],t.body=Te(!0),T=n,k=s,A||t.body.body.length&&fe(t.body.body[0]))for(var r=t.id?-1:0;r<t.params.length;++r){var a=r<0?t.id:t.params[r];if((Rt(a.name)||Lt(a.name))&&C(a.start,"Defining '"+a.name+"' in strict mode"),0<=r)for(var o=0;o<r;++o)a.name===t.params[o].name&&C(a.start,"Argument name clash in strict mode")}return de(t,e?"FunctionDeclaration":"FunctionExpression")}function Le(t,e,i){for(var n=[],s=!0;!pe(t);){if(s)s=!1;else if(ge(ht),e&&f.allowTrailingCommas&&pe(t))break;i&&g===ht?n.push(null):n.push(Pe(!0))}return n}function Fe(t){var e=he();return t&&"everywhere"==f.forbidReserved&&(t=!1),g===M?(!t&&(f.forbidReserved&&(3===f.ecmaVersion?It:Nt)(v)||A&&Rt(v))&&-1==p.slice(m,r).indexOf("\\")&&C(m,"The keyword '"+v+"' is reserved"),e.name=v):t&&g.keyword?e.name=g.keyword:ve(),y=!1,ae(),de(e,"Identifier")}},"object"==typeof t&&"object"==typeof e?n(t):"function"==typeof define&&define.amd?define(["exports"],n):n(i.acorn||(i.acorn={})),r.version||(r=null));function y(t,e){return(s.acorn||r).parse(t,e)}var b={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},w={"-":"__negate","+":"__self"},a=U.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});function g(t,e,i){var n=b[e];if(t&&t[n]){var s=t[n](i);return"!="===e?!s:s}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function v(t,e){var i=w[t];if(e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function x(d,t){if(!d)return"";var a=[];function f(t){for(var e=0,i=a.length;e<i;e++){var n=a[e];if(n[0]>=t)break;t+=n[1]}return t}function p(t){return d.substring(f(t.range[0]),f(t.range[1]))}function _(t,e){for(var i=f(t.range[0]),n=f(t.range[1]),s=0,r=a.length-1;0<=r;r--)if(i>a[r][0]){s=r+1;break}a.splice(s,0,[i,e.length-n+i]),d=d.substring(0,i)+e+d.substring(n)}function l(t,e){switch(t.type){case"UnaryExpression":if(t.operator in w&&"Literal"!==t.argument.type){var i=p(t.argument);_(t,'$__("'+t.operator+'", '+i+")")}break;case"BinaryExpression":if(t.operator in b&&"Literal"!==t.left.type){var n=p(t.left),s=p(t.right),r=(h=t.left,c=t.right,d.substring(f(h.range[1]),f(c.range[0]))),a=t.operator;_(t,"__$__("+n+","+r.replace(new RegExp("\\"+a),'"'+a+'"')+", "+s+")")}break;case"UpdateExpression":case"AssignmentExpression":var o=e&&e.type;if(!("ForStatement"===o||"BinaryExpression"===o&&/^[=!<>]/.test(e.operator)||"MemberExpression"===o&&e.computed))if("UpdateExpression"===t.type){var l=(i=p(t.argument))+" = "+(u="__$__("+i+', "'+t.operator[0]+'", 1)');t.prefix?l="("+l+")":"AssignmentExpression"!==o&&"VariableDeclarator"!==o&&"BinaryExpression"!==o||(p(e.left||e.id)===i&&(l=u),l=i+"; "+l),_(t,l)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){n=p(t.left),s=p(t.right);var u=n+" = __$__("+n+', "'+t.operator[0]+'", '+s+")";_(t,/^\(.*\)$/.test(p(t))?"("+u+")":u)}}var h,c}var e,i=(t=t||{}).url||"",n=t.sourceMaps,s=t.paperFeatures||{},r=t.source||d,o=t.offset||0,u=at.agent,h=u.versionNumber,c=!1,m=/\r\n|\n|\r/gm;if(n&&(u.chrome&&30<=h||u.webkit&&537.76<=h||u.firefox&&23<=h||u.node)){if(u.node)o-=2;else if(E&&i&&!E.location.href.indexOf(i)){var g=O.getElementsByTagName("html")[0].innerHTML;o=g.substr(0,g.indexOf(d)+1).match(m).length+1}var v=["AA"+function(t){var e="";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var i=31&t;(t>>=5)&&(i|=32),e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[i]}return e}((c=0<o&&!(u.chrome&&36<=h||u.safari&&600<=h||u.firefox&&40<=h||u.node))?0:o)+"A"];v.length=(d.match(m)||[]).length+1+(c?o:0),e={version:3,file:i,names:[],mappings:v.join(";AACA"),sourceRoot:"",sources:[i],sourcesContent:[r]}}return!1===s.operatorOverloading&&!1===s.moduleExports||function t(e,i,n){if(e){for(var s in e)if("range"!==s&&"loc"!==s){var r=e[s];if(Array.isArray(r))for(var a=0,o=r.length;a<o;a++)t(r[a],e,n);else r&&"object"==typeof r&&t(r,e,n)}!1!==n.operatorOverloading&&l(e,i),!1!==n.moduleExports&&function(t){switch(t.type){case"ExportDefaultDeclaration":_({range:[t.start,t.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var e=t.declaration,i=t.specifiers;if(e){var n=e.declarations;n&&(n.forEach(function(t){_(t,"module.exports."+p(t))}),_({range:[t.start,e.start+e.kind.length]},""))}else if(i){var s=i.map(function(t){var e=p(t);return"module.exports."+e+" = "+e+"; "}).join("");s&&_(t,s)}}}(e)}}(y(d,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,s),e&&(c&&(d=new Array(o+1).join("\n")+d),/^(inline|both)$/.test(n)&&(d+="\n//# sourceMappingURL=data:application/json;base64,"+S.btoa(unescape(encodeURIComponent(JSON.stringify(e))))),d+="\n//# sourceURL="+(i||"paperscript")),{url:i,source:r,code:d,map:e}}function o(n,t,e){var i,s=(at=t).getView(),r=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(n)&&!/\bnew\s+Tool\b/.test(n)?new et:null,a=r?r._events:[],o=["onFrame","onResize"].concat(a),l=[],u=[],h="object"==typeof n?n:x(n,e);function c(t,e){for(var i in t)!e&&/^_/.test(i)||!new RegExp("([\\b\\s\\W]|^)"+i.replace(/\$/g,"\\$")+"\\b").test(n)||(l.push(i),u.push(t[i]))}n=h.code,c({__$__:g,$__:v,paper:t,tool:r},!0),c(t),n="var module = { exports: {} }; "+n,(_=U.each(o,function(t){new RegExp("\\s+"+t+"\\b").test(n)&&(l.push(t),this.push("module.exports."+t+" = "+t+";"))},[]).join("\n"))&&(n+="\n"+_),n+="\nreturn module.exports;";var d=at.agent;if(O&&(d.chrome||d.firefox&&d.versionNumber<40)){var f=O.createElement("script"),p=O.head||O.getElementsByTagName("head")[0];d.firefox&&(n="\n"+n),f.appendChild(O.createTextNode("document.__paperscript__ = function("+l+") {"+n+"\n}")),p.appendChild(f),i=O.__paperscript__,delete O.__paperscript__,p.removeChild(f)}else i=Function(l,n);var _,m=(_=i&&i.apply(t,u))||{};return U.each(a,function(t){var e=m[t];e&&(r[t]=e)}),s&&(m.onResize&&s.setOnResize(m.onResize),s.emit("resize",{size:s.size,delta:new H}),m.onFrame&&s.setOnFrame(m.onFrame),s.requestUpdate()),_}function l(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==c.getAttribute(t,"ignore")){var e=c.getAttribute(t,"canvas"),i=O.getElementById(e),n=t.src||t.getAttribute("data-src"),s=c.hasAttribute(t,"async"),r="data-paper-scope";if(!i)throw new Error('Unable to find canvas with id "'+e+'"');var a=c.get(i.getAttribute(r))||(new c).setup(i);return i.setAttribute(r,a._id),n?it({url:n,async:s,mimeType:"text/plain",onLoad:function(t){o(t,a,n)}}):o(t.innerHTML,a,t.baseURI),t.setAttribute("data-paper-ignore","true"),a}}function u(){U.each(O&&O.getElementsByTagName("script"),l)}return H.inject(a),G.inject(a),N.inject(a),E&&("complete"===O.readyState?setTimeout(u):q.add(E,{load:u})),{compile:x,execute:o,load:function(t){return t?l(t):u()},parse:y,calculateBinary:g,calculateUnary:v}}.call(this);var at=new(c.inject(U.exports,{Base:U,Numerical:W,Key:g,DomEvent:q,DomElement:F,document:O,window:E,Symbol:C,PlacedSymbol:a}));return at.agent.node&&ot("./node/extend.js")(at),"function"==typeof define&&define.amd?define("paper",at):"object"==typeof lt&&lt&&(lt.exports=at),at}).call(this,"object"==typeof self?self:null)},{"./node/extend.js":2,"./node/self.js":2,acorn:1}],7:[function(gCb,hCb,iCb){var jCb,kCb;jCb="undefined"!=typeof self?self:this,kCb=function(){return function(i){var n={};function s(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}return s.m=i,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=148)}([function(t,i,n){"use strict";n.r(i),function(t){var e=n(93),h=function(){if(!(this instanceof h))throw new Error("constructor needs to be called with the 'new' keyword")};h.prototype.toString=function(){for(var t in h){var e=t[0].match(/^[A-Z]$/),i=h[t]===this.constructor;if(h.isFunction(h[t])&&e&&i)return t}return"Tone"},h.prototype.dispose=function(){return this},h.prototype.set=function(t,e){if(h.isString(t)){var i={};i[t]=e,t=i}t:for(var n in t){e=t[n];var s=this;if(-1!==n.indexOf(".")){for(var r=n.split("."),a=0;a<r.length-1;a++)if((s=s[r[a]])instanceof h){r.splice(0,a+1);var o=r.join(".");s.set(o,e);continue t}n=r[r.length-1]}var l=s[n];h.isUndef(l)||(h.Signal&&l instanceof h.Signal||h.Param&&l instanceof h.Param?l.value!==e&&(l.value=e):l instanceof AudioParam?l.value!==e&&(l.value=e):h.TimeBase&&l instanceof h.TimeBase?s[n]=e:l instanceof h?l.set(e):l!==e&&(s[n]=e))}return this},h.prototype.get=function(t){h.isUndef(t)?t=this._collectDefaults(this.constructor):h.isString(t)&&(t=[t]);for(var e={},i=0;i<t.length;i++){var n=t[i],s=this,r=e;if(-1!==n.indexOf(".")){for(var a=n.split("."),o=0;o<a.length-1;o++){var l=a[o];r[l]=r[l]||{},r=r[l],s=s[l]}n=a[a.length-1]}var u=s[n];h.isObject(t[n])?r[n]=u.get():h.Signal&&u instanceof h.Signal?r[n]=u.value:h.Param&&u instanceof h.Param?r[n]=u.value:u instanceof AudioParam?r[n]=u.value:u instanceof h?r[n]=u.get():!h.isFunction(u)&&h.isDefined(u)&&(r[n]=u)}return e},h.prototype._collectDefaults=function(t){var e=[];if(h.isDefined(t.defaults)&&(e=Object.keys(t.defaults)),h.isDefined(t._super))for(var i=this._collectDefaults(t._super),n=0;n<i.length;n++)-1===e.indexOf(i[n])&&e.push(i[n]);return e},h.defaults=function(t,e,i){var n={};if(1===t.length&&h.isObject(t[0]))n=t[0];else for(var s=0;s<e.length;s++)n[e[s]]=t[s];return h.isDefined(i.defaults)?h.defaultArg(n,i.defaults):h.isObject(i)?h.defaultArg(n,i):n},h.defaultArg=function(t,e){if(h.isObject(t)&&h.isObject(e)){var i={};for(var n in t)i[n]=h.defaultArg(e[n],t[n]);for(var s in e)i[s]=h.defaultArg(t[s],e[s]);return i}return h.isUndef(t)?e:t},h.prototype.log=function(){if(this.debug||this.toString()===h.global.TONE_DEBUG_CLASS){var t=Array.from(arguments);t.unshift(this.toString()+":"),console.log.apply(void 0,t)}},h.prototype.assert=function(t,e){if(!t)throw new Error(e)},h.connectSeries=function(){for(var t=arguments[0],e=1;e<arguments.length;e++){var i=arguments[e];h.connect(t,i),t=i}return h},h.connect=function(t,e,i,n){for(;h.isDefined(e.input);)h.isArray(e.input)?(n=h.defaultArg(n,0),e=e.input[n],n=0):e.input&&(e=e.input);return e instanceof AudioParam?t.connect(e,i):e instanceof AudioNode&&t.connect(e,i,n),h},h.disconnect=function(e,t,i,n){if(t){for(var s=!1;!s;)h.isArray(t.input)?(h.isDefined(n)?h.disconnect(e,t.input[n],i):t.input.forEach(function(t){try{h.disconnect(e,t,i)}catch(t){}}),s=!0):t.input?t=t.input:s=!0;t instanceof AudioParam?e.disconnect(t,i):t instanceof AudioNode&&e.disconnect(t,i,n)}else e.disconnect();return h},h.isUndef=function(t){return void 0===t},h.isDefined=function(t){return!h.isUndef(t)},h.isFunction=function(t){return"function"==typeof t},h.isNumber=function(t){return"number"==typeof t},h.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},h.isBoolean=function(t){return"boolean"==typeof t},h.isArray=function(t){return Array.isArray(t)},h.isString=function(t){return"string"==typeof t},h.isNote=function(t){return h.isString(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)},h.noOp=function(){},h.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},h.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},h.State={Started:"started",Stopped:"stopped",Paused:"paused"},h.global=h.isUndef(t)?window:t,h.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},h.dbToGain=function(t){return Math.pow(10,t/20)},h.gainToDb=function(t){return Math.log(t)/Math.LN10*20},h.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},h.prototype.now=function(){return h.context.now()},h.now=function(){return h.context.now()},h.prototype.immediate=function(){return h.context.currentTime},h.immediate=function(){return h.context.currentTime},h.extend=function(t,e){function i(){}h.isUndef(e)&&(e=h),i.prototype=e.prototype,t.prototype=new i,(t.prototype.constructor=t)._super=e},h._audioContext=null,h.start=function(){return h.context.resume()},Object.defineProperty(h,"context",{get:function(){return h._audioContext},set:function(t){t.isContext?h._audioContext=t:h._audioContext=new h.Context(t),h.Context.emit("init",h._audioContext)}}),Object.defineProperty(h.prototype,"context",{get:function(){return h.context}}),h.setContext=function(t){h.context=t},Object.defineProperty(h.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(h.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(h,"supported",{get:function(){var t=h.global.hasOwnProperty("AudioContext")||h.global.hasOwnProperty("webkitAudioContext"),e=h.global.hasOwnProperty("Promise");return t&&e}}),Object.defineProperty(h,"initialized",{get:function(){return Boolean(h.context)}}),h.getContext=function(t){if(h.initialized)t(h.context);else{var e=function(){t(h.context),h.Context.off("init",e)};h.Context.on("init",e)}return h},h.version=e.a,i.default=h}.call(this,n(147))},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(20),n.default.supported){var s=new OfflineAudioContext(2,1,44100),r=s.createGain(),a=s.createGain();if(r.connect(a)!==a){var o=AudioNode.prototype.connect;AudioNode.prototype.connect=function(){return o.apply(this,arguments),arguments[0]}}}n.default.AudioNode=function(){n.default.call(this);var t=n.default.defaults(arguments,["context"],{context:n.default.context});this._context=t.context},n.default.extend(n.default.AudioNode),Object.defineProperty(n.default.AudioNode.prototype,"context",{get:function(){return this._context}}),n.default.AudioNode.prototype.createInsOuts=function(t,e){1===t?this.input=this.context.createGain():1<t&&(this.input=new Array(t)),1===e?this.output=this.context.createGain():1<e&&(this.output=new Array(e))},Object.defineProperty(n.default.AudioNode.prototype,"channelCount",{get:function(){return this.output.channelCount},set:function(t){return this.output.channelCount=t}}),Object.defineProperty(n.default.AudioNode.prototype,"channelCountMode",{get:function(){return this.output.channelCountMode},set:function(t){return this.output.channelCountMode=t}}),Object.defineProperty(n.default.AudioNode.prototype,"channelInterpretation",{get:function(){return this.output.channelInterpretation},set:function(t){return this.output.channelInterpretation=t}}),Object.defineProperty(n.default.AudioNode.prototype,"numberOfInputs",{get:function(){return this.input?n.default.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(n.default.AudioNode.prototype,"numberOfOutputs",{get:function(){return this.output?n.default.isArray(this.output)?this.output.length:1:0}}),n.default.AudioNode.prototype.connect=function(t,e,i){return n.default.isArray(this.output)?(e=n.default.defaultArg(e,0),this.output[e].connect(t,0,i)):n.default.connect(this.output,t,e,i),this},n.default.AudioNode.prototype.disconnect=function(t,e,i){return n.default.isArray(this.output)?(e=n.default.defaultArg(e,0),this.output[e].disconnect(t,0,i)):n.default.disconnect(this.output,t,e,i),this},n.default.AudioNode.prototype.chain=function(){var t=Array.from(arguments);return t.unshift(this),n.default.connectSeries.apply(void 0,t),this},n.default.AudioNode.prototype.fan=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},n.default.AudioNode.prototype.dispose=function(){return n.default.isDefined(this.input)&&(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),n.default.isDefined(this.output)&&(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this._context=null,this},e.default=n.default.AudioNode},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(4),i(14),i(30),i(44),i(20),i(3),n.default.supported&&!n.default.global.AudioContext.prototype.createConstantSource){var s=function(t){for(var e=(this.context=t).createBuffer(1,128,t.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=1;this._bufferSource=t.createBufferSource(),this._bufferSource.channelCount=1,this._bufferSource.channelCountMode="explicit",this._bufferSource.buffer=e,this._bufferSource.loop=!0;var s=this._output=t.createGain();this.offset=s.gain,this._bufferSource.connect(s)};s.prototype.start=function(t){return this._bufferSource.start(t),this},s.prototype.stop=function(t){return this._bufferSource.stop(t),this},s.prototype.connect=function(){return this._output.connect.apply(this._output,arguments),this},s.prototype.disconnect=function(){return this._output.disconnect.apply(this._output,arguments),this},AudioContext.prototype.createConstantSource=function(){return new s(this)},n.default.Context.prototype.createConstantSource=function(){return new s(this)}}n.default.Signal=function(){var t=n.default.defaults(arguments,["value","units"],n.default.Signal);n.default.Param.call(this,t),this._constantSource=this.context.createConstantSource(),this._constantSource.start(0),this._param=this._constantSource.offset,this.value=t.value,this.output=this._constantSource,this.input=this._param=this.output.offset},n.default.extend(n.default.Signal,n.default.Param),n.default.Signal.defaults={value:0,units:n.default.Type.Default,convert:!0},n.default.Signal.prototype.connect=n.default.SignalBase.prototype.connect,n.default.Signal.prototype.disconnect=n.default.SignalBase.prototype.disconnect,n.default.Signal.prototype.getValueAtTime=function(t){return this._param.getValueAtTime?this._param.getValueAtTime(t):n.default.Param.prototype.getValueAtTime.call(this,t)},n.default.Signal.prototype.dispose=function(){return n.default.Param.prototype.dispose.call(this),this._constantSource.stop(),this._constantSource.disconnect(),this._constantSource=null,this},e.default=n.default.Signal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(4),i(1),n.default.Gain=function(){var t=n.default.defaults(arguments,["gain","units"],n.default.Gain);n.default.AudioNode.call(this,t),this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new n.default.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},n.default.extend(n.default.Gain,n.default.AudioNode),n.default.Gain.defaults={gain:1,convert:!0},n.default.Gain.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.default=n.default.Gain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(63),i(46),i(45),i(20),n.default.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Gain:"gain",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},n.default.prototype.toSeconds=function(t){return n.default.isNumber(t)?t:n.default.isUndef(t)?this.now():n.default.isString(t)||n.default.isObject(t)?new n.default.Time(t).toSeconds():t instanceof n.default.TimeBase?t.toSeconds():void 0},n.default.prototype.toFrequency=function(t){return n.default.isNumber(t)?t:n.default.isString(t)||n.default.isUndef(t)||n.default.isObject(t)?new n.default.Frequency(t).valueOf():t instanceof n.default.TimeBase?t.toFrequency():void 0},n.default.prototype.toTicks=function(t){return n.default.isNumber(t)||n.default.isString(t)||n.default.isObject(t)?new n.default.TransportTime(t).toTicks():n.default.isUndef(t)?n.default.Transport.ticks:t instanceof n.default.TimeBase?t.toTicks():void 0},e.default=n.default},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(3),i(30),n.default.Multiply=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new n.default.Gain,this._param=this.input[1]=this.output.gain,this.value=n.default.defaultArg(t,0)},n.default.extend(n.default.Multiply,n.default.Signal),n.default.Multiply.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.default=n.default.Multiply},function(t,e,i){"use strict";i.r(e);var r=i(0);i(16),i(27),i(40),i(4),i(34),i(2),i(1),r.default.Source=function(t){t=r.default.defaultArg(t,r.default.Source.defaults),r.default.AudioNode.call(this),this._volume=this.output=new r.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._state=new r.default.TimelineState(r.default.State.Stopped),this._state.memory=100,this._synced=!1,this._scheduled=[],this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=t.mute},r.default.extend(r.default.Source,r.default.AudioNode),r.default.Source.defaults={volume:0,mute:!1},Object.defineProperty(r.default.Source.prototype,"state",{get:function(){return this._synced?r.default.Transport.state===r.default.State.Started?this._state.getValueAtTime(r.default.Transport.seconds):r.default.State.Stopped:this._state.getValueAtTime(this.now())}}),Object.defineProperty(r.default.Source.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),r.default.Source.prototype._start=r.default.noOp,r.default.Source.prototype.restart=r.default.noOp,r.default.Source.prototype._stop=r.default.noOp,r.default.Source.prototype.start=function(t,e,i){if(t=r.default.isUndef(t)&&this._synced?r.default.Transport.seconds:(t=this.toSeconds(t),Math.max(t,this.context.currentTime)),this._state.getValueAtTime(t)===r.default.State.Started)this._state.cancel(t),this._state.setStateAtTime(r.default.State.Started,t),this.restart(t,e,i);else if(this._state.setStateAtTime(r.default.State.Started,t),this._synced){var n=this._state.get(t);n.offset=r.default.defaultArg(e,0),n.duration=i;var s=r.default.Transport.schedule(function(t){this._start(t,e,i)}.bind(this),t);this._scheduled.push(s),r.default.Transport.state===r.default.State.Started&&this._syncedStart(this.now(),r.default.Transport.seconds)}else this._start.apply(this,arguments);return this},r.default.Source.prototype.stop=function(t){if(t=r.default.isUndef(t)&&this._synced?r.default.Transport.seconds:(t=this.toSeconds(t),Math.max(t,this.context.currentTime)),this._synced){var e=r.default.Transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop.apply(this,arguments);return this._state.cancel(t),this._state.setStateAtTime(r.default.State.Stopped,t),this},r.default.Source.prototype.sync=function(){return this._synced=!0,this._syncedStart=function(t,e){if(0<e){var i=this._state.get(e);if(i&&i.state===r.default.State.Started&&i.time!==e){var n,s=e-this.toSeconds(i.time);i.duration&&(n=this.toSeconds(i.duration)-s),this._start(t,this.toSeconds(i.offset)+s,n)}}}.bind(this),this._syncedStop=function(t){var e=r.default.Transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)===r.default.State.Started&&this._stop(t)}.bind(this),r.default.Transport.on("start loopStart",this._syncedStart),r.default.Transport.on("stop pause loopEnd",this._syncedStop),this},r.default.Source.prototype.unsync=function(){this._synced&&(r.default.Transport.off("stop pause loopEnd",this._syncedStop),r.default.Transport.off("start loopStart",this._syncedStart)),this._synced=!1;for(var t=0;t<this._scheduled.length;t++){var e=this._scheduled[t];r.default.Transport.clear(e)}return this._scheduled=[],this._state.cancel(0),this},r.default.Source.prototype.dispose=function(){r.default.AudioNode.prototype.dispose.call(this),this.unsync(),this._scheduled=null,this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this._state.dispose(),this._state=null},e.default=r.default.Source},function(t,e,i){"use strict";i.r(e);var n=i(0);if(i(30),i(44),n.default.supported&&!n.default.global.AudioContext.prototype._native_createWaveShaper){var s=navigator.userAgent.toLowerCase();if(s.includes("safari")&&!s.includes("chrome")){var r=function(t){for(var e in this._internalNode=this.input=this.output=t._native_createWaveShaper(),this._curve=null,this._internalNode)this._defineProperty(this._internalNode,e)};Object.defineProperty(r.prototype,"curve",{get:function(){return this._curve},set:function(t){this._curve=t;var e=new Float32Array(t.length+1);e.set(t,1),e[0]=t[0],this._internalNode.curve=e}}),r.prototype._defineProperty=function(e,i){n.default.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return"function"==typeof e[i]?e[i].bind(e):e[i]},set:function(t){e[i]=t}})},n.default.global.AudioContext.prototype._native_createWaveShaper=n.default.global.AudioContext.prototype.createWaveShaper,n.default.global.AudioContext.prototype.createWaveShaper=function(){return new r(this)}}}n.default.WaveShaper=function(t,e){n.default.SignalBase.call(this),this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||n.default.isUndef(t)?this._curve=new Float32Array(n.default.defaultArg(t,1024)):n.default.isFunction(t)&&(this._curve=new Float32Array(n.default.defaultArg(e,1024)),this.setMap(t))},n.default.extend(n.default.WaveShaper,n.default.SignalBase),n.default.WaveShaper.prototype.setMap=function(t){for(var e=new Array(this._curve.length),i=0,n=this._curve.length;i<n;i++){var s=i/(n-1)*2-1;e[i]=t(s,i)}return this.curve=e,this},Object.defineProperty(n.default.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(n.default.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(!["none","2x","4x"].includes(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),n.default.WaveShaper.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.default=n.default.WaveShaper},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(1),n.default.Effect=function(){var t=n.default.defaults(arguments,["wet"],n.default.Effect);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._dryWet=new n.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this.effectSend=new n.default.Gain,this.effectReturn=new n.default.Gain,n.default.connect(this.input,this._dryWet.a),n.default.connect(this.input,this.effectSend),this.effectReturn.connect(this._dryWet.b),this._dryWet.connect(this.output),this._readOnly(["wet"])},n.default.extend(n.default.Effect,n.default.AudioNode),n.default.Effect.defaults={wet:1},n.default.Effect.prototype.connectEffect=function(t){return this.effectSend.chain(t,this.effectReturn),this},n.default.Effect.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this.effectSend.dispose(),this.effectSend=null,this.effectReturn.dispose(),this.effectReturn=null,this._writable(["wet"]),this.wet=null,this},e.default=n.default.Effect},function(t,e,i){"use strict";i.r(e);var o=i(0);i(2),i(1),o.default.Filter=function(){var t=o.default.defaults(arguments,["frequency","type","rolloff"],o.default.Filter);o.default.AudioNode.call(this),this.createInsOuts(1,1),this._filters=[],this.frequency=new o.default.Signal(t.frequency,o.default.Type.Frequency),this.detune=new o.default.Signal(0,o.default.Type.Cents),this.gain=new o.default.Signal({value:t.gain,convert:!0,type:o.default.Type.Decibels}),this.Q=new o.default.Signal(t.Q),this._type=t.type,this._rolloff=t.rolloff,this.rolloff=t.rolloff,this._readOnly(["detune","frequency","gain","Q"])},o.default.extend(o.default.Filter,o.default.AudioNode),o.default.Filter.defaults={type:"lowpass",frequency:350,rolloff:-12,Q:1,gain:0},Object.defineProperty(o.default.Filter.prototype,"type",{get:function(){return this._type},set:function(t){if(-1===["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t))throw new TypeError("Tone.Filter: invalid type "+t);this._type=t;for(var e=0;e<this._filters.length;e++)this._filters[e].type=t}}),Object.defineProperty(o.default.Filter.prototype,"rolloff",{get:function(){return this._rolloff},set:function(t){t=parseInt(t,10);var e=[-12,-24,-48,-96].indexOf(t);if(-1===e)throw new RangeError("Tone.Filter: rolloff can only be -12, -24, -48 or -96");e+=1,this._rolloff=t,this.input.disconnect();for(var i=0;i<this._filters.length;i++)this._filters[i].disconnect(),this._filters[i]=null;this._filters=new Array(e);for(var n=0;n<e;n++){var s=this.context.createBiquadFilter();s.type=this._type,this.frequency.connect(s.frequency),this.detune.connect(s.detune),this.Q.connect(s.Q),this.gain.connect(s.gain),this._filters[n]=s}var r=[this.input].concat(this._filters).concat([this.output]);o.default.connectSeries.apply(o.default,r)}}),o.default.Filter.prototype.getFrequencyResponse=function(t){t=o.default.defaultArg(t,128);for(var i=new Float32Array(t).map(function(){return 1}),e=new Float32Array(t),n=0;n<t;n++){var s=19980*Math.pow(n/t,2)+20;e[n]=s}var r=new Float32Array(t),a=new Float32Array(t);return this._filters.forEach(function(){var t=this.context.createBiquadFilter();t.type=this._type,t.Q.value=this.Q.value,t.frequency.value=this.frequency.value,t.gain.value=this.gain.value,t.getFrequencyResponse(e,r,a),r.forEach(function(t,e){i[e]*=t})}.bind(this)),i},o.default.Filter.prototype.dispose=function(){o.default.AudioNode.prototype.dispose.call(this);for(var t=0;t<this._filters.length;t++)this._filters[t].disconnect(),this._filters[t]=null;return this._filters=null,this._writable(["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.frequency=null,this.Q=null,this.detune.dispose(),this.detune=null,this.gain.dispose(),this.gain=null,this},e.default=o.default.Filter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),n.default.Merge=function(t){t=n.default.defaultArg(t,2),n.default.AudioNode.call(this),this.createInsOuts(t,0),this._merger=this.output=this.context.createChannelMerger(t);for(var e=0;e<t;e++)this.input[e]=new n.default.Gain,this.input[e].connect(this._merger,0,e),this.input[e].channelCount=1,this.input[e].channelCountMode="explicit";this.left=this.input[0],this.right=this.input[1]},n.default.extend(n.default.Merge,n.default.AudioNode),n.default.Merge.prototype.dispose=function(){return this.input.forEach(function(t){t.dispose()}),n.default.AudioNode.prototype.dispose.call(this),this.left=null,this.right=null,this._merger.disconnect(),this._merger=null,this},e.default=n.default.Merge},function(t,e,i){"use strict";i.r(e);var h=i(0);i(35),i(4),h.default.supported&&(AudioBuffer.prototype.copyToChannel||(AudioBuffer.prototype.copyToChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var s=0;s<n.length;s++)n[s+i]=t[s]},AudioBuffer.prototype.copyFromChannel=function(t,e,i){var n=this.getChannelData(e);i=i||0;for(var s=0;s<t.length;s++)t[s]=n[s+i]})),h.default.Buffer=function(){var t=h.default.defaults(arguments,["url","onload","onerror"],h.default.Buffer);h.default.call(this),this._buffer=null,this._reversed=t.reverse,this._xhr=null,this.onload=h.default.noOp,t.url instanceof AudioBuffer||t.url instanceof h.default.Buffer?(this.set(t.url),this.loaded||(this.onload=t.onload)):h.default.isString(t.url)&&this.load(t.url).then(t.onload).catch(t.onerror)},h.default.extend(h.default.Buffer),h.default.Buffer.defaults={url:void 0,reverse:!1,onload:h.default.noOp,onerror:h.default.noOp},h.default.Buffer.prototype.set=function(t){return t instanceof h.default.Buffer?t.loaded?this._buffer=t.get():t.onload=function(){this.set(t),this.onload(this)}.bind(this):this._buffer=t,this._reversed&&this._reverse(),this},h.default.Buffer.prototype.get=function(){return this._buffer},h.default.Buffer.prototype.load=function(t,n,s){return new Promise(function(e,i){this._xhr=h.default.Buffer.load(t,function(t){this._xhr=null,this.set(t),e(this),this.onload(this),n&&n(this)}.bind(this),function(t){this._xhr=null,i(t),s&&s(t)}.bind(this))}.bind(this))},h.default.Buffer.prototype.dispose=function(){return h.default.prototype.dispose.call(this),this._buffer=null,this._xhr&&(h.default.Buffer._removeFromDownloadQueue(this._xhr),this._xhr.abort(),this._xhr=null),this},Object.defineProperty(h.default.Buffer.prototype,"loaded",{get:function(){return 0<this.length}}),Object.defineProperty(h.default.Buffer.prototype,"duration",{get:function(){return this._buffer?this._buffer.duration:0}}),Object.defineProperty(h.default.Buffer.prototype,"length",{get:function(){return this._buffer?this._buffer.length:0}}),Object.defineProperty(h.default.Buffer.prototype,"numberOfChannels",{get:function(){return this._buffer?this._buffer.numberOfChannels:0}}),h.default.Buffer.prototype.fromArray=function(t){var e=0<t[0].length,i=e?t.length:1,n=e?t[0].length:t.length,s=this.context.createBuffer(i,n,this.context.sampleRate);e||1!==i||(t=[t]);for(var r=0;r<i;r++)s.copyToChannel(t[r],r);return this._buffer=s,this},h.default.Buffer.prototype.toMono=function(t){if(h.default.isNumber(t))this.fromArray(this.toArray(t));else{for(var e=new Float32Array(this.length),i=this.numberOfChannels,n=0;n<i;n++)for(var s=this.toArray(n),r=0;r<s.length;r++)e[r]+=s[r];e=e.map(function(t){return t/i}),this.fromArray(e)}return this},h.default.Buffer.prototype.toArray=function(t){if(h.default.isNumber(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);for(var e=[],i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e},h.default.Buffer.prototype.getChannelData=function(t){return this._buffer.getChannelData(t)},h.default.Buffer.prototype.slice=function(t,e){e=h.default.defaultArg(e,this.duration);for(var i=Math.floor(this.context.sampleRate*this.toSeconds(t)),n=Math.floor(this.context.sampleRate*this.toSeconds(e)),s=[],r=0;r<this.numberOfChannels;r++)s[r]=this.toArray(r).slice(i,n);return(new h.default.Buffer).fromArray(s)},h.default.Buffer.prototype._reverse=function(){if(this.loaded)for(var t=0;t<this.numberOfChannels;t++)Array.prototype.reverse.call(this.getChannelData(t));return this},Object.defineProperty(h.default.Buffer.prototype,"reverse",{get:function(){return this._reversed},set:function(t){this._reversed!==t&&(this._reversed=t,this._reverse())}}),h.default.Emitter.mixin(h.default.Buffer),h.default.Buffer._downloadQueue=[],h.default.Buffer.baseUrl="",h.default.Buffer.fromArray=function(t){return(new h.default.Buffer).fromArray(t)},h.default.Buffer.fromUrl=function(t){var e=new h.default.Buffer;return e.load(t).then(function(){return e})},h.default.Buffer._removeFromDownloadQueue=function(t){var e=h.default.Buffer._downloadQueue.indexOf(t);-1!==e&&h.default.Buffer._downloadQueue.splice(e,1)},h.default.Buffer.load=function(t,e,i){e=h.default.defaultArg(e,h.default.noOp);var n=t.match(/\[(.+\|?)+\]$/);if(n){for(var s=n[1].split("|"),r=s[0],a=0;a<s.length;a++)if(h.default.Buffer.supportsType(s[a])){r=s[a];break}t=t.replace(n[0],r)}function o(t){if(h.default.Buffer._removeFromDownloadQueue(u),h.default.Buffer.emit("error",t),!i)throw t;i(t)}function l(){for(var t=0,e=0;e<h.default.Buffer._downloadQueue.length;e++)t+=h.default.Buffer._downloadQueue[e].progress;h.default.Buffer.emit("progress",t/h.default.Buffer._downloadQueue.length)}var u=new XMLHttpRequest;return u.open("GET",h.default.Buffer.baseUrl+t,!0),u.responseType="arraybuffer",u.progress=0,h.default.Buffer._downloadQueue.push(u),u.addEventListener("load",function(){200===u.status?h.default.context.decodeAudioData(u.response).then(function(t){u.progress=1,l(),e(t),h.default.Buffer._removeFromDownloadQueue(u),0===h.default.Buffer._downloadQueue.length&&h.default.Buffer.emit("load")}).catch(function(){h.default.Buffer._removeFromDownloadQueue(u),o("Tone.Buffer: could not decode audio data: "+t)}):o("Tone.Buffer: could not locate file: "+t)}),u.addEventListener("error",o),u.addEventListener("progress",function(t){t.lengthComputable&&(u.progress=t.loaded/t.total*.95,l())}),u.send(),u},h.default.Buffer.cancelDownloads=function(){return h.default.Buffer._downloadQueue.slice().forEach(function(t){h.default.Buffer._removeFromDownloadQueue(t),t.abort()}),h.default.Buffer},h.default.Buffer.supportsType=function(t){var e=t.split(".");return e=e[e.length-1],""!==document.createElement("audio").canPlayType("audio/"+e)},h.default.loaded=function(){var i,n;function e(){h.default.Buffer.off("load",i),h.default.Buffer.off("error",n)}return new Promise(function(t,e){i=function(){t()},n=function(){e()},h.default.Buffer.on("load",i),h.default.Buffer.on("error",n)}).then(e).catch(function(t){throw e(),new Error(t)})},e.default=h.default.Buffer},function(t,e,i){"use strict";i.r(e);var n=i(0);i(17),i(26),i(1),i(2),i(22),i(4),i(28),n.default.LFO=function(){var t=n.default.defaults(arguments,["frequency","min","max"],n.default.LFO);n.default.AudioNode.call(this),this._oscillator=new n.default.Oscillator({frequency:t.frequency,type:t.type}),this.frequency=this._oscillator.frequency,this.amplitude=this._oscillator.volume,this.amplitude.units=n.default.Type.NormalRange,this.amplitude.value=t.amplitude,this._stoppedSignal=new n.default.Signal(0,n.default.Type.AudioRange),this._zeros=new n.default.Zero,this._stoppedValue=0,this._a2g=new n.default.AudioToGain,this._scaler=this.output=new n.default.Scale(t.min,t.max),this._units=n.default.Type.Default,this.units=t.units,this._oscillator.chain(this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),this._readOnly(["amplitude","frequency"]),this.phase=t.phase},n.default.extend(n.default.LFO,n.default.AudioNode),n.default.LFO.defaults={type:"sine",min:0,max:1,phase:0,frequency:"4n",amplitude:1,units:n.default.Type.Default},n.default.LFO.prototype.start=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this},n.default.LFO.prototype.stop=function(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this},n.default.LFO.prototype.sync=function(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this},n.default.LFO.prototype.unsync=function(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this},Object.defineProperty(n.default.LFO.prototype,"min",{get:function(){return this._toUnits(this._scaler.min)},set:function(t){t=this._fromUnits(t),this._scaler.min=t}}),Object.defineProperty(n.default.LFO.prototype,"max",{get:function(){return this._toUnits(this._scaler.max)},set:function(t){t=this._fromUnits(t),this._scaler.max=t}}),Object.defineProperty(n.default.LFO.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(n.default.LFO.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t,this._stoppedValue=this._oscillator._getInitialValue(),this._stoppedSignal.value=this._stoppedValue}}),Object.defineProperty(n.default.LFO.prototype,"units",{get:function(){return this._units},set:function(t){var e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}}),Object.defineProperty(n.default.LFO.prototype,"state",{get:function(){return this._oscillator.state}}),n.default.LFO.prototype.connect=function(t){return t.constructor!==n.default.Signal&&t.constructor!==n.default.Param||(this.convert=t.convert,this.units=t.units),n.default.SignalBase.prototype.connect.apply(this,arguments),this},n.default.LFO.prototype._fromUnits=n.default.Param.prototype._fromUnits,n.default.LFO.prototype._toUnits=n.default.Param.prototype._toUnits,n.default.LFO.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["amplitude","frequency"]),this._oscillator.dispose(),this._oscillator=null,this._stoppedSignal.dispose(),this._stoppedSignal=null,this._zeros.dispose(),this._zeros=null,this._scaler.dispose(),this._scaler=null,this._a2g.dispose(),this._a2g=null,this.frequency=null,this.amplitude=null,this},e.default=n.default.LFO},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(90),i(2),i(3),n.default.Subtract=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new n.default.Gain,this._neg=new n.default.Negate,this._param=this.input[1]=new n.default.Signal(t),this._param.chain(this._neg,this._sum)},n.default.extend(n.default.Subtract,n.default.Signal),n.default.Subtract.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this},e.default=n.default.Subtract},function(t,e,i){"use strict";i.r(e);var o=i(0);i(4),i(1),i(24),o.default.Param=function(){var t=o.default.defaults(arguments,["param","units","convert"],o.default.Param);o.default.AudioNode.call(this,t),this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._events=new o.default.Timeline(1e3),o.default.isDefined(t.value)&&this._param&&this.setValueAtTime(t.value,0)},o.default.extend(o.default.Param,o.default.AudioNode),o.default.Param.defaults={units:o.default.Type.Default,convert:!0,param:void 0},Object.defineProperty(o.default.Param.prototype,"value",{get:function(){var t=this.now();return this._toUnits(this.getValueAtTime(t))},set:function(t){this._initialValue=this._fromUnits(t),this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}}),Object.defineProperty(o.default.Param.prototype,"minValue",{get:function(){return this.units===o.default.Type.Time||this.units===o.default.Type.Frequency||this.units===o.default.Type.NormalRange||this.units===o.default.Type.Positive||this.units===o.default.Type.BPM?0:this.units===o.default.Type.AudioRange?-1:this.units===o.default.Type.Decibels?-1/0:this._param.minValue}}),Object.defineProperty(o.default.Param.prototype,"maxValue",{get:function(){return this.units===o.default.Type.NormalRange||this.units===o.default.Type.AudioRange?1:this._param.maxValue}}),o.default.Param.prototype._fromUnits=function(t){if(!this.convert&&!o.default.isUndef(this.convert)||this.overridden)return t;switch(this.units){case o.default.Type.Time:return this.toSeconds(t);case o.default.Type.Frequency:return this.toFrequency(t);case o.default.Type.Decibels:return o.default.dbToGain(t);case o.default.Type.NormalRange:return Math.min(Math.max(t,0),1);case o.default.Type.AudioRange:return Math.min(Math.max(t,-1),1);case o.default.Type.Positive:return Math.max(t,0);default:return t}},o.default.Param.prototype._toUnits=function(t){if(!this.convert&&!o.default.isUndef(this.convert))return t;switch(this.units){case o.default.Type.Decibels:return o.default.gainToDb(t);default:return t}},o.default.Param.prototype._minOutput=1e-5,o.default.Param.AutomationType={Linear:"linearRampToValueAtTime",Exponential:"exponentialRampToValueAtTime",Target:"setTargetAtTime",SetValue:"setValueAtTime",Cancel:"cancelScheduledValues"},o.default.Param.prototype.setValueAtTime=function(t,e){return e=this.toSeconds(e),t=this._fromUnits(t),this._events.add({type:o.default.Param.AutomationType.SetValue,value:t,time:e}),this.log(o.default.Param.AutomationType.SetValue,t,e),this._param.setValueAtTime(t,e),this},o.default.Param.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var e=this._events.getAfter(t),i=this._events.get(t),n=o.default.defaultArg(this._initialValue,this._param.defaultValue),s=n;if(null===i)s=n;else if(i.type===o.default.Param.AutomationType.Target){var r,a=this._events.getBefore(i.time);r=null===a?n:a.value,s=this._exponentialApproach(i.time,r,i.value,i.constant,t)}else s=null===e?i.value:e.type===o.default.Param.AutomationType.Linear?this._linearInterpolate(i.time,i.value,e.time,e.value,t):e.type===o.default.Param.AutomationType.Exponential?this._exponentialInterpolate(i.time,i.value,e.time,e.value,t):i.value;return s},o.default.Param.prototype.setRampPoint=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===e&&(e=this._minOutput),this.setValueAtTime(this._toUnits(e),t),this},o.default.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Linear,value:t,time:e}),this.log(o.default.Param.AutomationType.Linear,t,e),this._param.linearRampToValueAtTime(t,e),this},o.default.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Exponential,time:e,value:t}),this.log(o.default.Param.AutomationType.Exponential,t,e),this._param.exponentialRampToValueAtTime(t,e),this},o.default.Param.prototype.exponentialRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this},o.default.Param.prototype.linearRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this},o.default.Param.prototype.targetRampTo=function(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this},o.default.Param.prototype.exponentialApproachValueAtTime=function(t,e,i){var n=Math.log(this.toSeconds(i)+1)/Math.log(200);return e=this.toSeconds(e),this.setTargetAtTime(t,e,n),this.cancelAndHoldAtTime(e+.9*i),this.linearRampToValueAtTime(t,e+i),this},o.default.Param.prototype.setTargetAtTime=function(t,e,i){if(t=this._fromUnits(t),i<=0)throw new Error("timeConstant must be greater than 0");return e=this.toSeconds(e),this._events.add({type:o.default.Param.AutomationType.Target,value:t,time:e,constant:i}),this.log(o.default.Param.AutomationType.Target,t,e,i),this._param.setTargetAtTime(t,e,i),this},o.default.Param.prototype.setValueCurveAtTime=function(t,e,i,n){n=o.default.defaultArg(n,1),i=this.toSeconds(i),e=this.toSeconds(e),this.setValueAtTime(t[0]*n,e);for(var s=i/(t.length-1),r=1;r<t.length;r++)this.linearRampToValueAtTime(t[r]*n,e+r*s);return this},o.default.Param.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(o.default.Param.AutomationType.Cancel,t),this},o.default.Param.prototype.cancelAndHoldAtTime=function(t){t=this.toSeconds(t);var e=this.getValueAtTime(t);this.log("cancelAndHoldAtTime",t,"value="+e),this._param.cancelScheduledValues(t);var i=this._events.get(t),n=this._events.getAfter(t);return i&&i.time===t?n?this._events.cancel(n.time):this._events.cancel(t+this.sampleTime):n&&(this._events.cancel(n.time),n.type===o.default.Param.AutomationType.Linear?this.linearRampToValueAtTime(e,t):n.type===o.default.Param.AutomationType.Exponential&&this.exponentialRampToValueAtTime(e,t)),this._events.add({type:o.default.Param.AutomationType.SetValue,value:e,time:t}),this._param.setValueAtTime(e,t),this},o.default.Param.prototype.rampTo=function(t,e,i){return e=o.default.defaultArg(e,.1),this.units===o.default.Type.Frequency||this.units===o.default.Type.BPM||this.units===o.default.Type.Decibels?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this},o.default.Param.prototype._exponentialApproach=function(t,e,i,n,s){return i+(e-i)*Math.exp(-(s-t)/n)},o.default.Param.prototype._linearInterpolate=function(t,e,i,n,s){return e+(s-t)/(i-t)*(n-e)},o.default.Param.prototype._exponentialInterpolate=function(t,e,i,n,s){return e*Math.pow(n/e,(s-t)/(i-t))},o.default.Param.prototype.dispose=function(){return o.default.AudioNode.prototype.dispose.call(this),this._param=null,this._events=null,this},e.default=o.default.Param},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(19),i(10),i(23),n.default.StereoEffect=function(){n.default.AudioNode.call(this);var t=n.default.defaults(arguments,["wet"],n.default.Effect);this.createInsOuts(1,1),this._dryWet=new n.default.CrossFade(t.wet),this.wet=this._dryWet.fade,this._split=new n.default.Split,this.effectSendL=this._split.left,this.effectSendR=this._split.right,this._merge=new n.default.Merge,this.effectReturnL=this._merge.left,this.effectReturnR=this._merge.right,n.default.connect(this.input,this._split),n.default.connect(this.input,this._dryWet,0,0),this._merge.connect(this._dryWet,0,1),this._dryWet.connect(this.output),this._readOnly(["wet"])},n.default.extend(n.default.StereoEffect,n.default.Effect),n.default.StereoEffect.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._dryWet.dispose(),this._dryWet=null,this._split.dispose(),this._split=null,this._merge.dispose(),this._merge=null,this.effectSendL=null,this.effectSendR=null,this.effectReturnL=null,this.effectReturnR=null,this._writable(["wet"]),this.wet=null,this},e.default=n.default.StereoEffect},function(t,e,i){"use strict";i.r(e);var r=i(0);i(83),i(4),i(24),i(35),i(3),i(81),i(80),i(56),r.default.Transport=function(){r.default.Emitter.call(this),r.default.getContext(function(){this.loop=!1,this._loopStart=0,this._loopEnd=0,this._ppq=n.defaults.PPQ,this._clock=new r.default.Clock({callback:this._processTick.bind(this),frequency:0}),this._bindClockEvents(),this.bpm=this._clock.frequency,this.bpm._toUnits=this._toUnits.bind(this),this.bpm._fromUnits=this._fromUnits.bind(this),this.bpm.units=r.default.Type.BPM,this.bpm.value=n.defaults.bpm,this._readOnly("bpm"),this._timeSignature=n.defaults.timeSignature,this._scheduledEvents={},this._timeline=new r.default.Timeline,this._repeatedEvents=new r.default.IntervalTimeline,this._syncedSignals=[],this._swingTicks=n.defaults.PPQ/2,this._swingAmount=0,this.context.transport=this}.bind(this))},r.default.extend(r.default.Transport,r.default.Emitter),r.default.Transport.defaults={bpm:120,swing:0,swingSubdivision:"8n",timeSignature:4,loopStart:0,loopEnd:"4m",PPQ:192},r.default.Transport.prototype.isTransport=!0,r.default.Transport.prototype._processTick=function(e,t){if(0<this._swingAmount&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){var i=t%(2*this._swingTicks)/(2*this._swingTicks),n=Math.sin(i*Math.PI)*this._swingAmount;e+=r.default.Ticks(2*this._swingTicks/3).toSeconds()*n}this.loop&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._timeline.forEachAtTime(t,function(t){t.invoke(e)})},r.default.Transport.prototype.schedule=function(t,e){var i=new r.default.TransportEvent(this,{time:r.default.TransportTime(e),callback:t});return this._addEvent(i,this._timeline)},r.default.Transport.prototype.scheduleRepeat=function(t,e,i,n){var s=new r.default.TransportRepeatEvent(this,{callback:t,interval:r.default.Time(e),time:r.default.TransportTime(i),duration:r.default.Time(r.default.defaultArg(n,1/0))});return this._addEvent(s,this._repeatedEvents)},r.default.Transport.prototype.scheduleOnce=function(t,e){var i=new r.default.TransportEvent(this,{time:r.default.TransportTime(e),callback:t,once:!0});return this._addEvent(i,this._timeline)},r.default.Transport.prototype.clear=function(t){if(this._scheduledEvents.hasOwnProperty(t)){var e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this},r.default.Transport.prototype._addEvent=function(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id},r.default.Transport.prototype.cancel=function(t){return t=r.default.defaultArg(t,0),t=this.toTicks(t),this._timeline.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this._repeatedEvents.forEachFrom(t,function(t){this.clear(t.id)}.bind(this)),this},r.default.Transport.prototype._bindClockEvents=function(){this._clock.on("start",function(t,e){e=r.default.Ticks(e).toSeconds(),this.emit("start",t,e)}.bind(this)),this._clock.on("stop",function(t){this.emit("stop",t)}.bind(this)),this._clock.on("pause",function(t){this.emit("pause",t)}.bind(this))},Object.defineProperty(r.default.Transport.prototype,"state",{get:function(){return this._clock.getStateAtTime(this.now())}}),r.default.Transport.prototype.start=function(t,e){return r.default.isDefined(e)&&(e=this.toTicks(e)),this._clock.start(t,e),this},r.default.Transport.prototype.stop=function(t){return this._clock.stop(t),this},r.default.Transport.prototype.pause=function(t){return this._clock.pause(t),this},r.default.Transport.prototype.toggle=function(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!==r.default.State.Started?this.start(t):this.stop(t),this},Object.defineProperty(r.default.Transport.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){r.default.isArray(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}}),Object.defineProperty(r.default.Transport.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t)}}),Object.defineProperty(r.default.Transport.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t)}}),r.default.Transport.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(r.default.Transport.prototype,"swing",{get:function(){return this._swingAmount},set:function(t){this._swingAmount=t}}),Object.defineProperty(r.default.Transport.prototype,"swingSubdivision",{get:function(){return r.default.Ticks(this._swingTicks).toNotation()},set:function(t){this._swingTicks=this.toTicks(t)}}),Object.defineProperty(r.default.Transport.prototype,"position",{get:function(){var t=this.now(),e=this._clock.getTicksAtTime(t);return r.default.Ticks(e).toBarsBeatsSixteenths()},set:function(t){var e=this.toTicks(t);this.ticks=e}}),Object.defineProperty(r.default.Transport.prototype,"seconds",{get:function(){return this._clock.seconds},set:function(t){var e=this.now(),i=this.bpm.timeToTicks(t,e);this.ticks=i}}),Object.defineProperty(r.default.Transport.prototype,"progress",{get:function(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}}),Object.defineProperty(r.default.Transport.prototype,"ticks",{get:function(){return this._clock.ticks},set:function(t){if(this._clock.ticks!==t){var e=this.now();this.state===r.default.State.Started?(this.emit("stop",e),this._clock.setTicksAtTime(t,e),this.emit("start",e,this.seconds)):this._clock.setTicksAtTime(t,e)}}}),r.default.Transport.prototype.getTicksAtTime=function(t){return Math.round(this._clock.getTicksAtTime(t))},r.default.Transport.prototype.getSecondsAtTime=function(t){return this._clock.getSecondsAtTime(t)},Object.defineProperty(r.default.Transport.prototype,"PPQ",{get:function(){return this._ppq},set:function(t){var e=this.bpm.value;this._ppq=t,this.bpm.value=e}}),r.default.Transport.prototype._fromUnits=function(t){return 1/(60/t/this.PPQ)},r.default.Transport.prototype._toUnits=function(t){return t/this.PPQ*60},r.default.Transport.prototype.nextSubdivision=function(t){if(t=this.toTicks(t),this.state!==r.default.State.Started)return 0;var e=this.now(),i=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(i,e)},r.default.Transport.prototype.syncSignal=function(t,e){if(!e){var i=this.now();e=0!==t.getValueAtTime(i)?t.getValueAtTime(i)/this.bpm.getValueAtTime(i):0}var n=new r.default.Gain(e);return this.bpm.chain(n,t._param),this._syncedSignals.push({ratio:n,signal:t,initial:t.value}),t.value=0,this},r.default.Transport.prototype.unsyncSignal=function(t){for(var e=this._syncedSignals.length-1;0<=e;e--){var i=this._syncedSignals[e];i.signal===t&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this},r.default.Transport.prototype.dispose=function(){return r.default.Emitter.prototype.dispose.call(this),this._clock.dispose(),this._clock=null,this._writable("bpm"),this.bpm=null,this._timeline.dispose(),this._timeline=null,this._repeatedEvents.dispose(),this._repeatedEvents=null,this};var n=r.default.Transport;r.default.Transport=new n,r.default.Context.on("init",function(t){t.transport&&t.transport.isTransport?r.default.Transport=t.transport:r.default.Transport=new n}),r.default.Context.on("close",function(t){t.transport&&t.transport.isTransport&&t.transport.dispose()}),e.default=r.default.Transport},function(t,e,i){"use strict";i.r(e);var h=i(0);i(2),i(6),i(16),i(64),h.default.Oscillator=function(){var t=h.default.defaults(arguments,["frequency","type"],h.default.Oscillator);h.default.Source.call(this,t),this._oscillator=null,this.frequency=new h.default.Signal(t.frequency,h.default.Type.Frequency),this.detune=new h.default.Signal(t.detune,h.default.Type.Cents),this._wave=null,this._partials=t.partials,this._partialCount=t.partialCount,this._phase=t.phase,this._type=t.type,t.partialCount&&t.type!==h.default.Oscillator.Type.Custom&&(this._type=this.baseType+t.partialCount.toString()),this.phase=this._phase,this._readOnly(["frequency","detune"])},h.default.extend(h.default.Oscillator,h.default.Source),h.default.Oscillator.defaults={type:"sine",frequency:440,detune:0,phase:0,partials:[],partialCount:0},h.default.Oscillator.Type={Sine:"sine",Triangle:"triangle",Sawtooth:"sawtooth",Square:"square",Custom:"custom"},h.default.Oscillator.prototype._start=function(t){this.log("start",t);var e=new h.default.OscillatorNode;this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),t=this.toSeconds(t),this._oscillator.start(t)},h.default.Oscillator.prototype._stop=function(t){return this.log("stop",t),this._oscillator&&(t=this.toSeconds(t),this._oscillator.stop(t)),this},h.default.Oscillator.prototype.restart=function(t){return this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(this.toSeconds(t)),this},h.default.Oscillator.prototype.syncFrequency=function(){return h.default.Transport.syncSignal(this.frequency),this},h.default.Oscillator.prototype.unsyncFrequency=function(){return h.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(h.default.Oscillator.prototype,"type",{get:function(){return this._type},set:function(t){var e=[h.default.Oscillator.Type.Sine,h.default.Oscillator.Type.Square,h.default.Oscillator.Type.Triangle,h.default.Oscillator.Type.Sawtooth].includes(t);if(0===this._phase&&e)this._wave=null,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{var i=this._getRealImaginary(t,this._phase),n=this.context.createPeriodicWave(i[0],i[1]);this._wave=n,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}this._type=t}}),Object.defineProperty(h.default.Oscillator.prototype,"baseType",{get:function(){return this._type.replace(this.partialCount,"")},set:function(t){this.partialCount&&this._type!==h.default.Oscillator.Type.Custom&&t!==h.default.Oscillator.Type.Custom?this.type=t+this.partialCount:this.type=t}}),Object.defineProperty(h.default.Oscillator.prototype,"partialCount",{get:function(){return this._partialCount},set:function(t){var e=this._type,i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);i&&(e=i[1]),this._type!==h.default.Oscillator.Type.Custom&&(this.type=0===t?e:e+t.toString())}}),h.default.Oscillator.prototype.get=function(){var t=h.default.prototype.get.apply(this,arguments);return t.type!==h.default.Oscillator.Type.Custom&&delete t.partials,t},h.default.Oscillator.prototype._getRealImaginary=function(t,e){var i=2048,n=new Float32Array(i),s=new Float32Array(i),r=1;if(t===h.default.Oscillator.Type.Custom)r=this._partials.length+1,this._partialCount=this._partials.length,i=r;else{var a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);a?(r=parseInt(a[2])+1,this._partialCount=parseInt(a[2]),t=a[1],i=r=Math.max(r,2)):this._partialCount=0,this._partials=[]}for(var o=1;o<i;++o){var l,u=2/(o*Math.PI);switch(t){case h.default.Oscillator.Type.Sine:l=o<=r?1:0,this._partials[o-1]=l;break;case h.default.Oscillator.Type.Square:l=1&o?2*u:0,this._partials[o-1]=l;break;case h.default.Oscillator.Type.Sawtooth:l=u*(1&o?1:-1),this._partials[o-1]=l;break;case h.default.Oscillator.Type.Triangle:l=1&o?u*u*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=l;break;case h.default.Oscillator.Type.Custom:l=this._partials[o-1];break;default:throw new TypeError("Tone.Oscillator: invalid type: "+t)}0!==l?(n[o]=-l*Math.sin(e*o),s[o]=l*Math.cos(e*o)):(n[o]=0,s[o]=0)}return[n,s]},h.default.Oscillator.prototype._inverseFFT=function(t,e,i){for(var n=0,s=t.length,r=0;r<s;r++)n+=t[r]*Math.cos(r*i)+e[r]*Math.sin(r*i);return n},h.default.Oscillator.prototype._getInitialValue=function(){for(var t=this._getRealImaginary(this._type,0),e=t[0],i=t[1],n=0,s=2*Math.PI,r=0;r<8;r++)n=Math.max(this._inverseFFT(e,i,r/8*s),n);return-this._inverseFFT(e,i,this._phase)/n},Object.defineProperty(h.default.Oscillator.prototype,"partials",{get:function(){return this._partials},set:function(t){this._partials=t,this.type=h.default.Oscillator.Type.Custom}}),Object.defineProperty(h.default.Oscillator.prototype,"phase",{get:function(){return this._phase*(180/Math.PI)},set:function(t){this._phase=t*Math.PI/180,this.type=this._type}}),h.default.Oscillator.prototype.dispose=function(){return h.default.Source.prototype.dispose.call(this),null!==this._oscillator&&(this._oscillator.dispose(),this._oscillator=null),this._wave=null,this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._partials=null,this},e.default=h.default.Oscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(1),n.default.Delay=function(){var t=n.default.defaults(arguments,["delayTime","maxDelay"],n.default.Delay);n.default.AudioNode.call(this,t),this._maxDelay=Math.max(this.toSeconds(t.maxDelay),this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(this._maxDelay),this.delayTime=new n.default.Param({param:this._delayNode.delayTime,units:n.default.Type.Time,value:t.delayTime}),this._readOnly("delayTime")},n.default.extend(n.default.Delay,n.default.AudioNode),n.default.Delay.defaults={maxDelay:1,delayTime:0},Object.defineProperty(n.default.Delay.prototype,"maxDelay",{get:function(){return this._maxDelay}}),n.default.Delay.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._delayNode.disconnect(),this._delayNode=null,this._writable("delayTime"),this.delayTime=null,this},e.default=n.default.Delay},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(1),n.default.Split=function(t){t=n.default.defaultArg(t,2),n.default.AudioNode.call(this),this.createInsOuts(0,t),this._splitter=this.input=this.context.createChannelSplitter(t);for(var e=0;e<t;e++)this.output[e]=new n.default.Gain,n.default.connect(this._splitter,this.output[e],e,0),this.output[e].channelCount=1,this.output[e].channelCountMode="explicit";this.left=this.output[0],this.right=this.output[1]},n.default.extend(n.default.Split,n.default.AudioNode),n.default.Split.prototype.dispose=function(){return this.output.forEach(function(t){t.dispose()}),n.default.AudioNode.prototype.dispose.call(this),this._splitter.disconnect(),this.left=null,this.right=null,this._splitter=null,this},e.default=n.default.Split},function(t,e,i){"use strict";i.r(e);var n=i(0),s=(i(35),i(24),i(44),["baseLatency","destination","currentTime","sampleRate","listener","state"]),r=["suspend","close","resume","getOutputTimestamp","createMediaElementSource","createMediaStreamSource","createMediaStreamDestination","createBuffer","decodeAudioData","createBufferSource","createConstantSource","createGain","createDelay","createBiquadFilter","createIIRFilter","createWaveShaper","createPanner","createConvolver","createDynamicsCompressor","createAnalyser","createScriptProcessor","createStereoPanner","createOscillator","createPeriodicWave","createChannelSplitter","createChannelMerger","audioWorklet"];n.default.Context=function(){n.default.Emitter.call(this);var t=n.default.defaults(arguments,["context"],n.default.Context);if(!t.context&&(t.context=new n.default.global.AudioContext,!t.context))throw new Error("could not create AudioContext. Possibly too many AudioContexts running already.");for(this._context=t.context;this._context.rawContext;)this._context=this._context.rawContext;s.forEach(function(t){this._defineProperty(this._context,t)}.bind(this)),r.forEach(function(t){this._defineMethod(this._context,t)}.bind(this)),this._latencyHint=t.latencyHint,this._constants={},this.lookAhead=t.lookAhead,this._computedUpdateInterval=0,this._ticker=new a(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this._timeouts=new n.default.Timeline,this._timeoutIds=0,this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=function(t){this.emit("statechange",t)}.bind(this)},n.default.extend(n.default.Context,n.default.Emitter),n.default.Emitter.mixin(n.default.Context),n.default.Context.defaults={clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.03},n.default.Context.prototype.isContext=!0,n.default.Context.prototype._defineProperty=function(e,i){n.default.isUndef(this[i])&&Object.defineProperty(this,i,{get:function(){return e[i]},set:function(t){e[i]=t}})},n.default.Context.prototype._defineMethod=function(t,e){n.default.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return t[e].bind(t)}})},n.default.Context.prototype.now=function(){return this._context.currentTime+this.lookAhead},Object.defineProperty(n.default.Context.prototype,"destination",{get:function(){return this.master?this.master:this._context.destination}}),n.default.Context.prototype.resume=function(){return"suspended"===this._context.state&&this._context instanceof AudioContext?this._context.resume():Promise.resolve()},n.default.Context.prototype.close=function(){var t=Promise.resolve();return this!==n.default.global.TONE_AUDIO_CONTEXT&&(t=this.rawContext.close()),t.then(function(){n.default.Context.emit("close",this)}.bind(this))},n.default.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0),n=0;n<i.length;n++)i[n]=t;var s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants[t]=s},n.default.Context.prototype._timeoutLoop=function(){for(var t=this.now();this._timeouts&&this._timeouts.length&&this._timeouts.peek().time<=t;)this._timeouts.shift().callback()},n.default.Context.prototype.setTimeout=function(t,e){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:t,time:i+e,id:this._timeoutIds}),this._timeoutIds},n.default.Context.prototype.clearTimeout=function(e){return this._timeouts.forEach(function(t){t.id===e&&this.remove(t)}),this},Object.defineProperty(n.default.Context.prototype,"updateInterval",{get:function(){return this._ticker.updateInterval},set:function(t){this._ticker.updateInterval=t}}),Object.defineProperty(n.default.Context.prototype,"rawContext",{get:function(){return this._context}}),Object.defineProperty(n.default.Context.prototype,"clockSource",{get:function(){return this._ticker.type},set:function(t){this._ticker.type=t}}),Object.defineProperty(n.default.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,n.default.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":this._context.latencyHint="interactive",e=.01}this.lookAhead=e,this.updateInterval=e/3}}),n.default.Context.prototype.dispose=function(){return this.close().then(function(){for(var t in n.default.Emitter.prototype.dispose.call(this),this._ticker.dispose(),this._ticker=null,this._timeouts.dispose(),this._timeouts=null,this._constants)this._constants[t].disconnect();this._constants=null}.bind(this))};var a=function(t,e,i){this._type=e,this._updateInterval=i,this._callback=n.default.defaultArg(t,n.default.noOp),this._createClock()};if(a.Type={Worker:"worker",Timeout:"timeout",Offline:"offline"},a.prototype._createWorker=function(){n.default.global.URL=n.default.global.URL||n.default.global.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i},a.prototype._createTimeout=function(){this._timeout=setTimeout(function(){this._createTimeout(),this._callback()}.bind(this),1e3*this._updateInterval)},a.prototype._createClock=function(){if(this._type===a.Type.Worker)try{this._createWorker()}catch(t){this._type=a.Type.Timeout,this._createClock()}else this._type===a.Type.Timeout&&this._createTimeout()},Object.defineProperty(a.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,128/44100),this._type===a.Type.Worker&&this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(a.prototype,"type",{get:function(){return this._type},set:function(t){this._disposeClock(),this._type=t,this._createClock()}}),a.prototype._disposeClock=function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._worker&&(this._worker.terminate(),this._worker.onmessage=null,this._worker=null)},a.prototype.dispose=function(){this._disposeClock(),this._callback=null},n.default.supported&&!n.default.initialized){if(n.default.global.TONE_AUDIO_CONTEXT||(n.default.global.TONE_AUDIO_CONTEXT=new n.default.Context),n.default.context=n.default.global.TONE_AUDIO_CONTEXT,!n.default.global.TONE_SILENCE_LOGGING){var o="v";"dev"===n.default.version&&(o="");n.default.version}}else n.default.supported||n.default.global.TONE_SILENCE_LOGGING;e.default=n.default.Context},function(t,e,i){"use strict";i.r(e);var r=i(0);i(4),i(40),r.default.Instrument=function(t){t=r.default.defaultArg(t,r.default.Instrument.defaults),r.default.AudioNode.call(this),this._volume=this.output=new r.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._scheduledEvents=[]},r.default.extend(r.default.Instrument,r.default.AudioNode),r.default.Instrument.defaults={volume:0},r.default.Instrument.prototype.triggerAttack=r.default.noOp,r.default.Instrument.prototype.triggerRelease=r.default.noOp,r.default.Instrument.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this},r.default.Instrument.prototype._syncMethod=function(t,n){var s=this["_original_"+t]=this[t];this[t]=function(){var e=Array.prototype.slice.call(arguments),t=e[n],i=r.default.Transport.schedule(function(t){e[n]=t,s.apply(this,e)}.bind(this),t);this._scheduledEvents.push(i)}.bind(this)},r.default.Instrument.prototype.unsync=function(){return this._scheduledEvents.forEach(function(t){r.default.Transport.clear(t)}),this._scheduledEvents=[],this._original_triggerAttack&&(this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this},r.default.Instrument.prototype.triggerAttackRelease=function(t,e,i,n){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(t,i,n),this.triggerRelease(i+e),this},r.default.Instrument.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable(["volume"]),this.volume=null,this.unsync(),this._scheduledEvents=null,this},e.default=r.default.Instrument},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(2),n.default.AudioToGain=function(){n.default.SignalBase.call(this),this._norm=this.input=this.output=new n.default.WaveShaper(function(t){return(t+1)/2})},n.default.extend(n.default.AudioToGain,n.default.SignalBase),n.default.AudioToGain.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=n.default.AudioToGain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(13),i(89),i(3),i(1),n.default.CrossFade=function(t){n.default.AudioNode.call(this),this.createInsOuts(2,1),this.a=this.input[0]=new n.default.Gain,this.b=this.input[1]=new n.default.Gain,this.fade=new n.default.Signal(n.default.defaultArg(t,.5),n.default.Type.NormalRange),this._equalPowerA=new n.default.EqualPowerGain,this._equalPowerB=new n.default.EqualPowerGain,this._one=this.context.getConstant(1),this._invert=new n.default.Subtract,this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),n.default.connect(this._one,this._invert,0,0),this.fade.connect(this._invert,0,1),this._invert.chain(this._equalPowerA,this.a.gain),this._readOnly("fade")},n.default.extend(n.default.CrossFade,n.default.AudioNode),n.default.CrossFade.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this._one=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.default=n.default.CrossFade},function(t,e,i){"use strict";i.r(e);var u=i(0);u.default.Timeline=function(){var t=u.default.defaults(arguments,["memory"],u.default.Timeline);u.default.call(this),this._timeline=[],this.memory=t.memory},u.default.extend(u.default.Timeline),u.default.Timeline.defaults={memory:1/0},Object.defineProperty(u.default.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),u.default.Timeline.prototype.add=function(t){if(u.default.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");t.time=t.time.valueOf();var e=this._search(t.time);if(this._timeline.splice(e+1,0,t),this.length>this.memory){var i=this.length-this.memory;this._timeline.splice(0,i)}return this},u.default.Timeline.prototype.remove=function(t){var e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this},u.default.Timeline.prototype.get=function(t,e){e=u.default.defaultArg(e,"time");var i=this._search(t,e);return-1!==i?this._timeline[i]:null},u.default.Timeline.prototype.peek=function(){return this._timeline[0]},u.default.Timeline.prototype.shift=function(){return this._timeline.shift()},u.default.Timeline.prototype.getAfter=function(t,e){e=u.default.defaultArg(e,"time");var i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null},u.default.Timeline.prototype.getBefore=function(t,e){e=u.default.defaultArg(e,"time");var i=this._timeline.length;if(0<i&&this._timeline[i-1][e]<t)return this._timeline[i-1];var n=this._search(t,e);return 0<=n-1?this._timeline[n-1]:null},u.default.Timeline.prototype.cancel=function(t){if(1<this._timeline.length){var e=this._search(t);if(0<=e)if(this._timeline[e].time===t){for(var i=e;0<=i&&this._timeline[i].time===t;i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},u.default.Timeline.prototype.cancelBefore=function(t){var e=this._search(t);return 0<=e&&(this._timeline=this._timeline.slice(e+1)),this},u.default.Timeline.prototype.previousEvent=function(t){var e=this._timeline.indexOf(t);return 0<e?this._timeline[e-1]:null},u.default.Timeline.prototype._search=function(t,e){if(0===this._timeline.length)return-1;e=u.default.defaultArg(e,"time");var i=0,n=this._timeline.length,s=n;if(0<n&&this._timeline[n-1][e]<=t)return n-1;for(;i<s;){var r=Math.floor(i+(s-i)/2),a=this._timeline[r],o=this._timeline[r+1];if(a[e]===t){for(var l=r;l<this._timeline.length;l++)this._timeline[l][e]===t&&(r=l);return r}if(a[e]<t&&o[e]>t)return r;a[e]>t?s=r:i=r+1}return-1},u.default.Timeline.prototype._iterate=function(e,t,i){t=u.default.defaultArg(t,0),i=u.default.defaultArg(i,this._timeline.length-1),this._timeline.slice(t,i+1).forEach(function(t){e.call(this,t)}.bind(this))},u.default.Timeline.prototype.forEach=function(t){return this._iterate(t),this},u.default.Timeline.prototype.forEachBefore=function(t,e){var i=this._search(t);return-1!==i&&this._iterate(e,0,i),this},u.default.Timeline.prototype.forEachAfter=function(t,e){var i=this._search(t);return this._iterate(e,i+1),this},u.default.Timeline.prototype.forEachBetween=function(t,e,i){var n=this._search(t),s=this._search(e);return-1!==n&&-1!==s?(this._timeline[n].time!==t&&(n+=1),this._timeline[s].time===e&&(s-=1),this._iterate(i,n,s)):-1===n&&this._iterate(i,0,s),this},u.default.Timeline.prototype.forEachFrom=function(t,e){for(var i=this._search(t);0<=i&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this},u.default.Timeline.prototype.forEachAtTime=function(e,i){var t=this._search(e);return-1!==t&&this._iterate(function(t){t.time===e&&i.call(this,t)},0,t),this},u.default.Timeline.prototype.dispose=function(){return u.default.prototype.dispose.call(this),this._timeline=null,this},e.default=u.default.Timeline},function(t,e,i){"use strict";i.r(e);var n=i(0);i(21),i(2),n.default.Monophonic=function(t){t=n.default.defaultArg(t,n.default.Monophonic.defaults),n.default.Instrument.call(this,t),this.portamento=t.portamento},n.default.extend(n.default.Monophonic,n.default.Instrument),n.default.Monophonic.defaults={portamento:0},n.default.Monophonic.prototype.triggerAttack=function(t,e,i){return this.log("triggerAttack",t,e,i),e=this.toSeconds(e),this._triggerEnvelopeAttack(e,i),this.setNote(t,e),this},n.default.Monophonic.prototype.triggerRelease=function(t){return this.log("triggerRelease",t),t=this.toSeconds(t),this._triggerEnvelopeRelease(t),this},n.default.Monophonic.prototype._triggerEnvelopeAttack=function(){},n.default.Monophonic.prototype._triggerEnvelopeRelease=function(){},n.default.Monophonic.prototype.getLevelAtTime=function(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)},n.default.Monophonic.prototype.setNote=function(t,e){if(e=this.toSeconds(e),0<this.portamento&&.05<this.getLevelAtTime(e)){var i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,i,e)}else this.frequency.setValueAtTime(t,e);return this},e.default=n.default.Monophonic},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(5),i(2),n.default.Scale=function(t,e){n.default.SignalBase.call(this),this._outputMin=n.default.defaultArg(t,0),this._outputMax=n.default.defaultArg(e,1),this._scale=this.input=new n.default.Multiply(1),this._add=this.output=new n.default.Add(0),this._scale.connect(this._add),this._setRange()},n.default.extend(n.default.Scale,n.default.SignalBase),Object.defineProperty(n.default.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(n.default.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),n.default.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},n.default.Scale.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.default=n.default.Scale},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(3),i(1),n.default.Volume=function(){var t=n.default.defaults(arguments,["volume"],n.default.Volume);n.default.AudioNode.call(this,t),this.output=this.input=new n.default.Gain(t.volume,n.default.Type.Decibels),this._unmutedVolume=t.volume,this.volume=this.output.gain,this._readOnly("volume"),this.mute=t.mute},n.default.extend(n.default.Volume,n.default.AudioNode),n.default.Volume.defaults={volume:0,mute:!1},Object.defineProperty(n.default.Volume.prototype,"mute",{get:function(){return this.volume.value===-1/0},set:function(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}}),n.default.Volume.prototype.dispose=function(){return this.input.dispose(),n.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this.volume.dispose(),this.volume=null,this},e.default=n.default.Volume},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(30),n.default.Zero=function(){n.default.SignalBase.call(this),this._gain=this.input=this.output=new n.default.Gain,n.default.connect(this.context.getConstant(0),this._gain)},n.default.extend(n.default.Zero,n.default.SignalBase),n.default.Zero.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._gain.dispose(),this._gain=null,this},e.default=n.default.Zero},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(3),n.default.Add=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new n.default.Gain,this._param=this.input[1]=new n.default.Signal(t),this._param.connect(this._sum)},n.default.extend(n.default.Add,n.default.Signal),n.default.Add.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this},e.default=n.default.Add},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),n.default.SignalBase=function(){n.default.AudioNode.call(this)},n.default.extend(n.default.SignalBase,n.default.AudioNode),n.default.SignalBase.prototype.connect=function(t,e,i){return n.default.Signal&&n.default.Signal===t.constructor||n.default.Param&&n.default.Param===t.constructor?(t._param.cancelScheduledValues(0),t._param.setValueAtTime(0,0),t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0)),n.default.AudioNode.prototype.connect.call(this,t,e,i),this},e.default=n.default.SignalBase},function(t,e,i){"use strict";i.r(e);var n=i(0);i(47),i(3),n.default.AmplitudeEnvelope=function(){n.default.Envelope.apply(this,arguments),this.input=this.output=new n.default.Gain,this._sig.connect(this.output.gain)},n.default.extend(n.default.AmplitudeEnvelope,n.default.Envelope),n.default.AmplitudeEnvelope.prototype.dispose=function(){return n.default.Envelope.prototype.dispose.call(this),this},e.default=n.default.AmplitudeEnvelope},function(t,e,i){"use strict";i.r(e);var l=i(0);i(11),i(6),i(3),i(1),l.default.BufferSource=function(){var t=l.default.defaults(arguments,["buffer","onload"],l.default.BufferSource);l.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._sourceStarted=!1,this._sourceStopped=!1,this._stopTime=-1,this._gainNode=this.output=new l.default.Gain(0),this._source=this.context.createBufferSource(),l.default.connect(this._source,this._gainNode),this._source.onended=this._onended.bind(this),this._buffer=new l.default.Buffer(t.buffer,t.onload),this.playbackRate=new l.default.Param({param:this._source.playbackRate,units:l.default.Type.Positive,value:t.playbackRate}),this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut,this.curve=t.curve,this._onendedTimeout=-1,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd},l.default.extend(l.default.BufferSource,l.default.AudioNode),l.default.BufferSource.defaults={onended:l.default.noOp,onload:l.default.noOp,loop:!1,loopStart:0,loopEnd:0,fadeIn:0,fadeOut:0,curve:"linear",playbackRate:1},Object.defineProperty(l.default.BufferSource.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),l.default.BufferSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&this._startTime<=t&&(-1===this._stopTime||t<this._stopTime)&&!this._sourceStopped?l.default.State.Started:l.default.State.Stopped},l.default.BufferSource.prototype.start=function(t,e,i,n){this.log("start",t,e,i,n),this.assert(-1===this._startTime,"can only be started once"),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),e=this.loop?l.default.defaultArg(e,this.loopStart):l.default.defaultArg(e,0),e=this.toSeconds(e),e=Math.max(e,0),n=l.default.defaultArg(n,1);var s=this.toSeconds(this.fadeIn);if(0<s?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this.curve?this._gainNode.gain.linearRampToValueAtTime(n,t+s):this._gainNode.gain.exponentialApproachValueAtTime(n,t,s)):this._gainNode.gain.setValueAtTime(n,t),this._startTime=t,l.default.isDefined(i)){var r=this.toSeconds(i);r=Math.max(r,0),this.stop(t+r)}if(this.loop){var a=this.loopEnd||this.buffer.duration,o=this.loopStart;a<=e&&(e=(e-o)%(a-o)+o)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.loopEnd||this.buffer.duration,e<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,e)),this},l.default.BufferSource.prototype.stop=function(t){this.log("stop",t),this.assert(this.buffer.loaded,"buffer is either not set or not loaded"),this.assert(!this._sourceStopped,"source is already stopped"),t=this.toSeconds(t),-1!==this._stopTime&&this.cancelStop();var e=this.toSeconds(this.fadeOut);return this._stopTime=t+e,0<e?"linear"===this.curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),l.default.context.clearTimeout(this._onendedTimeout),this._onendedTimeout=l.default.context.setTimeout(this._onended.bind(this),this._stopTime-this.now()),this},l.default.BufferSource.prototype.cancelStop=function(){if(-1!==this._startTime&&!this._sourceStopped){var t=this.toSeconds(this.fadeIn);this._gainNode.gain.cancelScheduledValues(this._startTime+t+this.sampleTime),this.context.clearTimeout(this._onendedTimeout),this._stopTime=-1}return this},l.default.BufferSource.prototype._onended=function(){if(!this._sourceStopped){this._sourceStopped=!0;var t="exponential"===this.curve?2*this.fadeOut:0;this._sourceStarted&&-1!==this._stopTime&&this._source.stop(this._stopTime+t),this.onended(this),setTimeout(function(){this._source&&(this._source.disconnect(),this._gainNode.disconnect())}.bind(this),1e3*t+100)}},Object.defineProperty(l.default.BufferSource.prototype,"loopStart",{get:function(){return this._source.loopStart},set:function(t){this._source.loopStart=this.toSeconds(t)}}),Object.defineProperty(l.default.BufferSource.prototype,"loopEnd",{get:function(){return this._source.loopEnd},set:function(t){this._source.loopEnd=this.toSeconds(t)}}),Object.defineProperty(l.default.BufferSource.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(l.default.BufferSource.prototype,"loop",{get:function(){return this._source.loop},set:function(t){this._source.loop=t,this.cancelStop()}}),l.default.BufferSource.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,l.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._source.onended=null,this._source.disconnect(),this._source=null,this._gainNode.dispose(),this._gainNode=null,this._buffer.dispose(),this._buffer=null,this._startTime=-1,this.playbackRate=null,l.default.context.clearTimeout(this._onendedTimeout)),this},e.default=l.default.BufferSource},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(2),i(5),i(3),n.default.FeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.Effect.call(this,t),this._feedbackGain=new n.default.Gain(t.feedback,n.default.Type.NormalRange),this.feedback=this._feedbackGain.gain,this.effectReturn.chain(this._feedbackGain,this.effectSend),this._readOnly(["feedback"])},n.default.extend(n.default.FeedbackEffect,n.default.Effect),n.default.FeedbackEffect.defaults={feedback:.125},n.default.FeedbackEffect.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._writable(["feedback"]),this._feedbackGain.dispose(),this._feedbackGain=null,this.feedback=null,this},e.default=n.default.FeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(24),i(4),n.default.TimelineState=function(t){n.default.Timeline.call(this),this._initial=t},n.default.extend(n.default.TimelineState,n.default.Timeline),n.default.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},n.default.TimelineState.prototype.setStateAtTime=function(t,e){return this.add({state:t,time:e}),this},n.default.TimelineState.prototype.getLastState=function(t,e){e=this.toSeconds(e);for(var i=this._search(e);0<=i;i--){var n=this._timeline[i];if(n.state===t)return n}},n.default.TimelineState.prototype.getNextState=function(t,e){e=this.toSeconds(e);var i=this._search(e);if(-1!==i)for(var n=i;n<this._timeline.length;n++){var s=this._timeline[n];if(s.state===t)return s}},e.default=n.default.TimelineState},function(t,e,i){"use strict";i.r(e);var a=i(0);a.default.Emitter=function(){a.default.call(this),this._events={}},a.default.extend(a.default.Emitter),a.default.Emitter.prototype.on=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++){var s=i[n];this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(e)}return this},a.default.Emitter.prototype.once=function(t,e){var i=function(){e.apply(this,arguments),this.off(t,i)}.bind(this);return this.on(t,i),this},a.default.Emitter.prototype.off=function(t,e){for(var i=t.split(/\W+/),n=0;n<i.length;n++)if(t=i[n],this._events.hasOwnProperty(t))if(a.default.isUndef(e))this._events[t]=[];else for(var s=this._events[t],r=0;r<s.length;r++)s[r]===e&&s.splice(r,1);return this},a.default.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var i=this._events[t].slice(0),n=0,s=i.length;n<s;n++)i[n].apply(this,e)}return this},a.default.Emitter.mixin=function(t){var e=["on","once","off","emit"];t._events={};for(var i=0;i<e.length;i++){var n=e[i],s=a.default.Emitter.prototype[n];t[n]=s}return a.default.Emitter},a.default.Emitter.prototype.dispose=function(){return a.default.prototype.dispose.call(this),this._events=null,this},e.default=a.default.Emitter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(1),i(44),n.default.supported&&(AnalyserNode.prototype.getFloatTimeDomainData||(AnalyserNode.prototype.getFloatTimeDomainData=function(t){var e=new Uint8Array(t.length);this.getByteTimeDomainData(e);for(var i=0;i<e.length;i++)t[i]=(e[i]-128)/128})),n.default.Analyser=function(){var t=n.default.defaults(arguments,["type","size"],n.default.Analyser);n.default.AudioNode.call(this),this._analyser=this.input=this.output=this.context.createAnalyser(),this._type=t.type,this._buffer=null,this.size=t.size,this.type=t.type},n.default.extend(n.default.Analyser,n.default.AudioNode),n.default.Analyser.defaults={size:1024,type:"fft",smoothing:.8},n.default.Analyser.Type={Waveform:"waveform",FFT:"fft"},n.default.Analyser.prototype.getValue=function(){return this._type===n.default.Analyser.Type.FFT?this._analyser.getFloatFrequencyData(this._buffer):this._type===n.default.Analyser.Type.Waveform&&this._analyser.getFloatTimeDomainData(this._buffer),this._buffer},Object.defineProperty(n.default.Analyser.prototype,"size",{get:function(){return this._analyser.frequencyBinCount},set:function(t){this._analyser.fftSize=2*t,this._buffer=new Float32Array(t)}}),Object.defineProperty(n.default.Analyser.prototype,"type",{get:function(){return this._type},set:function(t){if(t!==n.default.Analyser.Type.Waveform&&t!==n.default.Analyser.Type.FFT)throw new TypeError("Tone.Analyser: invalid type: "+t);this._type=t}}),Object.defineProperty(n.default.Analyser.prototype,"smoothing",{get:function(){return this._analyser.smoothingTimeConstant},set:function(t){this._analyser.smoothingTimeConstant=t}}),n.default.Analyser.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.disconnect(),this._analyser=null,this._buffer=null},e.default=n.default.Analyser},function(t,e,i){"use strict";i.r(e);var s=i(0);i(6),i(17),i(50),i(69),i(49),i(68),i(67),s.default.OmniOscillator=function(){var t=s.default.defaults(arguments,["frequency","type"],s.default.OmniOscillator);s.default.Source.call(this,t),this.frequency=new s.default.Signal(t.frequency,s.default.Type.Frequency),this.detune=new s.default.Signal(t.detune,s.default.Type.Cents),this._sourceType=void 0,this._oscillator=null,this.type=t.type,this._readOnly(["frequency","detune"]),this.set(t)},s.default.extend(s.default.OmniOscillator,s.default.Source),s.default.OmniOscillator.defaults={frequency:440,detune:0,type:"sine",phase:0};var n="PulseOscillator",r="PWMOscillator",a="FMOscillator",o="AMOscillator",l="FatOscillator";s.default.OmniOscillator.prototype._start=function(t){this._oscillator.start(t)},s.default.OmniOscillator.prototype._stop=function(t){this._oscillator.stop(t)},s.default.OmniOscillator.prototype.restart=function(t){this._oscillator.restart(t)},Object.defineProperty(s.default.OmniOscillator.prototype,"type",{get:function(){var t="";return this._sourceType===a?t="fm":this._sourceType===o?t="am":this._sourceType===l&&(t="fat"),t+this._oscillator.type},set:function(t){"fm"===t.substr(0,2)?(this._createNewOscillator(a),this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator(o),this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator(l),this._oscillator.type=t.substr(3)):"pwm"===t?this._createNewOscillator(r):"pulse"===t?this._createNewOscillator(n):(this._createNewOscillator("Oscillator"),this._oscillator.type=t)}}),Object.defineProperty(s.default.OmniOscillator.prototype,"partials",{get:function(){return this._oscillator.partials},set:function(t){this._oscillator.partials=t}}),Object.defineProperty(s.default.OmniOscillator.prototype,"partialCount",{get:function(){return this._oscillator.partialCount},set:function(t){this._oscillator.partialCount=t}}),s.default.OmniOscillator.prototype.set=function(t,e){return"type"===t?this.type=e:s.default.isObject(t)&&t.hasOwnProperty("type")&&(this.type=t.type),s.default.prototype.set.apply(this,arguments),this},s.default.OmniOscillator.prototype.get=function(t){var e=this._oscillator.get(t);return e.type=this.type,e},s.default.OmniOscillator.prototype._createNewOscillator=function(t){if(t!==this._sourceType){this._sourceType=t;var e=s.default[t],i=this.now();if(null!==this._oscillator){var n=this._oscillator;n.stop(i),this.context.setTimeout(function(){n.dispose(),n=null},this.blockTime)}this._oscillator=new e,this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this.state===s.default.State.Started&&this._oscillator.start(i)}},Object.defineProperty(s.default.OmniOscillator.prototype,"phase",{get:function(){return this._oscillator.phase},set:function(t){this._oscillator.phase=t}});var u={PulseOscillator:"pulse",PWMOscillator:"pwm",Oscillator:"oscillator",FMOscillator:"fm",AMOscillator:"am",FatOscillator:"fat"};Object.defineProperty(s.default.OmniOscillator.prototype,"sourceType",{get:function(){return u[this._sourceType]},set:function(t){var e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),t===u.FMOscillator?this.type="fm"+e:t===u.AMOscillator?this.type="am"+e:t===u.FatOscillator?this.type="fat"+e:t===u.Oscillator?this.type=e:t===u.PulseOscillator?this.type="pulse":t===u.PWMOscillator&&(this.type="pwm")}}),Object.defineProperty(s.default.OmniOscillator.prototype,"baseType",{get:function(){return this._oscillator.baseType},set:function(t){this.sourceType!==u.PulseOscillator&&this.sourceType!==u.PWMOscillator&&(this._oscillator.baseType=t)}}),Object.defineProperty(s.default.OmniOscillator.prototype,"width",{get:function(){return this._sourceType===n?this._oscillator.width:void 0}}),Object.defineProperty(s.default.OmniOscillator.prototype,"count",{get:function(){return this._sourceType===l?this._oscillator.count:void 0},set:function(t){this._sourceType===l&&(this._oscillator.count=t)}}),Object.defineProperty(s.default.OmniOscillator.prototype,"spread",{get:function(){return this._sourceType===l?this._oscillator.spread:void 0},set:function(t){this._sourceType===l&&(this._oscillator.spread=t)}}),Object.defineProperty(s.default.OmniOscillator.prototype,"modulationType",{get:function(){return this._sourceType===a||this._sourceType===o?this._oscillator.modulationType:void 0},set:function(t){this._sourceType!==a&&this._sourceType!==o||(this._oscillator.modulationType=t)}}),Object.defineProperty(s.default.OmniOscillator.prototype,"modulationIndex",{get:function(){return this._sourceType===a?this._oscillator.modulationIndex:void 0}}),Object.defineProperty(s.default.OmniOscillator.prototype,"harmonicity",{get:function(){return this._sourceType===a||this._sourceType===o?this._oscillator.harmonicity:void 0}}),Object.defineProperty(s.default.OmniOscillator.prototype,"modulationFrequency",{get:function(){return this._sourceType===r?this._oscillator.modulationFrequency:void 0}}),s.default.OmniOscillator.prototype.dispose=function(){return s.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.detune.dispose(),this.detune=null,this.frequency.dispose(),this.frequency=null,this._oscillator.dispose(),this._oscillator=null,this._sourceType=null,this},e.default=s.default.OmniOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(37),i(25),n.default.Synth=function(t){t=n.default.defaultArg(t,n.default.Synth.defaults),n.default.Monophonic.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","frequency","detune","envelope"])},n.default.extend(n.default.Synth,n.default.Monophonic),n.default.Synth.defaults={oscillator:{type:"triangle"},envelope:{attack:.005,decay:.1,sustain:.3,release:1}},n.default.Synth.prototype._triggerEnvelopeAttack=function(t,e){return this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this},n.default.Synth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release)),this},n.default.Synth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.frequency=null,this.detune=null,this},e.default=n.default.Synth},function(t,e,i){"use strict";i.r(e);var d=i(0);i(6),i(11),i(32),d.default.Noise=function(){var t=d.default.defaults(arguments,["type"],d.default.Noise);d.default.Source.call(this,t),this._source=null,this._type=t.type,this._playbackRate=t.playbackRate},d.default.extend(d.default.Noise,d.default.Source),d.default.Noise.defaults={type:"white",playbackRate:1},Object.defineProperty(d.default.Noise.prototype,"type",{get:function(){return this._type},set:function(t){if(this._type!==t){if(!(t in n))throw new TypeError("Tone.Noise: invalid type: "+t);if(this._type=t,this.state===d.default.State.Started){var e=this.now();this._stop(e),this._start(e)}}}}),Object.defineProperty(d.default.Noise.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}}),d.default.Noise.prototype._start=function(t){var e=n[this._type];this._source=new d.default.BufferSource(e).connect(this.output),this._source.loop=!0,this._source.playbackRate.value=this._playbackRate,this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))},d.default.Noise.prototype._stop=function(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)},d.default.Noise.prototype.restart=function(t){return this._stop(t),this._start(t),this},d.default.Noise.prototype.dispose=function(){return d.default.Source.prototype.dispose.call(this),null!==this._source&&(this._source.disconnect(),this._source=null),this._buffer=null,this};var n={},f={};Object.defineProperty(n,"pink",{get:function(){if(!f.pink){for(var t=[],e=0;e<2;e++){var i,n,s,r,a,o,l,u=new Float32Array(220500);t[e]=u,i=n=s=r=a=o=l=0;for(var h=0;h<220500;h++){var c=2*Math.random()-1;i=.99886*i+.0555179*c,n=.99332*n+.0750759*c,s=.969*s+.153852*c,r=.8665*r+.3104856*c,a=.55*a+.5329522*c,o=-.7616*o-.016898*c,u[h]=i+n+s+r+a+o+l+.5362*c,u[h]*=.11,l=.115926*c}}f.pink=(new d.default.Buffer).fromArray(t)}return f.pink}}),Object.defineProperty(n,"brown",{get:function(){if(!f.brown){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var n=0,s=0;s<220500;s++){var r=2*Math.random()-1;i[s]=(n+.02*r)/1.02,n=i[s],i[s]*=3.5}}f.brown=(new d.default.Buffer).fromArray(t)}return f.brown}}),Object.defineProperty(n,"white",{get:function(){if(!f.white){for(var t=[],e=0;e<2;e++){var i=new Float32Array(220500);t[e]=i;for(var n=0;n<220500;n++)i[n]=2*Math.random()-1}f.white=(new d.default.Buffer).fromArray(t)}return f.white}}),e.default=d.default.Noise},function(t,e,i){"use strict";i.r(e);var n=i(0);i(27),i(20),i(1),n.default.Master=function(){n.default.AudioNode.call(this),n.default.getContext(function(){this.createInsOuts(1,0),this._volume=this.output=new n.default.Volume,this.volume=this._volume.volume,this._readOnly("volume"),n.default.connectSeries(this.input,this.output,this.context.destination),this.context.master=this}.bind(this))},n.default.extend(n.default.Master,n.default.AudioNode),n.default.Master.defaults={volume:0,mute:!1},n.default.Master.prototype.isMaster=!0,Object.defineProperty(n.default.Master.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.Master.prototype.chain=function(){this.input.disconnect();var t=Array.from(arguments);t.unshift(this.input),t.push(this.output),n.default.connectSeries.apply(void 0,t)},n.default.Master.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null},n.default.AudioNode.prototype.toMaster=function(){return this.connect(this.context.master),this};var s=n.default.Master;n.default.Master=new s,n.default.Context.on("init",function(t){t.master&&t.master.isMaster?n.default.Master=t.master:n.default.Master=new s}),n.default.Context.on("close",function(t){t.master&&t.master.isMaster&&t.master.dispose()}),e.default=n.default.Master},function(t,e,i){"use strict";i.r(e);var n=i(0);i(86),i(47),n.default.FrequencyEnvelope=function(){var t=n.default.defaults(arguments,["attack","decay","sustain","release"],n.default.Envelope);t=n.default.defaultArg(t,n.default.FrequencyEnvelope.defaults),n.default.ScaledEnvelope.call(this,t),this._octaves=t.octaves,this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this.exponent=t.exponent},n.default.extend(n.default.FrequencyEnvelope,n.default.Envelope),n.default.FrequencyEnvelope.defaults={baseFrequency:200,octaves:4,exponent:1},Object.defineProperty(n.default.FrequencyEnvelope.prototype,"baseFrequency",{get:function(){return this._scale.min},set:function(t){this._scale.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(n.default.FrequencyEnvelope.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._scale.max=this.baseFrequency*Math.pow(2,t)}}),Object.defineProperty(n.default.FrequencyEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),n.default.FrequencyEnvelope.prototype.dispose=function(){return n.default.ScaledEnvelope.prototype.dispose.call(this),this},e.default=n.default.FrequencyEnvelope},function(t,e,i){"use strict";i.r(e);var n=i(0);i(26),i(61),n.default.ScaleExp=function(t,e,i){n.default.SignalBase.call(this),this._scale=this.output=new n.default.Scale(t,e),this._exp=this.input=new n.default.Pow(n.default.defaultArg(i,2)),this._exp.connect(this._scale)},n.default.extend(n.default.ScaleExp,n.default.SignalBase),Object.defineProperty(n.default.ScaleExp.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),Object.defineProperty(n.default.ScaleExp.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(n.default.ScaleExp.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),n.default.ScaleExp.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=n.default.ScaleExp},function(t,e,i){"use strict";i.r(e);var n=i(0);i(14),i(1),n.default.Compressor=function(){var t=n.default.defaults(arguments,["threshold","ratio"],n.default.Compressor);n.default.AudioNode.call(this),this._compressor=this.input=this.output=this.context.createDynamicsCompressor(),this.threshold=new n.default.Param({param:this._compressor.threshold,units:n.default.Type.Decibels,convert:!1}),this.attack=new n.default.Param(this._compressor.attack,n.default.Type.Time),this.release=new n.default.Param(this._compressor.release,n.default.Type.Time),this.knee=new n.default.Param({param:this._compressor.knee,units:n.default.Type.Decibels,convert:!1}),this.ratio=new n.default.Param({param:this._compressor.ratio,convert:!1}),this._readOnly(["knee","release","attack","ratio","threshold"]),this.set(t)},n.default.extend(n.default.Compressor,n.default.AudioNode),n.default.Compressor.defaults={ratio:12,threshold:-24,release:.25,attack:.003,knee:30},n.default.Compressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["knee","release","attack","ratio","threshold"]),this._compressor.disconnect(),this._compressor=null,this.attack.dispose(),this.attack=null,this.release.dispose(),this.release=null,this.threshold.dispose(),this.threshold=null,this.ratio.dispose(),this.ratio=null,this.knee.dispose(),this.knee=null,this},e.default=n.default.Compressor},function(t,e,i){"use strict";var n=i(0);if(i(92),n.default.supported){!n.default.global.hasOwnProperty("AudioContext")&&n.default.global.hasOwnProperty("webkitAudioContext")&&(n.default.global.AudioContext=n.default.global.webkitAudioContext),AudioContext.prototype.close||(AudioContext.prototype.close=function(){return n.default.isFunction(this.suspend)&&this.suspend(),Promise.resolve()}),AudioContext.prototype.resume||(AudioContext.prototype.resume=function(){var t=this.createBuffer(1,1,this.sampleRate),e=this.createBufferSource();return e.buffer=t,e.connect(this.destination),e.start(0),Promise.resolve()}),!AudioContext.prototype.createGain&&AudioContext.prototype.createGainNode&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),!AudioContext.prototype.createDelay&&AudioContext.prototype.createDelayNode&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode);var s=!1,r=new OfflineAudioContext(1,1,44100),a=new Uint32Array([1179011410,48,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,8,0,0,0,0]).buffer;try{var o=r.decodeAudioData(a);o&&n.default.isFunction(o.then)&&(s=!0)}catch(t){s=!1}s||(AudioContext.prototype._native_decodeAudioData=AudioContext.prototype.decodeAudioData,AudioContext.prototype.decodeAudioData=function(i){return new Promise(function(t,e){this._native_decodeAudioData(i,t,e)}.bind(this))})}},function(t,e,i){"use strict";i.r(e);var n=i(0);i(63),n.default.TransportTime=function(t,e){if(!(this instanceof n.default.TransportTime))return new n.default.TransportTime(t,e);n.default.Time.call(this,t,e)},n.default.extend(n.default.TransportTime,n.default.Time),n.default.TransportTime.prototype._now=function(){return n.default.Transport.seconds},e.default=n.default.TransportTime},function(t,e,i){"use strict";i.r(e);var s=i(0);i(62),s.default.Frequency=function(t,e){if(!(this instanceof s.default.Frequency))return new s.default.Frequency(t,e);s.default.TimeBase.call(this,t,e)},s.default.extend(s.default.Frequency,s.default.TimeBase),s.default.Frequency.prototype._expressions=Object.assign({},s.default.TimeBase.prototype._expressions,{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return"midi"===this._defaultUnits?t:s.default.Frequency.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,e){var i=n[t.toLowerCase()]+12*(parseInt(e)+1);return"midi"===this._defaultUnits?i:s.default.Frequency.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,i){var n=1;return t&&"0"!==t&&(n*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n*=this._beatsToUnits(parseFloat(i)/4)),n}}}),s.default.Frequency.prototype.transpose=function(t){return new this.constructor(this.valueOf()*s.default.intervalToFrequencyRatio(t))},s.default.Frequency.prototype.harmonize=function(t){return t.map(function(t){return this.transpose(t)}.bind(this))},s.default.Frequency.prototype.toMidi=function(){return s.default.Frequency.ftom(this.valueOf())},s.default.Frequency.prototype.toNote=function(){var t=this.toFrequency(),e=Math.log2(t/s.default.Frequency.A4),i=Math.round(12*e)+57,n=Math.floor(i/12);return n<0&&(i+=-12*n),r[i%12]+n.toString()},s.default.Frequency.prototype.toSeconds=function(){return 1/s.default.TimeBase.prototype.toSeconds.call(this)},s.default.Frequency.prototype.toFrequency=function(){return s.default.TimeBase.prototype.toFrequency.call(this)},s.default.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*s.default.Transport.PPQ)},s.default.Frequency.prototype._noArg=function(){return 0},s.default.Frequency.prototype._frequencyToUnits=function(t){return t},s.default.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(s.default.Transport.bpm.value*s.default.Transport.PPQ))},s.default.Frequency.prototype._beatsToUnits=function(t){return 1/s.default.TimeBase.prototype._beatsToUnits.call(this,t)},s.default.Frequency.prototype._secondsToUnits=function(t){return 1/t},s.default.Frequency.prototype._defaultUnits="hz";var n={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},r=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];s.default.Frequency.A4=440,s.default.Frequency.mtof=function(t){return s.default.Frequency.A4*Math.pow(2,(t-69)/12)},s.default.Frequency.ftom=function(t){return 69+Math.round(12*Math.log2(t/s.default.Frequency.A4))},e.default=s.default.Frequency},function(t,e,i){"use strict";i.r(e);var d=i(0);i(2),i(61),i(4),i(1),d.default.Envelope=function(){var t=d.default.defaults(arguments,["attack","decay","sustain","release"],d.default.Envelope);d.default.AudioNode.call(this),this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this._attackCurve="linear",this._releaseCurve="exponential",this._sig=this.output=new d.default.Signal(0),this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve},d.default.extend(d.default.Envelope,d.default.AudioNode),d.default.Envelope.defaults={attack:.01,decay:.1,sustain:.5,release:1,attackCurve:"linear",decayCurve:"exponential",releaseCurve:"exponential"},Object.defineProperty(d.default.Envelope.prototype,"value",{get:function(){return this.getValueAtTime(this.now())}}),d.default.Envelope.prototype._getCurve=function(t,e){if(d.default.isString(t))return t;if(d.default.isArray(t))for(var i in d.default.Envelope.Type)if(d.default.Envelope.Type[i][e]===t)return i},d.default.Envelope.prototype._setCurve=function(t,e,i){if(d.default.Envelope.Type.hasOwnProperty(i)){var n=d.default.Envelope.Type[i];d.default.isObject(n)?this[t]=n[e]:this[t]=n}else{if(!d.default.isArray(i))throw new Error("Tone.Envelope: invalid curve: "+i);this[t]=i}},Object.defineProperty(d.default.Envelope.prototype,"attackCurve",{get:function(){return this._getCurve(this._attackCurve,"In")},set:function(t){this._setCurve("_attackCurve","In",t)}}),Object.defineProperty(d.default.Envelope.prototype,"releaseCurve",{get:function(){return this._getCurve(this._releaseCurve,"Out")},set:function(t){this._setCurve("_releaseCurve","Out",t)}}),Object.defineProperty(d.default.Envelope.prototype,"decayCurve",{get:function(){return this._decayCurve},set:function(t){if(!["linear","exponential"].includes(t))throw new Error("Tone.Envelope: invalid curve: "+t);this._decayCurve=t}}),d.default.Envelope.prototype.triggerAttack=function(t,e){this.log("triggerAttack",t,e),t=this.toSeconds(t);var i=this.toSeconds(this.attack),n=this.toSeconds(this.decay);e=d.default.defaultArg(e,1);var s=this.getValueAtTime(t);if(0<s&&(i=(1-s)/(1/i)),0===i)this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,i,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,i,t);else if(0<i){this._sig.cancelAndHoldAtTime(t);for(var r=this._attackCurve,a=1;a<r.length;a++)if(r[a-1]<=s&&s<=r[a]){(r=this._attackCurve.slice(a))[0]=s;break}this._sig.setValueCurveAtTime(r,t,i,e)}if(n){var o=e*this.sustain,l=t+i;this.log("decay",l),"linear"===this._decayCurve?this._sig.linearRampTo(o,n,l+this.sampleTime):"exponential"===this._decayCurve&&this._sig.exponentialApproachValueAtTime(o,l,n)}return this},d.default.Envelope.prototype.triggerRelease=function(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e=this.getValueAtTime(t);if(0<e){var i=this.toSeconds(this.release);if("linear"===this._releaseCurve)this._sig.linearRampTo(0,i,t);else if("exponential"===this._releaseCurve)this._sig.targetRampTo(0,i,t);else{var n=this._releaseCurve;d.default.isArray(n)&&(this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(n,t,i,e))}}return this},d.default.Envelope.prototype.getValueAtTime=function(t){return this._sig.getValueAtTime(t)},d.default.Envelope.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this},d.default.Envelope.prototype.cancel=function(t){return this._sig.cancelScheduledValues(t),this},d.default.Envelope.prototype.connect=d.default.SignalBase.prototype.connect,function(){var t,e,i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));var n=[];for(t=0;t<127;t++){e=t/127;var s=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;n[t]=s/10+.83*e}n[127]=1;var r=[];for(t=0;t<128;t++)r[t]=Math.ceil(t/127*5)/5;var a=[];for(t=0;t<128;t++)e=t/127,a[t]=.5*(1-Math.cos(Math.PI*e));var o,l=[];for(t=0;t<128;t++){e=t/127;var u=4*Math.pow(e,3)+.2,h=Math.cos(u*Math.PI*2*e);l[t]=Math.abs(h*(1-e))}function c(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=1-t[i];return e}d.default.Envelope.Type={linear:"linear",exponential:"exponential",bounce:{In:c(l),Out:l},cosine:{In:i,Out:(o=i,o.slice(0).reverse())},step:{In:r,Out:c(r)},ripple:{In:n,Out:c(n)},sine:{In:a,Out:c(a)}}}(),d.default.Envelope.prototype.dispose=function(){return d.default.AudioNode.prototype.dispose.call(this),this._sig.dispose(),this._sig=null,this._attackCurve=null,this._releaseCurve=null,this},e.default=d.default.Envelope},function(t,e,i){"use strict";i.r(e);var o=i(0);if(i(23),i(10),i(19),i(7),i(28),i(3),i(2),i(20),o.default.supported&&!o.default.global.AudioContext.prototype.createStereoPanner){var n=function(t){this.context=t,this.pan=new o.default.Signal(0,o.default.Type.AudioRange);var e=new o.default.WaveShaper(function(t){return o.default.equalPowerScale((t+1)/2)},4096),i=new o.default.WaveShaper(function(t){return o.default.equalPowerScale(1-(t+1)/2)},4096),n=new o.default.Gain,s=new o.default.Gain,r=this.input=new o.default.Split;r._splitter.channelCountMode="explicit",(new o.default.Zero).fan(e,i);var a=this.output=new o.default.Merge;r.left.chain(n,a.left),r.right.chain(s,a.right),this.pan.chain(i,n.gain),this.pan.chain(e,s.gain)};n.prototype.disconnect=function(){this.output.disconnect.apply(this.output,arguments)},n.prototype.connect=function(){this.output.connect.apply(this.output,arguments)},AudioContext.prototype.createStereoPanner=function(){return new n(this)},o.default.Context.prototype.createStereoPanner=function(){return new n(this)}}i(22),i(1),o.default.Panner=function(){var t=o.default.defaults(arguments,["pan"],o.default.Panner);o.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createStereoPanner(),this.pan=this._panner.pan,this.pan.value=t.pan,this._readOnly("pan")},o.default.extend(o.default.Panner,o.default.AudioNode),o.default.Panner.defaults={pan:0},o.default.Panner.prototype.dispose=function(){return o.default.AudioNode.prototype.dispose.call(this),this._writable("pan"),this._panner.disconnect(),this._panner=null,this.pan=null,this},e.default=o.default.Panner},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),n.default.FMOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","modulationType"],n.default.FMOscillator);n.default.Source.call(this,t),this._carrier=new n.default.Oscillator(t.frequency,t.type),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=this._carrier.detune,this.detune.value=t.detune,this.modulationIndex=new n.default.Multiply(t.modulationIndex),this.modulationIndex.units=n.default.Type.Positive,this._modulator=new n.default.Oscillator(t.frequency,t.modulationType),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),this.phase=t.phase,this._readOnly(["modulationIndex","frequency","detune","harmonicity"])},n.default.extend(n.default.FMOscillator,n.default.Source),n.default.FMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationIndex:2,modulationType:"square",harmonicity:1},n.default.FMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},n.default.FMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},n.default.FMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(n.default.FMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(n.default.FMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),n.default.FMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["modulationIndex","frequency","detune","harmonicity"]),this.frequency.dispose(),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this.modulationIndex.dispose(),this.modulationIndex=null,this},e.default=n.default.FMOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(2),i(7),i(3),n.default.PulseOscillator=function(){var t=n.default.defaults(arguments,["frequency","width"],n.default.Oscillator);n.default.Source.call(this,t),this.width=new n.default.Signal(t.width,n.default.Type.NormalRange),this._widthGate=new n.default.Gain(0),this._sawtooth=new n.default.Oscillator({frequency:t.frequency,detune:t.detune,type:"sawtooth",phase:t.phase}),this.frequency=this._sawtooth.frequency,this.detune=this._sawtooth.detune,this._thresh=new n.default.WaveShaper(function(t){return t<0?-1:1}),this._sawtooth.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),this._readOnly(["width","frequency","detune"])},n.default.extend(n.default.PulseOscillator,n.default.Source),n.default.PulseOscillator.defaults={frequency:440,detune:0,phase:0,width:.2},n.default.PulseOscillator.prototype._start=function(t){t=this.toSeconds(t),this._sawtooth.start(t),this._widthGate.gain.setValueAtTime(1,t)},n.default.PulseOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._sawtooth.stop(t),this._widthGate.gain.setValueAtTime(0,t)},n.default.PulseOscillator.prototype.restart=function(t){this._sawtooth.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)},Object.defineProperty(n.default.PulseOscillator.prototype,"phase",{get:function(){return this._sawtooth.phase},set:function(t){this._sawtooth.phase=t}}),Object.defineProperty(n.default.PulseOscillator.prototype,"type",{get:function(){return"pulse"}}),Object.defineProperty(n.default.PulseOscillator.prototype,"baseType",{get:function(){return"pulse"}}),Object.defineProperty(n.default.PulseOscillator.prototype,"partials",{get:function(){return[]}}),n.default.PulseOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._sawtooth.dispose(),this._sawtooth=null,this._writable(["width","frequency","detune"]),this.width.dispose(),this.width=null,this._widthGate.dispose(),this._widthGate=null,this._thresh.dispose(),this._thresh=null,this.frequency=null,this.detune=null,this},e.default=n.default.PulseOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(16),i(4),i(34),r.default.Event=function(){var t=r.default.defaults(arguments,["callback","value"],r.default.Event);r.default.call(this),this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._state=new r.default.TimelineState(r.default.State.Stopped),this._playbackRate=1,this._startOffset=0,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate},r.default.extend(r.default.Event),r.default.Event.defaults={callback:r.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,value:null,probability:1,mute:!1,humanize:!1},r.default.Event.prototype._rescheduleEvents=function(t){return t=r.default.defaultArg(t,-1),this._state.forEachFrom(t,function(t){var e;if(t.state===r.default.State.Started){r.default.isDefined(t.id)&&r.default.Transport.clear(t.id);var i=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||r.default.isNumber(this._loop)&&1<this._loop){e=1/0,r.default.isNumber(this._loop)&&(e=this._loop*this._getLoopDuration());var n=this._state.getAfter(i);null!==n&&(e=Math.min(e,n.time-i)),e!==1/0&&(this._state.setStateAtTime(r.default.State.Stopped,i+e+1),e=r.default.Ticks(e));var s=r.default.Ticks(this._getLoopDuration());t.id=r.default.Transport.scheduleRepeat(this._tick.bind(this),s,r.default.Ticks(i),e)}else t.id=r.default.Transport.schedule(this._tick.bind(this),r.default.Ticks(i))}}.bind(this)),this},Object.defineProperty(r.default.Event.prototype,"state",{get:function(){return this._state.getValueAtTime(r.default.Transport.ticks)}}),Object.defineProperty(r.default.Event.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t}}),Object.defineProperty(r.default.Event.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t}}),Object.defineProperty(r.default.Event.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t}}),r.default.Event.prototype.start=function(t){return t=this.toTicks(t),this._state.getValueAtTime(t)===r.default.State.Stopped&&(this._state.add({state:r.default.State.Started,time:t,id:void 0}),this._rescheduleEvents(t)),this},r.default.Event.prototype.stop=function(t){if(this.cancel(t),t=this.toTicks(t),this._state.getValueAtTime(t)===r.default.State.Started){this._state.setStateAtTime(r.default.State.Stopped,t);var e=this._state.getBefore(t),i=t;null!==e&&(i=e.time),this._rescheduleEvents(i)}return this},r.default.Event.prototype.cancel=function(t){return t=r.default.defaultArg(t,-1/0),t=this.toTicks(t),this._state.forEachFrom(t,function(t){r.default.Transport.clear(t.id)}),this._state.cancel(t),this},r.default.Event.prototype._tick=function(t){var e=r.default.Transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(e)===r.default.State.Started){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){var i=.02;r.default.isBoolean(this.humanize)||(i=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*i}this.callback(t,this.value)}},r.default.Event.prototype._getLoopDuration=function(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)},Object.defineProperty(r.default.Event.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this._rescheduleEvents()}}),Object.defineProperty(r.default.Event.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._rescheduleEvents()}}),Object.defineProperty(r.default.Event.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(r.default.Event.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}}),Object.defineProperty(r.default.Event.prototype,"progress",{get:function(){if(this._loop){var t=r.default.Transport.ticks,e=this._state.get(t);if(null===e||e.state!==r.default.State.Started)return 0;var i=this._getLoopDuration();return(t-e.time)%i/i}return 0}}),r.default.Event.prototype.dispose=function(){this.cancel(),this._state.dispose(),this._state=null,this.callback=null,this.value=null},e.default=r.default.Event},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(13),i(29),i(10),i(3),i(1),n.default.MidSideMerge=function(){n.default.AudioNode.call(this),this.createInsOuts(2,0),this.mid=this.input[0]=new n.default.Gain,this._left=new n.default.Add,this._timesTwoLeft=new n.default.Multiply(Math.SQRT1_2),this.side=this.input[1]=new n.default.Gain,this._right=new n.default.Subtract,this._timesTwoRight=new n.default.Multiply(Math.SQRT1_2),this._merge=this.output=new n.default.Merge,this.mid.connect(this._left,0,0),this.side.connect(this._left,0,1),this.mid.connect(this._right,0,0),this.side.connect(this._right,0,1),this._left.connect(this._timesTwoLeft),this._right.connect(this._timesTwoRight),this._timesTwoLeft.connect(this._merge,0,0),this._timesTwoRight.connect(this._merge,0,1)},n.default.extend(n.default.MidSideMerge,n.default.AudioNode),n.default.MidSideMerge.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._left.dispose(),this._left=null,this._timesTwoLeft.dispose(),this._timesTwoLeft=null,this._right.dispose(),this._right=null,this._timesTwoRight.dispose(),this._timesTwoRight=null,this._merge.dispose(),this._merge=null,this},e.default=n.default.MidSideMerge},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(13),i(2),i(19),i(1),n.default.MidSideSplit=function(){n.default.AudioNode.call(this),this.createInsOuts(0,2),this._split=this.input=new n.default.Split,this._midAdd=new n.default.Add,this.mid=this.output[0]=new n.default.Multiply(Math.SQRT1_2),this._sideSubtract=new n.default.Subtract,this.side=this.output[1]=new n.default.Multiply(Math.SQRT1_2),this._split.connect(this._midAdd,0,0),this._split.connect(this._midAdd,1,1),this._split.connect(this._sideSubtract,0,0),this._split.connect(this._sideSubtract,1,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)},n.default.extend(n.default.MidSideSplit,n.default.AudioNode),n.default.MidSideSplit.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midAdd.dispose(),this._midAdd=null,this._sideSubtract.dispose(),this._sideSubtract=null,this._split.dispose(),this._split=null,this},e.default=n.default.MidSideSplit},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(9),i(1),i(59),n.default.LowpassCombFilter=function(){var t=n.default.defaults(arguments,["delayTime","resonance","dampening"],n.default.LowpassCombFilter);n.default.AudioNode.call(this),this._combFilter=this.output=new n.default.FeedbackCombFilter(t.delayTime,t.resonance),this.delayTime=this._combFilter.delayTime,this._lowpass=this.input=new n.default.Filter({frequency:t.dampening,type:"lowpass",Q:0,rolloff:-12}),this.dampening=this._lowpass.frequency,this.resonance=this._combFilter.resonance,this._lowpass.connect(this._combFilter),this._readOnly(["dampening","resonance","delayTime"])},n.default.extend(n.default.LowpassCombFilter,n.default.AudioNode),n.default.LowpassCombFilter.defaults={delayTime:.1,resonance:.5,dampening:3e3},n.default.LowpassCombFilter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["dampening","resonance","delayTime"]),this._combFilter.dispose(),this._combFilter=null,this.resonance=null,this.delayTime=null,this._lowpass.dispose(),this._lowpass=null,this.dampening=null,this},e.default=n.default.LowpassCombFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(45),n.default.Ticks=function(t,e){if(!(this instanceof n.default.Ticks))return new n.default.Ticks(t,e);n.default.TransportTime.call(this,t,e)},n.default.extend(n.default.Ticks,n.default.TransportTime),n.default.Ticks.prototype._defaultUnits="i",n.default.Ticks.prototype._now=function(){return n.default.Transport.ticks},n.default.Ticks.prototype._beatsToUnits=function(t){return this._getPPQ()*t},n.default.Ticks.prototype._secondsToUnits=function(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())},n.default.Ticks.prototype._ticksToUnits=function(t){return t},n.default.Ticks.prototype.toTicks=function(){return this.valueOf()},n.default.Ticks.prototype.toSeconds=function(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())},e.default=n.default.Ticks},function(t,e,i){"use strict";i.r(e);var n=i(0);i(55),n.default.TransportEvent=function(t,e){e=n.default.defaultArg(e,n.default.TransportEvent.defaults),n.default.call(this),this.Transport=t,this.id=n.default.TransportEvent._eventId++,this.time=n.default.Ticks(e.time),this.callback=e.callback,this._once=e.once},n.default.extend(n.default.TransportEvent),n.default.TransportEvent.defaults={once:!1,callback:n.default.noOp},n.default.TransportEvent._eventId=0,n.default.TransportEvent.prototype.invoke=function(t){this.callback&&(this.callback(t),this._once&&this.Transport&&this.Transport.clear(this.id))},n.default.TransportEvent.prototype.dispose=function(){return n.default.prototype.dispose.call(this),this.Transport=null,this.callback=null,this.time=null,this},e.default=n.default.TransportEvent},function(t,e,i){"use strict";i.r(e);var l=i(0);i(82),i(34),i(24),i(14),l.default.TickSource=function(){var t=l.default.defaults(arguments,["frequency"],l.default.TickSource);this.frequency=new l.default.TickSignal(t.frequency),this._readOnly("frequency"),this._state=new l.default.TimelineState(l.default.State.Stopped),this._state.setStateAtTime(l.default.State.Stopped,0),this._tickOffset=new l.default.Timeline,this.setTicksAtTime(0,0)},l.default.extend(l.default.TickSource),l.default.TickSource.defaults={frequency:1},Object.defineProperty(l.default.TickSource.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),l.default.TickSource.prototype.start=function(t,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==l.default.State.Started&&(this._state.setStateAtTime(l.default.State.Started,t),l.default.isDefined(e)&&this.setTicksAtTime(e,t)),this},l.default.TickSource.prototype.stop=function(t){if(t=this.toSeconds(t),this._state.getValueAtTime(t)===l.default.State.Stopped){var e=this._state.get(t);0<e.time&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime(l.default.State.Stopped,t),this.setTicksAtTime(0,t),this},l.default.TickSource.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===l.default.State.Started&&this._state.setStateAtTime(l.default.State.Paused,t),this},l.default.TickSource.prototype.cancel=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this},l.default.TickSource.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(l.default.State.Stopped,t),i={state:l.default.State.Paused,time:t};this._state.add(i);var n=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=n.time,i=this._tickOffset.get(t.time);i.time>=n.time&&(s=i.ticks,e=i.time),n.state===l.default.State.Started&&t.state!==l.default.State.Started&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),n=t}.bind(this)),this._state.remove(i),s},Object.defineProperty(l.default.TickSource.prototype,"ticks",{get:function(){return this.getTicksAtTime(this.now())},set:function(t){this.setTicksAtTime(t,this.now())}}),Object.defineProperty(l.default.TickSource.prototype,"seconds",{get:function(){return this.getSecondsAtTime(this.now())},set:function(t){var e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}}),l.default.TickSource.prototype.getSecondsAtTime=function(t){t=this.toSeconds(t);var e=this._state.getLastState(l.default.State.Stopped,t),i={state:l.default.State.Paused,time:t};this._state.add(i);var n=e,s=0;return this._state.forEachBetween(e.time,t+this.sampleTime,function(t){var e=n.time,i=this._tickOffset.get(t.time);i.time>=n.time&&(s=i.seconds,e=i.time),n.state===l.default.State.Started&&t.state!==l.default.State.Started&&(s+=t.time-e),n=t}.bind(this)),this._state.remove(i),s},l.default.TickSource.prototype.setTicksAtTime=function(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({time:e,ticks:t,seconds:this.frequency.getDurationOfTicks(t,e)}),this},l.default.TickSource.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},l.default.TickSource.prototype.getTimeOfTick=function(t,e){e=l.default.defaultArg(e,this.now());var i=this._tickOffset.get(e),n=this._state.get(e),s=Math.max(i.time,n.time),r=this.frequency.getTicksAtTime(s)+t-i.ticks;return this.frequency.getTimeOfTick(r)},l.default.TickSource.prototype.forEachTickBetween=function(e,t,i){var n=this._state.get(e);if(this._state.forEachBetween(e,t,function(t){n.state===l.default.State.Started&&t.state!==l.default.State.Started&&this.forEachTickBetween(Math.max(n.time,e),t.time-this.sampleTime,i),n=t}.bind(this)),e=Math.max(n.time,e),n.state===l.default.State.Started&&this._state){var s=this.frequency.getTicksAtTime(e),r=(s-this.frequency.getTicksAtTime(n.time))%1;0!==r&&(r=1-r);for(var a=this.frequency.getTimeOfTick(s+r),o=null;a<t&&this._state;){try{i(a,Math.round(this.getTicksAtTime(a)))}catch(e){o=e;break}this._state&&(a+=this.frequency.getDurationOfTicks(1,a))}}if(o)throw o;return this},l.default.TickSource.prototype.dispose=function(){return l.default.Param.prototype.dispose.call(this),this._state.dispose(),this._state=null,this._tickOffset.dispose(),this._tickOffset=null,this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this},e.default=l.default.TickSource},function(t,e,i){"use strict";i.r(e);var n=i(0);i(87),i(13),i(2),i(4),i(18),i(1),n.default.Follower=function(){var t=n.default.defaults(arguments,["smoothing"],n.default.Follower);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._abs=new n.default.Abs,this._filter=this.context.createBiquadFilter(),this._filter.type="lowpass",this._filter.frequency.value=0,this._filter.Q.value=0,this._sub=new n.default.Subtract,this._delay=new n.default.Delay(this.blockTime),this._smoothing=t.smoothing,n.default.connect(this.input,this._delay),n.default.connect(this.input,this._sub,0,1),this._sub.chain(this._abs,this._filter,this.output),this.smoothing=t.smoothing},n.default.extend(n.default.Follower,n.default.AudioNode),n.default.Follower.defaults={smoothing:.05},Object.defineProperty(n.default.Follower.prototype,"smoothing",{get:function(){return this._smoothing},set:function(t){this._smoothing=t,this._filter.frequency.value=.5*n.default.Time(t).toFrequency()}}),n.default.Follower.prototype.connect=n.default.SignalBase.prototype.connect,n.default.Follower.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._filter.disconnect(),this._filter=null,this._delay.dispose(),this._delay=null,this._sub.disconnect(),this._sub=null,this._abs.dispose(),this._abs=null,this},e.default=n.default.Follower},function(t,e,i){"use strict";i.r(e);var n=i(0);i(42),i(2),i(14),i(18),i(3),i(1),n.default.FeedbackCombFilter=function(){var t=n.default.defaults(arguments,["delayTime","resonance"],n.default.FeedbackCombFilter);n.default.AudioNode.call(this),this._delay=this.input=this.output=new n.default.Delay(t.delayTime),this.delayTime=this._delay.delayTime,this._feedback=new n.default.Gain(t.resonance,n.default.Type.NormalRange),this.resonance=this._feedback.gain,this._delay.chain(this._feedback,this._delay),this._readOnly(["resonance","delayTime"])},n.default.extend(n.default.FeedbackCombFilter,n.default.AudioNode),n.default.FeedbackCombFilter.defaults={delayTime:.1,resonance:.5},n.default.FeedbackCombFilter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["resonance","delayTime"]),this._delay.dispose(),this._delay=null,this.delayTime=null,this._feedback.dispose(),this._feedback=null,this.resonance=null,this},e.default=n.default.FeedbackCombFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(9),i(2),i(3),i(1),n.default.MultibandSplit=function(){var t=n.default.defaults(arguments,["lowFrequency","highFrequency"],n.default.MultibandSplit);n.default.AudioNode.call(this),this.input=new n.default.Gain,this.output=new Array(3),this.low=this.output[0]=new n.default.Filter(0,"lowpass"),this._lowMidFilter=new n.default.Filter(0,"highpass"),this.mid=this.output[1]=new n.default.Filter(0,"lowpass"),this.high=this.output[2]=new n.default.Filter(0,"highpass"),this.lowFrequency=new n.default.Signal(t.lowFrequency,n.default.Type.Frequency),this.highFrequency=new n.default.Signal(t.highFrequency,n.default.Type.Frequency),this.Q=new n.default.Signal(t.Q),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.connect(this.low.frequency),this.lowFrequency.connect(this._lowMidFilter.frequency),this.highFrequency.connect(this.mid.frequency),this.highFrequency.connect(this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},n.default.extend(n.default.MultibandSplit,n.default.AudioNode),n.default.MultibandSplit.defaults={lowFrequency:400,highFrequency:2500,Q:1},n.default.MultibandSplit.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.low=null,this._lowMidFilter.dispose(),this._lowMidFilter=null,this.mid.dispose(),this.mid=null,this.high.dispose(),this.high=null,this.lowFrequency.dispose(),this.lowFrequency=null,this.highFrequency.dispose(),this.highFrequency=null,this.Q.dispose(),this.Q=null,this},e.default=n.default.MultibandSplit},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),n.default.Pow=function(t){n.default.SignalBase.call(this),this._exp=n.default.defaultArg(t,1),this._expScaler=this.input=this.output=new n.default.WaveShaper(this._expFunc(this._exp),8192)},n.default.extend(n.default.Pow,n.default.SignalBase),Object.defineProperty(n.default.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),n.default.Pow.prototype._expFunc=function(e){return function(t){return Math.pow(Math.abs(t),e)}},n.default.Pow.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.default=n.default.Pow},function(t,e,i){"use strict";i.r(e);var a=i(0);a.default.TimeBase=function(t,e){if(!(this instanceof a.default.TimeBase))return new a.default.TimeBase(t,e);if(this._val=t,this._units=e,a.default.isUndef(this._units)&&a.default.isString(this._val)&&parseFloat(this._val)==this._val&&"+"!==this._val.charAt(0))this._val=parseFloat(this._val),this._units=this._defaultUnits;else if(t&&t.constructor===this.constructor)this._val=t._val,this._units=t._units;else if(t instanceof a.default.TimeBase)switch(this._defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break;default:throw new Error("Unrecognized default units "+this._defaultUnits)}},a.default.extend(a.default.TimeBase),a.default.TimeBase.prototype._expressions={n:{regexp:/^(\d+)n(\.?)$/i,method:function(t,e){var i="."===e?1.5:1;return 1===(t=parseInt(t))?this._beatsToUnits(this._getTimeSignature())*i:this._beatsToUnits(4/t)*i}},t:{regexp:/^(\d+)t$/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m$/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._getTimeSignature())}},i:{regexp:/^(\d+)i$/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz$/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/,method:function(t,e,i){var n=0;return t&&"0"!==t&&(n+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n+=this._beatsToUnits(parseFloat(i)/4)),n}},s:{regexp:/^(\d+(?:\.\d+)?)s$/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples$/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)$/,method:function(t){return this._expressions[this._defaultUnits].method.call(this,t)}}},a.default.TimeBase.prototype._defaultUnits="s",a.default.TimeBase.prototype._getBpm=function(){return a.default.Transport?a.default.Transport.bpm.value:120},a.default.TimeBase.prototype._getTimeSignature=function(){return a.default.Transport?a.default.Transport.timeSignature:4},a.default.TimeBase.prototype._getPPQ=function(){return a.default.Transport?a.default.Transport.PPQ:192},a.default.TimeBase.prototype._now=function(){return this.now()},a.default.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},a.default.TimeBase.prototype._beatsToUnits=function(t){return 60/this._getBpm()*t},a.default.TimeBase.prototype._secondsToUnits=function(t){return t},a.default.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/this._getPPQ())},a.default.TimeBase.prototype._noArg=function(){return this._now()},a.default.TimeBase.prototype.valueOf=function(){if(a.default.isUndef(this._val))return this._noArg();if(a.default.isString(this._val)&&a.default.isUndef(this._units)){for(var t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(a.default.isObject(this._val)){var e=0;for(var i in this._val){var n=this._val[i];e+=new this.constructor(i).valueOf()*n}return e}if(a.default.isDefined(this._units)){var s=this._expressions[this._units],r=this._val.toString().trim().match(s.regexp);return r?s.method.apply(this,r.slice(1)):s.method.call(this,parseFloat(this._val))}return this._val},a.default.TimeBase.prototype.toSeconds=function(){return this.valueOf()},a.default.TimeBase.prototype.toFrequency=function(){return 1/this.toSeconds()},a.default.TimeBase.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},a.default.TimeBase.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},a.default.TimeBase.prototype.dispose=function(){this._val=null,this._units=null},e.default=a.default.TimeBase},function(t,e,i){"use strict";i.r(e);var a=i(0);i(62),i(46),a.default.Time=function(t,e){if(!(this instanceof a.default.Time))return new a.default.Time(t,e);a.default.TimeBase.call(this,t,e)},a.default.extend(a.default.Time,a.default.TimeBase),a.default.Time.prototype._expressions=Object.assign({},a.default.TimeBase.prototype._expressions,{quantize:{regexp:/^@(.+)/,method:function(t){if(a.default.Transport){var e=new this.constructor(t);return this._secondsToUnits(a.default.Transport.nextSubdivision(e))}return 0}},now:{regexp:/^\+(.+)/,method:function(t){return this._now()+new this.constructor(t)}}}),a.default.Time.prototype.quantize=function(t,e){e=a.default.defaultArg(e,1);var i=new this.constructor(t),n=this.valueOf();return n+(Math.round(n/i)*i-n)*e},a.default.Time.prototype.toNotation=function(){for(var i=this.toSeconds(),t=["1m"],e=1;e<8;e++){var n=Math.pow(2,e);t.push(n+"n."),t.push(n+"n"),t.push(n+"t")}t.push("0");var s=t[0],r=a.default.Time(t[0]).toSeconds();return t.forEach(function(t){var e=a.default.Time(t).toSeconds();Math.abs(e-i)<Math.abs(r-i)&&(s=t,r=e)}),s},a.default.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;e=parseFloat(e.toFixed(4));var i=Math.floor(e/this._getTimeSignature()),n=e%1*4;return e=Math.floor(e)%this._getTimeSignature(),3<(n=n.toString()).length&&(n=parseFloat(parseFloat(n).toFixed(3))),[i,e,n].join(":")},a.default.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())},a.default.Time.prototype.toSeconds=function(){return this.valueOf()},a.default.Time.prototype.toMidi=function(){return a.default.Frequency.ftom(this.toFrequency())},e.default=a.default.Time},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(6),i(3),i(1),n.default.supported&&(OscillatorNode.prototype.setPeriodicWave||(OscillatorNode.prototype.setPeriodicWave=OscillatorNode.prototype.setWaveTable),AudioContext.prototype.createPeriodicWave||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable)),n.default.OscillatorNode=function(){var t=n.default.defaults(arguments,["frequency","type"],n.default.OscillatorNode);n.default.AudioNode.call(this,t),this.onended=t.onended,this._startTime=-1,this._stopTime=-1,this._gainNode=this.output=new n.default.Gain(0),this._oscillator=this.context.createOscillator(),n.default.connect(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new n.default.Param({param:this._oscillator.frequency,units:n.default.Type.Frequency,value:t.frequency}),this.detune=new n.default.Param({param:this._oscillator.detune,units:n.default.Type.Cents,value:t.detune}),this._gain=1},n.default.extend(n.default.OscillatorNode,n.default.AudioNode),n.default.OscillatorNode.defaults={frequency:440,detune:0,type:"sine",onended:n.default.noOp},Object.defineProperty(n.default.OscillatorNode.prototype,"state",{get:function(){return this.getStateAtTime(this.now())}}),n.default.OscillatorNode.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?n.default.State.Started:n.default.State.Stopped},n.default.OscillatorNode.prototype.start=function(t){if(this.log("start",t),-1!==this._startTime)throw new Error("cannot call OscillatorNode.start more than once");return this._startTime=this.toSeconds(t),this._startTime=Math.max(this._startTime,this.context.currentTime),this._oscillator.start(this._startTime),this._gainNode.gain.setValueAtTime(1,this._startTime),this},n.default.OscillatorNode.prototype.setPeriodicWave=function(t){return this._oscillator.setPeriodicWave(t),this},n.default.OscillatorNode.prototype.stop=function(t){return this.log("stop",t),this.assert(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop(),this._stopTime=this.toSeconds(t),this._stopTime=Math.max(this._stopTime,this.context.currentTime),this._stopTime>this._startTime?(this._gainNode.gain.setValueAtTime(0,this._stopTime),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(function(){this._oscillator.stop(this.now()),this.onended(),setTimeout(function(){this._oscillator&&(this._oscillator.disconnect(),this._gainNode.disconnect())}.bind(this),100)}.bind(this),this._stopTime-this.context.currentTime)):this._gainNode.gain.cancelScheduledValues(this._startTime),this},n.default.OscillatorNode.prototype.cancelStop=function(){return-1!==this._startTime&&(this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1),this},Object.defineProperty(n.default.OscillatorNode.prototype,"type",{get:function(){return this._oscillator.type},set:function(t){this._oscillator.type=t}}),n.default.OscillatorNode.prototype.dispose=function(){return this._wasDisposed||(this._wasDisposed=!0,this.context.clearTimeout(this._timeout),n.default.AudioNode.prototype.dispose.call(this),this.onended=null,this._oscillator.disconnect(),this._oscillator=null,this._gainNode.dispose(),this._gainNode=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null),this},e.default=n.default.OscillatorNode},function(t,e,i){"use strict";i.r(e);var r=i(0);i(11),i(6),i(57),i(32),r.default.Player=function(t){var e;e=t instanceof r.default.Buffer&&t.loaded?(t=t.get(),r.default.Player.defaults):r.default.defaults(arguments,["url","onload"],r.default.Player),r.default.Source.call(this,e),this.autostart=e.autostart,this._buffer=new r.default.Buffer({url:e.url,onload:this._onload.bind(this,e.onload),reverse:e.reverse}),t instanceof AudioBuffer&&this._buffer.set(t),this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this._activeSources=[],this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut},r.default.extend(r.default.Player,r.default.Source),r.default.Player.defaults={onload:r.default.noOp,playbackRate:1,loop:!1,autostart:!1,loopStart:0,loopEnd:0,reverse:!1,fadeIn:0,fadeOut:0},r.default.Player.prototype.load=function(t,e){return this._buffer.load(t,this._onload.bind(this,e))},r.default.Player.prototype._onload=function(t){(t=r.default.defaultArg(t,r.default.noOp))(this),this.autostart&&this.start()},r.default.Player.prototype._onSourceEnd=function(t){var e=this._activeSources.indexOf(t);this._activeSources.splice(e,1),0!==this._activeSources.length||this._synced||this._state.setStateAtTime(r.default.State.Stopped,r.default.now())},r.default.Player.prototype._start=function(t,e,i){e=this._loop?r.default.defaultArg(e,this._loopStart):r.default.defaultArg(e,0),e=this.toSeconds(e),this._synced&&(e*=this._playbackRate);var n=r.default.defaultArg(i,Math.max(this._buffer.duration-e,0));n=this.toSeconds(n),n/=this._playbackRate,t=this.toSeconds(t);var s=new r.default.BufferSource({buffer:this._buffer,loop:this._loop,loopStart:this._loopStart,loopEnd:this._loopEnd,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate,fadeIn:this.fadeIn,fadeOut:this.fadeOut}).connect(this.output);return this._loop||this._synced||this._state.setStateAtTime(r.default.State.Stopped,t+n),this._activeSources.push(s),this._loop&&r.default.isUndef(i)?s.start(t,e):s.start(t,e,n-this.toSeconds(this.fadeOut)),this},r.default.Player.prototype._stop=function(e){return e=this.toSeconds(e),this._activeSources.forEach(function(t){t.stop(e)}),this},r.default.Player.prototype.restart=function(t,e,i){return this._stop(t),this._start(t,e,i),this},r.default.Player.prototype.seek=function(t,e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===r.default.State.Started&&(t=this.toSeconds(t),this._stop(e),this._start(e,t)),this},r.default.Player.prototype.setLoopPoints=function(t,e){return this.loopStart=t,this.loopEnd=e,this},Object.defineProperty(r.default.Player.prototype,"loopStart",{get:function(){return this._loopStart},set:function(e){this._loopStart=e,this._activeSources.forEach(function(t){t.loopStart=e})}}),Object.defineProperty(r.default.Player.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(e){this._loopEnd=e,this._activeSources.forEach(function(t){t.loopEnd=e})}}),Object.defineProperty(r.default.Player.prototype,"buffer",{get:function(){return this._buffer},set:function(t){this._buffer.set(t)}}),Object.defineProperty(r.default.Player.prototype,"loop",{get:function(){return this._loop},set:function(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(function(t){t.loop=e}),e)){var t=this._state.getNextState(r.default.State.Stopped,this.now());t&&this._state.cancel(t.time)}}}),Object.defineProperty(r.default.Player.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(e){this._playbackRate=e;var i=this.now(),t=this._state.getNextState(r.default.State.Stopped,i);t&&this._state.cancel(t.time),this._activeSources.forEach(function(t){t.cancelStop(),t.playbackRate.setValueAtTime(e,i)})}}),Object.defineProperty(r.default.Player.prototype,"reverse",{get:function(){return this._buffer.reverse},set:function(t){this._buffer.reverse=t}}),Object.defineProperty(r.default.Player.prototype,"loaded",{get:function(){return this._buffer.loaded}}),r.default.Player.prototype.dispose=function(){return this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,r.default.Source.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this},e.default=r.default.Player},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(41),i(37),i(2),i(9),i(25),n.default.MonoSynth=function(t){t=n.default.defaultArg(t,n.default.MonoSynth.defaults),n.default.Monophonic.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new n.default.Filter(t.filter),this.filter.frequency.value=5e3,this.filterEnvelope=new n.default.FrequencyEnvelope(t.filterEnvelope),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),this._readOnly(["oscillator","frequency","detune","filter","filterEnvelope","envelope"])},n.default.extend(n.default.MonoSynth,n.default.Monophonic),n.default.MonoSynth.defaults={frequency:"C4",detune:0,oscillator:{type:"square"},filter:{Q:6,type:"lowpass",rolloff:-24},envelope:{attack:.005,decay:.1,sustain:.9,release:1},filterEnvelope:{attack:.06,decay:.2,sustain:.5,release:2,baseFrequency:200,octaves:7,exponent:2}},n.default.MonoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain&&this.oscillator.stop(t+this.envelope.attack+this.envelope.decay),this},n.default.MonoSynth.prototype._triggerEnvelopeRelease=function(t){return this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},n.default.MonoSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["oscillator","frequency","detune","filter","filterEnvelope","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this.filterEnvelope.dispose(),this.filterEnvelope=null,this.filter.dispose(),this.filter=null,this.frequency=null,this.detune=null,this},e.default=n.default.MonoSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),n.default.FatOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","spread"],n.default.FatOscillator);n.default.Source.call(this,t),this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this._oscillators=[],this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,this._readOnly(["frequency","detune"])},n.default.extend(n.default.FatOscillator,n.default.Source),n.default.FatOscillator.defaults={frequency:440,detune:0,phase:0,spread:20,count:3,type:"sawtooth",partials:[],partialCount:0},n.default.FatOscillator.prototype._start=function(e){e=this.toSeconds(e),this._forEach(function(t){t.start(e)})},n.default.FatOscillator.prototype._stop=function(e){e=this.toSeconds(e),this._forEach(function(t){t.stop(e)})},n.default.FatOscillator.prototype.restart=function(e){e=this.toSeconds(e),this._forEach(function(t){t.restart(e)})},n.default.FatOscillator.prototype._forEach=function(t){for(var e=0;e<this._oscillators.length;e++)t.call(this,this._oscillators[e],e)},Object.defineProperty(n.default.FatOscillator.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._forEach(function(t){t.type=e})}}),Object.defineProperty(n.default.FatOscillator.prototype,"spread",{get:function(){return this._spread},set:function(t){if(this._spread=t,1<this._oscillators.length){var i=-t/2,n=t/(this._oscillators.length-1);this._forEach(function(t,e){t.detune.value=i+n*e})}}}),Object.defineProperty(n.default.FatOscillator.prototype,"count",{get:function(){return this._oscillators.length},set:function(t){if(t=Math.max(t,1),this._oscillators.length!==t){this._forEach(function(t){t.dispose()}),this._oscillators=[];for(var e=0;e<t;e++){var i=new n.default.Oscillator;this.type===n.default.Oscillator.Type.Custom?i.partials=this._partials:i.type=this._type,i.partialCount=this._partialCount,i.phase=this._phase+e/t*360,i.volume.value=-6-1.1*t,this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state===n.default.State.Started&&this._forEach(function(t){t.start()})}}}),Object.defineProperty(n.default.FatOscillator.prototype,"phase",{get:function(){return this._phase},set:function(e){this._phase=e,this._forEach(function(t){t.phase=e})}}),Object.defineProperty(n.default.FatOscillator.prototype,"baseType",{get:function(){return this._oscillators[0].baseType},set:function(e){this._forEach(function(t){t.baseType=e}),this._type=this._oscillators[0].type}}),Object.defineProperty(n.default.FatOscillator.prototype,"partials",{get:function(){return this._oscillators[0].partials},set:function(e){this._partials=e,this._type=n.default.Oscillator.Type.Custom,this._forEach(function(t){t.partials=e})}}),Object.defineProperty(n.default.FatOscillator.prototype,"partialCount",{get:function(){return this._oscillators[0].partialCount},set:function(e){this._partialCount=e,this._forEach(function(t){t.partialCount=e}),this._type=this._oscillators[0].type}}),n.default.FatOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune"]),this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this._forEach(function(t){t.dispose()}),this._oscillators=null,this._partials=null,this},e.default=n.default.FatOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(17),i(5),i(3),i(22),n.default.AMOscillator=function(){var t=n.default.defaults(arguments,["frequency","type","modulationType"],n.default.AMOscillator);n.default.Source.call(this,t),this._carrier=new n.default.Oscillator(t.frequency,t.type),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this.detune.value=t.detune,this._modulator=new n.default.Oscillator(t.frequency,t.modulationType),this._modulationScale=new n.default.AudioToGain,this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.connect(this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this.phase=t.phase,this._readOnly(["frequency","detune","harmonicity"])},n.default.extend(n.default.AMOscillator,n.default.Oscillator),n.default.AMOscillator.defaults={frequency:440,detune:0,phase:0,type:"sine",modulationType:"square",harmonicity:1},n.default.AMOscillator.prototype._start=function(t){this._modulator.start(t),this._carrier.start(t)},n.default.AMOscillator.prototype._stop=function(t){this._modulator.stop(t),this._carrier.stop(t)},n.default.AMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._carrier.restart(t)},Object.defineProperty(n.default.AMOscillator.prototype,"type",{get:function(){return this._carrier.type},set:function(t){this._carrier.type=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"baseType",{get:function(){return this._carrier.baseType},set:function(t){this._carrier.baseType=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"partialCount",{get:function(){return this._carrier.partialCount},set:function(t){this._carrier.partialCount=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"modulationType",{get:function(){return this._modulator.type},set:function(t){this._modulator.type=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"phase",{get:function(){return this._carrier.phase},set:function(t){this._carrier.phase=t,this._modulator.phase=t}}),Object.defineProperty(n.default.AMOscillator.prototype,"partials",{get:function(){return this._carrier.partials},set:function(t){this._carrier.partials=t}}),n.default.AMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._writable(["frequency","detune","harmonicity"]),this.frequency=null,this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this._modulationNode.dispose(),this._modulationNode=null,this._modulationScale.dispose(),this._modulationScale=null,this},e.default=n.default.AMOscillator},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(50),i(17),i(5),n.default.PWMOscillator=function(){var t=n.default.defaults(arguments,["frequency","modulationFrequency"],n.default.PWMOscillator);n.default.Source.call(this,t),this._pulse=new n.default.PulseOscillator(t.modulationFrequency),this._pulse._sawtooth.type="sine",this._modulator=new n.default.Oscillator({frequency:t.frequency,detune:t.detune,phase:t.phase}),this._scale=new n.default.Multiply(2),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this.modulationFrequency=this._pulse.frequency,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),this._readOnly(["modulationFrequency","frequency","detune"])},n.default.extend(n.default.PWMOscillator,n.default.Source),n.default.PWMOscillator.defaults={frequency:440,detune:0,phase:0,modulationFrequency:.4},n.default.PWMOscillator.prototype._start=function(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)},n.default.PWMOscillator.prototype._stop=function(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)},n.default.PWMOscillator.prototype.restart=function(t){this._modulator.restart(t),this._pulse.restart(t)},Object.defineProperty(n.default.PWMOscillator.prototype,"type",{get:function(){return"pwm"}}),Object.defineProperty(n.default.PWMOscillator.prototype,"baseType",{get:function(){return"pwm"}}),Object.defineProperty(n.default.PWMOscillator.prototype,"partials",{get:function(){return[]}}),Object.defineProperty(n.default.PWMOscillator.prototype,"phase",{get:function(){return this._modulator.phase},set:function(t){this._modulator.phase=t}}),n.default.PWMOscillator.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this._pulse.dispose(),this._pulse=null,this._scale.dispose(),this._scale=null,this._modulator.dispose(),this._modulator=null,this._writable(["modulationFrequency","frequency","detune"]),this.frequency=null,this.detune=null,this.modulationFrequency=null,this},e.default=n.default.PWMOscillator},function(t,e,i){"use strict";i.r(e);var r=i(0);i(51),i(4),i(16),r.default.Part=function(){var t=r.default.defaults(arguments,["callback","events"],r.default.Part);r.default.Event.call(this,t),this._events=[];for(var e=0;e<t.events.length;e++)Array.isArray(t.events[e])?this.add(t.events[e][0],t.events[e][1]):this.add(t.events[e])},r.default.extend(r.default.Part,r.default.Event),r.default.Part.defaults={callback:r.default.noOp,loop:!1,loopEnd:"1m",loopStart:0,playbackRate:1,probability:1,humanize:!1,mute:!1,events:[]},r.default.Part.prototype.start=function(t,e){var i=this.toTicks(t);return this._state.getValueAtTime(i)!==r.default.State.Started&&(e=this._loop?r.default.defaultArg(e,this._loopStart):r.default.defaultArg(e,0),e=this.toTicks(e),this._state.add({state:r.default.State.Started,time:i,offset:e}),this._forEach(function(t){this._startNote(t,i,e)})),this},r.default.Part.prototype._startNote=function(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(r.default.Ticks(e))):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(r.default.Ticks(e))):t.startOffset>=i&&t.start(r.default.Ticks(e))},Object.defineProperty(r.default.Part.prototype,"startOffset",{get:function(){return this._startOffset},set:function(t){this._startOffset=t,this._forEach(function(t){t.startOffset+=this._startOffset})}}),r.default.Part.prototype.stop=function(e){var t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime(r.default.State.Stopped,t),this._forEach(function(t){t.stop(e)}),this},r.default.Part.prototype.at=function(t,e){t=r.default.TransportTime(t);for(var i=r.default.Ticks(1).toSeconds(),n=0;n<this._events.length;n++){var s=this._events[n];if(Math.abs(t.toTicks()-s.startOffset)<i)return r.default.isDefined(e)&&(s.value=e),s}return r.default.isDefined(e)?(this.add(t,e),this._events[this._events.length-1]):null},r.default.Part.prototype.add=function(t,e){var i;return t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),e instanceof r.default.Event?(i=e).callback=this._tick.bind(this):i=new r.default.Event({callback:this._tick.bind(this),value:e}),i.startOffset=t,i.set({loopEnd:this.loopEnd,loopStart:this.loopStart,loop:this.loop,humanize:this.humanize,playbackRate:this.playbackRate,probability:this.probability}),this._events.push(i),this._restartEvent(i),this},r.default.Part.prototype._restartEvent=function(e){this._state.forEach(function(t){t.state===r.default.State.Started?this._startNote(e,t.time,t.offset):e.stop(r.default.Ticks(t.time))}.bind(this))},r.default.Part.prototype.remove=function(t,e){t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t);for(var i=this._events.length-1;0<=i;i--){var n=this._events[i];n.startOffset===t&&(r.default.isUndef(e)||r.default.isDefined(e)&&n.value===e)&&(this._events.splice(i,1),n.dispose())}return this},r.default.Part.prototype.removeAll=function(){return this._forEach(function(t){t.dispose()}),this._events=[],this},r.default.Part.prototype.cancel=function(e){return this._forEach(function(t){t.cancel(e)}),this._state.cancel(this.toTicks(e)),this},r.default.Part.prototype._forEach=function(t,e){if(this._events){e=r.default.defaultArg(e,this);for(var i=this._events.length-1;0<=i;i--){var n=this._events[i];n instanceof r.default.Part?n._forEach(t,e):t.call(e,n)}}return this},r.default.Part.prototype._setAll=function(e,i){this._forEach(function(t){t[e]=i})},r.default.Part.prototype._tick=function(t,e){this.mute||this.callback(t,e)},r.default.Part.prototype._testLoopBoundries=function(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):t.state===r.default.State.Stopped&&this._restartEvent(t)},Object.defineProperty(r.default.Part.prototype,"probability",{get:function(){return this._probability},set:function(t){this._probability=t,this._setAll("probability",t)}}),Object.defineProperty(r.default.Part.prototype,"humanize",{get:function(){return this._humanize},set:function(t){this._humanize=t,this._setAll("humanize",t)}}),Object.defineProperty(r.default.Part.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop=e,this._forEach(function(t){t._loopStart=this._loopStart,t._loopEnd=this._loopEnd,t.loop=e,this._testLoopBoundries(t)})}}),Object.defineProperty(r.default.Part.prototype,"loopEnd",{get:function(){return r.default.Ticks(this._loopEnd).toSeconds()},set:function(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(function(t){t.loopEnd=e,this._testLoopBoundries(t)})}}),Object.defineProperty(r.default.Part.prototype,"loopStart",{get:function(){return r.default.Ticks(this._loopStart).toSeconds()},set:function(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(function(t){t.loopStart=this.loopStart,this._testLoopBoundries(t)})}}),Object.defineProperty(r.default.Part.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this._setAll("playbackRate",t)}}),Object.defineProperty(r.default.Part.prototype,"length",{get:function(){return this._events.length}}),r.default.Part.prototype.dispose=function(){return r.default.Event.prototype.dispose.call(this),this.removeAll(),this.callback=null,this._events=null,this},e.default=r.default.Part},function(t,e,i){"use strict";i.r(e);var n=i(0);i(51),n.default.Loop=function(){var t=n.default.defaults(arguments,["callback","interval"],n.default.Loop);n.default.call(this),this._event=new n.default.Event({callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations},n.default.extend(n.default.Loop),n.default.Loop.defaults={interval:"4n",callback:n.default.noOp,playbackRate:1,iterations:1/0,probability:!0,mute:!1},n.default.Loop.prototype.start=function(t){return this._event.start(t),this},n.default.Loop.prototype.stop=function(t){return this._event.stop(t),this},n.default.Loop.prototype.cancel=function(t){return this._event.cancel(t),this},n.default.Loop.prototype._tick=function(t){this.callback(t)},Object.defineProperty(n.default.Loop.prototype,"state",{get:function(){return this._event.state}}),Object.defineProperty(n.default.Loop.prototype,"progress",{get:function(){return this._event.progress}}),Object.defineProperty(n.default.Loop.prototype,"interval",{get:function(){return this._event.loopEnd},set:function(t){this._event.loopEnd=t}}),Object.defineProperty(n.default.Loop.prototype,"playbackRate",{get:function(){return this._event.playbackRate},set:function(t){this._event.playbackRate=t}}),Object.defineProperty(n.default.Loop.prototype,"humanize",{get:function(){return this._event.humanize},set:function(t){this._event.humanize=t}}),Object.defineProperty(n.default.Loop.prototype,"probability",{get:function(){return this._event.probability},set:function(t){this._event.probability=t}}),Object.defineProperty(n.default.Loop.prototype,"mute",{get:function(){return this._event.mute},set:function(t){this._event.mute=t}}),Object.defineProperty(n.default.Loop.prototype,"iterations",{get:function(){return!0===this._event.loop?1/0:this._event.loop},set:function(t){this._event.loop=t===1/0||t}}),n.default.Loop.prototype.dispose=function(){this._event.dispose(),this._event=null,this.callback=null},e.default=n.default.Loop},function(t,e,i){"use strict";i.r(e);var n=i(0);i(15),i(33),n.default.StereoXFeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.StereoEffect.call(this,t),this.feedback=new n.default.Signal(t.feedback,n.default.Type.NormalRange),this._feedbackLR=new n.default.Gain,this._feedbackRL=new n.default.Gain,this.effectReturnL.chain(this._feedbackLR,this.effectSendR),this.effectReturnR.chain(this._feedbackRL,this.effectSendL),this.feedback.fan(this._feedbackLR.gain,this._feedbackRL.gain),this._readOnly(["feedback"])},n.default.extend(n.default.StereoXFeedbackEffect,n.default.StereoEffect),n.default.StereoXFeedbackEffect.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackLR.dispose(),this._feedbackLR=null,this._feedbackRL.dispose(),this._feedbackRL=null,this},e.default=n.default.StereoXFeedbackEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(53),i(52),n.default.MidSideEffect=function(){n.default.Effect.apply(this,arguments),this._midSideSplit=new n.default.MidSideSplit,this._midSideMerge=new n.default.MidSideMerge,this.midSend=this._midSideSplit.mid,this.sideSend=this._midSideSplit.side,this.midReturn=this._midSideMerge.mid,this.sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)},n.default.extend(n.default.MidSideEffect,n.default.Effect),n.default.MidSideEffect.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this.midSend=null,this.sideSend=null,this.midReturn=null,this.sideReturn=null,this},e.default=n.default.MidSideEffect},function(t,e,i){"use strict";i.r(e);var n=i(0);i(11),i(8),n.default.Convolver=function(){var e=n.default.defaults(arguments,["url","onload"],n.default.Convolver);n.default.Effect.call(this,e),this._convolver=this.context.createConvolver(),this._buffer=new n.default.Buffer(e.url,function(t){this.buffer=t.get(),e.onload()}.bind(this)),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.connectEffect(this._convolver)},n.default.extend(n.default.Convolver,n.default.Effect),n.default.Convolver.defaults={onload:n.default.noOp,normalize:!0},Object.defineProperty(n.default.Convolver.prototype,"buffer",{get:function(){return this._buffer.length?this._buffer:null},set:function(t){this._buffer.set(t),this._convolver.buffer&&(this.effectSend.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.connectEffect(this._convolver)),this._convolver.buffer=this._buffer.get()}}),Object.defineProperty(n.default.Convolver.prototype,"normalize",{get:function(){return this._convolver.normalize},set:function(t){this._convolver.normalize=t}}),n.default.Convolver.prototype.load=function(t,e){return this._buffer.load(t,function(t){this.buffer=t,e&&e()}.bind(this))},n.default.Convolver.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._buffer.dispose(),this._buffer=null,this._convolver.disconnect(),this._convolver=null,this},e.default=n.default.Convolver},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(5),i(13),n.default.Modulo=function(t){n.default.SignalBase.call(this),this.createInsOuts(1,0),this._shaper=new n.default.WaveShaper(Math.pow(2,16)),this._multiply=new n.default.Multiply,this._subtract=this.output=new n.default.Subtract,this._modSignal=new n.default.Signal(t),n.default.connect(this.input,this._shaper),n.default.connect(this.input,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},n.default.extend(n.default.Modulo,n.default.SignalBase),n.default.Modulo.prototype._setWaveShaper=function(e){this._shaper.setMap(function(t){return Math.floor((t+1e-4)/e)})},Object.defineProperty(n.default.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),n.default.Modulo.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.default=n.default.Modulo},function(t,e,i){"use strict";i.r(e);var s=i(0);i(20),i(92),s.default.OfflineContext=function(t,e,i){var n=new OfflineAudioContext(t,e*i,i);s.default.Context.call(this,{context:n,clockSource:"offline",lookAhead:0,updateInterval:128/i}),this._duration=e,this._currentTime=0},s.default.extend(s.default.OfflineContext,s.default.Context),s.default.OfflineContext.prototype.now=function(){return this._currentTime},s.default.OfflineContext.prototype.resume=function(){return Promise.resolve()},s.default.OfflineContext.prototype.render=function(){for(;0<=this._duration-this._currentTime;)this.emit("tick"),this._currentTime+=.005;return this._context.startRendering()},s.default.OfflineContext.prototype.close=function(){return this._context=null,Promise.resolve()},e.default=s.default.OfflineContext},function(t,e,i){"use strict";i.r(e);var o=i(0);i(16),i(11),i(76),i(40),o.default.Offline=function(t,e){var i=o.default.context.sampleRate,n=o.default.context,s=new o.default.OfflineContext(2,e,i);o.default.context=s;var r=t(o.default.Transport),a=null;return a=r&&o.default.isFunction(r.then)?r.then(function(){return s.render()}):s.render(),o.default.context=n,a.then(function(t){return new o.default.Buffer(t)})},e.default=o.default.Offline},function(t,e,i){"use strict";i.r(e);var s=i(0);i(11),s.default.Buffers=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=s.default.defaults(e,["onload","baseUrl"],s.default.Buffers);for(var n in s.default.call(this),this._buffers={},this.baseUrl=i.baseUrl,this._loadingCount=0,t)this._loadingCount++,this.add(n,t[n],this._bufferLoaded.bind(this,i.onload))},s.default.extend(s.default.Buffers),s.default.Buffers.defaults={onload:s.default.noOp,baseUrl:""},s.default.Buffers.prototype.has=function(t){return this._buffers.hasOwnProperty(t)},s.default.Buffers.prototype.get=function(t){if(this.has(t))return this._buffers[t];throw new Error("Tone.Buffers: no buffer named "+t)},s.default.Buffers.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(s.default.Buffers.prototype,"loaded",{get:function(){var t=!0;for(var e in this._buffers){var i=this.get(e);t=t&&i.loaded}return t}}),s.default.Buffers.prototype.add=function(t,e,i){return i=s.default.defaultArg(i,s.default.noOp),e instanceof s.default.Buffer?(this._buffers[t]=e,i(this)):e instanceof AudioBuffer?(this._buffers[t]=new s.default.Buffer(e),i(this)):s.default.isString(e)&&(this._buffers[t]=new s.default.Buffer(this.baseUrl+e,i)),this},s.default.Buffers.prototype.dispose=function(){for(var t in s.default.prototype.dispose.call(this),this._buffers)this._buffers[t].dispose();return this._buffers=null,this},e.default=s.default.Buffers},function(t,e,i){"use strict";i.r(e);var n=i(0);n.default.CtrlPattern=function(){var t=n.default.defaults(arguments,["values","type"],n.default.CtrlPattern);n.default.call(this),this.values=t.values,this.index=0,this._type=null,this._shuffled=null,this._direction=null,this.type=t.type},n.default.extend(n.default.CtrlPattern),n.default.CtrlPattern.Type={Up:"up",Down:"down",UpDown:"upDown",DownUp:"downUp",AlternateUp:"alternateUp",AlternateDown:"alternateDown",Random:"random",RandomWalk:"randomWalk",RandomOnce:"randomOnce"},n.default.CtrlPattern.defaults={type:n.default.CtrlPattern.Type.Up,values:[]},Object.defineProperty(n.default.CtrlPattern.prototype,"value",{get:function(){if(0!==this.values.length){if(1===this.values.length)return this.values[0];this.index=Math.min(this.index,this.values.length-1);var t=this.values[this.index];return this.type===n.default.CtrlPattern.Type.RandomOnce&&(this.values.length!==this._shuffled.length&&this._shuffleValues(),t=this.values[this._shuffled[this.index]]),t}}}),Object.defineProperty(n.default.CtrlPattern.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._shuffled=null,this._type===n.default.CtrlPattern.Type.Up||this._type===n.default.CtrlPattern.Type.UpDown||this._type===n.default.CtrlPattern.Type.RandomOnce||this._type===n.default.CtrlPattern.Type.AlternateUp?this.index=0:this._type!==n.default.CtrlPattern.Type.Down&&this._type!==n.default.CtrlPattern.Type.DownUp&&this._type!==n.default.CtrlPattern.Type.AlternateDown||(this.index=this.values.length-1),this._type===n.default.CtrlPattern.Type.UpDown||this._type===n.default.CtrlPattern.Type.AlternateUp?this._direction=n.default.CtrlPattern.Type.Up:this._type!==n.default.CtrlPattern.Type.DownUp&&this._type!==n.default.CtrlPattern.Type.AlternateDown||(this._direction=n.default.CtrlPattern.Type.Down),this._type===n.default.CtrlPattern.Type.RandomOnce?this._shuffleValues():this._type===n.default.CtrlPattern.Type.Random&&(this.index=Math.floor(Math.random()*this.values.length))}}),n.default.CtrlPattern.prototype.next=function(){var t=this.type;return t===n.default.CtrlPattern.Type.Up?(this.index++,this.index>=this.values.length&&(this.index=0)):t===n.default.CtrlPattern.Type.Down?(this.index--,this.index<0&&(this.index=this.values.length-1)):t===n.default.CtrlPattern.Type.UpDown||t===n.default.CtrlPattern.Type.DownUp?(this._direction===n.default.CtrlPattern.Type.Up?this.index++:this.index--,this.index<0?(this.index=1,this._direction=n.default.CtrlPattern.Type.Up):this.index>=this.values.length&&(this.index=this.values.length-2,this._direction=n.default.CtrlPattern.Type.Down)):t===n.default.CtrlPattern.Type.Random?this.index=Math.floor(Math.random()*this.values.length):t===n.default.CtrlPattern.Type.RandomWalk?Math.random()<.5?(this.index--,this.index=Math.max(this.index,0)):(this.index++,this.index=Math.min(this.index,this.values.length-1)):t===n.default.CtrlPattern.Type.RandomOnce?(this.index++,this.index>=this.values.length&&(this.index=0,this._shuffleValues())):t===n.default.CtrlPattern.Type.AlternateUp?(this._direction===n.default.CtrlPattern.Type.Up?(this.index+=2,this._direction=n.default.CtrlPattern.Type.Down):(this.index-=1,this._direction=n.default.CtrlPattern.Type.Up),this.index>=this.values.length&&(this.index=0,this._direction=n.default.CtrlPattern.Type.Up)):t===n.default.CtrlPattern.Type.AlternateDown&&(this._direction===n.default.CtrlPattern.Type.Up?(this.index+=1,this._direction=n.default.CtrlPattern.Type.Down):(this.index-=2,this._direction=n.default.CtrlPattern.Type.Up),this.index<0&&(this.index=this.values.length-1,this._direction=n.default.CtrlPattern.Type.Down)),this.value},n.default.CtrlPattern.prototype._shuffleValues=function(){var t=[];this._shuffled=[];for(var e=0;e<this.values.length;e++)t[e]=e;for(;0<t.length;){var i=t.splice(Math.floor(t.length*Math.random()),1);this._shuffled.push(i[0])}},n.default.CtrlPattern.prototype.dispose=function(){this._shuffled=null,this.values=null},e.default=n.default.CtrlPattern},function(t,e,i){"use strict";i.r(e);var n=i(0);i(56),i(55),n.default.TransportRepeatEvent=function(t,e){n.default.TransportEvent.call(this,t,e),e=n.default.defaultArg(e,n.default.TransportRepeatEvent.defaults),this.duration=n.default.Ticks(e.duration),this._interval=n.default.Ticks(e.interval),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this),this.Transport.on("start loopStart",this._boundRestart),this._restart()},n.default.extend(n.default.TransportRepeatEvent,n.default.TransportEvent),n.default.TransportRepeatEvent.defaults={duration:1/0,interval:1},n.default.TransportRepeatEvent.prototype.invoke=function(t){this._createEvents(t),n.default.TransportEvent.prototype.invoke.call(this,t)},n.default.TransportRepeatEvent.prototype._createEvents=function(t){var e=this.Transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick)))},n.default.TransportRepeatEvent.prototype._restart=function(t){this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this._nextTick=this.time;var e=this.Transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick)),this._nextTick+=this._interval,this._nextId=this.Transport.scheduleOnce(this.invoke.bind(this),n.default.Ticks(this._nextTick))},n.default.TransportRepeatEvent.prototype.dispose=function(){return this.Transport.clear(this._currentId),this.Transport.clear(this._nextId),this.Transport.off("start loopStart",this._boundRestart),this._boundCreateEvents=null,n.default.TransportEvent.prototype.dispose.call(this),this.duration=null,this._interval=null,this},e.default=n.default.TransportRepeatEvent},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),n.default.IntervalTimeline=function(){n.default.call(this),this._root=null,this._length=0},n.default.extend(n.default.IntervalTimeline),n.default.IntervalTimeline.prototype.add=function(t){if(n.default.isUndef(t.time)||n.default.isUndef(t.duration))throw new Error("Tone.IntervalTimeline: events must have time and duration parameters");t.time=t.time.valueOf();var e=new s(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this},n.default.IntervalTimeline.prototype.remove=function(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(var i=0;i<e.length;i++){var n=e[i];if(n.event===t){this._removeNode(n),this._length--;break}}}return this},Object.defineProperty(n.default.IntervalTimeline.prototype,"length",{get:function(){return this._length}}),n.default.IntervalTimeline.prototype.cancel=function(t){return this.forEachFrom(t,function(t){this.remove(t)}.bind(this)),this},n.default.IntervalTimeline.prototype._setRoot=function(t){this._root=t,null!==this._root&&(this._root.parent=null)},n.default.IntervalTimeline.prototype._replaceNodeInParent=function(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)},n.default.IntervalTimeline.prototype._removeNode=function(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{var e,i;if(0<t.getBalance())if(null===t.left.right)(e=t.left).right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right}else if(null===t.right.left)(e=t.right).left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),this._rebalance(i)}t.dispose()},n.default.IntervalTimeline.prototype._rotateLeft=function(t){var e=t.parent,i=t.isLeftChild(),n=t.right;t.right=n.left,n.left=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},n.default.IntervalTimeline.prototype._rotateRight=function(t){var e=t.parent,i=t.isLeftChild(),n=t.left;t.left=n.right,n.right=t,null!==e?i?e.left=n:e.right=n:this._setRoot(n)},n.default.IntervalTimeline.prototype._rebalance=function(t){var e=t.getBalance();1<e?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&(0<t.right.getBalance()?this._rotateRight(t.right):this._rotateLeft(t))},n.default.IntervalTimeline.prototype.get=function(t){if(null!==this._root){var e=[];if(this._root.search(t,e),0<e.length){for(var i=e[0],n=1;n<e.length;n++)e[n].low>i.low&&(i=e[n]);return i.event}}return null},n.default.IntervalTimeline.prototype.forEach=function(t){if(null!==this._root){var e=[];this._root.traverse(function(t){e.push(t)});for(var i=0;i<e.length;i++){var n=e[i].event;n&&t(n)}}return this},n.default.IntervalTimeline.prototype.forEachAtTime=function(t,e){if(null!==this._root){var i=[];this._root.search(t,i);for(var n=i.length-1;0<=n;n--){var s=i[n].event;s&&e(s)}}return this},n.default.IntervalTimeline.prototype.forEachFrom=function(t,e){if(null!==this._root){var i=[];this._root.searchAfter(t,i);for(var n=i.length-1;0<=n;n--)e(i[n].event)}return this},n.default.IntervalTimeline.prototype.dispose=function(){var e=[];null!==this._root&&this._root.traverse(function(t){e.push(t)});for(var t=0;t<e.length;t++)e[t].dispose();return e=null,this._root=null,this};var s=function(t,e,i){this.event=i,this.low=t,this.high=e,this.max=this.high,this._left=null,this._right=null,this.parent=null,this.height=0};s.prototype.insert=function(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)},s.prototype.search=function(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))},s.prototype.searchAfter=function(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)},s.prototype.traverse=function(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)},s.prototype.updateHeight=function(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0},s.prototype.updateMax=function(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))},s.prototype.getBalance=function(){var t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t},s.prototype.isLeftChild=function(){return null!==this.parent&&this.parent.left===this},Object.defineProperty(s.prototype,"left",{get:function(){return this._left},set:function(t){null!==(this._left=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}}),Object.defineProperty(s.prototype,"right",{get:function(){return this._right},set:function(t){null!==(this._right=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}}),s.prototype.dispose=function(){this.parent=null,this._left=null,this._right=null,this.event=null},e.default=n.default.IntervalTimeline},function(t,e,i){"use strict";i.r(e);var o=i(0);function n(r){return function(t,e){e=this.toSeconds(e),r.apply(this,arguments);var i=this._events.get(e),n=this._events.previousEvent(i),s=this._getTicksUntilEvent(n,e);return i.ticks=Math.max(s,0),this}}i(2),o.default.TickSignal=function(t){t=o.default.defaultArg(t,1),o.default.Signal.call(this,{units:o.default.Type.Ticks,value:t}),this._events.memory=1/0,this.cancelScheduledValues(0),this._events.add({type:o.default.Param.AutomationType.SetValue,time:0,value:t})},o.default.extend(o.default.TickSignal,o.default.Signal),o.default.TickSignal.prototype.setValueAtTime=n(o.default.Signal.prototype.setValueAtTime),o.default.TickSignal.prototype.linearRampToValueAtTime=n(o.default.Signal.prototype.linearRampToValueAtTime),o.default.TickSignal.prototype.setTargetAtTime=function(t,e,i){e=this.toSeconds(e),this.setRampPoint(e),t=this._fromUnits(t);for(var n=this._events.get(e),s=Math.round(Math.max(1/i,1)),r=0;r<=s;r++){var a=i*r+e,o=this._exponentialApproach(n.time,n.value,t,i,a);this.linearRampToValueAtTime(this._toUnits(o),a)}return this},o.default.TickSignal.prototype.exponentialRampToValueAtTime=function(t,e){e=this.toSeconds(e),t=this._fromUnits(t);for(var i=this._events.get(e),n=Math.round(Math.max(10*(e-i.time),1)),s=(e-i.time)/n,r=0;r<=n;r++){var a=s*r+i.time,o=this._exponentialInterpolate(i.time,i.value,e,t,a);this.linearRampToValueAtTime(this._toUnits(o),a)}return this},o.default.TickSignal.prototype._getTicksUntilEvent=function(t,e){if(null===t)t={ticks:0,time:0};else if(o.default.isUndef(t.ticks)){var i=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(i,t.time)}var n=this.getValueAtTime(t.time),s=this.getValueAtTime(e);return this._events.get(e).time===e&&this._events.get(e).type===o.default.Param.AutomationType.SetValue&&(s=this.getValueAtTime(e-this.sampleTime)),.5*(e-t.time)*(n+s)+t.ticks},o.default.TickSignal.prototype.getTicksAtTime=function(t){t=this.toSeconds(t);var e=this._events.get(t);return Math.max(this._getTicksUntilEvent(e,t),0)},o.default.TickSignal.prototype.getDurationOfTicks=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this.getTimeOfTick(i+t)-e},o.default.TickSignal.prototype.getTimeOfTick=function(t){var e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type===o.default.Param.AutomationType.Linear&&e.value!==i.value){var n=this.getValueAtTime(e.time),s=(this.getValueAtTime(i.time)-n)/(i.time-e.time),r=Math.sqrt(Math.pow(n,2)-2*s*(e.ticks-t)),a=(-n+r)/s;return(0<a?a:(-n-r)/s)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue},o.default.TickSignal.prototype.ticksToTime=function(t,e){return e=this.toSeconds(e),new o.default.Time(this.getDurationOfTicks(t,e))},o.default.TickSignal.prototype.timeToTicks=function(t,e){e=this.toSeconds(e),t=this.toSeconds(t);var i=this.getTicksAtTime(e),n=this.getTicksAtTime(e+t);return new o.default.Ticks(n-i)},e.default=o.default.TickSignal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(57),i(34),i(35),i(20),n.default.Clock=function(){var t=n.default.defaults(arguments,["callback","frequency"],n.default.Clock);n.default.Emitter.call(this),this.callback=t.callback,this._nextTick=0,this._tickSource=new n.default.TickSource(t.frequency),this._lastUpdate=0,this.frequency=this._tickSource.frequency,this._readOnly("frequency"),this._state=new n.default.TimelineState(n.default.State.Stopped),this._state.setStateAtTime(n.default.State.Stopped,0),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},n.default.extend(n.default.Clock,n.default.Emitter),n.default.Clock.defaults={callback:n.default.noOp,frequency:1},Object.defineProperty(n.default.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),n.default.Clock.prototype.start=function(t,e){return this.context.resume(),t=this.toSeconds(t),this._state.getValueAtTime(t)!==n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Started,t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this},n.default.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(n.default.State.Stopped,t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this},n.default.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===n.default.State.Started&&(this._state.setStateAtTime(n.default.State.Paused,t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this},Object.defineProperty(n.default.Clock.prototype,"ticks",{get:function(){return Math.ceil(this.getTicksAtTime(this.now()))},set:function(t){this._tickSource.ticks=t}}),Object.defineProperty(n.default.Clock.prototype,"seconds",{get:function(){return this._tickSource.seconds},set:function(t){this._tickSource.seconds=t}}),n.default.Clock.prototype.getSecondsAtTime=function(t){return this._tickSource.getSecondsAtTime(t)},n.default.Clock.prototype.setTicksAtTime=function(t,e){return this._tickSource.setTicksAtTime(t,e),this},n.default.Clock.prototype.getTicksAtTime=function(t){return this._tickSource.getTicksAtTime(t)},n.default.Clock.prototype.nextTickTime=function(t,e){e=this.toSeconds(e);var i=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(i+t,e)},n.default.Clock.prototype._loop=function(){var t=this._lastUpdate,e=this.now();t!==(this._lastUpdate=e)&&(this._state.forEachBetween(t,e,function(t){switch(t.state){case n.default.State.Started:var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case n.default.State.Stopped:0!==t.time&&this.emit("stop",t.time);break;case n.default.State.Paused:this.emit("pause",t.time)}}.bind(this)),this._tickSource.forEachTickBetween(t,e,function(t,e){this.callback(t,e)}.bind(this)))},n.default.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},n.default.Clock.prototype.dispose=function(){n.default.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this._tickSource.dispose(),this._tickSource=null,this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.default=n.default.Clock},function(t,e,i){"use strict";i.r(e);var n=i(0);i(2),i(5),i(7),n.default.GreaterThanZero=function(){n.default.SignalBase.call(this),this._thresh=this.output=new n.default.WaveShaper(function(t){return t<=0?0:1},127),this._scale=this.input=new n.default.Multiply(1e4),this._scale.connect(this._thresh)},n.default.extend(n.default.GreaterThanZero,n.default.SignalBase),n.default.GreaterThanZero.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.default=n.default.GreaterThanZero},function(t,e,i){"use strict";i.r(e);var n=i(0);i(84),i(13),i(2),n.default.GreaterThan=function(t){n.default.Signal.call(this),this.createInsOuts(2,0),this._param=this.input[0]=new n.default.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new n.default.GreaterThanZero,this._param.connect(this._gtz)},n.default.extend(n.default.GreaterThan,n.default.Signal),n.default.GreaterThan.prototype.dispose=function(){return n.default.Signal.prototype.dispose.call(this),this._gtz.dispose(),this._gtz=null,this},e.default=n.default.GreaterThan},function(t,e,i){"use strict";i.r(e);var n=i(0);i(47),i(26),n.default.ScaledEnvelope=function(){var t=n.default.defaults(arguments,["attack","decay","sustain","release"],n.default.Envelope);n.default.Envelope.call(this,t),t=n.default.defaultArg(t,n.default.ScaledEnvelope.defaults),this._exp=this.output=new n.default.Pow(t.exponent),this._scale=this.output=new n.default.Scale(t.min,t.max),this._sig.chain(this._exp,this._scale)},n.default.extend(n.default.ScaledEnvelope,n.default.Envelope),n.default.ScaledEnvelope.defaults={min:0,max:1,exponent:1},Object.defineProperty(n.default.ScaledEnvelope.prototype,"min",{get:function(){return this._scale.min},set:function(t){this._scale.min=t}}),Object.defineProperty(n.default.ScaledEnvelope.prototype,"max",{get:function(){return this._scale.max},set:function(t){this._scale.max=t}}),Object.defineProperty(n.default.ScaledEnvelope.prototype,"exponent",{get:function(){return this._exp.value},set:function(t){this._exp.value=t}}),n.default.ScaledEnvelope.prototype.dispose=function(){return n.default.Envelope.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._exp.dispose(),this._exp=null,this},e.default=n.default.ScaledEnvelope},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(30),n.default.Abs=function(){n.default.SignalBase.call(this),this._abs=this.input=this.output=new n.default.WaveShaper(function(t){return Math.abs(t)<.001?0:Math.abs(t)},1024)},n.default.extend(n.default.Abs,n.default.SignalBase),n.default.Abs.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.default=n.default.Abs},function(t,e,i){"use strict";i.r(e);var n=i(0);i(3),i(1),n.default.Solo=function(){var t=n.default.defaults(arguments,["solo"],n.default.Solo);n.default.AudioNode.call(this),this.input=this.output=new n.default.Gain,this._soloBind=this._soloed.bind(this),this.context.on("solo",this._soloBind),this.solo=t.solo},n.default.extend(n.default.Solo,n.default.AudioNode),n.default.Solo.defaults={solo:!1},Object.defineProperty(n.default.Solo.prototype,"solo",{get:function(){return this._isSoloed()},set:function(t){t?this._addSolo():this._removeSolo(),this.context.emit("solo",this)}}),Object.defineProperty(n.default.Solo.prototype,"muted",{get:function(){return 0===this.input.gain.value}}),n.default.Solo.prototype._addSolo=function(){n.default.isArray(this.context._currentSolo)||(this.context._currentSolo=[]),this._isSoloed()||this.context._currentSolo.push(this)},n.default.Solo.prototype._removeSolo=function(){if(this._isSoloed()){var t=this.context._currentSolo.indexOf(this);this.context._currentSolo.splice(t,1)}},n.default.Solo.prototype._isSoloed=function(){return!!n.default.isArray(this.context._currentSolo)&&0!==this.context._currentSolo.length&&-1!==this.context._currentSolo.indexOf(this)},n.default.Solo.prototype._noSolos=function(){return!n.default.isArray(this.context._currentSolo)||0===this.context._currentSolo.length},n.default.Solo.prototype._soloed=function(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0},n.default.Solo.prototype.dispose=function(){return this.context.off("solo",this._soloBind),this._removeSolo(),this._soloBind=null,n.default.AudioNode.prototype.dispose.call(this),this},e.default=n.default.Solo},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),n.default.EqualPowerGain=function(){n.default.SignalBase.call(this),this._eqPower=this.input=this.output=new n.default.WaveShaper(function(t){return Math.abs(t)<.001?0:n.default.equalPowerScale(t)}.bind(this),4096)},n.default.extend(n.default.EqualPowerGain,n.default.SignalBase),n.default.EqualPowerGain.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.default=n.default.EqualPowerGain},function(t,e,i){"use strict";i.r(e);var n=i(0);i(5),i(2),n.default.Negate=function(){n.default.SignalBase.call(this),this._multiply=this.input=this.output=new n.default.Multiply(-1)},n.default.extend(n.default.Negate,n.default.SignalBase),n.default.Negate.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.default=n.default.Negate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(48),i(27),i(1),n.default.PanVol=function(){var t=n.default.defaults(arguments,["pan","volume"],n.default.PanVol);n.default.AudioNode.call(this),this._panner=this.input=new n.default.Panner(t.pan),this.pan=this._panner.pan,this._volume=this.output=new n.default.Volume(t.volume),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,this._readOnly(["pan","volume"])},n.default.extend(n.default.PanVol,n.default.AudioNode),n.default.PanVol.defaults={pan:0,volume:0,mute:!1},Object.defineProperty(n.default.PanVol.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),n.default.PanVol.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panner.dispose(),this._panner=null,this.pan=null,this._volume.dispose(),this._volume=null,this.volume=null,this},e.default=n.default.PanVol},function(t,e,i){"use strict";var n=i(0);if(n.default.supported){!n.default.global.hasOwnProperty("OfflineAudioContext")&&n.default.global.hasOwnProperty("webkitOfflineAudioContext")&&(n.default.global.OfflineAudioContext=n.default.global.webkitOfflineAudioContext);var s=new OfflineAudioContext(1,1,44100).startRendering();s&&n.default.isFunction(s.then)||(OfflineAudioContext.prototype._native_startRendering=OfflineAudioContext.prototype.startRendering,OfflineAudioContext.prototype.startRendering=function(){return new Promise(function(e){this.oncomplete=function(t){e(t.renderedBuffer)},this._native_startRendering()}.bind(this))})}},function(t,e,i){"use strict";e.a="13.8.25"},function(t,e,i){"use strict";i.r(e);var n=i(0);i(46),n.default.Midi=function(t,e){if(!(this instanceof n.default.Midi))return new n.default.Midi(t,e);n.default.Frequency.call(this,t,e)},n.default.extend(n.default.Midi,n.default.Frequency),n.default.Midi.prototype._defaultUnits="midi",n.default.Midi.prototype._frequencyToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._frequencyToUnits.call(this,t))},n.default.Midi.prototype._ticksToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._ticksToUnits.call(this,t))},n.default.Midi.prototype._beatsToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._beatsToUnits.call(this,t))},n.default.Midi.prototype._secondsToUnits=function(t){return n.default.Frequency.ftom(n.default.Frequency.prototype._secondsToUnits.call(this,t))},n.default.Midi.prototype.toMidi=function(){return this.valueOf()},n.default.Midi.prototype.toFrequency=function(){return n.default.Frequency.mtof(this.toMidi())},n.default.Midi.prototype.transpose=function(t){return new this.constructor(this.toMidi()+t)},e.default=n.default.Midi},function(t,e,i){"use strict";i.r(e);var s=i(0);i(27),i(1),s.default.UserMedia=function(){var t=s.default.defaults(arguments,["volume"],s.default.UserMedia);s.default.AudioNode.call(this),this._mediaStream=null,this._stream=null,this._device=null,this._volume=this.output=new s.default.Volume(t.volume),this.volume=this._volume.volume,this._readOnly("volume"),this.mute=t.mute},s.default.extend(s.default.UserMedia,s.default.AudioNode),s.default.UserMedia.defaults={volume:0,mute:!1},s.default.UserMedia.prototype.open=function(n){return this.state===s.default.State.Started&&this.close(),s.default.UserMedia.enumerateDevices().then(function(t){var e;if(s.default.isNumber(n))e=t[n];else if(!(e=t.find(function(t){return t.label===n||t.deviceId===n}))&&0<t.length)e=t[0];else if(!e&&s.default.isDefined(n))throw new Error("Tone.UserMedia: no matching device: "+n);this._device=e;var i={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};return e&&(i.audio.deviceId=e.deviceId),navigator.mediaDevices.getUserMedia(i).then(function(t){return this._stream||(this._stream=t,this._mediaStream=this.context.createMediaStreamSource(t),s.default.connect(this._mediaStream,this.output)),this}.bind(this))}.bind(this))},s.default.UserMedia.prototype.close=function(){return this._stream&&(this._stream.getAudioTracks().forEach(function(t){t.stop()}),this._stream=null,this._mediaStream.disconnect(),this._mediaStream=null),this._device=null,this},s.default.UserMedia.enumerateDevices=function(){return navigator.mediaDevices.enumerateDevices().then(function(t){return t.filter(function(t){return"audioinput"===t.kind})})},Object.defineProperty(s.default.UserMedia.prototype,"state",{get:function(){return this._stream&&this._stream.active?s.default.State.Started:s.default.State.Stopped}}),Object.defineProperty(s.default.UserMedia.prototype,"deviceId",{get:function(){return this._device?this._device.deviceId:null}}),Object.defineProperty(s.default.UserMedia.prototype,"groupId",{get:function(){return this._device?this._device.groupId:null}}),Object.defineProperty(s.default.UserMedia.prototype,"label",{get:function(){return this._device?this._device.label:null}}),Object.defineProperty(s.default.UserMedia.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),s.default.UserMedia.prototype.dispose=function(){return s.default.AudioNode.prototype.dispose.call(this),this.close(),this._writable("volume"),this._volume.dispose(),this._volume=null,this.volume=null,this},Object.defineProperty(s.default.UserMedia,"supported",{get:function(){return s.default.isDefined(navigator.mediaDevices)&&s.default.isFunction(navigator.mediaDevices.getUserMedia)}}),e.default=s.default.UserMedia},function(t,e,i){"use strict";i.r(e);var s=i(0);i(65),i(27),i(1),s.default.Players=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=s.default.defaults(e,["onload"],s.default.Players);for(var n in s.default.AudioNode.call(this,i),this._volume=this.output=new s.default.Volume(i.volume),this.volume=this._volume.volume,this._readOnly("volume"),this._volume.output.output.channelCount=2,this._volume.output.output.channelCountMode="explicit",this.mute=i.mute,this._players={},this._loadingCount=0,this._fadeIn=i.fadeIn,this._fadeOut=i.fadeOut,t)this._loadingCount++,this.add(n,t[n],this._bufferLoaded.bind(this,i.onload))},s.default.extend(s.default.Players,s.default.AudioNode),s.default.Players.defaults={volume:0,mute:!1,onload:s.default.noOp,fadeIn:0,fadeOut:0},s.default.Players.prototype._bufferLoaded=function(t){this._loadingCount--,0===this._loadingCount&&t&&t(this)},Object.defineProperty(s.default.Players.prototype,"mute",{get:function(){return this._volume.mute},set:function(t){this._volume.mute=t}}),Object.defineProperty(s.default.Players.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=e,this._forEach(function(t){t.fadeIn=e})}}),Object.defineProperty(s.default.Players.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=e,this._forEach(function(t){t.fadeOut=e})}}),Object.defineProperty(s.default.Players.prototype,"state",{get:function(){var e=!1;return this._forEach(function(t){e=e||t.state===s.default.State.Started}),e?s.default.State.Started:s.default.State.Stopped}}),s.default.Players.prototype.has=function(t){return this._players.hasOwnProperty(t)},s.default.Players.prototype.get=function(t){if(this.has(t))return this._players[t];throw new Error("Tone.Players: no player named "+t)},s.default.Players.prototype._forEach=function(t){for(var e in this._players)t(this._players[e],e);return this},Object.defineProperty(s.default.Players.prototype,"loaded",{get:function(){var e=!0;return this._forEach(function(t){e=e&&t.loaded}),e}}),s.default.Players.prototype.add=function(t,e,i){return this._players[t]=new s.default.Player(e,i).connect(this.output),this._players[t].fadeIn=this._fadeIn,this._players[t].fadeOut=this._fadeOut,this},s.default.Players.prototype.stopAll=function(e){this._forEach(function(t){t.stop(e)})},s.default.Players.prototype.dispose=function(){return s.default.AudioNode.prototype.dispose.call(this),this._volume.dispose(),this._volume=null,this._writable("volume"),this.volume=null,this.output=null,this._forEach(function(t){t.dispose()}),this._players=null,this},e.default=s.default.Players},function(t,e,i){"use strict";i.r(e);var n=i(0);i(6),i(11),i(32),n.default.GrainPlayer=function(){var t=n.default.defaults(arguments,["url","onload"],n.default.GrainPlayer);n.default.Source.call(this,t),this.buffer=new n.default.Buffer(t.url,t.onload.bind(void 0,this)),this._clock=new n.default.Clock(this._tick.bind(this),t.grainSize),this._loopStart=0,this._loopEnd=0,this._activeSources=[],this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))},n.default.extend(n.default.GrainPlayer,n.default.Source),n.default.GrainPlayer.defaults={onload:n.default.noOp,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1},n.default.GrainPlayer.prototype._start=function(t,e,i){e=n.default.defaultArg(e,0),e=this.toSeconds(e),t=this.toSeconds(t),this._offset=e,this._clock.start(t),i&&this.stop(t+this.toSeconds(i))},n.default.GrainPlayer.prototype._stop=function(t){this._clock.stop(t)},n.default.GrainPlayer.prototype._onstop=function(e){this._activeSources.forEach(function(t){t.fadeOut=0,t.stop(e)})},n.default.GrainPlayer.prototype._tick=function(t){if(!this.loop&&this._offset>this.buffer.duration)this.stop(t);else{var e=this._offset<this._overlap?0:this._overlap,i=new n.default.BufferSource({buffer:this.buffer,fadeIn:e,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:n.default.intervalToFrequencyRatio(this.detune/100)}).connect(this.output);i.start(t,this._offset),this._offset+=this.grainSize,i.stop(t+this.grainSize/this.playbackRate),this._activeSources.push(i),i.onended=function(){var t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}.bind(this)}},Object.defineProperty(n.default.GrainPlayer.prototype,"playbackRate",{get:function(){return this._playbackRate},set:function(t){this._playbackRate=t,this.grainSize=this._grainSize}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loopStart",{get:function(){return this._loopStart},set:function(t){this._loopStart=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loopEnd",{get:function(){return this._loopEnd},set:function(t){this._loopEnd=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"reverse",{get:function(){return this.buffer.reverse},set:function(t){this.buffer.reverse=t}}),Object.defineProperty(n.default.GrainPlayer.prototype,"grainSize",{get:function(){return this._grainSize},set:function(t){this._grainSize=this.toSeconds(t),this._clock.frequency.value=this._playbackRate/this._grainSize}}),Object.defineProperty(n.default.GrainPlayer.prototype,"overlap",{get:function(){return this._overlap},set:function(t){this._overlap=this.toSeconds(t)}}),Object.defineProperty(n.default.GrainPlayer.prototype,"loaded",{get:function(){return this.buffer.loaded}}),n.default.GrainPlayer.prototype.dispose=function(){return n.default.Source.prototype.dispose.call(this),this.buffer.dispose(),this.buffer=null,this._clock.dispose(),this._clock=null,this._activeSources.forEach(function(t){t.dispose()}),this._activeSources=null,this},e.default=n.default.GrainPlayer},function(t,e,i){"use strict";i.r(e);var s=i(0);i(16),i(2),i(45),s.default.TransportTimelineSignal=function(){s.default.Signal.apply(this,arguments),this.output=this._outputSig=new s.default.Signal(this._initialValue),this._lastVal=this.value,this._synced=s.default.Transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._bindAnchorValue=this._anchorValue.bind(this),s.default.Transport.on("start stop pause",this._bindAnchorValue),this._events.memory=1/0},s.default.extend(s.default.TransportTimelineSignal,s.default.Signal),s.default.TransportTimelineSignal.prototype._onTick=function(t){var e=this.getValueAtTime(s.default.Transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._outputSig.linearRampToValueAtTime(e,t))},s.default.TransportTimelineSignal.prototype._anchorValue=function(t){var e=this.getValueAtTime(s.default.Transport.seconds);return this._lastVal=e,this._outputSig.cancelScheduledValues(t),this._outputSig.setValueAtTime(e,t),this},s.default.TransportTimelineSignal.prototype.getValueAtTime=function(t){return t=s.default.TransportTime(t),s.default.Signal.prototype.getValueAtTime.call(this,t)},s.default.TransportTimelineSignal.prototype.setValueAtTime=function(t,e){return e=s.default.TransportTime(e),s.default.Signal.prototype.setValueAtTime.call(this,t,e),this},s.default.TransportTimelineSignal.prototype.linearRampToValueAtTime=function(t,e){return e=s.default.TransportTime(e),s.default.Signal.prototype.linearRampToValueAtTime.call(this,t,e),this},s.default.TransportTimelineSignal.prototype.exponentialRampToValueAtTime=function(t,e){return e=s.default.TransportTime(e),s.default.Signal.prototype.exponentialRampToValueAtTime.call(this,t,e),this},s.default.TransportTimelineSignal.prototype.setTargetAtTime=function(t,e,i){return e=s.default.TransportTime(e),s.default.Signal.prototype.setTargetAtTime.call(this,t,e,i),this},s.default.TransportTimelineSignal.prototype.cancelScheduledValues=function(t){return t=s.default.TransportTime(t),s.default.Signal.prototype.cancelScheduledValues.call(this,t),this},s.default.TransportTimelineSignal.prototype.setValueCurveAtTime=function(t,e,i,n){return e=s.default.TransportTime(e),i=s.default.TransportTime(i),s.default.Signal.prototype.setValueCurveAtTime.call(this,t,e,i,n),this},s.default.TransportTimelineSignal.prototype.cancelAndHoldAtTime=function(t){return s.default.Signal.prototype.cancelAndHoldAtTime.call(this,s.default.TransportTime(t))},s.default.TransportTimelineSignal.prototype.dispose=function(){s.default.Transport.clear(this._synced),s.default.Transport.off("start stop pause",this._syncedCallback),this._events.cancel(0),s.default.Signal.prototype.dispose.call(this),this._outputSig.dispose(),this._outputSig=null},e.default=s.default.TransportTimelineSignal},function(t,e,i){"use strict";i.r(e);var n=i(0);i(29),i(5),n.default.Normalize=function(t,e){n.default.SignalBase.call(this),this._inputMin=n.default.defaultArg(t,0),this._inputMax=n.default.defaultArg(e,1),this._sub=this.input=new n.default.Add(0),this._div=this.output=new n.default.Multiply(1),this._sub.connect(this._div),this._setRange()},n.default.extend(n.default.Normalize,n.default.SignalBase),Object.defineProperty(n.default.Normalize.prototype,"min",{get:function(){return this._inputMin},set:function(t){this._inputMin=t,this._setRange()}}),Object.defineProperty(n.default.Normalize.prototype,"max",{get:function(){return this._inputMax},set:function(t){this._inputMax=t,this._setRange()}}),n.default.Normalize.prototype._setRange=function(){this._sub.value=-this._inputMin,this._div.value=1/(this._inputMax-this._inputMin)},n.default.Normalize.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._sub.dispose(),this._sub=null,this._div.dispose(),this._div=null,this},e.default=n.default.Normalize},function(t,e,i){"use strict";i.r(e);var n=i(0);i(7),i(2),n.default.GainToAudio=function(){n.default.SignalBase.call(this),this._norm=this.input=this.output=new n.default.WaveShaper(function(t){return 2*Math.abs(t)-1})},n.default.extend(n.default.GainToAudio,n.default.SignalBase),n.default.GainToAudio.prototype.dispose=function(){return n.default.SignalBase.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.default=n.default.GainToAudio},function(t,e,i){"use strict";i.r(e);var h=i(0);i(21),i(78),i(32),h.default.Sampler=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=h.default.defaults(e,["onload","baseUrl"],h.default.Sampler);h.default.Instrument.call(this,i);var n={};for(var s in t)if(h.default.isNote(s))n[h.default.Frequency(s).toMidi()]=t[s];else{if(isNaN(parseFloat(s)))throw new Error("Tone.Sampler: url keys must be the note's pitch");n[s]=t[s]}this._buffers=new h.default.Buffers(n,i.onload,i.baseUrl),this._activeSources={},this.attack=i.attack,this.release=i.release,this.curve=i.curve},h.default.extend(h.default.Sampler,h.default.Instrument),h.default.Sampler.defaults={attack:0,release:.1,onload:h.default.noOp,baseUrl:"",curve:"exponential"},h.default.Sampler.prototype._findClosest=function(t){for(var e=0;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)},h.default.Sampler.prototype.triggerAttack=function(t,e,i){this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var s=h.default.Frequency(t[n]).toMidi(),r=this._findClosest(s),a=s-r,o=this._buffers.get(a),l=h.default.intervalToFrequencyRatio(r),u=new h.default.BufferSource({buffer:o,playbackRate:l,fadeIn:this.attack,fadeOut:this.release,curve:this.curve}).connect(this.output);u.start(e,0,o.duration/l,i),h.default.isArray(this._activeSources[s])||(this._activeSources[s]=[]),this._activeSources[s].push(u),u.onended=function(){if(this._activeSources&&this._activeSources[s]){var t=this._activeSources[s].indexOf(u);-1!==t&&this._activeSources[s].splice(t,1)}}.bind(this)}return this},h.default.Sampler.prototype.triggerRelease=function(t,e){this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var n=h.default.Frequency(t[i]).toMidi();this._activeSources[n]&&this._activeSources[n].length&&(e=this.toSeconds(e),this._activeSources[n].forEach(function(t){t.stop(e)}),this._activeSources[n]=[])}return this},h.default.Sampler.prototype.releaseAll=function(t){for(var e in t=this.toSeconds(t),this._activeSources)for(var i=this._activeSources[e];i.length;)i.shift().stop(t);return this},h.default.Sampler.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},h.default.Sampler.prototype.triggerAttackRelease=function(t,e,i,n){if(i=this.toSeconds(i),this.triggerAttack(t,i,n),h.default.isArray(e)&&h.default.isArray(t))for(var s=0;s<t.length;s++){var r=e[Math.min(s,e.length-1)];this.triggerRelease(t[s],i+this.toSeconds(r))}else this.triggerRelease(t,i+this.toSeconds(e));return this},h.default.Sampler.prototype.add=function(t,e,i){if(h.default.isNote(t)){var n=h.default.Frequency(t).toMidi();this._buffers.add(n,e,i)}else{if(isNaN(parseFloat(t)))throw new Error("Tone.Sampler: note must be the note's pitch. Instead got "+t);this._buffers.add(t,e,i)}},Object.defineProperty(h.default.Sampler.prototype,"loaded",{get:function(){return this._buffers.loaded}}),h.default.Sampler.prototype.dispose=function(){for(var t in h.default.Instrument.prototype.dispose.call(this),this._buffers.dispose(),this._buffers=null,this._activeSources)this._activeSources[t].forEach(function(t){t.dispose()});return this._activeSources=null,this},e.default=h.default.Sampler},function(t,e,i){"use strict";i.r(e);var a=i(0);i(38),i(6),a.default.PolySynth=function(){var t=a.default.defaults(arguments,["polyphony","voice"],a.default.PolySynth);a.default.Instrument.call(this,t),(t=a.default.defaultArg(t,a.default.Instrument.defaults)).polyphony=Math.min(a.default.PolySynth.MAX_POLYPHONY,t.polyphony),this.voices=new Array(t.polyphony),this.assert(0<t.polyphony,"polyphony must be greater than 0"),this.detune=new a.default.Signal(t.detune,a.default.Type.Cents),this._readOnly("detune");for(var e=0;e<t.polyphony;e++){var i=new t.voice(arguments[2],arguments[3]);if(!(i instanceof a.default.Monophonic))throw new Error("Synth constructor must be instance of Tone.Monophonic");(this.voices[e]=i).index=e,i.connect(this.output),i.hasOwnProperty("detune")&&this.detune.connect(i.detune)}},a.default.extend(a.default.PolySynth,a.default.Instrument),a.default.PolySynth.defaults={polyphony:4,volume:0,detune:0,voice:a.default.Synth},a.default.PolySynth.prototype._getClosestVoice=function(s,e){return this.voices.find(function(t){if(Math.abs(t.frequency.getValueAtTime(s)-a.default.Frequency(e))<1e-4&&1e-5<t.getLevelAtTime(s))return t})||this.voices.slice().sort(function(t,e){var i=t.getLevelAtTime(s+this.blockTime),n=e.getLevelAtTime(s+this.blockTime);return i<1e-5&&(i=0),n<1e-5&&(n=0),i-n}.bind(this))[0]},a.default.PolySynth.prototype.triggerAttack=function(t,i,n){return Array.isArray(t)||(t=[t]),i=this.toSeconds(i),t.forEach(function(t){var e=this._getClosestVoice(i,t);e.triggerAttack(t,i,n),this.log("triggerAttack",e.index,t)}.bind(this)),this},a.default.PolySynth.prototype.triggerRelease=function(t,i){return Array.isArray(t)||(t=[t]),i=this.toSeconds(i),t.forEach(function(t){var e=this._getClosestVoice(i,t);this.log("triggerRelease",e.index,t),e.triggerRelease(i)}.bind(this)),this},a.default.PolySynth.prototype.triggerAttackRelease=function(t,e,i,n){if(i=this.toSeconds(i),this.triggerAttack(t,i,n),a.default.isArray(e)&&a.default.isArray(t))for(var s=0;s<t.length;s++){var r=e[Math.min(s,e.length-1)];this.triggerRelease(t[s],i+this.toSeconds(r))}else this.triggerRelease(t,i+this.toSeconds(e));return this},a.default.PolySynth.prototype.sync=function(){return this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this},a.default.PolySynth.prototype.set=function(t,e,i){for(var n=0;n<this.voices.length;n++)this.voices[n].set(t,e,i);return this},a.default.PolySynth.prototype.get=function(t){return this.voices[0].get(t)},a.default.PolySynth.prototype.releaseAll=function(e){return e=this.toSeconds(e),this.voices.forEach(function(t){t.triggerRelease(e)}),this},a.default.PolySynth.prototype.dispose=function(){return a.default.Instrument.prototype.dispose.call(this),this.voices.forEach(function(t){t.dispose()}),this._writable("detune"),this.detune.dispose(),this.detune=null,this.voices=null,this},a.default.PolySynth.MAX_POLYPHONY=20,e.default=a.default.PolySynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(21),i(39),i(54),n.default.PluckSynth=function(t){t=n.default.defaultArg(t,n.default.PluckSynth.defaults),n.default.Instrument.call(this,t),this._noise=new n.default.Noise("pink"),this.attackNoise=t.attackNoise,this._lfcf=new n.default.LowpassCombFilter({resonance:t.resonance,dampening:t.dampening}),this.resonance=this._lfcf.resonance,this.dampening=this._lfcf.dampening,this._noise.connect(this._lfcf),this._lfcf.connect(this.output),this._readOnly(["resonance","dampening"])},n.default.extend(n.default.PluckSynth,n.default.Instrument),n.default.PluckSynth.defaults={attackNoise:1,dampening:4e3,resonance:.7},n.default.PluckSynth.prototype.triggerAttack=function(t,e){t=this.toFrequency(t),e=this.toSeconds(e);var i=1/t;return this._lfcf.delayTime.setValueAtTime(i,e),this._noise.start(e),this._noise.stop(e+i*this.attackNoise),this},n.default.PluckSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._noise.dispose(),this._lfcf.dispose(),this._noise=null,this._lfcf=null,this._writable(["resonance","dampening"]),this.dampening=null,this.resonance=null,this},e.default=n.default.PluckSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(31),i(41),i(39),i(2),i(9),i(21),n.default.NoiseSynth=function(t){t=n.default.defaultArg(t,n.default.NoiseSynth.defaults),n.default.Instrument.call(this,t),this.noise=new n.default.Noise(t.noise),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.noise.chain(this.envelope,this.output),this._readOnly(["noise","envelope"])},n.default.extend(n.default.NoiseSynth,n.default.Instrument),n.default.NoiseSynth.defaults={noise:{type:"white"},envelope:{attack:.005,decay:.1,sustain:0}},n.default.NoiseSynth.prototype.triggerAttack=function(t,e){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.envelope.attack+this.envelope.decay),this},n.default.NoiseSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.envelope.release),this},n.default.NoiseSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},n.default.NoiseSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},n.default.NoiseSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._writable(["noise","envelope"]),this.noise.dispose(),this.noise=null,this.envelope.dispose(),this.envelope=null,this},e.default=n.default.NoiseSynth},function(t,e,i){"use strict";i.r(e);var s=i(0),r=(i(21),i(49),i(9),i(41),i(31),i(3),i(26),i(5),[1,1.483,1.932,2.546,2.63,3.897]);s.default.MetalSynth=function(t){t=s.default.defaultArg(t,s.default.MetalSynth.defaults),s.default.Instrument.call(this,t),this.frequency=new s.default.Signal(t.frequency,s.default.Type.Frequency),this._oscillators=[],this._freqMultipliers=[],this._amplitue=new s.default.Gain(0).connect(this.output),this._highpass=new s.default.Filter({type:"highpass",Q:-3.0102999566398125}).connect(this._amplitue),this._octaves=t.octaves,this._filterFreqScaler=new s.default.Scale(t.resonance,7e3),this.envelope=new s.default.Envelope({attack:t.envelope.attack,attackCurve:"linear",decay:t.envelope.decay,sustain:0,release:t.envelope.release}).chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitue.gain);for(var e=0;e<r.length;e++){var i=new s.default.FMOscillator({type:"square",modulationType:"square",harmonicity:t.harmonicity,modulationIndex:t.modulationIndex});i.connect(this._highpass),this._oscillators[e]=i;var n=new s.default.Multiply(r[e]);this._freqMultipliers[e]=n,this.frequency.chain(n,i.frequency)}this.octaves=t.octaves},s.default.extend(s.default.MetalSynth,s.default.Instrument),s.default.MetalSynth.defaults={frequency:200,envelope:{attack:.001,decay:1.4,release:.2},harmonicity:5.1,modulationIndex:32,resonance:4e3,octaves:1.5},s.default.MetalSynth.prototype.triggerAttack=function(e,t){return e=this.toSeconds(e),t=s.default.defaultArg(t,1),this.envelope.triggerAttack(e,t),this._oscillators.forEach(function(t){t.start(e)}),0===this.envelope.sustain&&this._oscillators.forEach(function(t){t.stop(e+this.envelope.attack+this.envelope.decay)}.bind(this)),this},s.default.MetalSynth.prototype.triggerRelease=function(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this._oscillators.forEach(function(t){t.stop(e+this.envelope.release)}.bind(this)),this},s.default.MetalSynth.prototype.sync=function(){return this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0),this},s.default.MetalSynth.prototype.triggerAttackRelease=function(t,e,i){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this},Object.defineProperty(s.default.MetalSynth.prototype,"modulationIndex",{get:function(){return this._oscillators[0].modulationIndex.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].modulationIndex.value=t}}),Object.defineProperty(s.default.MetalSynth.prototype,"harmonicity",{get:function(){return this._oscillators[0].harmonicity.value},set:function(t){for(var e=0;e<this._oscillators.length;e++)this._oscillators[e].harmonicity.value=t}}),Object.defineProperty(s.default.MetalSynth.prototype,"resonance",{get:function(){return this._filterFreqScaler.min},set:function(t){this._filterFreqScaler.min=t,this.octaves=this._octaves}}),Object.defineProperty(s.default.MetalSynth.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}}),s.default.MetalSynth.prototype.dispose=function(){s.default.Instrument.prototype.dispose.call(this);for(var t=0;t<this._oscillators.length;t++)this._oscillators[t].dispose(),this._freqMultipliers[t].dispose();this._oscillators=null,this._freqMultipliers=null,this.frequency.dispose(),this.frequency=null,this._filterFreqScaler.dispose(),this._filterFreqScaler=null,this._amplitue.dispose(),this._amplitue=null,this.envelope.dispose(),this.envelope=null,this._highpass.dispose(),this._highpass=null},e.default=s.default.MetalSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(37),i(21),i(31),n.default.MembraneSynth=function(t){t=n.default.defaultArg(t,n.default.MembraneSynth.defaults),n.default.Instrument.call(this,t),this.oscillator=new n.default.OmniOscillator(t.oscillator),this.envelope=new n.default.AmplitudeEnvelope(t.envelope),this.octaves=t.octaves,this.pitchDecay=t.pitchDecay,this.oscillator.chain(this.envelope,this.output),this._readOnly(["oscillator","envelope"])},n.default.extend(n.default.MembraneSynth,n.default.Instrument),n.default.MembraneSynth.defaults={pitchDecay:.05,octaves:10,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:.01,release:1.4,attackCurve:"exponential"}},n.default.MembraneSynth.prototype.triggerAttack=function(t,e,i){e=this.toSeconds(e);var n=(t=this.toFrequency(t))*this.octaves;return this.oscillator.frequency.setValueAtTime(n,e),this.oscillator.frequency.exponentialRampToValueAtTime(t,e+this.toSeconds(this.pitchDecay)),this.envelope.triggerAttack(e,i),this.oscillator.start(e),0===this.envelope.sustain&&this.oscillator.stop(e+this.envelope.attack+this.envelope.decay),this},n.default.MembraneSynth.prototype.triggerRelease=function(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.oscillator.stop(t+this.envelope.release),this},n.default.MembraneSynth.prototype.dispose=function(){return n.default.Instrument.prototype.dispose.call(this),this._writable(["oscillator","envelope"]),this.oscillator.dispose(),this.oscillator=null,this.envelope.dispose(),this.envelope=null,this},e.default=n.default.MembraneSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(38),i(2),i(5),i(25),n.default.FMSynth=function(t){t=n.default.defaultArg(t,n.default.FMSynth.defaults),n.default.Monophonic.call(this,t),this._carrier=new n.default.Synth(t.carrier),this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new n.default.Synth(t.modulator),this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this.modulationIndex=new n.default.Multiply(t.modulationIndex),this.modulationIndex.units=n.default.Type.Positive,this._modulationNode=new n.default.Gain(0),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this._readOnly(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"])},n.default.extend(n.default.FMSynth,n.default.Monophonic),n.default.FMSynth.defaults={harmonicity:3,modulationIndex:10,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},n.default.FMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},n.default.FMSynth.prototype._triggerEnvelopeRelease=function(t){return t=this.toSeconds(t),this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},n.default.FMSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","modulationIndex","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.modulationIndex.dispose(),this.modulationIndex=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=n.default.FMSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(66),i(12),i(2),i(5),i(25),i(14),n.default.DuoSynth=function(t){t=n.default.defaultArg(t,n.default.DuoSynth.defaults),n.default.Monophonic.call(this,t),this.voice0=new n.default.MonoSynth(t.voice0),this.voice0.volume.value=-10,this.voice1=new n.default.MonoSynth(t.voice1),this.voice1.volume.value=-10,this._vibrato=new n.default.LFO(t.vibratoRate,-50,50),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new n.default.Gain(t.vibratoAmount,n.default.Type.Positive),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),this._readOnly(["voice0","voice1","frequency","vibratoAmount","vibratoRate"])},n.default.extend(n.default.DuoSynth,n.default.Monophonic),n.default.DuoSynth.defaults={vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}},voice1:{volume:-10,portamento:0,oscillator:{type:"sine"},filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}},n.default.DuoSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e),this},n.default.DuoSynth.prototype._triggerEnvelopeRelease=function(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this},n.default.DuoSynth.prototype.getLevelAtTime=function(t){return(this.voice0.getLevelAtTime(t)+this.voice1.getLevelAtTime(t))/2},n.default.DuoSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["voice0","voice1","frequency","vibratoAmount","vibratoRate"]),this.voice0.dispose(),this.voice0=null,this.voice1.dispose(),this.voice1=null,this.frequency.dispose(),this.frequency=null,this._vibratoGain.dispose(),this._vibratoGain=null,this._vibrato=null,this.harmonicity.dispose(),this.harmonicity=null,this.vibratoAmount.dispose(),this.vibratoAmount=null,this.vibratoRate=null,this},e.default=n.default.DuoSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(38),i(2),i(5),i(25),i(22),i(3),n.default.AMSynth=function(t){t=n.default.defaultArg(t,n.default.AMSynth.defaults),n.default.Monophonic.call(this,t),this._carrier=new n.default.Synth,this._carrier.volume.value=-10,this.oscillator=this._carrier.oscillator.set(t.oscillator),this.envelope=this._carrier.envelope.set(t.envelope),this._modulator=new n.default.Synth,this._modulator.volume.value=-10,this.modulation=this._modulator.oscillator.set(t.modulation),this.modulationEnvelope=this._modulator.envelope.set(t.modulationEnvelope),this.frequency=new n.default.Signal(440,n.default.Type.Frequency),this.detune=new n.default.Signal(t.detune,n.default.Type.Cents),this.harmonicity=new n.default.Multiply(t.harmonicity),this.harmonicity.units=n.default.Type.Positive,this._modulationScale=new n.default.AudioToGain,this._modulationNode=new n.default.Gain,this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),this._readOnly(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])},n.default.extend(n.default.AMSynth,n.default.Monophonic),n.default.AMSynth.defaults={harmonicity:3,detune:0,oscillator:{type:"sine"},envelope:{attack:.01,decay:.01,sustain:1,release:.5},modulation:{type:"square"},modulationEnvelope:{attack:.5,decay:0,sustain:1,release:.5}},n.default.AMSynth.prototype._triggerEnvelopeAttack=function(t,e){return t=this.toSeconds(t),this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t),this},n.default.AMSynth.prototype._triggerEnvelopeRelease=function(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this},n.default.AMSynth.prototype.dispose=function(){return n.default.Monophonic.prototype.dispose.call(this),this._writable(["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"]),this._carrier.dispose(),this._carrier=null,this._modulator.dispose(),this._modulator=null,this.frequency.dispose(),this.frequency=null,this.detune.dispose(),this.detune=null,this.harmonicity.dispose(),this.harmonicity=null,this._modulationScale.dispose(),this._modulationScale=null,this._modulationNode.dispose(),this._modulationNode=null,this.oscillator=null,this.envelope=null,this.modulationEnvelope=null,this.modulation=null,this},e.default=n.default.AMSynth},function(t,e,i){"use strict";i.r(e);var n=i(0);i(70),i(16),n.default.Sequence=function(){var t=n.default.defaults(arguments,["callback","events","subdivision"],n.default.Sequence),e=t.events;if(delete t.events,n.default.Part.call(this,t),this._subdivision=this.toTicks(t.subdivision),n.default.isUndef(t.loopEnd)&&n.default.isDefined(e)&&(this._loopEnd=e.length*this._subdivision),this._loop=!0,n.default.isDefined(e))for(var i=0;i<e.length;i++)this.add(i,e[i])},n.default.extend(n.default.Sequence,n.default.Part),n.default.Sequence.defaults={subdivision:"4n"},Object.defineProperty(n.default.Sequence.prototype,"subdivision",{get:function(){return n.default.Ticks(this._subdivision).toSeconds()}}),n.default.Sequence.prototype.at=function(t,e){return n.default.isArray(e)&&this.remove(t),n.default.Part.prototype.at.call(this,this._indexTime(t),e)},n.default.Sequence.prototype.add=function(t,e){if(null===e)return this;if(n.default.isArray(e)){var i=Math.round(this._subdivision/e.length);e=new n.default.Sequence(this._tick.bind(this),e,n.default.Ticks(i))}return n.default.Part.prototype.add.call(this,this._indexTime(t),e),this},n.default.Sequence.prototype.remove=function(t,e){return n.default.Part.prototype.remove.call(this,this._indexTime(t),e),this},n.default.Sequence.prototype._indexTime=function(t){return t instanceof n.default.TransportTime?t:n.default.Ticks(t*this._subdivision+this.startOffset).toSeconds()},n.default.Sequence.prototype.dispose=function(){return n.default.Part.prototype.dispose.call(this),this},e.default=n.default.Sequence},function(t,e,i){"use strict";i.r(e);var n=i(0);i(71),i(79),n.default.Pattern=function(){var t=n.default.defaults(arguments,["callback","values","pattern"],n.default.Pattern);n.default.Loop.call(this,t),this._pattern=new n.default.CtrlPattern({values:t.values,type:t.pattern,index:t.index})},n.default.extend(n.default.Pattern,n.default.Loop),n.default.Pattern.defaults={pattern:n.default.CtrlPattern.Type.Up,callback:n.default.noOp,values:[]},n.default.Pattern.prototype._tick=function(t){this.callback(t,this._pattern.value),this._pattern.next()},Object.defineProperty(n.default.Pattern.prototype,"index",{get:function(){return this._pattern.index},set:function(t){this._pattern.index=t}}),Object.defineProperty(n.default.Pattern.prototype,"values",{get:function(){return this._pattern.values},set:function(t){this._pattern.values=t}}),Object.defineProperty(n.default.Pattern.prototype,"value",{get:function(){return this._pattern.value}}),Object.defineProperty(n.default.Pattern.prototype,"pattern",{get:function(){return this._pattern.type},set:function(t){this._pattern.type=t}}),n.default.Pattern.prototype.dispose=function(){n.default.Loop.prototype.dispose.call(this),this._pattern.dispose(),this._pattern=null},e.default=n.default.Pattern},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(18),i(12),n.default.Vibrato=function(){var t=n.default.defaults(arguments,["frequency","depth"],n.default.Vibrato);n.default.Effect.call(this,t),this._delayNode=new n.default.Delay(0,t.maxDelay),this._lfo=new n.default.LFO({type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,this._readOnly(["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)},n.default.extend(n.default.Vibrato,n.default.Effect),n.default.Vibrato.defaults={maxDelay:.005,frequency:5,depth:.1,type:"sine"},Object.defineProperty(n.default.Vibrato.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),n.default.Vibrato.prototype.dispose=function(){n.default.Effect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._lfo.dispose(),this._lfo=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null},e.default=n.default.Vibrato},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(15),n.default.Tremolo=function(){var t=n.default.defaults(arguments,["frequency","depth"],n.default.Tremolo);n.default.StereoEffect.call(this,t),this._lfoL=new n.default.LFO({phase:t.spread,min:1,max:0}),this._lfoR=new n.default.LFO({phase:t.spread,min:1,max:0}),this._amplitudeL=new n.default.Gain,this._amplitudeR=new n.default.Gain,this.frequency=new n.default.Signal(t.frequency,n.default.Type.Frequency),this.depth=new n.default.Signal(t.depth,n.default.Type.NormalRange),this._readOnly(["frequency","depth"]),this.effectSendL.chain(this._amplitudeL,this.effectReturnL),this.effectSendR.chain(this._amplitudeR,this.effectReturnR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.type=t.type,this.spread=t.spread},n.default.extend(n.default.Tremolo,n.default.StereoEffect),n.default.Tremolo.defaults={frequency:10,type:"sine",depth:.5,spread:180},n.default.Tremolo.prototype.start=function(t){return this._lfoL.start(t),this._lfoR.start(t),this},n.default.Tremolo.prototype.stop=function(t){return this._lfoL.stop(t),this._lfoR.stop(t),this},n.default.Tremolo.prototype.sync=function(t){return this._lfoL.sync(t),this._lfoR.sync(t),n.default.Transport.syncSignal(this.frequency),this},n.default.Tremolo.prototype.unsync=function(){return this._lfoL.unsync(),this._lfoR.unsync(),n.default.Transport.unsyncSignal(this.frequency),this},Object.defineProperty(n.default.Tremolo.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(n.default.Tremolo.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),n.default.Tremolo.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","depth"]),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._amplitudeL.dispose(),this._amplitudeL=null,this._amplitudeR.dispose(),this._amplitudeR=null,this.frequency=null,this.depth=null,this},e.default=n.default.Tremolo},function(t,e,i){"use strict";i.r(e);var n=i(0);i(73),i(2),i(5),i(13),n.default.StereoWidener=function(){var t=n.default.defaults(arguments,["width"],n.default.StereoWidener);n.default.MidSideEffect.call(this,t),this.width=new n.default.Signal(t.width,n.default.Type.NormalRange),this._readOnly(["width"]),this._twoTimesWidthMid=new n.default.Multiply(2),this._twoTimesWidthSide=new n.default.Multiply(2),this._midMult=new n.default.Multiply,this._twoTimesWidthMid.connect(this._midMult,0,1),this.midSend.chain(this._midMult,this.midReturn),this._oneMinusWidth=new n.default.Subtract,this._oneMinusWidth.connect(this._twoTimesWidthMid),n.default.connect(this.context.getConstant(1),this._oneMinusWidth,0,0),this.width.connect(this._oneMinusWidth,0,1),this._sideMult=new n.default.Multiply,this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult,0,1),this.sideSend.chain(this._sideMult,this.sideReturn)},n.default.extend(n.default.StereoWidener,n.default.MidSideEffect),n.default.StereoWidener.defaults={width:.5},n.default.StereoWidener.prototype.dispose=function(){return n.default.MidSideEffect.prototype.dispose.call(this),this._writable(["width"]),this.width.dispose(),this.width=null,this._midMult.dispose(),this._midMult=null,this._sideMult.dispose(),this._sideMult=null,this._twoTimesWidthMid.dispose(),this._twoTimesWidthMid=null,this._twoTimesWidthSide.dispose(),this._twoTimesWidthSide=null,this._oneMinusWidth.dispose(),this._oneMinusWidth=null,this},e.default=n.default.StereoWidener},function(t,e,i){"use strict";i.r(e);var n=i(0);i(15),i(33),i(3),n.default.StereoFeedbackEffect=function(){var t=n.default.defaults(arguments,["feedback"],n.default.FeedbackEffect);n.default.StereoEffect.call(this,t),this.feedback=new n.default.Signal(t.feedback,n.default.Type.NormalRange),this._feedbackL=new n.default.Gain,this._feedbackR=new n.default.Gain,this.effectReturnL.chain(this._feedbackL,this.effectSendL),this.effectReturnR.chain(this._feedbackR,this.effectSendR),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),this._readOnly(["feedback"])},n.default.extend(n.default.StereoFeedbackEffect,n.default.StereoEffect),n.default.StereoFeedbackEffect.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._writable(["feedback"]),this.feedback.dispose(),this.feedback=null,this._feedbackL.dispose(),this._feedbackL=null,this._feedbackR.dispose(),this._feedbackR=null,this},e.default=n.default.StereoFeedbackEffect},function(t,e,i){"use strict";i.r(e);var s=i(0);i(77),i(9),i(10),i(39),i(3),i(74),s.default.Reverb=function(){var t=s.default.defaults(arguments,["decay"],s.default.Reverb);s.default.Effect.call(this,t),this._convolver=this.context.createConvolver(),this.decay=t.decay,this.preDelay=t.preDelay,this.connectEffect(this._convolver)},s.default.extend(s.default.Reverb,s.default.Effect),s.default.Reverb.defaults={decay:1.5,preDelay:.01},s.default.Reverb.prototype.generate=function(){return s.default.Offline(function(){var t=new s.default.Noise,e=new s.default.Noise,i=new s.default.Merge;t.connect(i.left),e.connect(i.right);var n=(new s.default.Gain).toMaster();i.connect(n),t.start(0),e.start(0),n.gain.setValueAtTime(0,0),n.gain.setValueAtTime(1,this.preDelay),n.gain.exponentialApproachValueAtTime(0,this.preDelay,this.decay+this.preDelay)}.bind(this),this.decay+this.preDelay).then(function(t){return this._convolver.buffer=t.get(),this}.bind(this))},s.default.Reverb.prototype.dispose=function(){return s.default.Effect.prototype.dispose.call(this),this._convolver.disconnect(),this._convolver=null,this},e.default=s.default.Reverb},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(23),i(2),i(33),i(18),n.default.PitchShift=function(){var t=n.default.defaults(arguments,["pitch"],n.default.PitchShift);n.default.FeedbackEffect.call(this,t),this._frequency=new n.default.Signal(0),this._delayA=new n.default.Delay(0,1),this._lfoA=new n.default.LFO({min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new n.default.Delay(0,1),this._lfoB=new n.default.LFO({min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new n.default.CrossFade,this._crossFadeLFO=new n.default.LFO({min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new n.default.Delay(t.delayTime),this.delayTime=this._feedbackDelay.delayTime,this._readOnly("delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);var e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize},n.default.extend(n.default.PitchShift,n.default.FeedbackEffect),n.default.PitchShift.defaults={pitch:0,windowSize:.1,delayTime:0,feedback:0},Object.defineProperty(n.default.PitchShift.prototype,"pitch",{get:function(){return this._pitch},set:function(t){var e=0;e=(this._pitch=t)<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,n.default.intervalToFrequencyRatio(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,n.default.intervalToFrequencyRatio(t)-1),this._frequency.value=e*(1.2/this._windowSize)}}),Object.defineProperty(n.default.PitchShift.prototype,"windowSize",{get:function(){return this._windowSize},set:function(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}}),n.default.PitchShift.prototype.dispose=function(){return n.default.FeedbackEffect.prototype.dispose.call(this),this._frequency.dispose(),this._frequency=null,this._delayA.disconnect(),this._delayA=null,this._delayB.disconnect(),this._delayB=null,this._lfoA.dispose(),this._lfoA=null,this._lfoB.dispose(),this._lfoB=null,this._crossFade.dispose(),this._crossFade=null,this._crossFadeLFO.dispose(),this._crossFadeLFO=null,this._writable("delayTime"),this._feedbackDelay.dispose(),this._feedbackDelay=null,this.delayTime=null,this},e.default=n.default.PitchShift},function(t,e,i){"use strict";i.r(e);var n=i(0);i(72),i(2),i(18),n.default.PingPongDelay=function(){var t=n.default.defaults(arguments,["delayTime","feedback"],n.default.PingPongDelay);n.default.StereoXFeedbackEffect.call(this,t),this._leftDelay=new n.default.Delay(0,t.maxDelayTime),this._rightDelay=new n.default.Delay(0,t.maxDelayTime),this._rightPreDelay=new n.default.Delay(0,t.maxDelayTime),this.delayTime=new n.default.Signal(t.delayTime,n.default.Type.Time),this.effectSendL.chain(this._leftDelay,this.effectReturnL),this.effectSendR.chain(this._rightPreDelay,this._rightDelay,this.effectReturnR),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackLR.disconnect(),this._feedbackLR.connect(this._rightDelay),this._readOnly(["delayTime"])},n.default.extend(n.default.PingPongDelay,n.default.StereoXFeedbackEffect),n.default.PingPongDelay.defaults={delayTime:.25,maxDelayTime:1},n.default.PingPongDelay.prototype.dispose=function(){return n.default.StereoXFeedbackEffect.prototype.dispose.call(this),this._leftDelay.dispose(),this._leftDelay=null,this._rightDelay.dispose(),this._rightDelay=null,this._rightPreDelay.dispose(),this._rightPreDelay=null,this._writable(["delayTime"]),this.delayTime.dispose(),this.delayTime=null,this},e.default=n.default.PingPongDelay},function(t,e,i){"use strict";i.r(e);var a=i(0);i(12),i(9),i(15),a.default.Phaser=function(){var t=a.default.defaults(arguments,["frequency","octaves","baseFrequency"],a.default.Phaser);a.default.StereoEffect.call(this,t),this._lfoL=new a.default.LFO(t.frequency,0,1),this._lfoR=new a.default.LFO(t.frequency,0,1),this._lfoR.phase=180,this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this.Q=new a.default.Signal(t.Q,a.default.Type.Positive),this._filtersL=this._makeFilters(t.stages,this._lfoL,this.Q),this._filtersR=this._makeFilters(t.stages,this._lfoR,this.Q),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.effectSendL.connect(this._filtersL[0]),this.effectSendR.connect(this._filtersR[0]),a.default.connect(this._filtersL[t.stages-1],this.effectReturnL),a.default.connect(this._filtersR[t.stages-1],this.effectReturnR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),this._readOnly(["frequency","Q"])},a.default.extend(a.default.Phaser,a.default.StereoEffect),a.default.Phaser.defaults={frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350},a.default.Phaser.prototype._makeFilters=function(t,e,i){for(var n=new Array(t),s=0;s<t;s++){var r=this.context.createBiquadFilter();r.type="allpass",i.connect(r.Q),e.connect(r.frequency),n[s]=r}return a.default.connectSeries.apply(a.default,n),n},Object.defineProperty(a.default.Phaser.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t;var e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}}),Object.defineProperty(a.default.Phaser.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._lfoL.min=t,this._lfoR.min=t,this.octaves=this._octaves}}),a.default.Phaser.prototype.dispose=function(){a.default.StereoEffect.prototype.dispose.call(this),this._writable(["frequency","Q"]),this.Q.dispose(),this.Q=null,this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null;for(var t=0;t<this._filtersL.length;t++)this._filtersL[t].disconnect(),this._filtersL[t]=null;this._filtersL=null;for(var e=0;e<this._filtersR.length;e++)this._filtersR[e].disconnect(),this._filtersR[e]=null;return this._filtersR=null,this.frequency=null,this},e.default=a.default.Phaser},function(t,e,i){"use strict";i.r(e);var r=i(0),a=(i(59),i(15),i(26),[.06748,.06404,.08212,.09004]),o=[.773,.802,.753,.733],l=[347,113,37];r.default.JCReverb=function(){var t=r.default.defaults(arguments,["roomSize"],r.default.JCReverb);r.default.StereoEffect.call(this,t),this.roomSize=new r.default.Signal(t.roomSize,r.default.Type.NormalRange),this._scaleRoomSize=new r.default.Scale(-.733,.197),this._allpassFilters=[],this._feedbackCombFilters=[];for(var e=0;e<l.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=l[e],this._allpassFilters.push(i)}for(var n=0;n<a.length;n++){var s=new r.default.FeedbackCombFilter(a[n],.1);this._scaleRoomSize.connect(s.resonance),s.resonance.value=o[n],r.default.connect(this._allpassFilters[this._allpassFilters.length-1],s),n<a.length/2?s.connect(this.effectReturnL):s.connect(this.effectReturnR),this._feedbackCombFilters.push(s)}this.roomSize.connect(this._scaleRoomSize),r.default.connectSeries.apply(r.default,this._allpassFilters),this.effectSendL.connect(this._allpassFilters[0]),this.effectSendR.connect(this._allpassFilters[0]),this._readOnly(["roomSize"])},r.default.extend(r.default.JCReverb,r.default.StereoEffect),r.default.JCReverb.defaults={roomSize:.5},r.default.JCReverb.prototype.dispose=function(){r.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFilters.length;t++)this._allpassFilters[t].disconnect(),this._allpassFilters[t]=null;this._allpassFilters=null;for(var e=0;e<this._feedbackCombFilters.length;e++)this._feedbackCombFilters[e].dispose(),this._feedbackCombFilters[e]=null;return this._feedbackCombFilters=null,this._writable(["roomSize"]),this.roomSize.dispose(),this.roomSize=null,this._scaleRoomSize.dispose(),this._scaleRoomSize=null,this},e.default=r.default.JCReverb},function(t,e,i){"use strict";i.r(e);var o=i(0),l=(i(54),i(15),i(2),i(19),i(10),i(42),[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100]),u=[225,556,441,341];o.default.Freeverb=function(){var t=o.default.defaults(arguments,["roomSize","dampening"],o.default.Freeverb);o.default.StereoEffect.call(this,t),this.roomSize=new o.default.Signal(t.roomSize,o.default.Type.NormalRange),this.dampening=new o.default.Signal(t.dampening,o.default.Type.Frequency),this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];for(var e=0;e<u.length;e++){var i=this.context.createBiquadFilter();i.type="allpass",i.frequency.value=u[e],this._allpassFiltersL.push(i)}for(var n=0;n<u.length;n++){var s=this.context.createBiquadFilter();s.type="allpass",s.frequency.value=u[n],this._allpassFiltersR.push(s)}for(var r=0;r<l.length;r++){var a=new o.default.LowpassCombFilter(l[r]);r<l.length/2?this.effectSendL.chain(a,this._allpassFiltersL[0]):this.effectSendR.chain(a,this._allpassFiltersR[0]),this.roomSize.connect(a.resonance),this.dampening.connect(a.dampening),this._combFilters.push(a)}o.default.connectSeries.apply(o.default,this._allpassFiltersL),o.default.connectSeries.apply(o.default,this._allpassFiltersR),o.default.connect(this._allpassFiltersL[this._allpassFiltersL.length-1],this.effectReturnL),o.default.connect(this._allpassFiltersR[this._allpassFiltersR.length-1],this.effectReturnR),this._readOnly(["roomSize","dampening"])},o.default.extend(o.default.Freeverb,o.default.StereoEffect),o.default.Freeverb.defaults={roomSize:.7,dampening:3e3},o.default.Freeverb.prototype.dispose=function(){o.default.StereoEffect.prototype.dispose.call(this);for(var t=0;t<this._allpassFiltersL.length;t++)this._allpassFiltersL[t].disconnect(),this._allpassFiltersL[t]=null;this._allpassFiltersL=null;for(var e=0;e<this._allpassFiltersR.length;e++)this._allpassFiltersR[e].disconnect(),this._allpassFiltersR[e]=null;this._allpassFiltersR=null;for(var i=0;i<this._combFilters.length;i++)this._combFilters[i].dispose(),this._combFilters[i]=null;return this._combFilters=null,this._writable(["roomSize","dampening"]),this.roomSize.dispose(),this.roomSize=null,this.dampening.dispose(),this.dampening=null,this},e.default=o.default.Freeverb},function(t,e,i){"use strict";i.r(e);var n=i(0);i(33),i(2),i(18),n.default.FeedbackDelay=function(){var t=n.default.defaults(arguments,["delayTime","feedback"],n.default.FeedbackDelay);n.default.FeedbackEffect.call(this,t),this._delayNode=new n.default.Delay(t.delayTime,t.maxDelay),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),this._readOnly(["delayTime"])},n.default.extend(n.default.FeedbackDelay,n.default.FeedbackEffect),n.default.FeedbackDelay.defaults={delayTime:.25,maxDelay:1},n.default.FeedbackDelay.prototype.dispose=function(){return n.default.FeedbackEffect.prototype.dispose.call(this),this._delayNode.dispose(),this._delayNode=null,this._writable(["delayTime"]),this.delayTime=null,this},e.default=n.default.FeedbackDelay},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(7),n.default.Distortion=function(){var t=n.default.defaults(arguments,["distortion"],n.default.Distortion);n.default.Effect.call(this,t),this._shaper=new n.default.WaveShaper(4096),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample},n.default.extend(n.default.Distortion,n.default.Effect),n.default.Distortion.defaults={distortion:.4,oversample:"none"},Object.defineProperty(n.default.Distortion.prototype,"distortion",{get:function(){return this._distortion},set:function(t){var e=100*(this._distortion=t),i=Math.PI/180;this._shaper.setMap(function(t){return Math.abs(t)<.001?0:(3+e)*t*20*i/(Math.PI+e*Math.abs(t))})}}),Object.defineProperty(n.default.Distortion.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),n.default.Distortion.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=n.default.Distortion},function(t,e,i){"use strict";i.r(e);var n=i(0);i(12),i(15),i(18),n.default.Chorus=function(){var t=n.default.defaults(arguments,["frequency","delayTime","depth"],n.default.Chorus);n.default.StereoEffect.call(this,t),this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new n.default.LFO({frequency:t.frequency,min:0,max:1}),this._lfoR=new n.default.LFO({frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new n.default.Delay,this._delayNodeR=new n.default.Delay,this.frequency=this._lfoL.frequency,this.effectSendL.chain(this._delayNodeL,this.effectReturnL),this.effectSendR.chain(this._delayNodeR,this.effectReturnR),this.effectSendL.connect(this.effectReturnL),this.effectSendR.connect(this.effectReturnR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this._lfoL.start(),this._lfoR.start(),this._lfoL.frequency.connect(this._lfoR.frequency),this.depth=this._depth,this.frequency.value=t.frequency,this.type=t.type,this._readOnly(["frequency"]),this.spread=t.spread},n.default.extend(n.default.Chorus,n.default.StereoEffect),n.default.Chorus.defaults={frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180},Object.defineProperty(n.default.Chorus.prototype,"depth",{get:function(){return this._depth},set:function(t){this._depth=t;var e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}}),Object.defineProperty(n.default.Chorus.prototype,"delayTime",{get:function(){return 1e3*this._delayTime},set:function(t){this._delayTime=t/1e3,this.depth=this._depth}}),Object.defineProperty(n.default.Chorus.prototype,"type",{get:function(){return this._lfoL.type},set:function(t){this._lfoL.type=t,this._lfoR.type=t}}),Object.defineProperty(n.default.Chorus.prototype,"spread",{get:function(){return this._lfoR.phase-this._lfoL.phase},set:function(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}}),n.default.Chorus.prototype.dispose=function(){return n.default.StereoEffect.prototype.dispose.call(this),this._lfoL.dispose(),this._lfoL=null,this._lfoR.dispose(),this._lfoR=null,this._delayNodeL.dispose(),this._delayNodeL=null,this._delayNodeR.dispose(),this._delayNodeR=null,this._writable("frequency"),this.frequency=null,this},e.default=n.default.Chorus},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(7),n.default.Chebyshev=function(){var t=n.default.defaults(arguments,["order"],n.default.Chebyshev);n.default.Effect.call(this,t),this._shaper=new n.default.WaveShaper(4096),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample},n.default.extend(n.default.Chebyshev,n.default.Effect),n.default.Chebyshev.defaults={order:1,oversample:"none"},n.default.Chebyshev.prototype._getCoefficient=function(t,e,i){return i.hasOwnProperty(e)||(i[e]=0===e?0:1===e?t:2*t*this._getCoefficient(t,e-1,i)-this._getCoefficient(t,e-2,i)),i[e]},Object.defineProperty(n.default.Chebyshev.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t;for(var e=new Array(4096),i=e.length,n=0;n<i;++n){var s=2*n/i-1;e[n]=0===s?0:this._getCoefficient(s,t,{})}this._shaper.curve=e}}),Object.defineProperty(n.default.Chebyshev.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){this._shaper.oversample=t}}),n.default.Chebyshev.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this},e.default=n.default.Chebyshev},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(13),i(75),n.default.BitCrusher=function(){var t=n.default.defaults(arguments,["bits"],n.default.BitCrusher);n.default.Effect.call(this,t);var e=1/Math.pow(2,t.bits-1);this._subtract=new n.default.Subtract,this._modulo=new n.default.Modulo(e),this._bits=t.bits,this.effectSend.fan(this._subtract,this._modulo),this._modulo.connect(this._subtract,0,1),this._subtract.connect(this.effectReturn)},n.default.extend(n.default.BitCrusher,n.default.Effect),n.default.BitCrusher.defaults={bits:4},Object.defineProperty(n.default.BitCrusher.prototype,"bits",{get:function(){return this._bits},set:function(t){this._bits=t;var e=1/Math.pow(2,t-1);this._modulo.value=e}}),n.default.BitCrusher.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._subtract.dispose(),this._subtract=null,this._modulo.dispose(),this._modulo=null,this},e.default=n.default.BitCrusher},function(t,e,i){"use strict";i.r(e);var n=i(0);i(58),i(42),i(8),i(9),n.default.AutoWah=function(){var t=n.default.defaults(arguments,["baseFrequency","octaves","sensitivity"],n.default.AutoWah);n.default.Effect.call(this,t),this.follower=new n.default.Follower(t.follower),this._sweepRange=new n.default.ScaleExp(0,1,.5),this._baseFrequency=t.baseFrequency,this._octaves=t.octaves,this._inputBoost=new n.default.Gain,this._bandpass=new n.default.Filter({rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new n.default.Filter(0,"peaking"),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this.follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,this._readOnly(["gain","Q"])},n.default.extend(n.default.AutoWah,n.default.Effect),n.default.AutoWah.defaults={baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:{attack:.3,release:.5}},Object.defineProperty(n.default.AutoWah.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._setSweepRange()}}),Object.defineProperty(n.default.AutoWah.prototype,"baseFrequency",{get:function(){return this._baseFrequency},set:function(t){this._baseFrequency=t,this._setSweepRange()}}),Object.defineProperty(n.default.AutoWah.prototype,"sensitivity",{get:function(){return n.default.gainToDb(1/this._inputBoost.gain.value)},set:function(t){this._inputBoost.gain.value=1/n.default.dbToGain(t)}}),n.default.AutoWah.prototype._setSweepRange=function(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)},n.default.AutoWah.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this.follower.dispose(),this.follower=null,this._sweepRange.dispose(),this._sweepRange=null,this._bandpass.dispose(),this._bandpass=null,this._peaking.dispose(),this._peaking=null,this._inputBoost.dispose(),this._inputBoost=null,this._writable(["gain","Q"]),this.gain=null,this.Q=null,this},e.default=n.default.AutoWah},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(12),i(48),n.default.AutoPanner=function(){var t=n.default.defaults(arguments,["frequency"],n.default.AutoPanner);n.default.Effect.call(this,t),this._lfo=new n.default.LFO({frequency:t.frequency,amplitude:t.depth,min:-1,max:1}),this.depth=this._lfo.amplitude,this._panner=new n.default.Panner,this.frequency=this._lfo.frequency,this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this.type=t.type,this._readOnly(["depth","frequency"])},n.default.extend(n.default.AutoPanner,n.default.Effect),n.default.AutoPanner.defaults={frequency:1,type:"sine",depth:1},n.default.AutoPanner.prototype.start=function(t){return this._lfo.start(t),this},n.default.AutoPanner.prototype.stop=function(t){return this._lfo.stop(t),this},n.default.AutoPanner.prototype.sync=function(t){return this._lfo.sync(t),this},n.default.AutoPanner.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(n.default.AutoPanner.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),n.default.AutoPanner.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this._panner.dispose(),this._panner=null,this._writable(["depth","frequency"]),this.frequency=null,this.depth=null,this},e.default=n.default.AutoPanner},function(t,e,i){"use strict";i.r(e);var n=i(0);i(8),i(12),i(9),n.default.AutoFilter=function(){var t=n.default.defaults(arguments,["frequency","baseFrequency","octaves"],n.default.AutoFilter);n.default.Effect.call(this,t),this._lfo=new n.default.LFO({frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.filter=new n.default.Filter(t.filter),this._octaves=0,this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.type=t.type,this._readOnly(["frequency","depth"]),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency},n.default.extend(n.default.AutoFilter,n.default.Effect),n.default.AutoFilter.defaults={frequency:1,type:"sine",depth:1,baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}},n.default.AutoFilter.prototype.start=function(t){return this._lfo.start(t),this},n.default.AutoFilter.prototype.stop=function(t){return this._lfo.stop(t),this},n.default.AutoFilter.prototype.sync=function(t){return this._lfo.sync(t),this},n.default.AutoFilter.prototype.unsync=function(){return this._lfo.unsync(),this},Object.defineProperty(n.default.AutoFilter.prototype,"type",{get:function(){return this._lfo.type},set:function(t){this._lfo.type=t}}),Object.defineProperty(n.default.AutoFilter.prototype,"baseFrequency",{get:function(){return this._lfo.min},set:function(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}}),Object.defineProperty(n.default.AutoFilter.prototype,"octaves",{get:function(){return this._octaves},set:function(t){this._octaves=t,this._lfo.max=this.baseFrequency*Math.pow(2,t)}}),n.default.AutoFilter.prototype.dispose=function(){return n.default.Effect.prototype.dispose.call(this),this._lfo.dispose(),this._lfo=null,this.filter.dispose(),this.filter=null,this._writable(["frequency","depth"]),this.frequency=null,this.depth=null,this},e.default=n.default.AutoFilter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(10),i(19),i(2),i(22),i(28),n.default.Listener=function(){n.default.call(this),this._orientation=[0,0,0,0,0,0],this._position=[0,0,0],n.default.getContext(function(){this.set(s.defaults)}.bind(this))},n.default.extend(n.default.Listener),n.default.Listener.defaults={positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:1,upX:0,upY:1,upZ:0},n.default.Listener.prototype.isListener=!0,n.default.Listener.prototype._rampTimeConstant=.01,n.default.Listener.prototype.setPosition=function(t,e,i){if(this.context.rawContext.listener.positionX){var n=this.now();this.context.rawContext.listener.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this.context.rawContext.listener.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this.context.rawContext.listener.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this.context.rawContext.listener.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},n.default.Listener.prototype.setOrientation=function(t,e,i,n,s,r){if(this.context.rawContext.listener.forwardX){var a=this.now();this.context.rawContext.listener.forwardX.setTargetAtTime(t,a,this._rampTimeConstant),this.context.rawContext.listener.forwardY.setTargetAtTime(e,a,this._rampTimeConstant),this.context.rawContext.listener.forwardZ.setTargetAtTime(i,a,this._rampTimeConstant),this.context.rawContext.listener.upX.setTargetAtTime(n,a,this._rampTimeConstant),this.context.rawContext.listener.upY.setTargetAtTime(s,a,this._rampTimeConstant),this.context.rawContext.listener.upZ.setTargetAtTime(r,a,this._rampTimeConstant)}else this.context.rawContext.listener.setOrientation(t,e,i,n,s,r);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(n.default.Listener.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(n.default.Listener.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(n.default.Listener.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(n.default.Listener.prototype,"forwardX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(n.default.Listener.prototype,"forwardY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(n.default.Listener.prototype,"forwardZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),Object.defineProperty(n.default.Listener.prototype,"upX",{set:function(t){this._orientation[3]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[3]}}),Object.defineProperty(n.default.Listener.prototype,"upY",{set:function(t){this._orientation[4]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[4]}}),Object.defineProperty(n.default.Listener.prototype,"upZ",{set:function(t){this._orientation[5]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[5]}}),n.default.Listener.prototype.dispose=function(){return this._orientation=null,this._position=null,this};var s=n.default.Listener;n.default.Listener=new s,n.default.Context.on("init",function(t){t.listener&&t.listener.isListener?n.default.Listener=t.listener:n.default.Listener=new s}),e.default=n.default.Listener},function(t,e,i){"use strict";i.r(e);var n=i(0);i(24),n.default.Draw=function(){n.default.call(this),this._events=new n.default.Timeline,this.expiration=.25,this.anticipation=.008,this._boundDrawLoop=this._drawLoop.bind(this)},n.default.extend(n.default.Draw),n.default.Draw.prototype.schedule=function(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&requestAnimationFrame(this._boundDrawLoop),this},n.default.Draw.prototype.cancel=function(t){return this._events.cancel(this.toSeconds(t)),this},n.default.Draw.prototype._drawLoop=function(){for(var t=n.default.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){var e=this._events.shift();t-e.time<=this.expiration&&e.callback()}0<this._events.length&&requestAnimationFrame(this._boundDrawLoop)},n.default.Draw=new n.default.Draw,e.default=n.default.Draw},function(t,e,i){"use strict";i.r(e);var n=i(0),s=(i(3),{});n.default.prototype.send=function(t,e){s.hasOwnProperty(t)||(s[t]=this.context.createGain()),e=n.default.defaultArg(e,0);var i=new n.default.Gain(e,n.default.Type.Decibels);return this.connect(i),i.connect(s[t]),i},n.default.prototype.receive=function(t,e){return s.hasOwnProperty(t)||(s[t]=this.context.createGain()),n.default.connect(s[t],this,0,e),this},n.default.Context.on("init",function(t){t.buses?s=t.buses:(s={},t.buses=s)}),e.default=n.default},function(t,e,i){"use strict";i.r(e);var n=i(0);i(4),n.default.CtrlRandom=function(){var t=n.default.defaults(arguments,["min","max"],n.default.CtrlRandom);n.default.call(this),this.min=t.min,this.max=t.max,this.integer=t.integer},n.default.extend(n.default.CtrlRandom),n.default.CtrlRandom.defaults={min:0,max:1,integer:!1},Object.defineProperty(n.default.CtrlRandom.prototype,"value",{get:function(){var t=this.toSeconds(this.min),e=this.toSeconds(this.max),i=Math.random(),n=i*t+(1-i)*e;return this.integer&&(n=Math.floor(n)),n}}),e.default=n.default.CtrlRandom},function(t,e,i){"use strict";i.r(e);var o=i(0);o.default.CtrlMarkov=function(t,e){o.default.call(this),this.values=o.default.defaultArg(t,{}),this.value=o.default.defaultArg(e,Object.keys(this.values)[0])},o.default.extend(o.default.CtrlMarkov),o.default.CtrlMarkov.prototype.next=function(){if(this.values.hasOwnProperty(this.value)){var t=this.values[this.value];if(o.default.isArray(t))for(var e=this._getProbDistribution(t),i=Math.random(),n=0,s=0;s<e.length;s++){var r=e[s];if(n<i&&i<n+r){var a=t[s];o.default.isObject(a)?this.value=a.value:this.value=a}n+=r}else this.value=t}return this.value},o.default.CtrlMarkov.prototype._getProbDistribution=function(t){for(var e=[],i=0,n=!1,s=0;s<t.length;s++){var r=t[s];o.default.isObject(r)?(n=!0,e[s]=r.probability):e[s]=1/t.length,i+=e[s]}if(n)for(var a=0;a<e.length;a++)e[a]=e[a]/i;return e},o.default.CtrlMarkov.prototype.dispose=function(){this.values=null},e.default=o.default.CtrlMarkov},function(t,e,i){"use strict";i.r(e);var o=i(0);i(4),o.default.CtrlInterpolate=function(){var t=o.default.defaults(arguments,["values","index"],o.default.CtrlInterpolate);o.default.call(this),this.values=t.values,this.index=t.index},o.default.extend(o.default.CtrlInterpolate),o.default.CtrlInterpolate.defaults={index:0,values:[]},Object.defineProperty(o.default.CtrlInterpolate.prototype,"value",{get:function(){var t=this.index;t=Math.min(t,this.values.length-1);var e=Math.floor(t),i=this.values[e],n=this.values[Math.ceil(t)];return this._interpolate(t-e,i,n)}}),o.default.CtrlInterpolate.prototype._interpolate=function(t,e,i){if(o.default.isArray(e)){for(var n=[],s=0;s<e.length;s++)n[s]=this._interpolate(t,e[s],i[s]);return n}if(o.default.isObject(e)){var r={};for(var a in e)r[a]=this._interpolate(t,e[a],i[a]);return r}return(1-t)*(e=this._toNumber(e))+t*this._toNumber(i)},o.default.CtrlInterpolate.prototype._toNumber=function(t){return o.default.isNumber(t)?t:this.toSeconds(t)},o.default.CtrlInterpolate.prototype.dispose=function(){this.values=null},e.default=o.default.CtrlInterpolate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(36),i(1),n.default.Waveform=function(){var t=n.default.defaults(arguments,["size"],n.default.Waveform);t.type=n.default.Analyser.Type.Waveform,n.default.AudioNode.call(this),this._analyser=this.input=this.output=new n.default.Analyser(t)},n.default.extend(n.default.Waveform,n.default.AudioNode),n.default.Waveform.defaults={size:1024},n.default.Waveform.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(n.default.Waveform.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),n.default.Waveform.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=n.default.Waveform},function(t,e,i){"use strict";i.r(e);var n=i(0);i(23),i(10),i(19),i(2),i(22),i(28),i(1),n.default.Panner3D=function(){var t=n.default.defaults(arguments,["positionX","positionY","positionZ"],n.default.Panner3D);n.default.AudioNode.call(this),this._panner=this.input=this.output=this.context.createPanner(),this._panner.panningModel=t.panningModel,this._panner.maxDistance=t.maxDistance,this._panner.distanceModel=t.distanceModel,this._panner.coneOuterGain=t.coneOuterGain,this._panner.coneOuterAngle=t.coneOuterAngle,this._panner.coneInnerAngle=t.coneInnerAngle,this._panner.refDistance=t.refDistance,this._panner.rolloffFactor=t.rolloffFactor,this._orientation=[t.orientationX,t.orientationY,t.orientationZ],this._position=[t.positionX,t.positionY,t.positionZ],this.orientationX=t.orientationX,this.orientationY=t.orientationY,this.orientationZ=t.orientationZ,this.positionX=t.positionX,this.positionY=t.positionY,this.positionZ=t.positionZ},n.default.extend(n.default.Panner3D,n.default.AudioNode),n.default.Panner3D.defaults={positionX:0,positionY:0,positionZ:0,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",maxDistance:1e4,distanceModel:"inverse",coneOuterGain:0,coneOuterAngle:360,coneInnerAngle:360,refDistance:1,rolloffFactor:1},n.default.Panner3D.prototype._rampTimeConstant=.01,n.default.Panner3D.prototype.setPosition=function(t,e,i){if(this._panner.positionX){var n=this.now();this._panner.positionX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.positionY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.positionZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setPosition(t,e,i);return this._position=Array.prototype.slice.call(arguments),this},n.default.Panner3D.prototype.setOrientation=function(t,e,i){if(this._panner.orientationX){var n=this.now();this._panner.orientationX.setTargetAtTime(t,n,this._rampTimeConstant),this._panner.orientationY.setTargetAtTime(e,n,this._rampTimeConstant),this._panner.orientationZ.setTargetAtTime(i,n,this._rampTimeConstant)}else this._panner.setOrientation(t,e,i);return this._orientation=Array.prototype.slice.call(arguments),this},Object.defineProperty(n.default.Panner3D.prototype,"positionX",{set:function(t){this._position[0]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[0]}}),Object.defineProperty(n.default.Panner3D.prototype,"positionY",{set:function(t){this._position[1]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[1]}}),Object.defineProperty(n.default.Panner3D.prototype,"positionZ",{set:function(t){this._position[2]=t,this.setPosition.apply(this,this._position)},get:function(){return this._position[2]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationX",{set:function(t){this._orientation[0]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[0]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationY",{set:function(t){this._orientation[1]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[1]}}),Object.defineProperty(n.default.Panner3D.prototype,"orientationZ",{set:function(t){this._orientation[2]=t,this.setOrientation.apply(this,this._orientation)},get:function(){return this._orientation[2]}}),n.default.Panner3D._aliasProperty=function(e){Object.defineProperty(n.default.Panner3D.prototype,e,{set:function(t){this._panner[e]=t},get:function(){return this._panner[e]}})},n.default.Panner3D._aliasProperty("panningModel"),n.default.Panner3D._aliasProperty("refDistance"),n.default.Panner3D._aliasProperty("rolloffFactor"),n.default.Panner3D._aliasProperty("distanceModel"),n.default.Panner3D._aliasProperty("coneInnerAngle"),n.default.Panner3D._aliasProperty("coneOuterAngle"),n.default.Panner3D._aliasProperty("coneOuterGain"),n.default.Panner3D._aliasProperty("maxDistance"),n.default.Panner3D.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._panner.disconnect(),this._panner=null,this._orientation=null,this._position=null,this},e.default=n.default.Panner3D},function(t,e,i){"use strict";i.r(e);var n=i(0);i(60),i(43),i(1),n.default.MultibandCompressor=function(t){n.default.AudioNode.call(this),t=n.default.defaultArg(arguments,n.default.MultibandCompressor.defaults),this._splitter=this.input=new n.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new n.default.Gain,this.low=new n.default.Compressor(t.low),this.mid=new n.default.Compressor(t.mid),this.high=new n.default.Compressor(t.high),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),this._readOnly(["high","mid","low","highFrequency","lowFrequency"])},n.default.extend(n.default.MultibandCompressor,n.default.AudioNode),n.default.MultibandCompressor.defaults={low:n.default.Compressor.defaults,mid:n.default.Compressor.defaults,high:n.default.Compressor.defaults,lowFrequency:250,highFrequency:2e3},n.default.MultibandCompressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._splitter.dispose(),this._writable(["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this._splitter=null,this.low=null,this.mid=null,this.high=null,this.lowFrequency=null,this.highFrequency=null,this},e.default=n.default.MultibandCompressor},function(t,e,i){"use strict";i.r(e);var n=i(0);i(10),i(1),n.default.Mono=function(){n.default.AudioNode.call(this),this.createInsOuts(1,0),this._merge=this.output=new n.default.Merge,n.default.connect(this.input,this._merge,0,0),n.default.connect(this.input,this._merge,0,1)},n.default.extend(n.default.Mono,n.default.AudioNode),n.default.Mono.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._merge.dispose(),this._merge=null,this},e.default=n.default.Mono},function(t,e,i){"use strict";i.r(e);var n=i(0);i(53),i(52),i(43),i(1),n.default.MidSideCompressor=function(t){n.default.AudioNode.call(this),t=n.default.defaultArg(t,n.default.MidSideCompressor.defaults),this._midSideSplit=this.input=new n.default.MidSideSplit,this._midSideMerge=this.output=new n.default.MidSideMerge,this.mid=new n.default.Compressor(t.mid),this.side=new n.default.Compressor(t.side),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),this._readOnly(["mid","side"])},n.default.extend(n.default.MidSideCompressor,n.default.AudioNode),n.default.MidSideCompressor.defaults={mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}},n.default.MidSideCompressor.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["mid","side"]),this.mid.dispose(),this.mid=null,this.side.dispose(),this.side=null,this._midSideSplit.dispose(),this._midSideSplit=null,this._midSideMerge.dispose(),this._midSideMerge=null,this},e.default=n.default.MidSideCompressor},function(t,e,i){"use strict";i.r(e);var r=i(0);i(36),i(1),r.default.Meter=function(){var t=r.default.defaults(arguments,["smoothing"],r.default.Meter);r.default.AudioNode.call(this),this.smoothing=t.smoothing,this._rms=0,this.input=this.output=this._analyser=new r.default.Analyser("waveform",256)},r.default.extend(r.default.Meter,r.default.AudioNode),r.default.Meter.defaults={smoothing:.8},r.default.Meter.prototype.getLevel=function(){for(var t=this._analyser.getValue(),e=0,i=0;i<t.length;i++){var n=t[i];e+=n*n}var s=Math.sqrt(e/t.length);return this._rms=Math.max(s,this._rms*this.smoothing),r.default.gainToDb(this._rms)},r.default.Meter.prototype.getValue=function(){return this._analyser.getValue()[0]},r.default.Meter.prototype.dispose=function(){return r.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null,this},e.default=r.default.Meter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(43),i(1),n.default.Limiter=function(){var t=n.default.defaults(arguments,["threshold"],n.default.Limiter);n.default.AudioNode.call(this),this._compressor=this.input=this.output=new n.default.Compressor({attack:.001,decay:.001,threshold:t.threshold}),this.threshold=this._compressor.threshold,this._readOnly("threshold")},n.default.extend(n.default.Limiter,n.default.AudioNode),n.default.Limiter.defaults={threshold:-12},n.default.Limiter.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._compressor.dispose(),this._compressor=null,this._writable("threshold"),this.threshold=null,this},e.default=n.default.Limiter},function(t,e,i){"use strict";i.r(e);var n=i(0);i(58),i(85),i(1),n.default.Gate=function(){var t=n.default.defaults(arguments,["threshold","smoothing"],n.default.Gate);n.default.AudioNode.call(this),this.createInsOuts(1,1),this._follower=new n.default.Follower(t.smoothing),this._gt=new n.default.GreaterThan(n.default.dbToGain(t.threshold)),n.default.connect(this.input,this.output),n.default.connectSeries(this.input,this._follower,this._gt,this.output.gain)},n.default.extend(n.default.Gate,n.default.AudioNode),n.default.Gate.defaults={smoothing:.1,threshold:-40},Object.defineProperty(n.default.Gate.prototype,"threshold",{get:function(){return n.default.gainToDb(this._gt.value)},set:function(t){this._gt.value=n.default.dbToGain(t)}}),Object.defineProperty(n.default.Gate.prototype,"smoothing",{get:function(){return this._follower.smoothing},set:function(t){this._follower.smoothing=t}}),n.default.Gate.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._follower.dispose(),this._gt.dispose(),this._follower=null,this._gt=null,this},e.default=n.default.Gate},function(t,e,i){"use strict";i.r(e);var n=i(0);i(36),i(1),n.default.FFT=function(){var t=n.default.defaults(arguments,["size"],n.default.FFT);t.type=n.default.Analyser.Type.FFT,n.default.AudioNode.call(this),this._analyser=this.input=this.output=new n.default.Analyser(t)},n.default.extend(n.default.FFT,n.default.AudioNode),n.default.FFT.defaults={size:1024},n.default.FFT.prototype.getValue=function(){return this._analyser.getValue()},Object.defineProperty(n.default.FFT.prototype,"size",{get:function(){return this._analyser.size},set:function(t){this._analyser.size=t}}),n.default.FFT.prototype.dispose=function(){n.default.AudioNode.prototype.dispose.call(this),this._analyser.dispose(),this._analyser=null},e.default=n.default.FFT},function(t,e,i){"use strict";i.r(e);var n=i(0);i(60),i(3),i(1),n.default.EQ3=function(){var t=n.default.defaults(arguments,["low","mid","high"],n.default.EQ3);n.default.AudioNode.call(this),this.output=new n.default.Gain,this._multibandSplit=this.input=new n.default.MultibandSplit({lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this._lowGain=new n.default.Gain(t.low,n.default.Type.Decibels),this._midGain=new n.default.Gain(t.mid,n.default.Type.Decibels),this._highGain=new n.default.Gain(t.high,n.default.Type.Decibels),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),this._readOnly(["low","mid","high","lowFrequency","highFrequency"])},n.default.extend(n.default.EQ3,n.default.AudioNode),n.default.EQ3.defaults={low:0,mid:0,high:0,lowFrequency:400,highFrequency:2500},n.default.EQ3.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this._multibandSplit=null,this.lowFrequency=null,this.highFrequency=null,this._lowGain.dispose(),this._lowGain=null,this._midGain.dispose(),this._midGain=null,this._highGain.dispose(),this._highGain=null,this.low=null,this.mid=null,this.high=null,this.Q=null,this},e.default=n.default.EQ3},function(t,e,i){"use strict";i.r(e);var n=i(0);i(91),i(88),i(1),n.default.Channel=function(){var t=n.default.defaults(arguments,["volume","pan"],n.default.PanVol);n.default.AudioNode.call(this,t),this._solo=this.input=new n.default.Solo(t.solo),this._panVol=this.output=new n.default.PanVol({pan:t.pan,volume:t.volume,mute:t.mute}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),this._readOnly(["pan","volume"])},n.default.extend(n.default.Channel,n.default.AudioNode),n.default.Channel.defaults={pan:0,volume:0,mute:!1,solo:!1},Object.defineProperty(n.default.Channel.prototype,"solo",{get:function(){return this._solo.solo},set:function(t){this._solo.solo=t}}),Object.defineProperty(n.default.Channel.prototype,"muted",{get:function(){return this._solo.muted||this.mute}}),Object.defineProperty(n.default.Channel.prototype,"mute",{get:function(){return this._panVol.mute},set:function(t){this._panVol.mute=t}}),n.default.Channel.prototype.dispose=function(){return n.default.AudioNode.prototype.dispose.call(this),this._writable(["pan","volume"]),this._panVol.dispose(),this._panVol=null,this.pan=null,this.volume=null,this._solo.dispose(),this._solo=null,this},e.default=n.default.Channel},function(vhc,whc){var xhc;xhc=function(){return this}();try{xhc=xhc||Function("return this")()||eval("this")}catch(vhc){"object"==typeof window&&(xhc=window)}vhc.exports=xhc},function(t,e,i){i(31),i(36),i(146),i(43),i(23),i(47),i(145),i(59),i(144),i(9),i(58),i(41),i(143),i(12),i(142),i(54),i(10),i(141),i(140),i(52),i(53),i(139),i(138),i(60),i(48),i(137),i(91),i(86),i(88),i(19),i(27),i(136),i(135),i(134),i(79),i(133),i(1),i(11),i(78),i(132),i(83),i(20),i(18),i(131),i(35),i(3),i(81),i(130),i(40),i(77),i(76),i(14),i(24),i(34),i(16),i(56),i(80),i(129),i(128),i(127),i(126),i(125),i(124),i(74),i(123),i(8),i(122),i(33),i(121),i(120),i(73),i(119),i(118),i(117),i(116),i(15),i(115),i(114),i(72),i(113),i(112),i(51),i(71),i(70),i(111),i(110),i(109),i(108),i(107),i(21),i(106),i(105),i(25),i(66),i(104),i(103),i(102),i(101),i(38),i(87),i(29),i(22),i(89),i(100),i(85),i(84),i(75),i(5),i(90),i(99),i(61),i(26),i(42),i(2),i(30),i(13),i(82),i(98),i(7),i(28),i(68),i(32),i(67),i(49),i(97),i(39),i(37),i(17),i(64),i(65),i(96),i(50),i(69),i(6),i(57),i(95),i(46),i(94),i(55),i(63),i(62),i(45),i(4),t.exports=i(0).default}])},"object"==typeof iCb&&"object"==typeof hCb?hCb.exports=kCb():"function"==typeof define&&define.amd?define([],kCb):"object"==typeof iCb?iCb.Tone=kCb():jCb.Tone=kCb()},{}],8:[function(t,e,i){"use strict";function n(t){this._data=new DataView(t),this._offset=2===this.version?24:20}n.isCompatible=function(t){var e=t&&"object"==typeof t&&"byteLength"in t;if(e){var i=new DataView(t).getInt32(0,!0);if(1!==i&&2!==i)throw new TypeError("This waveform data version not supported.")}return e},n.prototype={get version(){return this._data.getInt32(0,!0)},get bits(){return Boolean(this._data.getUint32(4,!0))?8:16},get channels(){return 2===this.version?this._data.getInt32(20,!0):1},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},get length(){return this._data.getUint32(16,!0)},at:function(t){return this._data.getInt8(this._offset+t)},concatBuffers:function(){var t,e,i=Array.prototype.slice.call(arguments),n=this._offset,s=n,r=0,a=[this].concat(i).map(function(t){return t._data.buffer});for(t=0;t<a.length;t++){e=a[t];var o=new DataView(e).getInt32(16,!0);s+=e.byteLength-n,r+=o}var l=new ArrayBuffer(s),u=new DataView(a[0]),h=new DataView(l);for(t=0;t<n;t++)h.setUint8(t,u.getUint8(t));h.setInt32(16,r,!0);var c=0,d=new Uint8Array(l,n);for(t=0;t<a.length;t++)e=a[t],d.set(new Uint8Array(e,n),c),c+=e.byteLength-n;return l}},e.exports=n},{}],9:[function(t,e,i){"use strict";function n(t){this._data=t}n.isCompatible=function(t){return t&&"object"==typeof t&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t},n.prototype={get version(){return this._data.version||1},get bits(){return this._data.bits},get channels(){return this._data.channels||1},get sample_rate(){return this._data.sample_rate},get scale(){return this._data.samples_per_pixel},get length(){return this._data.length},at:function(t){var e=this._data.data;if(0<=t&&t<e.length)return e[t];throw new RangeError("Invalid index: "+t)},concatBuffers:function(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return t._data.data}),i=Object.assign({},this._data);return i.data=i.data.concat.apply(i.data,e),i.length+=t.reduce(function(t,e){return t+e.length},0),i}},e.exports=n},{}],10:[function(t,e,i){"use strict";var r=t("../core"),s=t("inline-worker");function a(t,i){var n=new s(function(){this.addEventListener("message",function t(e){var i,n,s,r,a,o=e.data.scale,l=e.data.amplitude_scale,u=e.data.split_channels,h=e.data.audio_buffer,c=h.channels,d=u?c.length:1,f=1===d?1:2,p=1===f?20:24,_=(i=h.length,n=o,s=Math.floor(i/n),0<i-s*n&&s++,s),m=new DataView(new ArrayBuffer(p+2*_*d)),g=0,v=h.length,y=p,b=new Array(d),w=new Array(d);for(r=0;r<d;r++)b[r]=1/0,w[r]=-1/0;for(m.setInt32(0,f,!0),m.setUint32(4,1,!0),m.setInt32(8,h.sampleRate,!0),m.setInt32(12,o,!0),m.setInt32(16,_,!0),2===f&&m.setInt32(20,d,!0),a=0;a<v;a++){var x=0;if(1===d){for(r=0;r<c.length;++r)x+=c[r][a];(x=Math.floor(127*x*l/c.length))<b[0]&&(b[0]=x,b[0]<-128&&(b[0]=-128)),x>w[0]&&(w[0]=x,127<w[0]&&(w[0]=127))}else for(r=0;r<d;++r)(x=Math.floor(127*c[r][a]*l))<b[r]&&(b[r]=x,b[r]<-128&&(b[r]=-128)),x>w[r]&&(w[r]=x,127<w[r]&&(w[r]=127));if(++g===o){for(r=0;r<d;r++)m.setInt8(y++,b[r]),m.setInt8(y++,w[r]),b[r]=1/0,w[r]=-1/0;g=0}}if(0<g)for(r=0;r<d;r++)m.setInt8(y++,b[r]),m.setInt8(y++,w[r]);this.postMessage(m),this.removeEventListener("message",t),this.close()})});n.addEventListener("message",function t(e){i(e.data),n.removeEventListener("message",t)}),n.postMessage(t)}e.exports=function(n,s){return function(e){for(var t={length:e.length,sampleRate:e.sampleRate,channels:[]},i=0;i<e.numberOfChannels;++i)t.channels[i]=e.getChannelData(i);a({scale:n.scale,amplitude_scale:n.amplitude_scale,split_channels:n.split_channels,audio_buffer:t},function(t){s(null,new r(t.buffer),e)})}}},{"../core":14,"inline-worker":3}],11:[function(t,e,i){"use strict";var n=512,s=1,r=!1;e.exports=function(t){if(Object.prototype.hasOwnProperty.call(t,"scale_adjuster"))throw new Error("Please rename the 'scale_adjuster' option to 'amplitude_scale'");return{scale:t.scale||n,amplitude_scale:t.amplitude_scale||s,split_channels:t.split_channels||r}}},{}],12:[function(t,e,i){"use strict";var l=t("./audiodecoder"),u=t("./options");e.exports=function(t,e){var i,n,s,r,a,o=u(t);if(t.audio_context&&t.array_buffer)return n=t.audio_context,s=t.array_buffer,r=o,a=e,void n.decodeAudioData(s,l(r,a),function(t){t||(t=new DOMException("EncodingError")),a(t)});if(t.audio_buffer)return i=t.audio_buffer,l(o,e)(i);throw new TypeError("Please pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")}},{"./audiodecoder":10,"./options":11}],13:[function(t,e,i){"use strict";function n(t,e){this._waveformData=t,this._channelIndex=e}n.prototype.min_sample=function(t){var e=2*(t*this._waveformData.channels+this._channelIndex);return this._waveformData._adapter.at(e)},n.prototype.max_sample=function(t){var e=2*(t*this._waveformData.channels+this._channelIndex)+1;return this._waveformData._adapter.at(e)},n.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex)},n.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex+1)},e.exports=n},{}],14:[function(t,e,i){"use strict";var n=t("./channel"),s=t("./adapters/object"),r=[t("./adapters/arraybuffer"),s];function b(t){var e=this._getAdapter(t);this._adapter=new e(t),this._channels=[];for(var i=0;i<this.channels;i++)this._channels[i]=new n(this,i)}b.create=function(t){return new b(t)},b.prototype={_getAdapter:function(e){var i=null;if(r.some(function(t){if(t.isCompatible(e))return i=t,!0}),null===i)throw new TypeError("Could not detect a WaveformData adapter from the input.");return i},resample:function(i){"number"==typeof i&&(i={width:i}),i.input_index="number"==typeof i.input_index?i.input_index:null,i.output_index="number"==typeof i.output_index?i.output_index:null,i.scale="number"==typeof i.scale?i.scale:null,i.width="number"==typeof i.width?i.width:null;var t=Boolean(i.input_index)||Boolean(i.output_index);if(null!=i.input_index&&i.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+i.input_index+"]");if(null!=i.output_index&&i.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+i.output_index+"]");if(null!=i.width&&i.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+i.width+"]");if(null!=i.scale&&i.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+i.scale+"]");if(!i.scale&&!i.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var e=["width","scale","output_index","input_index"].reduce(function(t,e){return t+(null===i[e]?0:1)},0);if(t&&4!==e)throw new Error("Some partial resampling options are missing. You provided "+e+" of them over 4.");var n,s=[],r=i.scale||Math.floor(this.duration*this.sample_rate/i.width),a=this.scale,o=2*this.channels,l=this.length,u=i.input_index||0,h=i.output_index||0,c=this.channels,d=new Array(c),f=new Array(c);for(n=0;n<c;++n)0<l?(d[n]=this.channel(n).min_sample(u),f[n]=this.channel(n).max_sample(u)):(d[n]=0,f[n]=0);var p,_,m,g;if(r<a)throw new Error("Zoom level "+r+" too low, minimum: "+a);function v(t){return Math.floor(t*r)}function y(t,e){s.push(t,e)}for(;u<l;){for(;Math.floor(v(h)/a)<=u;){if(0<h)for(n=0;n<c;++n)y(d[n],f[n]);if(g=u,(p=v(++h))!==v(h-1))for(n=0;n<c;++n)d[n]=127,f[n]=-128}for(p=v(h),l<(_=Math.floor(p/a))&&(_=l);u<_;){for(n=0;n<c;++n)(m=this.channel(n).min_sample(u))<d[n]&&(d[n]=m),(m=this.channel(n).max_sample(u))>f[n]&&(f[n]=m);u++}if(t&&s.length/o>=i.width)break}if(t){if(s.length/o>i.width&&u!==g)for(n=0;n<c;++n)y(d[n],f[n])}else if(u!==g)for(n=0;n<c;++n)y(d[n],f[n]);return new b({version:this._adapter.version,bits:this.bits,samples_per_pixel:r,length:s.length/o,data:s,sample_rate:this.sample_rate,channels:c})},concat:function(){var e=this,t=Array.prototype.slice.call(arguments);t.forEach(function(t){if(e.channels!==t.channels||e.sample_rate!==t.sample_rate||e.scale!==t.scale||Object.getPrototypeOf(e._adapter)!==Object.getPrototypeOf(t._adapter)||e._adapter.version!==t._adapter.version)throw new Error("Waveforms are incompatible")});var i=t.map(function(t){return t._adapter});return new b(this._adapter.concatBuffers.apply(this._adapter,i))},_offsetValues:function(t,e,i){var n=this._adapter,s=[],r=this.channels;i+=t*r*2;for(var a=0;a<e;a++)s.push(n.at(a*r*2+i));return s},get length(){return this._adapter.length},get bits(){return this._adapter.bits},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._adapter.channels},channel:function(t){if(0<=t&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._adapter.sample_rate},get scale(){return this._adapter.scale},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate}},e.exports=b},{"./adapters/arraybuffer":8,"./adapters/object":9,"./channel":13}],15:[function(t,e,i){"use strict";var n=t("./lib/core");n.createFromAudio=t("./lib/builders/webaudio"),e.exports=n},{"./lib/builders/webaudio":12,"./lib/core":14}],16:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.BackgroundAudio=function(){function t(){r(this,t),this.TONE=osmo.scroll.TONE,this.allTracksCount=0,this.currentTrack,this.introTrack,this.baseTracks={}}var e,i,n;return e=t,(i=[{key:"start",value:function(){this.TONE.start(),this.currentTrack="intro",this.introTrack.start()}},{key:"loadAudio",value:function(){for(var t=0;t<7;t++){var e=t+1,i="./assets/audio/tracks/Baseline_"+e+".mp3",n=new this.TONE.Player({url:i,loop:!0,fadeOut:1,fadeIn:1,onload:function(){this.allTracksCount++}}).toMaster();this.baseTracks["base"+e]=n}this.introTrack=new this.TONE.Player({url:"./assets/audio/loops/-1.mp3",loop:!0,loopStart:0,loopEnd:20,fadeOut:1,onload:function(){allTracksCount++}}).toMaster()}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],17:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.DataAudio=function(){function t(){r(this,t),this.audioFiles=["../../assets/audio/loops/-1.mp3","../../assets/audio/loops/0.mp3","../../assets/audio/loops/1.mp3","../../assets/audio/loops/4.mp3","../../assets/audio/loops/5.mp3","../../assets/audio/loops/6.mp3","../../assets/audio/loops/7.mp3","../../assets/audio/loops/8.mp3","../../assets/audio/loops/9.mp3","../../assets/audio/loops/10.mp3","../../assets/audio/loops/11.mp3","../../assets/audio/loops/12.mp3","../../assets/audio/loops/13.mp3","../../assets/audio/loops/14.mp3","../../assets/audio/loops/15.mp3","../../assets/audio/loops/16.mp3","../../assets/audio/loops/17.mp3","../../assets/audio/loops/19.mp3","../../assets/audio/loops/20.mp3","../../assets/audio/loops/21.mp3","../../assets/audio/loops/23.mp3","../../assets/audio/loops/24.mp3","../../assets/audio/loops/25.mp3","../../assets/audio/loops/28.mp3","../../assets/audio/loops/29.mp3","../../assets/audio/loops/30.mp3","../../assets/audio/loops/32.mp3","../../assets/audio/loops/33.mp3","../../assets/audio/loops/35.mp3","../../assets/audio/loops/36.mp3","../../assets/audio/loops/37.mp3","../../assets/audio/loops/38.mp3","../../assets/audio/loops/40.mp3","../../assets/audio/loops/41.mp3","../../assets/audio/loops/43.mp3","../../assets/audio/loops/44.mp3","../../assets/audio/loops/45.mp3","../../assets/audio/loops/46.mp3","../../assets/audio/loops/48.mp3","../../assets/audio/loops/50.mp3","../../assets/audio/loops/52.mp3","../../assets/audio/loops/53.mp3","../../assets/audio/loops/54.mp3","../../assets/audio/loops/58.mp3","../../assets/audio/loops/60.mp3","../../assets/audio/loops/62.mp3","../../assets/audio/loops/63.mp3","../../assets/audio/tracks/Baseline_1.mp3","../../assets/audio/tracks/Baseline_2.mp3","../../assets/audio/tracks/Baseline_3.mp3","../../assets/audio/tracks/Baseline_4.mp3","../../assets/audio/tracks/Baseline_5.mp3","../../assets/audio/tracks/Baseline_6.mp3","../../assets/audio/tracks/Baseline_7.mp3"]}var e,i,n;return e=t,(i=[{key:"init",value:function(){}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],18:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.LegendInteraction=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.LEGENDSVG=osmo.legendsvg,this.DATASVG=osmo.datasvg}var e,i,n;return e=t,(i=[{key:"mouseMoved",value:function(t){var n=this.LEGENDSVG;osmo.scroll.loaded.HQimage&&osmo.scroll.loaded.svgdata&&"focused"!=osmo.scroll.hitPopupMode&&(n.maskLayer.visible=!0,Object.keys(n.popupBBoxes).forEach(function(t){var e=osmo.scroll.PAPER.view.center.x-osmo.scroll.paperWidth/2,i=osmo.scroll.PAPER.view.center.x+osmo.scroll.paperWidth/2;n.popupBBoxes[t].mask.bounds.rightCenter.x>e&&n.popupBBoxes[t].mask.bounds.leftCenter.x<i&&(n.popupBBoxes[t].mask.visible=!0)}),this.hitMaskEffect(t.point,"hover"))}},{key:"hitMaskEffect",value:function(t,e){var s,r,a,o=this.LEGENDSVG,l=osmo.datasvg.backgroundLayer.opacity,u=new this.PAPER.Color($("body").css("background-color")),h=!1,i=o.maskLayer.hitTest(t,osmo.scroll.maskHitOptions);if(null!=i){if(o.legendLayer.visible=!0,null==(a=this.PAPER.project.getItem({name:i.item.data.legendName})))return;"hover"==e&&(s=.25,r=new this.PAPER.Color("#6d7c80"),document.body.style.cursor="pointer",osmo.scroll.prevBoundsCenter=null,osmo.scroll.prevZoom=null)}else{s=1,r=new this.PAPER.Color("#b5ced5"),o.legendLayer.visible=!1,document.body.style.cursor="default";for(var n=0;n<o.legendLayer.children.length;n++){o.legendLayer.children[n].visible=!1}}h||(setTimeout(function(){h=!1},960),osmo.datasvg.backgroundTweenItem.tween({val:1},{val:0},{easing:"easeInOutQuad",duration:800}).onUpdate=function(t){h=!0;var e=osmo.datasvg.backgroundTweenItem.val,i=new osmo.scroll.PAPER.Color(r.red+(u.red-r.red)*e,r.green+(u.green-r.green)*e,r.blue+(u.blue-r.blue)*e);if(osmo.datasvg.backgroundLayer.opacity=s+(l-s)*e,$("body").css("background-color",i.toCSS(!0)),void 0!==a&&!a.visible&&0==e){for(var n=0;n<o.legendLayer.children.length;n++){o.legendLayer.children[n].visible=!1}a.visible=!0}})}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],19:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.NavigationInteraction=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.TONE=osmo.scroll.TONE,this.BGAUDIO=osmo.bgaudio,this.mousePos,this.navigationFile=null,this.navHitOptions={segments:!1,stroke:!1,fill:!0,tolerance:5},this.currentNavLoc=-1,this.navTweenItem,this.navLayer,this.init,this.update}var e,i,n;return e=t,(i=[{key:"init",value:function(){this.navLayer=new this.PAPER.Layer,this.BGAUDIO.loadAudio()}},{key:"loadNav",value:function(){this.PAPER.project.importSVG("./assets/data/ChapterNavigation.svg",function(t){var e=osmo.scroll.paperHeight/t.bounds.height;t.scale(e),t.position=osmo.scroll.PAPER.view.center,t.position.x=3*osmo.scroll.paperWidth/4+osmo.datasvg.scrollWidth/2,t.opacity=.01,osmo.navinteract.navLayer.addChild(t)})}},{key:"initNav",value:function(){$(".jump").click(function(t){var e=parseInt($(t.target.parentElement).attr("data-id")),i=osmo.scroll.PAPER.project.getItem({name:"nav-ch"+e}).bounds.left,n=osmo.scroll.PAPER.project.getItem({name:"nav-ch"+e}).bounds.width;n>osmo.scroll.paperWidth?i+=osmo.scroll.paperWidth/2:i+=n/2;var s=2e3,r=Math.abs(i-osmo.scroll.PAPER.view.center.x);if(r<osmo.scroll.paperWidth){var a=r/osmo.scroll.paperWidth;(s=parseInt(2e3*a))<350&&(s=350)}osmo.navinteract.navTweenItem.tween({position:osmo.scroll.PAPER.view.center},{position:new osmo.scroll.PAPER.Point(i,osmo.scroll.PAPER.view.center.y)},{easing:"easeInOutQuad",duration:s}).onUpdate=function(t){osmo.scroll.PAPER.view.center=osmo.navinteract.navTweenItem.position,osmo.navinteract.hitNavEffect()};for(var o=0;o<7;o++)osmo.bgaudio.baseTracks["base"+(o+1)].stop();setTimeout(function(){osmo.bgaudio.currentTrack="base"+e,osmo.bgaudio.baseTracks[osmo.bgaudio.currentTrack].start()},s)}),this.navTweenItem=new this.PAPER.Shape.Circle(this.PAPER.view.center,30),this.navTweenItem.fill="#222",this.navTweenItem.stroke="none",this.navTweenItem.position=this.PAPER.view.center,osmo.bgaudio.start()}},{key:"updateBasetrack",value:function(){clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){if(-1!=this.currentNavLoc&&this.BGAUDIO.currentTrack!="base"+this.currentNavLoc){this.BGAUDIO.currentTrack="base"+this.currentNavLoc;for(var t=0;t<7;t++)this.BGAUDIO.baseTracks["base"+(t+1)].stop();this.BGAUDIO.baseTracks[this.BGAUDIO.currentTrack].start()}}.bind(this),250))}},{key:"hitNavEffect",value:function(){var t=this.navLayer.hitTest(this.PAPER.view.center,this.navHitOptions);if(null!=t){var e=t.item.name;if(null==e)return;if(e.includes("nav-ch")){-1==this.currentNavLoc&&($(".nav").fadeIn(),this.BGAUDIO.introTrack.stop(),this.BGAUDIO.currentTrack="none");var i=parseInt(e.replace("nav-ch",""));if(this.currentNavLoc!=i)for(var n=$(".jump"),s=0;s<n.length;s++){var r=$(n[s]),a=parseInt(r.attr("data-id"));r.hasClass("selected")&&(r.removeClass("selected"),r.find("img")[0].src=r.find("img")[0].src.replace("_selected","_default")),a==i&&(this.currentNavLoc=i,r.addClass("selected"),r.find("img")[0].src=r.find("img")[0].src.replace("_default","_selected"))}}if(e.includes("intro")&&($(".nav").fadeOut(),this.currentNavLoc=-1,"intro"!=this.BGAUDIO.currentTrack)){for(var o=0;o<7;o++)this.BGAUDIO.baseTracks["base"+(o+1)].stop();this.BGAUDIO.introTrack.start(),this.BGAUDIO.currentTrack="intro"}}}},{key:"update",value:function(){}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],20:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.PanAndZoom=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.maxZoom=1,this.isCompletedDetecting=!1,this.isTrackpadDetected=!1,this.init,this.update}var e,i,n;return e=t,(i=[{key:"init",value:function(){osmo.pzinteract.detectMouseType(),$("#main-scroll-canvas").on("mousewheel",function(t){var e;if(osmo.navinteract.updateBasetrack(),osmo.navinteract.hitNavEffect(),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){-1!=osmo.navinteract.currentNavLoc&&osmo.bgaudio.currentTrack!="base"+osmo.navinteract.currentNavLoc&&(osmo.bgaudio.currentTrack="base"+osmo.navinteract.currentNavLoc)},250)),window.isMobile?e=t:(e=t.originalEvent,t.preventDefault()),osmo.scroll.loaded.svgdata&&osmo.scroll.loaded.HQimage){"focused"!=osmo.scroll.hitPopupMode&&osmo.legendsvg.maskLayer.visible&&(osmo.legendsvg.maskLayer.visible=!1,Object.keys(osmo.legendsvg.popupBBoxes).forEach(function(t){osmo.legendsvg.popupBBoxes[t].mask.visible=!1}),osmo.legendinteract.hitMaskEffect(new osmo.scroll.PAPER.Point(0,0),"scrolling"));var i,n,s,r=1.005/(osmo.scroll.PAPER.view.zoom*osmo.scroll.PAPER.view.zoom);if("focused"!=osmo.scroll.hitPopupMode)i=e.deltaY,e.deltaY,osmo.scroll.PAPER.view.center=osmo.pzinteract.changeCenter(osmo.scroll.PAPER.view.center,i,0,r);else n=e.deltaX,s=e.deltaY,osmo.scroll.PAPER.view.center=osmo.pzinteract.changeCenter(osmo.scroll.PAPER.view.center,n,s,r,!1),osmo.navinteract.navTweenItem.position=osmo.scroll.PAPER.view.center}})}},{key:"detectMouseType",value:function(){if(window.isMobile)this.isCompletedDetecting=!0,this.isTrackpadDetected=!0;else{var t=function t(e){var i=!1;e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY&&(i=!0):0===e.deltaMode&&(i=!0),osmo.pzinteract.isCompletedDetecting=!0,osmo.pzinteract.isTrackpadDetected=i,osmo.pzinteract.isCompletedDetecting&&($("#scrollm").hide(),document.removeEventListener("mousewheel",t,!1),document.removeEventListener("DOMMouseScroll",t,!1))};document.addEventListener("mousewheel",t,!1),document.addEventListener("DOMMouseScroll",t,!1)}}},{key:"changeCenter",value:function(t,e,i,n){var s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=new this.PAPER.Point(e,-i);return r=r.multiply(n),t=t.add(r),s&&(t.y*this.PAPER.view.zoom-osmo.scroll.paperHeight/2<=0&&0<i&&(t.y=osmo.scroll.paperHeight/(2*this.PAPER.view.zoom)),t.y*this.PAPER.view.zoom>-osmo.scroll.paperHeight/2+osmo.scroll.paperHeight*this.PAPER.view.zoom&&i<0&&(t.y=-osmo.scroll.paperHeight/(2*this.PAPER.view.zoom)+osmo.scroll.paperHeight)),t}},{key:"changeZoom",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1.015,n=t;return e<0&&(n=t*i),0<e&&(n=t/i),(!(3<arguments.length&&void 0!==arguments[3])||arguments[3])&&(n<=1&&(n=1),n>maxZoom&&(n=maxZoom)),n}},{key:"setMaxZoom",value:function(t){this.maxZoom=t}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],21:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.PopupInteraction=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.LEGENDSVG=osmo.legendsvg,this.DATASVG=osmo.datasvg,this.currentFocus=null}var e,i,n;return e=t,(i=[{key:"init",value:function(){$("#popcancel").click(function(){this.close()}.bind(this)),$("#focused_waveform_state").click(function(){var t=$("#focused_waveform_state").html();"▶"==t&&$("#focused_waveform_state").html("<b>Ⅱ</b>"),"<b>Ⅱ</b>"==t&&$("#focused_waveform_state").html("▶")})}},{key:"close",value:function(){var t=this.LEGENDSVG;$("#focused-cta").hide(),$("#focused-info").hide(),$("#"+this.currentFocus+"_waveform").hide(),document.body.style.cursor="default";var e=1.005/(this.PAPER.view.zoom*this.PAPER.view.zoom),i=this.PAPER.view.center,n=osmo.scroll.prevBoundsCenter,s=osmo.scroll.prevZoom;if(t.popupBBoxes.hasOwnProperty(this.currentFocus))for(var r=t.popupBBoxes[this.currentFocus].paths.length,a=0;a<r;a++)t.popupBBoxes[this.currentFocus].paths[a].selected=!1,t.popupBBoxes[this.currentFocus].paths[a].visible=!1;this.currentFocus=null,osmo.scroll.hitPopupMode="hovering",this.hitMaskEffect(new this.PAPER.Point(0,0),"exit");var o=n.x-i.x,l=n.y-i.y;this.PAPER.view.zoom=osmo.pzinteract.changeZoom(this.PAPER.view.zoom,1,s,!1),this.PAPER.view.center=osmo.pzinteract.changeCenter(this.PAPER.view.center,o,l,e)}},{key:"mouseClicked",value:function(t){this.LEGENDSVG;"zoom-in"==document.body.style.cursor&&(this.PAPER.view.zoom=osmo.pzinteract.changeZoom(this.PAPER.view.zoom,-1,1.015,!1)),osmo.scroll.loaded.HQimage&&osmo.scroll.loaded.svgdata&&"focused"!=osmo.scroll.hitPopupMode&&this.hitMaskEffect(t.point,"click")}},{key:"hitMaskEffect",value:function(t,e){var s,r,a,o=this.LEGENDSVG,l=osmo.datasvg.backgroundLayer.opacity,u=new this.PAPER.Color($("body").css("background-color")),h=!1,i=o.maskLayer.hitTest(t,osmo.scroll.maskHitOptions);if(null!=i){if(o.legendLayer.visible=!0,null==(a=this.PAPER.project.getItem({name:i.item.data.legendName})))return;if("click"==e&&($("#focused-info").animate({right:"0px"},1200),s=0,r=new this.PAPER.Color("#24292b"),osmo.scroll.hitPopupMode="focused",o.maskLayer.visible=!1,document.body.style.cursor="zoom-in",this.currentFocus=parseInt(i.item.data.legendName.replace("legend-","")),$("#focused-heading").text(o.datasets[this.currentFocus].title),$("#focused-description").text(o.datasets[this.currentFocus].desc),$("#focused-cta").show(),$("#focused-info").show(),$("#"+this.currentFocus+"_waveform").show(),$("#"+this.currentFocus+"_waveform").length?$("#focused_waveform_state").show():$("#focused_waveform_state").hide(),o.popupBBoxes.hasOwnProperty(this.currentFocus))){for(var n=o.popupBBoxes[this.currentFocus].paths.length,c=0;c<n;c++)o.popupBBoxes[this.currentFocus].paths[c].visible=!1,o.popupBBoxes[this.currentFocus].paths[c].selected=!1;var d=1.005/(this.PAPER.view.zoom*this.PAPER.view.zoom),f=this.PAPER.view.bounds.center,p=o.popupBBoxes[this.currentFocus].paths[0].bounds.center,_=.5*d*osmo.scroll.paperWidth/(1*o.popupBBoxes[this.currentFocus].paths[0].bounds.width),m=p.x-f.x+250/_,g=-(p.y-f.y);osmo.scroll.prevBoundsCenter=new this.PAPER.Point(this.PAPER.view.center.x,this.PAPER.view.center.y),this.PAPER.view.center=osmo.pzinteract.changeCenter(this.PAPER.view.center,m,g,d,!1),osmo.scroll.prevZoom=_,this.PAPER.view.zoom=osmo.pzinteract.changeZoom(this.PAPER.view.zoom,-1,_,!1)}}else{s=1,r=new this.PAPER.Color("#b5ced5"),$("#focused-info").animate({right:"-500px"},100),o.legendLayer.visible=!1,document.body.style.cursor="default";for(var v=0;v<o.legendLayer.children.length;v++){o.legendLayer.children[v].visible=!1}}h||(setTimeout(function(){h=!1},960),osmo.datasvg.backgroundTweenItem.tween({val:1},{val:0},{easing:"easeInOutQuad",duration:800}).onUpdate=function(t){h=!0;var e=osmo.datasvg.backgroundTweenItem.val,i=new osmo.scroll.PAPER.Color(r.red+(u.red-r.red)*e,r.green+(u.green-r.green)*e,r.blue+(u.blue-r.blue)*e);if(osmo.datasvg.backgroundLayer.opacity=s+(l-s)*e,$("body").css("background-color",i.toCSS(!0)),void 0!==a&&!a.visible&&0==e){for(var n=0;n<o.legendLayer.children.length;n++){o.legendLayer.children[n].visible=!1}a.visible=!0}})}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],22:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.AudioWaveform=function(){function t(){r(this,t),this.WAVEFORMDATA=osmo.scroll.WAVEFORMDATA,this.allWaveformData={}}var e,i,n;return e=t,(i=[{key:"init",value:function(){var d=this;fetch("assets/audio/allwaveforms.json").then(function(t){return t.json()}).then(function(t){d.allWaveformData=t;var c=0;Object.keys(d.allWaveformData).forEach(function(t){var e=d.allWaveformData[t],i=c+1;c++;var n=d.WAVEFORMDATA.create(e),s=document.createElement("canvas");s.id=i+"_waveform",s.width=350,s.height=d.scaleY(1,180),s.style.display="none";var r=s.getContext("2d");r.beginPath();for(var a=n.channel(0),o=0;o<n.length;o++){var l=a.max_sample(o);r.lineTo(o+.5,d.scaleY(8*l,s.height))}for(var u=n.length-1;0<=u;u--){var h=a.min_sample(u);r.lineTo(u+.5,d.scaleY(8*h,s.height))}r.closePath(),r.strokeStyle="#fff",r.fillStyle="#b97941",r.stroke(),r.fill(),document.getElementById("focused_waveforms").appendChild(s)})})}},{key:"scaleY",value:function(t,e){return e-(t+128)*e/256}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],23:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.DataSvg=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.quality="HQ",this.scrollWidth,this.scrollHeight,this.scale,this.mainScroll,this.backgroundLayer,this.backgroundTweenItem,this.init,this.update}var e,i,n;return e=t,(i=[{key:"initSplash",value:function(t){var e=new this.PAPER.Raster("splash");this.scale=t/e.width,e.scale(this.scale),e.position=this.PAPER.view.center,e.position.y-=20;var i=new this.PAPER.Point(e.position.x-e.width*this.scale/3,e.position.y+e.height*this.scale*.65),n=new this.PAPER.PointText(i);n.justification="left",n.fillColor="#b97941",n.fontFamily="Roboto",n.fontSize=window.isMobile?"12px":"18px",n.content=window.isMobile?"Hold & Scroll to explore":"Scroll to explore";var s=n.bounds.width,r=new this.PAPER.Point(i.x+s+10,i.y-5),a=new this.PAPER.Point(r.x+e.width*this.scale/2-s,r.y),o=new this.PAPER.Path;o.strokeColor="#b97941",o.moveTo(r),o.lineTo(a);var l=window.isMobile?4:8,u=new this.PAPER.Path.RegularPolygon(new this.PAPER.Point(a.x,a.y+l/4),3,l);u.rotate(90),u.fillColor="#b97941"}},{key:"init",value:function(t){if(this.backgroundLayer=new this.PAPER.Layer,this.backgroundTweenItem=new this.PAPER.Shape.Circle(new this.PAPER.Point(0,0),30),this.backgroundTweenItem.fill="none",this.backgroundTweenItem.stroke="none",this.backgroundTweenItem.position=new this.PAPER.Point(0,0),this.backgroundLayer.addChild(this.backgroundTweenItem),this.quality=t,"High"==this.quality){var e=new this.PAPER.Raster("HQscroll");this.mainScroll=e,this.backgroundLayer.addChild(this.mainScroll),this.scale=osmo.scroll.paperHeight/e.height,e.scale(this.scale),e.position=this.PAPER.view.center,e.position.x=3*osmo.scroll.paperWidth/4+e.width*this.scale/2,this.scrollWidth=e.width*this.scale,this.scrollHeight=osmo.scroll.paperHeight}else if("Mobile"==this.quality){var i=new this.PAPER.Raster("MQscroll");this.mainScroll=i,this.backgroundLayer.addChild(this.mainScroll),this.scale=osmo.scroll.paperHeight/i.height,i.scale(this.scale),i.position=this.PAPER.view.center,i.position.x=3*osmo.scroll.paperWidth/4+i.width*this.scale/2,this.scrollWidth=i.width*this.scale,this.scrollHeight=osmo.scroll.paperHeight}else if("Retina"==this.quality){var n=new this.PAPER.Raster("RQscroll");this.mainScroll=n,this.backgroundLayer.addChild(this.mainScroll),this.scale=osmo.scroll.paperHeight/n.height,n.scale(this.scale),n.position=this.PAPER.view.center,n.position.x=3*osmo.scroll.paperWidth/4+n.width*this.scale/2,this.scrollWidth=n.width*this.scale,this.scrollHeight=osmo.scroll.paperHeight}}},{key:"update",value:function(t){}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],24:[function(t,e,i){"use strict";function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=function t(){r(this,t)},window.osmo=window.osmo||{},osmo.LegendSvg=function(){function t(){r(this,t),this.PAPER=osmo.scroll.PAPER,this.datasets={},this.earlySVGDataPromises=[],this.allSVGDataPromises=[],this.popupBBoxes={},this.maskFiles=[],this.legendFiles=[],this.maskLayer,this.legendLayer,this.init,this.loadDatasets}var e,i,n;return e=t,(i=[{key:"init",value:function(){var t="assets/data/dataSummary.json?v="+window.version,i=this;$.getJSON(t,function(t){var e=setInterval(function(){osmo.datasvg&&null!=osmo.datasvg.mainScroll&&(clearInterval(e),i.datasets=t,i.loadDatasets())},1e3)}),this.maskLayer=new this.PAPER.Layer,this.legendLayer=new this.PAPER.Layer}},{key:"loadDataset",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.datasets.hasOwnProperty(t)){var i=this.datasets[t].maskpath,n=this.datasets[t].order;"front"!=n&&"back"!=n&&(n=null);var s=this.maskLoad(i,t,n),r=this.legendLoad(this.datasets[t].legendpath,t);if(e?(this.earlySVGDataPromises.push(s),this.earlySVGDataPromises.push(r)):(this.allSVGDataPromises.push(s),this.allSVGDataPromises.push(r)),this.datasets[t].hasOwnProperty("popdimensions")){var a=this.datasets[t].popdimensions;this.popupBBoxes[t]={mask:null,legend:null,paths:[],dimensions:a};for(var o=this.popupBBoxes[t].dimensions.length,l=0;l<o;l++){osmo.scroll.paperHeight,osmo.datasvg.mainScroll.height;var u=parseInt(this.popupBBoxes[t].dimensions[l].x)+3*osmo.scroll.paperWidth/4,h=parseInt(this.popupBBoxes[t].dimensions[l].y),c=parseInt(this.popupBBoxes[t].dimensions[l].width),d=parseInt(this.popupBBoxes[t].dimensions[l].height),f=new this.PAPER.Point(u,h),p=new this.PAPER.Point(u+c,h+d),_=this.newPopRect(f,p);this.legendLayer.addChild(_),this.popupBBoxes[t].paths.push(_),this.popupBBoxes[t].paths[l].visible=!1}this.maskLayer.visible=!1}}}},{key:"newPopRect",value:function(t,e){var i=new this.PAPER.Point(.5/this.PAPER.view.zoom,.5/this.PAPER.view.zoom),n=t.add(i),s=e.add(i),r=new this.PAPER.CompoundPath;return r.moveTo(n),r.lineTo(new this.PAPER.Point(n.x,s.y)),r.lineTo(s),r.moveTo(n),r.lineTo(new this.PAPER.Point(s.x,n.y)),r.lineTo(s),r.strokeColor="#009DEC",r.strokeWidth=1/this.PAPER.view.zoom,r.dashOffset=.5/this.PAPER.view.zoom,r.dashArray=[1/this.PAPER.view.zoom,1/this.PAPER.view.zoom],r.data.guide=!0,r.selected=!1,r}},{key:"loadDatasets",value:function(){var e=this;for(var t in this.datasets)this.loadDataset(t,!0);Promise.all(this.earlySVGDataPromises).then(function(t){setTimeout(function(){osmo.scroll.loaded.svgdata=!0,osmo.scroll.loaded.HQimage&&osmo.scroll.loaded.svgdata&&window.loading_screen.finish(),e.correctMaskOrder()},4e3)})}},{key:"correctMaskOrder",value:function(){for(var t=0;t<this.maskLayer.children.length;t++){var e=this.maskLayer.children[t],i=e.data.order;"back"==i&&e.sendToBack(),"front"==i&&e.bringToFront()}}},{key:"maskLoad",value:function(e,l){var i=this,u=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,h=this;return new Promise(function(o,t){i.PAPER.project.importSVG(e,function(t){var e=t;h.maskFiles.push(e),null!=h.popupBBoxes[l]&&(h.popupBBoxes[l].mask=e),e.data.legendName="legend-"+l,e.data.maskName="mask-"+l,e.name="mask-"+l,"back"==(e.data.order=u)&&e.sendToBack(),"front"==u&&e.bringToFront(),null!=e.children&&h.updateChildLegend(e.children,e.data.legendName);var i=osmo.scroll.paperHeight/osmo.datasvg.mainScroll.height,n=osmo.scroll.paperHeight/e.bounds.height,s=.5*parseFloat(h.maskFiles.length)/parseFloat(Object.keys(h.datasets).length),r=.5*parseFloat(h.legendFiles.length)/parseFloat(Object.keys(h.datasets).length),a="&nbsp;&nbsp;"+parseInt(100*(s+r))+"%";$("#percentage").html(a),e.scale(n),e.position=h.PAPER.view.center,e.position.x=3*osmo.scroll.paperWidth/4+e.bounds.width/2+(osmo.datasvg.mainScroll.width*i-e.bounds.width),h.maskLayer.addChild(e),o("m"+l)})})}},{key:"legendLoad",value:function(e,l){var i=this,u=this;return new Promise(function(o,t){i.PAPER.project.importSVG(e,function(t){$("#status").text("Loaded "+l+" legend");var e=t;u.legendFiles.push(e),null!=u.popupBBoxes[l]&&(u.popupBBoxes[l].legend=e),e.name="legend-"+l,e.visible=!1;var i=osmo.scroll.paperHeight/osmo.datasvg.mainScroll.height,n=osmo.scroll.paperHeight/e.bounds.height,s=.5*parseFloat(u.maskFiles.length)/parseFloat(Object.keys(u.datasets).length),r=.5*parseFloat(u.legendFiles.length)/parseFloat(Object.keys(u.datasets).length),a="&nbsp;&nbsp;"+parseInt(100*(s+r))+"%";$("#percentage").html(a),e.scale(n),e.position=u.PAPER.view.center,e.position.x=3*osmo.scroll.paperWidth/4+e.bounds.width/2+(osmo.datasvg.mainScroll.width*i-e.bounds.width),u.legendLayer.addChild(e),o("l"+l)})})}},{key:"updateChildLegend",value:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.data.legendName=e,null!=n.children&&this.updateChildLegend(n.children,e)}}}])&&s(e.prototype,i),n&&s(e,n),t}()},{}],25:[function(t,e,i){"use strict";var n,s;t("./osmoScroll"),window.osmo=window.osmo||{},window.isMobile=(n=!1,s=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(s)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(s.substr(0,4)))&&(n=!0),n),window.onload=function(){osmo.scroll=new osmo.Scroll,osmo.scroll.init();!window.isMobile?window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:'<div id="main-inner-choice" style="display: block;font-family: \'Roboto\'; font-weight: 300;"><h2 id="quality-choice" style="font-family: \'Roboto\'; font-weight: 300;"><a id="quality-choice-best" style="font-family: \'Roboto\'; font-weight: 300;" class="invert" onclick="osmo.scroll.loadRQ();" href="#">RETINA QUALITY</a><span style="font-weight: 300;">&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;</span><a class="invert" onclick="osmo.scroll.loadHQ();" href="#">HIGH QUALITY</a></h2></div>'}):(window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:'<div id="percentage" style="color: #b97941; font-weight: 400;"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #b97941"></div><div class="sk-child sk-bounce2" style="background-color: #b97941"></div><div class="sk-child sk-bounce3" style="background-color: #b97941"></div></div>'}),osmo.scroll.loadMQ());var t=$(".pg-loading-logo");osmo.scroll.splashWidth=t.outerWidth()}},{"./osmoScroll":26}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=n(t("jquery"));t("jquery-mousewheel");var r=n(t("paper")),a=n(t("tone")),o=n(t("waveform-data"));function n(t){return t&&t.__esModule?t:{default:t}}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t("./Audio/BackgroundAudio"),t("./Audio/DataAudio"),t("./Visuals/DataSvg"),t("./Visuals/LegendSvg"),t("./Visuals/AudioWaveform"),t("./Interactions/PanAndZoom"),t("./Interactions/Navigation"),t("./Interactions/Legend"),t("./Interactions/Popup");i.default=function t(){u(this,t)},window.osmo=window.osmo||{},window.$=s.default,osmo.Scroll=function(){function t(){u(this,t),this.PAPER,this.TONE,this.WAVEFORMDATA,this.MAINSCREEN,this.paperHeight,this.paperWidth,this.splashWidth,this.loaded={HQimage:!1,svgdata:!1},this.hitPopupMode="hovering",this.prevBoundsCenter=null,this.prevZoom=null,this.maskHitOptions={segments:!1,stroke:!1,fill:!0,tolerance:5},this.init,this.addBackground,this.loadHQ,this.loadRQ,this.loadMQ}var e,i,n;return e=t,(i=[{key:"init",value:function(){var t=document.getElementById("main-scroll-canvas");r.default.setup(t),osmo.scroll.PAPER=r.default,osmo.scroll.paperHeight=t.offsetHeight,osmo.scroll.paperWidth=t.offsetWidth,osmo.scroll.TONE=a.default,osmo.scroll.WAVEFORMDATA=o.default,osmo.bgaudio=new osmo.BackgroundAudio,osmo.bgaudio.loadAudio(),osmo.dataaudio=new osmo.DataAudio,osmo.dataaudio.init(),osmo.audiowaveform=new osmo.AudioWaveform,osmo.audiowaveform.init(),osmo.pzinteract=new osmo.PanAndZoom,osmo.pzinteract.init(),osmo.navinteract=new osmo.NavigationInteraction,osmo.navinteract.init(),osmo.legendsvg=new osmo.LegendSvg,osmo.legendsvg.init(),osmo.legendinteract=new osmo.LegendInteraction,osmo.popupinteract=new osmo.PopupInteraction,osmo.popupinteract.init(),r.default.view.draw(),r.default.view.onFrame=function(t){},r.default.view.onMouseMove=function(t){osmo.legendinteract.mouseMoved(t)},r.default.view.onMouseDown=function(t){osmo.popupinteract.mouseClicked(t)},r.default.view.onKeyDown=function(t){}}},{key:"loadHQ",value:function(){var t=this;osmo.pzinteract.setMaxZoom(2);(0,s.default)(".pg-loading-html").empty(),(0,s.default)(".pg-loading-html").append(s.default.parseHTML('<div id="percentage" style="color: #b97941; font-weight: 400;"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #b97941"></div><div class="sk-child sk-bounce2" style="background-color: #b97941"></div><div class="sk-child sk-bounce3" style="background-color: #b97941"></div></div>'));var e=document.getElementById("HQscroll"),i=new Image;i.src="assets/images/SCROLL_cs6_ver23_APP_final_300ppi-HIGH.png",i.onload=function(){e.src=this.src,osmo.datasvg=new osmo.DataSvg,osmo.datasvg.init("High"),osmo.datasvg.initSplash(osmo.scroll.splashWidth),osmo.navinteract.loadNav(),osmo.navinteract.initNav(),t.loaded.HQimage=!0,osmo.datasvg.backgroundLayer.sendToBack(),t.loaded.HQimage&&t.loaded.svgdata&&window.loading_screen.finish()}}},{key:"loadRQ",value:function(){var t=this;osmo.pzinteract.setMaxZoom(4);(0,s.default)(".pg-loading-html").empty(),(0,s.default)(".pg-loading-html").append(s.default.parseHTML('<div id="percentage" style="color: #b97941; font-weight: 400;"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #b97941"></div><div class="sk-child sk-bounce2" style="background-color: #b97941"></div><div class="sk-child sk-bounce3" style="background-color: #b97941"></div></div>'));var e=document.getElementById("RQscroll"),i=new Image;i.src="assets/images/SCROLL_cs6_ver23_APP_final_600ppi-RETINA.png",i.onload=function(){e.src=this.src,osmo.datasvg=new osmo.DataSvg,osmo.datasvg.init("Retina"),osmo.datasvg.initSplash(osmo.scroll.splashWidth),osmo.navinteract.loadNav(),osmo.navinteract.initNav(),t.loaded.HQimage=!0,osmo.datasvg.backgroundLayer.sendToBack(),t.loaded.HQimage&&t.loaded.svgdata&&window.loading_screen.finish()}}},{key:"loadMQ",value:function(){var t=this;osmo.pzinteract.setMaxZoom(2),document.getElementById("MQscroll").src=this.src;var e=new Image;e.onload=function(){osmo.datasvg=new osmo.DataSvg,osmo.datasvg.init("Mobile"),osmo.datasvg.initSplash(osmo.scroll.splashWidth),osmo.navinteract.loadNav(),osmo.navinteract.initNav(),t.loaded.HQimage=!0,osmo.datasvg.backgroundLayer.sendToBack(),t.loaded.HQimage&&t.loaded.svgdata&&window.loading_screen.finish()},e.src="assets/images/SCROLL_cs6_ver23_APP_final_300ppi-HIGH.png"}}])&&l(e.prototype,i),n&&l(e,n),t}()},{"./Audio/BackgroundAudio":16,"./Audio/DataAudio":17,"./Interactions/Legend":18,"./Interactions/Navigation":19,"./Interactions/PanAndZoom":20,"./Interactions/Popup":21,"./Visuals/AudioWaveform":22,"./Visuals/DataSvg":23,"./Visuals/LegendSvg":24,jquery:5,"jquery-mousewheel":4,paper:6,tone:7,"waveform-data":15}]},{},[25]);