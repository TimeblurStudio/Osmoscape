!function n(r,s,o){function a(e,t){if(!s[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);throw(i=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",i}i=s[e]={exports:{}},r[e][0].call(i.exports,function(t){return a(r[e][1][t]||t)},i,i.exports,n,r,s,o)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<o.length;t++)a(o[t]);return a}({1:[function(t,e,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var o=t("@pixi/math");!function(t){t[t.HORIZONTAL=0]="HORIZONTAL";t[t.VERTICAL=1]="VERTICAL"}(h.AreaOrientation||(h.AreaOrientation={}));class l{static makeArea(t,e,i){return t|e<<15|i<<30}static getOpenOffset(t){return 32767&t}static getCloseOffset(t){return t>>15&32767}static getOrientation(t){return t>>30&1}static setOpenOffset(t,e){return l.makeArea(e,l.getCloseOffset(t),l.getOrientation(t))}static setCloseOffset(t,e){return l.makeArea(l.getOpenOffset(e),e,l.getOrientation(t))}}!function(t){t[t.HOR=0]="HOR";t[t.VERT=1]="VERT";t[t.NONE=2]="NONE"}(h.SPLIT_ORIENTATION||(h.SPLIT_ORIENTATION={}));const c=new o.Rectangle;h.Area=l,h.GuilloteneAllocator=class{constructor(t,e){this._width=t,this._height=e,this._root=[null,l.makeArea(0,this._height,h.AreaOrientation.HORIZONTAL),!1]}allocate(t,e,i){var n=this.findArea(t,e);if(!n)return null;i=i||new o.Rectangle,this.getFrame(n,i);e=new o.Rectangle(i.x,i.y,t,e),n=this.split(n,i,e);return i.copyFrom(e),i.__mem_area=n,i}free(t){const e=t.__mem_area;e[2]=!1,this.merge(e)}get width(){return this._width}get height(){return this._height}getAreaField(t){return t[1]}getFrame(t,e){e=e||new o.Rectangle;var i=this.getAreaField(t),n=this.getParent(t),r=l.getOrientation(i),s=l.getOpenOffset(i),t=l.getCloseOffset(i),i=n?l.getOpenOffset(n[1]):0,n=n?l.getCloseOffset(n[1]):this._width;return r?(e.x=s,e.y=i,e.width=t-e.x,e.height=n-i):(e.x=i,e.y=s,e.width=n-e.x,e.height=t-e.y),e}getParent(t){return t[0]}hasChildren(t){return Array.isArray(t[2])&&0!==t[2].length}getChildren(t){if(!Array.isArray(t[2]))throw new Error("Children don't exist");return t[2]}addChild(t,...e){t[2]=Array.isArray(t[2])?t[2]:[],t[2].push(...e)}findArea(t,e){return this.findAreaRecursive(this._root,t,e)}findAreaRecursive(t,i,n){var e=this.getFrame(t,c);if(e.width<i||e.height<n)return null;if(!this.hasChildren(t)){var r=e.width-i,e=e.height-n;return r<0||e<0||t[2]?null:t}var s=this.getChildren(t);let o=null,a=1/0;for(let t=0,e=s.length;t<e;t++){var h=this.findAreaRecursive(s[t],i,n);if(h){var l=this.getFrame(h,c),u=l.width-i,l=l.height-n;if(!(u<0||l<0)){if(!u&&!l)return h;l=Math.min(u,l);a>l&&(o=h,a=l)}}}return o}splitOrientation(t,e){if(e.width===t.width&&e.height===t.height)return h.SPLIT_ORIENTATION.NONE;if(e.width===t.width)return h.SPLIT_ORIENTATION.VERT;if(e.height===t.height)return h.SPLIT_ORIENTATION.HOR;var i=Math.abs((t.width-e.width)*t.height-e.width*(t.height-e.height));return Math.abs(t.width*(t.height-e.height)-(t.width-e.width)*e.height)<i?h.SPLIT_ORIENTATION.HOR:h.SPLIT_ORIENTATION.VERT}split(t,e,i,n=this.getParent(t)?this.splitOrientation(e,i):h.SPLIT_ORIENTATION.HOR){if(!0===t[2])throw new Error("Cannot deallocate");return n===h.SPLIT_ORIENTATION.NONE?(t[2]=!0,t):this[n===h.SPLIT_ORIENTATION.HOR?"splitPrimaryHorizontal":"splitPrimaryVertical"](t,e,i)}splitPrimaryHorizontal(t,e,i){var n=this.getAreaField(t),r=l.getOrientation(n),n=this.getParent(t);if(this.hasChildren(t))throw new Error("Can't split non-leaf node");const s=[t,l.makeArea(e.left,e.x+i.width,h.AreaOrientation.VERTICAL),[]],o=[t,l.makeArea(e.x+i.width,e.right,h.AreaOrientation.VERTICAL),!1];if(r===h.AreaOrientation.HORIZONTAL?this.addChild(t,s,o):(a=this.getChildren(n).indexOf(t),s[0]=n,o[0]=n,this.getChildren(n).splice(a,1,s,o)),i.height===e.height)return s[2]=!0,s;var a=[s,l.makeArea(e.top,e.y+i.height,h.AreaOrientation.HORIZONTAL),!0],e=[s,l.makeArea(e.y+i.height,e.bottom,h.AreaOrientation.HORIZONTAL),!1];return this.addChild(s,a,e),a}splitPrimaryVertical(t,e,i){var n=this.getAreaField(t),r=l.getOrientation(n),n=this.getParent(t);if(this.hasChildren(t))throw new Error("Can't split non-leaf node");const s=[t,l.makeArea(e.top,e.y+i.height,h.AreaOrientation.HORIZONTAL),[]],o=[t,l.makeArea(e.y+i.height,e.bottom,h.AreaOrientation.HORIZONTAL),!1];if(r===h.AreaOrientation.VERTICAL?this.addChild(t,s,o):(a=this.getChildren(n).indexOf(t),s[0]=n,o[0]=n,this.getChildren(n).splice(a,1,s,o)),i.width===e.height)return s[2]=!0,s;var a=[s,l.makeArea(e.left,e.x+i.width,h.AreaOrientation.VERTICAL),!0],e=[s,l.makeArea(e.x+i.width,e.right,h.AreaOrientation.VERTICAL),!1];return this.addChild(s,a,e),a}merge(t){if(this.hasChildren(t))throw new Error("Cannot merge a non-leaf node");const e=this.getParent(t);if(e){const s=this.getChildren(e);var i=s.indexOf(t),n=s[i-1],r=s[i+1];r&&!1===r[2]&&(t[1]=l.setCloseOffset(t[1],l.getCloseOffset(r[1])),s.splice(i+1,1)),n&&!1===n[2]&&(t[1]=l.setOpenOffset(t[1],l.getOpenOffset(n[1])),s.splice(i-1,1)),1===s.length&&(e[2]=!1,this.merge(e))}}printState(t){this.hasChildren(t)?this.getChildren(t).forEach(t=>this.printState(t)):console.log({...this.getFrame(t)},t[2])}}},{"@pixi/math":23}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const r=new(t("@pixi/math").Rectangle);i.Cull=class{constructor(t={}){this._recursive="boolean"!=typeof t.recursive||t.recursive,this._toggle=t.toggle||"visible",this._targetList=new Set}add(t){return this._targetList.add(t),this}addAll(i){for(let t=0,e=i.length;t<e;t++)this._targetList.add(i[t]);return this}remove(t){return this._targetList.delete(t),this}removeAll(i){for(let t=0,e=i.length;t<e;t++)this._targetList.delete(i[t]);return this}clear(){return this._targetList.clear(),this}cull(e,i=!1){return i||this.uncull(),this._targetList.forEach(t=>{i||t.getBounds(!1,r),this._recursive?this.cullRecursive(e,t,i):(i&&t._bounds.getRectangle(e),t[this._toggle]=r.right>e.left&&r.left<e.right&&r.bottom>e.top&&r.top<e.bottom)}),this}uncull(){return this._targetList.forEach(t=>{this._recursive?this.uncullRecursive(t):t[this._toggle]=!1}),this}cullRecursive(i,t,e){e=e?t._bounds.getRectangle(r):t.getBounds(!0,r);if(t[this._toggle]=e.right>i.left&&e.left<i.right&&e.bottom>i.top&&e.top<i.bottom,!(e.left>=i.left&&e.top>=i.top&&e.right<=i.right&&e.bottom<=i.bottom)&&t[this._toggle]&&t.children&&t.children.length){var n=t.children;for(let t=0,e=n.length;t<e;t++)this.cullRecursive(i,n[t])}}uncullRecursive(t){if(t[this._toggle]=!0,t.children&&t.children.length){var i=t.children;for(let t=0,e=i.length;t<e;t++)this.uncullRecursive(i[t])}}}},{"@pixi/math":23}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/math"),g=t("@pixi/core"),_=t("@pixi/sprite");function y(t){let e=t.toString(16);for(;e.length<6;)e="0"+e;return"#"+e}const v=new n.Rectangle,b=new n.Rectangle;i.GradientFactory=class{static createLinearGradient(t,e,i){const{x0:n,y0:r,x1:s,y1:o,colorStops:a}=i,h=document.createElement("canvas");h.width=e.width,h.height=e.height;const l=h.getContext("2d"),u=l.createLinearGradient(n,r,s,o);a.forEach(t=>{u.addColorStop(t.offset,y(t.color))}),l.fillStyle=u,l.fillRect(0,0,e.width,e.height);var c=t.renderTexture.current,p=v.copyFrom(t.renderTexture.sourceFrame),i=b.copyFrom(t.renderTexture.destinationFrame);const d=new _.Sprite(g.Texture.from(h));return t.batch.flush(),t.renderTexture.bind(e),d.render(t),t.batch.flush(),t.renderTexture.bind(c,p,i),e}static createRadialGradient(t,e,i){const{x0:n,y0:r,r0:s,x1:o,y1:a,r1:h,colorStops:l}=i,u=document.createElement("canvas");u.width=e.width,u.height=e.height;const c=u.getContext("2d"),p=c.createRadialGradient(n,r,s,o,a,h);l.forEach(t=>{p.addColorStop(t.offset,y(t.color))}),c.fillStyle=p,c.fillRect(0,0,e.width,e.height);var d=t.renderTexture.current,f=v.copyFrom(t.renderTexture.sourceFrame),i=b.copyFrom(t.renderTexture.destinationFrame);const m=new _.Sprite(g.Texture.from(u));return t.batch.flush(),t.renderTexture.bind(e),m.render(t),t.batch.flush(),t.renderTexture.bind(d,f,i),e}}},{"@pixi/core":10,"@pixi/math":23,"@pixi/sprite":36}],4:[function(t,e,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var i=t("tinycolor2"),n=t("@pixi-essentials/gradients"),r=t("@pixi/display"),D=t("@pixi/graphics"),T=t("@pixi/math"),E=t("@pixi/core"),s=t("libtess"),o=t("d-path-parser"),a=t("@pixi-essentials/texture-allocator"),h=t("@pixi-essentials/cull"),l=t("@pixi/sprite"),u=t("@pixi/filter-color-matrix"),p=t("@pixi/text");function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function f(i){if(i&&i.__esModule)return i;var n=Object.create(null);return i&&Object.keys(i).forEach(function(t){var e;"default"!==t&&(e=Object.getOwnPropertyDescriptor(i,t),Object.defineProperty(n,t,e.get?e:{enumerable:!0,get:function(){return i[t]}}))}),n.default=i,Object.freeze(n)}var m,g=d(i),_=f(s),y=d(o);const v=new Map;async function S(t){const e=new URL(t,document.baseURI);t=e.host+e.pathname;let i=v.get(t);return i||(i=await fetch(e.toString()).then(t=>t.text()).then(t=>(new DOMParser).parseFromString(t,"image/svg+xml").documentElement),v.set(t,i)),i}class A{constructor(t,e){this.parent=t,this.provider=e}get dirtyId(){return this.parent.dirtyId+this.provider.dirtyId}get fill(){return(null!==this.provider.fill?this.provider:this.parent).fill}get opacity(){return("number"==typeof this.provider.opacity?this.provider:this.parent).opacity}get stroke(){return(null!==this.provider.stroke?this.provider:this.parent).stroke}get strokeDashArray(){return(Array.isArray(this.provider.strokeDashArray)?this.provider:this.parent).strokeDashArray}get strokeDashOffset(){return("number"==typeof this.provider.strokeDashOffset?this.provider:this.parent).strokeDashOffset}get strokeLineCap(){return("string"==typeof this.provider.strokeLineCap?this.provider:this.parent).strokeLineCap}get strokeLineJoin(){return("string"==typeof this.provider.strokeLineJoin?this.provider:this.parent).strokeLineJoin}get strokeMiterLimit(){return("number"==typeof this.provider.strokeMiterLimit?this.provider:this.parent).strokeMiterLimit}get strokeWidth(){return("number"==typeof this.provider.strokeWidth?this.provider:this.parent).strokeWidth}}class b{__init(){this.dirtyId=0}constructor(t){b.prototype.__init.call(this);var e=(this.element=t).getAttribute("fill"),i=t.getAttribute("opacity"),n=t.getAttribute("stroke"),r=t.getAttribute("stroke-dasharray"),s=t.getAttribute("stroke-dashoffset"),o=t.getAttribute("stroke-linecap"),a=t.getAttribute("stroke-linejoin"),h=t.getAttribute("stroke-miterlimit"),l=t.getAttribute("stroke-width");this.fill=null!==e?"none"===e?"none":b.parseColor(e):null,this.opacity=i&&parseFloat(i),this.stroke=n&&b.parseColor(t.getAttribute("stroke")),this.strokeDashArray=r&&function(t){let e=void 0,i=t[0],n=1;for(;n<t.length;){var r=t[n];const s=t[n+1];if(n+=2,("optionalAccess"===r||"optionalCall"===r)&&null==i)return;"access"===r||"optionalAccess"===r?(e=i,i=s(i)):"call"!==r&&"optionalCall"!==r||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}([r,"optionalAccess",t=>t.split,"call",t=>t(/[, ]+/g),"access",t=>t.map,"call",t=>t(t=>parseFloat(t.trim()))]),this.strokeDashOffset=s&&parseFloat(s),this.strokeLineCap=o,this.strokeLineJoin=a,this.strokeMiterLimit=h&&parseFloat(h),this.strokeWidth=l&&parseFloat(l)}static parseColor(t){if(!t)return 0;if("none"===t||t.startsWith("url"))return t;if("#"===t[0])return 3===(t=t.substr(1)).length&&(t=t.replace(/([a-f0-9])/gi,"$1$1")),parseInt(t,16);var{r:e,g:i,b:t}=g.default(t).toRgb();return(e<<16)+(i<<8)+t}}function x(t){t.x1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.y1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.x2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE),t.y2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE)}class w{constructor(t,e){this.paintServer=t,this.paintTexture=e,this.paintContexts={},this.dirtyId=0}resolvePaint(t){var e=this.paintContexts[t.CONTEXT_UID],i=this.dirtyId;(void 0===e||e<i)&&(this.updatePaint(t),this.paintContexts[t.CONTEXT_UID]=i)}resolvePaintDimensions(i){var n=Math.ceil(i.width),r=Math.ceil(i.height),s=n/r,o=this.paintServer;const a=this.paintTexture;if(o instanceof SVGLinearGradientElement){x(o);var h=o.children,l=o.x1.baseVal.valueInSpecifiedUnits,u=o.y1.baseVal.valueInSpecifiedUnits,i=o.x2.baseVal.valueInSpecifiedUnits,o=o.y2.baseVal.valueInSpecifiedUnits,l=Math.atan2(o-u,i-l),h=1===h.length?2:64;let t=Math.max(1,h*Math.cos(l)),e=Math.max(1,h*Math.sin(l));if(t<n&&e<r)return.01<Math.abs(l)&&.01<Math.abs(l)%(Math.PI/2)&&(s<t/e?e=t/s:t=s*e),void a.resize(t,e,!0)}a.resize(n,r,!0)}updatePaint(t){this.paintServer instanceof SVGLinearGradientElement?this.linearGradient(t):this.paintServer instanceof SVGRadialGradientElement&&this.radialGradient(t)}linearGradient(t){var e=this.paintServer,i=this.paintTexture;return x(e),n.GradientFactory.createLinearGradient(t,i,{x0:e.x1.baseVal.valueInSpecifiedUnits*i.width/100,y0:e.y1.baseVal.valueInSpecifiedUnits*i.height/100,x1:e.x2.baseVal.valueInSpecifiedUnits*i.width/100,y1:e.y2.baseVal.valueInSpecifiedUnits*i.height/100,colorStops:this.createColorStops(e.children)})}radialGradient(t){const e=this.paintServer;var i=this.paintTexture;return e.fx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.fy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),e.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_NUMBER),n.GradientFactory.createRadialGradient(t,i,{x0:e.fx.baseVal.valueInSpecifiedUnits*i.width/100,y0:e.fy.baseVal.valueInSpecifiedUnits*i.height/100,r0:e.fr.baseVal.valueInSpecifiedUnits*i.width/100,x1:e.cx.baseVal.valueInSpecifiedUnits*i.height/100,y1:e.cy.baseVal.valueInSpecifiedUnits*i.width/100,r1:e.r.baseVal.valueInSpecifiedUnits*i.width/100,colorStops:this.createColorStops(e.children)})}createColorStops(i){const n=[];for(let t=0,e=i.length;t<e;t++){const r=i.item(t);n.push({offset:r.offset.baseVal,color:b.parseColor(r.getAttribute("stop-color"))})}return n}}c.FILL_RULE=void 0,function(t){t.NONZERO="nonzero";t.EVENODD="evenodd"}(c.FILL_RULE||(c.FILL_RULE={}));class P{__init(){this.bounds=new r.Bounds}constructor(){P.prototype.__init.call(this),this.contours=[],this.fillRule=c.FILL_RULE.NONZERO,this.type=100,this.dirty=!0}get points(){return this.contours.length||this.contours.push([]),this.contours[this.contours.length-1]}contains(t,e){this.dirty&&(this.calculateBounds(),this.dirty=!1);var i=this.bounds;return!(t<i.minX||e<i.minY||t>i.maxX||e>i.maxY)&&(this.fillRule===c.FILL_RULE.EVENODD?this.hitEvenOdd(t,e):this.fillRule===c.FILL_RULE.NONZERO&&this.hitNonZero(t,e))}clone(){var t=this.contours.map(t=>[...t]);const e=new P;return e.contours=t,e.fillRule=this.fillRule,e}closeContour(){0!==this.points.length&&this.contours.push([])}invalidate(){this.dirty=!0}toString(){return"[@pixi-essentials/svg:Path Don't expect points to be printed :P]"}calculateBounds(){const t=this.bounds;let i=1/0,n=1/0,r=-1/0,s=-1/0;for(const h of this.contours)for(let t=0,e=h.length;t<e;){var o=h[t++],a=h[t++];i=o<i?o:i,n=a<n?a:n,r=o>r?o:r,s=a>s?a:s}t.minX=i,t.minY=n,t.maxX=r,t.maxY=s}hitEvenOdd(i,n){let r=0;for(const l of this.contours)for(let t=0,e=l.length;t<e;){var s=l[t++],o=l[t++],a=l[t%l.length],h=l[(t+1)%l.length];(o<n&&n<h||n<o&&h<n)&&i<s+(n-o)/(h-o)*(a-s)&&++r}return!!(r%2)}hitNonZero(i,n){let r=0;for(const l of this.contours)for(let t=0,e=l.length;t<e;){var s=l[t++],o=l[t++],a=l[t%l.length],h=l[(t+1)%l.length];o<=n?n<h&&0<C(i,n,s,o,a,h)&&++r:h<=n&&C(i,n,s,o,a,h)<0&&--r}return 0!==r}}function C(t,e,i,n,r,s){return(r-i)*(e-n)-(t-i)*(s-n)}function k(t,e,i,n,r,s,o,a){let h,l;l=o?(h=n,-i):(h=-n,i);o=t-i*r+h,r=e-n*r+l,i=t+i*s+h,s=e+n*s+l;return a.push(o,r),a.push(i,s),2}function N(i,n,t,e,r,s,o,a){var h=t-i,l=e-n;let u=Math.atan2(h,l),c=Math.atan2(r-i,s-n);a&&u<c?u+=2*Math.PI:!a&&u>c&&(c+=2*Math.PI);var p=u,d=c-u,f=Math.abs(d),m=Math.sqrt(h*h+l*l),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),_=d/g;if(p+=_,a){o.push(i,n),o.push(t,e);for(let t=1,e=p;t<g;t++,e+=_)o.push(i,n),o.push(i+Math.sin(e)*m,n+Math.cos(e)*m);o.push(i,n),o.push(r,s)}else{o.push(t,e),o.push(i,n);for(let t=1,e=p;t<g;t++,e+=_)o.push(i+Math.sin(e)*m,n+Math.cos(e)*m),o.push(i,n);o.push(r,s),o.push(i,n)}return 2*g}function R(e,i,t){const n=t.points;var r=e.length/2;let s=e.length;var o=n.length/2,a=i.width/2,h=a*a,l=i.miterLimit*i.miterLimit;let u=e[0],c=e[1],p=e[2],d=e[3],f=0,m=0,g=-(c-d),_=u-p;var y,v;let b=Math.sqrt(g*g+_*_);g/=b,_/=b,g*=a,_*=a;var x=i.alignment,T=2*(1-x),E=2*x;i.cap===D.LINE_CAP.ROUND?s+=N(u-g*(T-E)*.5,c-_*(T-E)*.5,u-g*T,c-_*T,u+g*E,c+_*E,n,!0)+2:i.cap===D.LINE_CAP.SQUARE&&(s+=k(u,c,g,_,T,E,!0,n)),n.push(u-g*T,c-_*T),n.push(u+g*E,c+_*E);for(let t=1;t<r-1;++t){u=e[2*(t-1)],c=e[2*(t-1)+1],p=e[2*t],d=e[2*t+1],f=e[2*(t+1)],m=e[2*(t+1)+1],g=-(c-d),_=u-p,b=Math.sqrt(g*g+_*_),g/=b,_/=b,g*=a,_*=a,y=-(d-m),v=p-f,b=Math.sqrt(y*y+v*v),y/=b,v/=b,y*=a,v*=a;var S,A=p-u,w=c-d,P=p-f,C=m-d,R=w*P-C*A,O=R<0;Math.abs(R)<.1?(n.push(p-g*T,d-_*T),n.push(p+g*E,d+_*E)):(w=(C*(S=(-g+u)*(-_+d)-(-g+p)*(-_+c))-w*(C=(-y+f)*(-v+d)-(-y+p)*(-v+m)))/R,P=((C=(A*C-P*S)/R)-p)*(C-p)+(w-d)*(w-d),S=p+(C-p)*T,R=d+(w-d)*T,C=p-(C-p)*E,w=d-(w-d)*E,i.join===D.LINE_JOIN.BEVEL||l<P/h?(O?(n.push(S,R),n.push(p+g*E,d+_*E),n.push(S,R),n.push(p+y*E,d+v*E)):(n.push(p-g*T,d-_*T),n.push(C,w),n.push(p-y*T,d-v*T),n.push(C,w)),s+=2):i.join===D.LINE_JOIN.ROUND?O?(n.push(S,R),n.push(p+g*E,d+_*E),s+=N(p,d,p+g*E,d+_*E,p+y*E,d+v*E,n,!0)+4,n.push(S,R),n.push(p+y*E,d+v*E)):(n.push(p-g*T,d-_*T),n.push(C,w),s+=N(p,d,p-g*T,d-_*T,p-y*T,d-v*T,n,!1)+4,n.push(p-y*T,d-v*T),n.push(C,w)):(n.push(S,R),n.push(C,w)))}u=e[2*(r-2)],c=e[2*(r-2)+1],p=e[2*(r-1)],d=e[2*(r-1)+1],g=-(c-d),_=u-p,b=Math.sqrt(g*g+_*_),g/=b,_/=b,g*=a,_*=a,n.push(p-g*T,d-_*T),n.push(p+g*E,d+_*E),i.cap===D.LINE_CAP.ROUND?s+=N(p-g*(T-E)*.5,d-_*(T-E)*.5,p-g*T,d-_*T,p+g*E,d+_*E,n,!1)+2:i.cap===D.LINE_CAP.SQUARE&&(s+=k(p,d,g,_,T,E,!1,n));const M=t.indices;var I=D.GRAPHICS_CURVES.epsilon*D.GRAPHICS_CURVES.epsilon;for(let t=o;t<s+o-2;++t)u=n[2*t],c=n[2*t+1],p=n[2*(t+1)],d=n[2*(t+1)+1],f=n[2*(t+2)],m=n[2*(t+2)+1],Math.abs(u*(d-m)+p*(m-c)+f*(c-d))<I||M.push(t,t+1,t+2)}function O(t){return t%2==0}function M(t,r){const e=t.shape;let s=t.points||e.points.slice();var o=r.closePointEps;if(0!==s.length){var a=new T.Point(s[0],s[1]);const _=new T.Point(s[s.length-2],s[s.length-1]);var h=e.type!==T.SHAPES.POLY||e.closeStroke,o=Math.abs(a.x-_.x)<o&&Math.abs(a.y-_.y)<o;h&&(s=s.slice(),o&&(s.pop(),s.pop(),_.set(s[s.length-2],s[s.length-1])),o=.5*(a.x+_.x),a=.5*(_.y+a.y),s.unshift(o,a),s.push(o,a));var l=t.lineStyle;let i=l.dashOffset||0;var u=l.dashArray||[10,5],c=s.length/2-1;const y=new T.Point,v=new T.Point,b=[],x=new T.Point;let n=0;b.push(s[0],s[1]);for(let e=0;e<c;e++){y.set(s[2*e],s[2*e+1]),v.set(s[2*e+2],s[2*e+3]);var p=(p=y,d=v,Math.sqrt((p.x-d.x)**2+(p.y-d.y)**2)),d=Math.atan2(v.y-y.y,v.x-y.x),f=Math.sin(d),m=Math.cos(d);let t=p;for(x.copyFrom(y);t>=u[n]-i;){var g=u[n]-i;x.x+=m*g,x.y+=f*g,b.push(x.x,x.y),O(n)&&(R(b,l,r),b.length=0),t-=g,n=(n+1)%u.length,i=0}0<t&&(O(n)&&b.push(v.x,v.y),i+=t)}O(n)&&R(b,l,r)}}const I=new r.Bounds;!function(t){t[t.POLY=0]="POLY";t[t.RECT=1]="RECT";t[t.CIRC=2]="CIRC";t[t.ELIP=3]="ELIP";t[t.RREC=4]="RREC"}(m=m||{});class F extends D.GraphicsGeometry{processLine(t){100!==t.shape.type?t.lineStyle.dashArray?M(t,this):super.processLine(t):this.processPathLine(t)}processPathLine(t){const e=t.shape,i=t.lineStyle;e.contours.forEach(t=>{void 0===t.find(t=>isNaN(t))?i.dashArray?M({points:t,holes:[],shape:{points:t,type:m.POLY},lineStyle:i},this):super.processLine({closeStroke:!0,points:t.slice(),holes:[],shape:{points:t,type:m.POLY},lineStyle:i}):console.error("Contour has NaN, oops!")})}calculateBounds(){const i=this._bounds,n=I;let r=T.Matrix.IDENTITY;this._bounds.clear(),n.clear();for(let e=0;e<this.graphicsData.length;e++){var s=this.graphicsData[e],o=s.shape,a=s.type,h=s.lineStyle,l=s.matrix||T.Matrix.IDENTITY;let t=0;if(h&&h.visible&&(s=h.alignment,t=h.width,a===m.POLY?t*=.5+Math.abs(.5-s):t*=Math.max(0,s)),r!==l&&(n.isEmpty()||(i.addBoundsMatrix(n,r),n.clear()),r=l),a===m.RECT||a===m.RREC)n.addFramePad(o.x,o.y,o.x+o.width,o.y+o.height,t,t);else if(a===m.CIRC)n.addFramePad(o.x,o.y,o.x,o.y,o.radius+t,o.radius+t);else if(a===m.ELIP)n.addFramePad(o.x,o.y,o.x,o.y,o.width+t,o.height+t);else if(100===a){const u=o;u.contours.forEach(t=>{i.addVerticesMatrix(T.Matrix.IDENTITY,new Float32Array(t),0,t.length)})}else i.addVerticesMatrix(r,o.points,0,o.points.length,t,t)}n.isEmpty()||i.addBoundsMatrix(n,r),i.pad(this.boundsPadding,this.boundsPadding)}}class L extends D.LineStyle{constructor(...t){super(...t),L.prototype.__init.call(this),L.prototype.__init2.call(this)}__init(){this.dashArray=null}__init2(){this.dashOffset=0}clone(){const t=super.clone();return t.dashArray=this.dashArray?[...this.dashArray]:null,t.dashOffset=this.dashOffset,t}reset(){super.reset(),this.dashArray=null,this.dashOffset=0}}const B={calculateArcLength(t,e,i,n,r=.05){var s=Math.sign(n),o=Math.abs(n),a=t*t,h=e*e-a;let l=0;for(let t=i+.5*r,e=0;e<o;t+=s*r,e+=r){var u=Math.cos(t),u=Math.sqrt(a+h*(u*u));l+=r*u}return l}},G=new T.Matrix,U=D.GRAPHICS_CURVES._segmentsCount.bind(D.GRAPHICS_CURVES);class V extends D.Graphics{constructor(t){super(),this.context=t,this._geometry=new F,this._geometry.refCount++,this._lineStyle=new L,this.paintServers=[]}lineTextureStyle(t){t=Object.assign({width:0,texture:E.Texture.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:D.LINE_CAP.BUTT,join:D.LINE_JOIN.MITER,miterLimit:10,dashArray:null,dashOffset:0},t),this.currentPath&&this.startPoly();var e=0<t.width&&0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}ellipticArc(e,i,n,r,s,t,o=0,a=!1){var h=t-s,l=D.GRAPHICS_CURVES.adaptive?4*U(B.calculateArcLength(n,r,s,t-s)):20,u=(a?-1:1)*Math.abs(h)/(l-1);G.identity().translate(-e,-i).rotate(o).translate(e,i);for(let t=0;t<l;t++){var c=s+t*u,p=e+n*Math.cos(c),c=i+r*Math.sin(c),{x:p,y:c}=0!==o?G.apply({x:p,y:c}):{x:p,y:c};0!==t?this.currentPath.points.push(p,c):this._initCurve(p,c)}return this}ellipticArcTo(t,e,i,n,r=0,s=!1,o=!1){if(0===i||0===n)return this.lineTo(t,e);var a=this.currentPath.points,h=a[a.length-2],l=a[a.length-1],u=(h+t)/2,c=(l+e)/2;const p=G.identity().translate(-u,-c).rotate(-r);var{x:d,y:a}=p.apply({x:h,y:l}),t=Math.pow(d/i,2)+Math.pow(a/n,2);1<t&&(i=Math.sqrt(t)*i,n=Math.sqrt(t)*n);var e=i*i,u=n*n,c=(s===o?1:-1)*Math.sqrt(Math.abs(e*u-e*a*a-u*d*d)/(e*a*a+u*d*d)),h=i*a/n*c,l=n*d/i*-c,{x:t,y:o}=p.applyInverse({x:h,y:l}),e=(d-h)/i,u=(a-l)/n,c=Math.sqrt(e**2+u**2),c=(0<=u?1:-1)*Math.acos(e/c),h=(-d-h)/i,a=(-a-l)/n,l=Math.sqrt(h**2+a**2);let f=(0<=a?1:-1)*Math.acos(h/l);return f>c&&s?f-=2*Math.PI:c>f&&!s&&(f+=2*Math.PI),this.ellipticArc(t,o,i,n,c,f,r,s),this}embedCircle(t){t.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.r.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.cx.baseVal.valueInSpecifiedUnits,i=t.cy.baseVal.valueInSpecifiedUnits,t=t.r.baseVal.valueInSpecifiedUnits;this.drawCircle(e,i,t)}embedEllipse(t){t.cx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.cy.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.rx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.ry.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.cx.baseVal.valueInSpecifiedUnits,i=t.cy.baseVal.valueInSpecifiedUnits,n=t.rx.baseVal.valueInSpecifiedUnits,t=t.ry.baseVal.valueInSpecifiedUnits;this.ellipticArc(e,i,n,t,0,2*Math.PI)}embedLine(t){t.x1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y1.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.x2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y2.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x1.baseVal.valueInSpecifiedUnits,i=t.y1.baseVal.valueInSpecifiedUnits,n=t.x2.baseVal.valueInSpecifiedUnits,t=t.y2.baseVal.valueInSpecifiedUnits;this.moveTo(e,i),this.lineTo(n,t)}embedRect(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.rx.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.ry.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,i=t.y.baseVal.valueInSpecifiedUnits,n=t.width.baseVal.valueInSpecifiedUnits,r=t.height.baseVal.valueInSpecifiedUnits,s=t.rx.baseVal.valueInSpecifiedUnits,t=t.ry.baseVal.valueInSpecifiedUnits||s;0===s||0===t?this.drawRect(e,i,n,r):(this.moveTo(e,i+t),this.ellipticArcTo(e+s,i,s,t,0,!1,!1),this.lineTo(e+n-s,i),this.ellipticArcTo(e+n,i+t,s,t,0,!1,!1),this.lineTo(e+n,i+r-t),this.ellipticArcTo(e+n-s,i+r,s,t,0,!1,!1),this.lineTo(e+s,i+r),this.ellipticArcTo(e,i+r-t,s,t,0,!1,!1),this.closePath())}embedPolygon(t){var e=t.getAttribute("points").split(/[ ,]/g).map(t=>parseInt(t,10));this.moveTo(e[0],e[1]);for(let t=2;t<e.length;t+=2)this.lineTo(e[t],e[t+1]);this.closePath()}embedPolyline(t){var e=t.getAttribute("points").split(/[ ,]/g).map(t=>parseInt(t,10));this.moveTo(e[0],e[1]);for(let t=2;t<e.length;t+=2)this.lineTo(e[t],e[t+1])}render(i){const n=this.paintServers;for(let t=0,e=n.length;t<e;t++)n[t].resolvePaint(i);super.render(i)}}const j=new T.Matrix;class H extends V{embedImage(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,i=t.y.baseVal.valueInSpecifiedUnits,n=t.width.baseVal.valueInSpecifiedUnits,r=t.height.baseVal.valueInSpecifiedUnits,s=Number.parseFloat(t.getAttribute("opacity")||"1"),o=t instanceof SVGGraphicsElement?t.transform.baseVal.consolidate():null,{a,b:h,c:l,d:u}=o?o.matrix:j.identity(),o=Math.min(1,Math.sqrt(a*a+h*h)),a=Math.min(1,Math.sqrt(l*l+u*u)),h=Math.ceil(n*o),l=Math.ceil(r*a);this.initTexture(h,l);u=function(t){let e=void 0,i=t[0],n=1;for(;n<t.length;){var r=t[n];const s=t[n+1];if(n+=2,("optionalAccess"===r||"optionalCall"===r)&&null==i)return;"access"===r||"optionalAccess"===r?(e=i,i=s(i)):"call"!==r&&"optionalCall"!==r||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}([globalThis,"optionalAccess",t=>t.location,"access",t=>t.href]),h=t.getAttribute("href")||t.getAttribute("xlink:href"),l=new URL(h).origin;let c=t;l&&l!==u&&(c=document.createElement("img"),c.crossOrigin="anonymous",c.src=h),c.onload=()=>{this.drawTexture(c)},this.beginTextureFill({texture:this._texture,alpha:s,matrix:(new T.Matrix).scale(1/o,1/a)}),this.drawRect(e,i,n,r),this.endFill()}initTexture(t,e){this._texture&&(this._texture.width<=this.context.atlas.maxWidth&&this._texture.height<=this.context.atlas.maxHeight?this.context.atlas.free(this._texture):this._texture.destroy()),this._texture=null,this._texture=this.context.atlas.allocate(t,e),this._texture?(this._canvas=this._texture.baseTexture.resource.source,this._context=this._canvas.getContext("2d")):(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e,this._context=this._canvas.getContext("2d"),this._texture=E.Texture.from(this._canvas))}drawTexture(t){var e=this._texture.frame;this._context.clearRect(e.x,e.y,e.width,e.height),this._context.drawImage(t,e.x,e.y,e.width,e.height),this._texture.update()}}o={build(){},triangulate(t,e){try{const a=t.shape;var i=a.contours.filter(t=>0<t.length).filter(t=>void 0===t.find(t=>isNaN(t)));const h=new _.GluTesselator;var n=[];h.gluTessProperty(_.gluEnum.GLU_TESS_WINDING_RULE,a.fillRule===c.FILL_RULE.EVENODD?_.windingRule.GLU_TESS_WINDING_ODD:_.windingRule.GLU_TESS_WINDING_NONZERO),h.gluTessCallback(_.gluEnum.GLU_TESS_VERTEX_DATA,function(t,e){e[e.length]=t[0],e[e.length]=t[1]}),h.gluTessCallback(_.gluEnum.GLU_TESS_BEGIN,function(t){t!==_.primitiveType.GL_TRIANGLES&&console.warn("expected TRIANGLES but got type: "+t)}),h.gluTessCallback(_.gluEnum.GLU_TESS_ERROR,function(t){console.error("error callback"),console.error("error number: "+t)}),h.gluTessCallback(_.gluEnum.GLU_TESS_COMBINE,function(t,e,i){return[t[0],t[1],t[2]]}),h.gluTessCallback(_.gluEnum.GLU_TESS_EDGE_FLAG,function(t){}),h.gluTessNormal(0,0,1),h.gluTessBeginPolygon(n);for(let t=0;t<i.length;t++){var r=i[t];h.gluTessBeginContour();for(let t=0;t<r.length;){var s=[r[t++],r[t++],0];h.gluTessVertex(s,s)}h.gluTessEndContour()}h.gluTessEndPolygon();const l=e.points,u=e.indices;var o=l.length/2;for(let t=0;t<n.length;)l.push(n[t++],n[t++]);for(let t=0;t<n.length/2;t++)u.push(t+o)}catch(t){console.error(t)}}};function X(t){let e=void 0,i=t[0],n=1;for(;n<t.length;){var r=t[n];const s=t[n+1];if(n+=2,("optionalAccess"===r||"optionalCall"===r)&&null==i)return;"access"===r||"optionalAccess"===r?(e=i,i=s(i)):"call"!==r&&"optionalCall"!==r||(i=s((...t)=>i.call(e,...t)),e=void 0)}return i}D.graphicsUtils.FILL_COMMANDS[100]=o;class z extends V{constructor(...t){super(...t),z.prototype.__init.call(this),z.prototype.__init2.call(this)}startPath(){this.currentPath2?0<this.currentPath2.points.length&&this.currentPath2.closeContour():this.currentPath2=new P}finishPath(){this.currentPath2&&this.currentPath2.closeContour()}get currentPath(){return this.currentPath2}set currentPath(t){if(t)throw new Error("currentPath cannot be set")}closePath(){return this.currentPath2.points.push(this.currentPath2.points[0],this.currentPath2.points[1]),this.finishPath(),this}checkPath(){if(void 0!==this.currentPath2.points.find(t=>isNaN(t)))throw new Error("NaN is bad")}__init(){this.startPoly=this.startPath}__init2(){this.finishPoly=this.finishPath}embedPath(t){const e=t.getAttribute("d");var i=y.default(e.trim());let r=0,s=0;for(let t=0,e=i.length;t<e;t++){var o=i[t-1],a=i[t];if(isNaN(r)||isNaN(s))throw new Error("Data corruption");switch(a.code){case"m":this.moveTo(r+=a.end.x,s+=a.end.y);break;case"M":this.moveTo(r=a.end.x,s=a.end.y);break;case"H":this.lineTo(r=a.value,s);break;case"h":this.lineTo(r+=a.value,s);break;case"V":this.lineTo(r,s=a.value);break;case"v":this.lineTo(r,s+=a.value);break;case"z":case"Z":r=X([this,"access",t=>t.currentPath2,"optionalAccess",t=>t.points,"access",t=>t[0]])||0,s=X([this,"access",t=>t.currentPath2,"optionalAccess",t=>t.points,"access",t=>t[1]])||0,this.closePath();break;case"L":this.lineTo(r=a.end.x,s=a.end.y);break;case"l":this.lineTo(r+=a.end.x,s+=a.end.y);break;case"C":this.bezierCurveTo(a.cp1.x,a.cp1.y,a.cp2.x,a.cp2.y,r=a.end.x,s=a.end.y);break;case"c":var n=r,h=s;this.bezierCurveTo(n+a.cp1.x,h+a.cp1.y,n+a.cp2.x,h+a.cp2.y,r+=a.end.x,s+=a.end.y);break;case"s":case"S":{const c={x:r,y:s};h=i[t-1]?i[t-1].code:null;if(0<t&&("s"===h||"S"===h||"c"===h||"C"===h)){h=i[t-1];const d={...h.cp2||h.cp};i[t-1].relative&&(d.x+=r-h.end.x,d.y+=s-h.end.y),c.x=2*r-d.x,c.y=2*s-d.y}const p={x:a.cp.x,y:a.cp.y};a.relative?(p.x+=r,p.y+=s,r+=a.end.x,s+=a.end.y):(r=a.end.x,s=a.end.y),this.bezierCurveTo(c.x,c.y,p.x,p.y,r,s);break}case"q":var l=r,u=s;this.quadraticCurveTo(l+a.cp.x,u+a.cp.y,r+=a.end.x,s+=a.end.y);break;case"Q":this.quadraticCurveTo(a.cp.x,a.cp.y,r=a.end.x,s=a.end.y);break;case"A":this.ellipticArcTo(r=a.end.x,s=a.end.y,a.radii.x,a.radii.y,(a.rotation||0)*Math.PI/180,!a.clockwise,a.large);break;case"a":this.ellipticArcTo(r+=a.end.x,s+=a.end.y,a.radii.x,a.radii.y,(a.rotation||0)*Math.PI/180,!a.clockwise,a.large);break;case"t":case"T":{let i,n;if(o&&o.cp){let t=o.cp.x,e=o.cp.y;o.relative&&(l=r-o.end.x,u=s-o.end.y,t+=l,e+=u),i=2*r-t,n=2*s-e}else i=r,n=s;"t"===a.code?this.quadraticCurveTo(i,n,r+=a.end.x,s+=a.end.y):this.quadraticCurveTo(i,n,r=a.end.x,s=a.end.y);break}default:console.warn("[PIXI.SVG] Draw command not supported:",a.code,a)}}return this.currentPath2&&(this.currentPath2.fillRule=t.getAttribute("fill-rule")||this.currentPath2.fillRule,this.drawShape(this.currentPath2),this.currentPath2=null),this}}const q=new u.ColorMatrixFilter;q.matrix=[.33,.33,.33,0,0,0,0,0,0,0,0,0,0,0,0,.33,.33,.33,0,0];const Y=new T.Rectangle,W=new T.Rectangle;class $ extends l.Sprite{render(t){}}class Z extends l.Sprite{constructor(t){super(t),this.dirtyId=0,this.updateId=-1}render(i){if(this.dirtyId!==this.updateId){this.texture.baseTexture.setSize(this.texture.width,this.texture.height,i.resolution),i.batch.flush();var t=i.renderTexture.current,e=Y.copyFrom(i.renderTexture.sourceFrame),n=W.copyFrom(i.renderTexture.destinationFrame);const r=this.getLocalBounds(null),s=this.children;i.renderTexture.bind(this.texture,r),i.renderTexture.clear(),i.filter.push({filterArea:r,getBounds:()=>r},[q]);for(let t=0,e=s.length;t<e;t++){const o=s[t];o.enableTempParent(),o.updateTransform(),s[t].render(i),o.disableTempParent(this)}i.batch.flush(),i.filter.pop(),i.renderTexture.bind(t,e,n),this.updateId=this.dirtyId,this.getBounds()}}createMask(t){return new $(this.texture)}}class Q extends l.Sprite{constructor(){super(E.Texture.EMPTY),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.texture=E.Texture.from(this.canvas),this.contentList=new Map,this.dirtyId=0,this.updateId=0}async clear(){this.contentList.clear(),this.dirtyId++,this.position.set(0,0)}async put(t,e,i,n,r){this.contentList.set(t,{position:e,content:i,style:n,matrix:r});n=p.TextMetrics.measureText(i,new p.TextStyle(n),!1,this.canvas);return this.dirtyId++,{x:e.x+n.width,y:e.y}}updateText(){let n=0,r=0;this.contentList.forEach(({position:t,content:e,style:i})=>{i=p.TextMetrics.measureText(e,new p.TextStyle(i),!1,this.canvas);n=Math.max(n,t.x+i.width),r=Math.max(r,t.y+i.height+i.fontProperties.descent)});var t,e,i,s,o=window.devicePixelRatio||1;this.canvas.width=n*o,this.canvas.height=r*o,this.texture.baseTexture.setRealSize(n,r,o),this.texture.update(),this.context.clearRect(0,0,n*o,r*o),this.context.setTransform(1,0,0,1,0,0),this.context.scale(o,o);let a=0;for([t,{position:e,content:i,style:s}]of this.contentList){var h=p.TextMetrics.measureText(i,new p.TextStyle(s),!1,this.canvas);const l=new p.TextStyle(s);this.context.fillStyle="string"==typeof l.fill?l.fill:"black",this.context.font=l.toFontString(),this.context.fillText(i,e.x,e.y+h.height),0===a&&(this.y-=h.height),a++}this.updateId=this.dirtyId}render(t){this.updateId!==this.dirtyId&&(this.updateText(),this.updateTransform()),super.render(t)}}class K extends r.Container{static __initStatic(){this.defaultEngine=Q}constructor(){super(),this.currentTextPosition={x:0,y:0},this.engine=new K.defaultEngine,this.addChild(this.engine)}async embedText(t,i={}){const n=this.engine;t instanceof SVGTextElement&&(await n.clear(),this.currentTextPosition.x=0<t.x.baseVal.length?t.x.baseVal.getItem(0).value:0,this.currentTextPosition.y=0<t.y.baseVal.length?t.y.baseVal.getItem(0).value:0);var e,r,s,o=t.getAttribute("fill"),a=t.getAttribute("font-family"),h=parseFloat(t.getAttribute("font-size")),l=t.getAttribute("font-weight"),e=([e,r=16]=[t.getAttribute("letter-spacing"),h],e?e.includes("em")?parseFloat(e)*r:parseFloat(e):0);i.fill=o||i.fill||"black",i.fontFamily=a||!i.fontFamily?`${a||"serif"}, serif`:i.fontFamily,i.fontSize=isNaN(h)?i.fontSize:h,i.fontWeight=l||i.fontWeight||"normal",i.letterSpacing=isNaN(e)?i.letterSpacing||0:e,i.wordWrap=!0,i.wordWrapWidth=400;const u=t.childNodes;for(let t=0,e=u.length;t<e;t++){const c=u.item(t);c instanceof globalThis.Text?(s=c.data,this.currentTextPosition=await n.put(c,{x:this.currentTextPosition.x,y:this.currentTextPosition.y},s,i),this.emit("nodetransformdirty")):c instanceof SVGTSpanElement&&(0<c.x.baseVal.length&&(this.currentTextPosition.x=c.x.baseVal.getItem(0).value),0<c.y.baseVal.length&&(this.currentTextPosition.y=c.y.baseVal.getItem(0).value),await this.embedText(c,{...i}))}}}K.__initStatic();class J extends r.Container{constructor(...t){super(...t),J.prototype.__init.call(this)}__init(){this.isRefExternal=!1}embedUse(t){t.x.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.y.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.width.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX),t.height.baseVal.convertToSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX);var e=t.x.baseVal.valueInSpecifiedUnits,t=t.y.baseVal.valueInSpecifiedUnits;this.position.set(e,t)}get ref(){return this._ref}set ref(t){if(this._ref){if(this._ref===t)return;this.removeChild(this._ref)}this._ref=t,this.addChild(this._ref)}}const tt=new T.Matrix,et=new T.Rectangle;class it extends r.DisplayObject{__init(){this.sortDirty=!1}constructor(t,e){super(),it.prototype.__init.call(this),it.prototype.__init2.call(this),this.content=t,this.initContext(e),this._width=t.viewBox.baseVal.width,this._height=t.viewBox.baseVal.height,this._cull=new h.Cull({recursive:!0,toggle:"renderable"}),this._elementToPaint=new Map,this._elementToMask=new Map,this._transformDirty=!0,this.renderServers=new r.Container,e&&e.disableRootPopulation||this.populateScene()}initContext(t){(t=t||{}).atlas=t.atlas||new a.CanvasTextureAllocator(2048,2048),t.disableHrefSVGLoading=void 0!==t.disableHrefSVGLoading&&t.disableHrefSVGLoading,this._context=t}calculateBounds(){this._bounds.clear(),this._bounds.addFrameMatrix(this.worldTransform,0,0,this.content.viewBox.baseVal.width,this.content.viewBox.baseVal.height)}removeChild(){}render(t){this.visible&&this.renderable&&(this.renderServers.render(t),this._cull.cull(t.renderTexture.sourceFrame,!0),this.root.render(t),this._cull.uncull())}updateTransform(){super.updateTransform(),this.root.alpha=this.worldAlpha;var t=this.worldTransform,e=this.root.transform.worldTransform;e.a===t.a&&e.b===t.b&&e.c===t.c&&e.d===t.d&&e.tx===t.tx&&e.ty===t.ty&&0!==e._worldID&&!this._transformDirty||(this.root.enableTempParent(),this.root.transform.setFromMatrix(this.worldTransform),this.root.updateTransform(),this.root.disableTempParent(null),this.root.calculateBounds(),this._transformDirty=!1)}createNode(t){let e=null;switch(t.nodeName.toLowerCase()){case"circle":case"ellipse":case"g":case"line":case"polyline":case"polygon":case"rect":e=new V(this._context);break;case"image":e=new H(this._context);break;case"mask":case"svg":e=new r.Container;break;case"path":e=new z(this._context);break;case"text":e=new K;break;case"use":e=new J;break;default:e=null}return e}createPaint(t){return t instanceof SVGElement?new b(t):null}createPaintServer(t){var e=E.RenderTexture.create({width:128,height:128});return new w(t,e)}createMask(t){var e=(t=t instanceof SVGElement?this.populateSceneRecursive(t,{basePaint:this.queryInheritedPaint(t)}):t).getLocalBounds();t.getBounds();e=E.RenderTexture.create({width:e.width,height:e.height});const i=new Z(e);return i.addChild(t),i}queryMask(t){let e=this._elementToMask.get(t);return e||(e=this.createMask(t),this._elementToMask.set(t,e)),e}queryPaint(t){let e=this._elementToPaint.get(t);return e||(e=this.createPaint(t),this._elementToPaint.set(t,e)),e}queryInheritedPaint(t){var e=this.queryPaint(t),t=t.parentElement&&this.queryPaint(t.parentElement);return t?new A(t,e):e}parseReference(e){if(e.startsWith("url")){let t=e.slice(4,-1);return t.startsWith("'")&&t.endsWith("'")&&(t=t.slice(1,-1)),t}return e}embedIntoNode(n,t,e={}){var i=e["basePaint"],r=i?new A(i,this.queryPaint(t)):this.queryPaint(t);const{fill:s,opacity:o,stroke:a,strokeDashArray:h,strokeDashOffset:l,strokeLineCap:u,strokeLineJoin:c,strokeMiterLimit:p,strokeWidth:d}=r;var f,m,e=t instanceof SVGGraphicsElement?t.transform.baseVal.consolidate():null,i=e?e.matrix:tt.identity();if(n instanceof V){"none"===s?n.beginFill(0,0):"number"==typeof s?n.beginFill(s,null===o?1:o):s?(e=this.parseReference(s),(e=this.content.querySelector(e))&&e instanceof SVGGradientElement&&(m=(f=this.createPaintServer(e)).paintTexture,n.paintServers.push(f),n.beginTextureFill({texture:m,alpha:null===o?1:o,matrix:new T.Matrix}))):n.beginFill(0);let t;"string"==typeof a&&a.startsWith("url")&&(f=this.parseReference(a),(m=this.content.querySelector(f))&&m instanceof SVGGradientElement&&(m=(f=this.createPaintServer(m)).paintTexture,n.paintServers.push(f),t=m)),n.lineTextureStyle({color:null===a?0:"number"==typeof a?a:16777215,cap:null===u?D.LINE_CAP.SQUARE:u,dashArray:h,dashOffset:null===l?l:0,join:null===c?D.LINE_JOIN.MITER:c,matrix:new T.Matrix,miterLimit:null===p?150:p,texture:t||E.Texture.WHITE,width:null===d?"number"==typeof a?1:0:d})}switch(t.nodeName.toLowerCase()){case"circle":n.embedCircle(t);break;case"ellipse":n.embedEllipse(t);break;case"image":n.embedImage(t);break;case"line":n.embedLine(t);break;case"path":n.embedPath(t);break;case"polyline":n.embedPolyline(t);break;case"polygon":n.embedPolygon(t);break;case"rect":n.embedRect(t);break;case"text":n.embedText(t);break;case"use":{const _=t,y=_.getAttribute("href")||_.getAttribute("xlink:href"),v=this.queryPaint(_);if(n.embedUse(_),y.startsWith("#")){var g=this.content.querySelector(y);const b=this.populateSceneRecursive(g,{basePaint:v});n.ref=b,b.transform.setFromMatrix(T.Matrix.IDENTITY)}else this._context.disableHrefSVGLoading||(n.isRefExternal=!0,S(y).then(t=>[new it(t,{...this._context,disableRootPopulation:!0}),t.querySelector("#"+y.split("#")[1])]).then(([t,e])=>{e||console.error(`SVGScene failed to resolve ${y} and SVGUseNode is empty!`);const i=t.populateSceneRecursive(e,{basePaint:v});n.ref=i,i.transform.setFromMatrix(T.Matrix.IDENTITY),this._transformDirty=!0,t.on("transformdirty",()=>{this._transformDirty=!0})}))}}n.transform.setFromMatrix(tt.set(i.a,i.b,i.c,i.d,i instanceof T.Matrix?i.tx:i.e,i instanceof T.Matrix?i.ty:i.f)),t instanceof SVGMaskElement&&this._elementToMask.set(t,this.createMask(n));i=t.getAttribute("mask");if(i){i=this.content.querySelector(this.parseReference(i));if(i){const x=this.queryMask(i);i=x.createMask(n);this.renderServers.addChild(x),n.mask=i,n.addChild(i)}}return{paint:r}}populateSceneRecursive(i,t){const n=this.createNode(i);if(!n)return null;n.on("nodetransformdirty",this.onNodeTransformDirty);let r;(i instanceof SVGGraphicsElement||i instanceof SVGMaskElement)&&(t=this.embedIntoNode(n,i,t),r=t.paint);for(let t=0,e=i.children.length;t<e;t++){var s=this.populateSceneRecursive(i.children[t],{basePaint:r});s&&n.addChild(s)}if(n instanceof V){const e=n.getLocalBounds(et),o=n.paintServers,{x:a,y:h,width:l,height:u}=e;n.paintServers.forEach(t=>{t.resolvePaintDimensions(e)});const c=n.geometry,p=c.graphicsData;p&&(p.forEach(t=>{const e=t.fillStyle,i=t.lineStyle;var n,r;e.texture&&o.find(t=>t.paintTexture===e.texture)&&(n=e.texture.width,r=e.texture.height,t.fillStyle.matrix.invert().scale(l/n,u/r).invert()),e.matrix&&e.matrix.invert().translate(a,h).invert(),i.texture&&o.find(t=>t.paintTexture===i.texture)&&(n=i.texture.width,r=i.texture.height,t.lineStyle.matrix.invert().scale(l/n,u/r).invert()),i.matrix&&i.matrix.invert().translate(a,h).invert()}),c.updateBatches())}return i instanceof SVGMaskElement?null:n}populateScene(){this.root&&this._cull.remove(this.root);var t=this.populateSceneRecursive(this.content);this.root=t,this._cull.add(this.root)}__init2(){this.onNodeTransformDirty=()=>{this._transformDirty=!0,this.emit("transformdirty",this)}}get width(){return this._width}set width(t){this._width=t,this.scale.x=this._width/this.content.viewBox.baseVal.width}get height(){return this._height}set height(t){this._height=t,this.scale.y=this._height/this.content.viewBox.baseVal.height}static async from(t,e){return new it(await S(t),e)}}c.InheritedPaintProvider=A,c.MaskServer=Z,c.MaskSprite=$,c.PATH=100,c.PaintProvider=b,c.PaintServer=w,c.Path=P,c.SVGGraphicsGeometry=F,c.SVGGraphicsNode=V,c.SVGImageNode=H,c.SVGPathNode=z,c.SVGScene=it,c.SVGTextEngineImpl=Q,c.SVGTextNode=K,c.SVGUseNode=J,c.getLoaderCache=function(){return{clear(){v.clear()},size:v.size}}},{"@pixi-essentials/cull":2,"@pixi-essentials/gradients":3,"@pixi-essentials/texture-allocator":5,"@pixi/core":10,"@pixi/display":11,"@pixi/filter-color-matrix":15,"@pixi/graphics":19,"@pixi/math":23,"@pixi/sprite":36,"@pixi/text":39,"d-path-parser":43,libtess:52,tinycolor2:64}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("@pixi/constants"),n=t("@pixi/core"),r=t("@pixi-essentials/area-allocator"),t=t("@pixi/math");class s extends n.Resource{constructor(t,e){super(t,e),this.managedItems=[]}upload(i,n,t){const e=i.gl;var r=n.realWidth,s=n.realHeight;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===a.ALPHA_MODES.UNPACK),t.width===r&&t.height===s||e.texImage2D(n.target,0,n.format,r,s,0,n.format,n.type,void 0);var o=this.managedItems;for(let t=0,e=o.length;t<e;t++)this.uploadItem(i,n.target,n.format,n.type,o[t]);return!0}uploadItem(t,e,i,n,r){if(r.updateId!==r.dirtyId){const o=t.gl;var s=r.source,t=r.frame;o.texSubImage2D(e,0,t.x,t.y,t.width,t.height,i,n,s),r.updateId=r.dirtyId}}}const o=new t.Rectangle;class h{constructor(t=2048,e=2048){this.slabWidth=t,this.slabHeight=e,this.textureSlabs=[]}get maxWidth(){return this.slabWidth-2*this.calculatePadding(this.slabWidth,this.slabHeight)}get maxHeight(){return this.slabHeight-2*this.calculatePadding(this.slabWidth,this.slabHeight)}allocate(i,n,r=this.calculatePadding(i,n)){if(i+2*r>this.slabWidth||n+2*r>this.slabHeight)return null;var s=this.textureSlabs;for(let t=0,e=s.length;t<e;t++){const a=s[t];var o=this.issueTexture(a,i,n,r);if(o)return o}const a=this.createSlab();return this.textureSlabs.unshift(a),this.issueTexture(a,i,n,r)}free(e){const i=e.baseTexture,t=this.textureSlabs.find(t=>t.slab===i);if(!t)throw new Error("The texture cannot be freed because its base-texture is not pooled by this allocator. This is either a bug in TextureAllocator or you tried to free a texture that was never allocated by one.");var n=t.managedTextures.find(t=>t.texture===e);if(!n)throw new Error("The texture cannot be freed because it was not found in the managed list of issued textures on its slab. This may be because you duplicated this texture or a bug in TextureAllocator");t.managedArea.free(n.area),t.managedTextures.splice(t.managedTextures.indexOf(n),1)}calculatePadding(t,e){e=Math.max(t,e);return e<64?2:e<128?4:e<1024?8:16}createSlab(){return{managedArea:new r.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new n.BaseTexture(null,{width:this.slabWidth,height:this.slabHeight})}}createTexture(t,e){return new n.Texture(t,e)}issueTexture(t,e,i,n=0){i=t.managedArea.allocate(e+2*n,i+2*n);if(!i)return null;o.copyFrom(i),o.pad(-n);n=t.slab,n=this.createTexture(n,o.clone());return t.managedTextures.push({area:i,texture:n}),n}}i.AtlasAllocator=class extends h{createSlab(){return{managedArea:new r.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new n.BaseTexture(new s(this.slabWidth,this.slabHeight),{width:this.slabWidth,height:this.slabHeight})}}allocate(t,e,i,n){let r;"number"==typeof i?r=i:(r=this.calculatePadding(t,e),n=i);e=super.allocate(t,e,r);if(n){const s=e.baseTexture.resource;s.managedItems.push({frame:e.frame,source:n,dirtyId:0,updateId:-1,texture:e})}return e}free(e){super.free(e);const t=e.baseTexture.resource;var i=t.managedItems.find(t=>t.texture===e);i&&t.managedItems.splice(t.managedItems.indexOf(i),1)}},i.AtlasResource=s,i.CanvasTextureAllocator=class extends h{createSlab(){const t=document.createElement("canvas");return t.width=this.slabWidth,t.height=this.slabHeight,{managedArea:new r.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new n.BaseTexture(t,{width:this.slabWidth,height:this.slabHeight})}}},i.RenderTextureAllocator=class extends h{createSlab(){return{managedArea:new r.GuilloteneAllocator(this.slabWidth,this.slabHeight),managedTextures:[],slab:new n.BaseRenderTexture({width:this.slabWidth,height:this.slabHeight})}}createTexture(t,e){return new n.RenderTexture(t,e)}},i.TextureAllocator=h},{"@pixi-essentials/area-allocator":1,"@pixi/constants":9,"@pixi/core":10,"@pixi/math":23}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/display"),f=t("@pixi/utils"),t={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};n.DisplayObject.mixin(t);Object.defineProperty(r.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),r.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},r.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},r.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null!==(t=this.renderer.view.parentNode)&&void 0!==t&&t.appendChild(this.div))},r.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null!==(t=this.div.parentNode)&&void 0!==t&&t.removeChild(this.div))},r.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},r.prototype.update=function(){var t=performance.now();if(!(f.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.left,n=e.top,r=e.width,s=e.height,o=this.renderer,t=o.width,e=o.height,o=o.resolution,a=r/t*o,h=s/e*o;(u=this.div).style.left=i+"px",u.style.top=n+"px",u.style.width=t+"px",u.style.height=e+"px";for(var l=0;l<this.children.length;l++){var u,c,p,d=this.children[l];d.renderId!==this.renderId?(d._accessibleActive=!1,f.removeItems(this.children,l,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,l--):(u=d._accessibleDiv,c=d.hitArea,p=d.worldTransform,d.hitArea?(u.style.left=(p.tx+c.x*p.a)*a+"px",u.style.top=(p.ty+c.y*p.d)*h+"px",u.style.width=c.width*p.a*a+"px",u.style.height=c.height*p.d*h+"px"):(c=d.getBounds(),this.capHitArea(c),u.style.left=c.x*a+"px",u.style.top=c.y*h+"px",u.style.width=c.width*a+"px",u.style.height=c.height*h+"px",u.title!==d.accessibleTitle&&null!==d.accessibleTitle&&(u.title=d.accessibleTitle),u.getAttribute("aria-label")!==d.accessibleHint&&null!==d.accessibleHint&&u.setAttribute("aria-label",d.accessibleHint)),d.accessibleTitle===u.title&&d.tabIndex===u.tabIndex||(u.title=d.accessibleTitle,u.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(u)))}this.renderId++}},r.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},r.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,e=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>e&&(t.height=e-t.y)},r.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},r.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"click",t),e.dispatchEvent(i,"pointertap",t),e.dispatchEvent(i,"tap",t)},r.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"mouseover",t)},r.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,i=t.target.displayObject,t=e.eventData;e.dispatchEvent(i,"mouseout",t)},r.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},r.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},r.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n=r;function r(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(f.isMobile.tablet||f.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}i.AccessibilityManager=n,i.accessibleTarget=t},{"@pixi/display":11,"@pixi/utils":41}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/display"),r=t("@pixi/core"),s=(o.registerPlugin=function(t){o._plugins.push(t)},o.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(o.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),o.prototype.destroy=function(t,e){var i=this,n=o._plugins.slice(0);n.reverse(),n.forEach(function(t){t.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},o._plugins=[],o);function o(e){var i=this;this.stage=new n.Container,e=Object.assign({forceCanvas:!1},e),this.renderer=r.autoDetectRenderer(e),o._plugins.forEach(function(t){t.init.call(i,e)})}a.init=function(t){var i=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),(this._resizeTo=t)&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){i._resizeTo&&(i.cancelResize(),i._resizeId=requestAnimationFrame(function(){return i.resize()}))},this.cancelResize=function(){i._resizeId&&(cancelAnimationFrame(i._resizeId),i._resizeId=null)},this.resize=function(){var t,e;i._resizeTo&&(i.cancelResize(),e=i._resizeTo===self?(t=self.innerWidth,self.innerHeight):(t=(e=i._resizeTo).clientWidth,e.clientHeight),i.renderer.resize(t,e))},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},a.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t=a;function a(){}s.registerPlugin(t),i.Application=s},{"@pixi/core":10,"@pixi/display":11}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=t("@pixi/core"),p=t("@pixi/loaders"),d=t("@pixi/utils"),n=t("@pixi/constants");(f=i.INTERNAL_FORMATS||(i.INTERNAL_FORMATS={}))[f.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",f[f.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",f[f.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",f[f.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",f[f.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",f[f.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",f[f.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",f[f.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",f[f.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",f[f.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",f[f.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",f[f.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",f[f.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",f[f.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",f[f.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",f[f.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",f[f.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",f[f.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",f[f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",f[f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",f[f.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",f[f.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",f[f.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",f[f.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",f[f.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",f[f.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL";var w=((W={})[i.INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,W[i.INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,W[i.INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,W),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}function u(i,n){var r,s,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,s&&(o=2&e[0]?s.return:e[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,e[1])).done)return o;switch(s=0,(e=o?[2&e[0],o.value]:e)[0]){case 0:case 1:o=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,s=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){a.label=e[1];break}if(6===e[0]&&a.label<o[1]){a.label=o[1],o=e;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(e);break}o[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(i,a)}catch(t){e=[6,t],s=0}finally{r=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var o,t=(s(a,o=l.BufferResource),a.prototype.onBlobLoaded=function(t){},a.prototype.load=function(){return s=this,o=void 0,a=Promise,h=function(){var e;return u(this,function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new l.ViewableBuffer(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}})},new(a=a||Promise)(function(t,e){function i(t){try{r(h.next(t))}catch(t){e(t)}}function n(t){try{r(h.throw(t))}catch(t){e(t)}}function r(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(i,n)}r((h=h.apply(s,o||[])).next())});var s,o,a,h},a);function a(t,e){void 0===e&&(e={width:1,height:1,autoLoad:!0});var i,n=this,t="string"==typeof t?(i=t,new Uint8Array):(i=null,t);return(n=o.call(this,t,e)||this).origin=i,n.buffer=t?new l.ViewableBuffer(t):null,n.origin&&!1!==e.autoLoad&&n.load(),t&&t.length&&(n.loaded=!0,n.onBlobLoaded(n.buffer.rawBinaryData)),n}var h,P=(s(c,h=t),c.prototype.upload=function(t,e,i){var n=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var r=0,s=this.levels;r<s;r++){var o=this._levelBuffers[r],a=o.levelID,h=o.levelWidth,l=o.levelHeight,o=o.levelBuffer;n.compressedTexImage2D(n.TEXTURE_2D,a,this.format,h,l,0,o)}return!0},c.prototype.onBlobLoaded=function(){this._levelBuffers=c._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},c._formatToExtension=function(t){if(33776<=t&&t<=33779)return"s3tc";if(37488<=t&&t<=37497)return"etc";if(35840<=t&&t<=35843)return"pvrtc";if(36196<=t)return"etc1";if(35986<=t&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},c._createLevelBuffers=function(t,e,i,n,r,s,o){for(var a=new Array(i),h=t.byteOffset,l=s,u=o,c=l+n-1&~(n-1),p=u+r-1&~(r-1),d=c*p*w[e],f=0;f<i;f++)a[f]={levelID:f,levelWidth:1<i?l:c,levelHeight:1<i?u:p,levelBuffer:new Uint8Array(t.buffer,h,d)},h+=d,d=(c=(l=l>>1||1)+n-1&~(n-1))*(p=(u=u>>1||1)+r-1&~(r-1))*w[e];return a},c);function c(t,e){var i=h.call(this,t,e)||this;return i.format=e.format,i.levels=e.levels||1,i._width=e.width,i._height=e.height,i._extension=c._formatToExtension(i.format),(e.levelBuffers||i.buffer)&&(i._levelBuffers=e.levelBuffers||c._createLevelBuffers(t instanceof Uint8Array?t:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}var f=(m.use=function(i,n){var t=i.data;if(i.type===p.LoaderResource.TYPE.JSON&&t&&t.cacheID&&t.textures){for(var e,r,s=t.textures,o=void 0,a=void 0,h=0,l=s.length;h<l;h++){var u=s[h],c=u.src,u=u.format;if(u||(a=c),m.textureFormats[u]){o=c;break}}(o=o||a)?o!==i.url?(e={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},r=d.url.resolve(i.url.replace(this.baseUrl,""),o),t=t.cacheID,this.add(t,r,e,function(t){var e;t.error?n(t.error):(e=t.texture,t=t.textures,Object.assign(i,{texture:void 0===e?null:e,textures:void 0===t?{}:t}),n())})):n(new Error("URL of compressed texture cannot be the same as the manifest's URL")):n(new Error("Cannot load compressed-textures in "+i.url+", make sure you provide a fallback"))}else n()},m.add=function(){var t=document.createElement("canvas").getContext("webgl");if(t){var e,i={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};for(e in m.textureExtensions=i,m.textureFormats={},i){var n=i[e];n&&Object.assign(m.textureFormats,Object.getPrototypeOf(n))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},m);function m(){}function g(r,t,e){var s={textures:{},texture:null};return t&&t.map(function(t){return new l.Texture(new l.BaseTexture(t,Object.assign({mipmap:n.MIPMAP_MODES.OFF,alphaMode:n.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA},e)))}).forEach(function(t,e){var i=t.baseTexture,n=r+"-"+(e+1);l.BaseTexture.addToCache(i,n),l.Texture.addToCache(t,n),0===e&&(l.BaseTexture.addToCache(i,r),l.Texture.addToCache(t,r),s.texture=t),s.textures[n]=t}),s}p.LoaderResource.setExtensionXhrType("dds",p.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var y,v=3,b=4,x=7,T=19,E=2,S=0,A=1,C=2,R=3;(W=_=_||{})[W.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",W[W.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",W[W.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",W[W.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",W[W.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",W[W.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",W[W.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",W[W.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",W[W.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",W[W.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",W[W.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",W[W.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",W[W.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",W[W.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",W[W.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",W[W.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",W[W.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",W[W.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",W[W.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",W[W.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",W[W.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",W[W.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",W[W.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",W[W.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",W[W.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",W[W.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",W[W.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",W[W.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",W[W.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",W[W.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",W[W.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",W[W.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",W[W.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",W[W.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",W[W.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",W[W.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",W[W.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",W[W.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",W[W.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",W[W.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",W[W.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",W[W.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",W[W.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",W[W.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",W[W.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",W[W.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",W[W.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",W[W.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",W[W.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",W[W.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",W[W.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",W[W.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",W[W.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",W[W.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",W[W.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",W[W.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",W[W.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",W[W.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",W[W.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",W[W.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",W[W.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",W[W.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",W[W.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",W[W.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",W[W.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",W[W.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",W[W.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",W[W.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",W[W.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",W[W.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",W[W.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",W[W.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",W[W.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",W[W.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",W[W.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",W[W.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",W[W.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",W[W.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",W[W.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",W[W.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",W[W.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",W[W.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",W[W.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",W[W.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",W[W.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",W[W.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",W[W.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",W[W.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",W[W.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",W[W.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",W[W.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",W[W.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",W[W.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",W[W.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",W[W.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",W[W.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",W[W.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",W[W.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",W[W.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",W[W.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",W[W.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",W[W.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",W[W.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",W[W.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",W[W.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",W[W.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",W[W.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",W[W.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",W[W.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",W[W.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",W[W.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",W[W.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",W[W.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",W[W.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",W[W.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",W[W.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",W[W.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",W[W.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",W[W.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",W[W.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",W[W.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",W[W.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",(W=y=y||{})[W.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",W[W.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",W[W.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D";var O=((W={})[827611204]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[861165636]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[894720068]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W),M=((W={})[_.DXGI_FORMAT_BC1_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC1_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC2_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC2_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC3_TYPELESS]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W[_.DXGI_FORMAT_BC3_UNORM]=i.INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,W[_.DXGI_FORMAT_BC1_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,W[_.DXGI_FORMAT_BC2_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,W[_.DXGI_FORMAT_BC3_UNORM_SRGB]=i.INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,W),_=(I.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,g(t.name||t.url,I.parse(t.data),t.metadata))}catch(t){return void e(t)}e()},I.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),n=i[v],r=i[b],s=i[x],o=new Uint32Array(t,T*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),i=o[1];if(4&i){o=o[E];if(808540228!==o){var a=O[o],h=new Uint8Array(t,128);return[new P(h,{format:a,width:r,height:n,levels:s})]}var o=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),h=o[S],a=o[A],e=o[C],l=o[R],u=M[h];if(void 0===u)throw new Error("DDSLoader cannot parse texture data with DXGI format "+h);if(4===e)throw new Error("DDSLoader does not support cubemap textures");if(a===y.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var c=new Array;if(1===l)c.push(new Uint8Array(t,148));else{for(var p=w[u],d=0,f=r,m=n,g=0;g<s;g++)d+=Math.max(1,f+3&-4)*Math.max(1,m+3&-4)*p,f>>>=1,m>>>=1;for(var _=148,g=0;g<l;g++)c.push(new Uint8Array(t,_,d)),_+=d}return c.map(function(t){return new P(t,{format:u,width:r,height:n,levels:s})})}if(64&i)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&i)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&i)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&i)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},I);function I(){}p.LoaderResource.setExtensionXhrType("ktx",p.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var D=[171,75,84,88,32,49,49,187,13,10,26,10],k=12,N=16,F=24,L=28,B=36,G=40,U=44,V=48,j=52,H=56,X=60,z=((W={})[n.TYPES.UNSIGNED_BYTE]=1,W[n.TYPES.UNSIGNED_SHORT]=2,W[n.TYPES.FLOAT]=4,W[n.TYPES.HALF_FLOAT]=8,W),q=((W={})[n.FORMATS.RGBA]=4,W[n.FORMATS.RGB]=3,W[n.FORMATS.LUMINANCE]=1,W[n.FORMATS.LUMINANCE_ALPHA]=2,W[n.FORMATS.ALPHA]=1,W),Y=((W={})[n.TYPES.UNSIGNED_SHORT_4_4_4_4]=2,W[n.TYPES.UNSIGNED_SHORT_5_5_5_1]=2,W[n.TYPES.UNSIGNED_SHORT_5_6_5]=2,W),W=($.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,g(i,$.parse(i,t.data),t.metadata))}catch(t){return void e(t)}e()},$.parse=function(t,e){var i=new DataView(e);if(!$.validate(t,i))return null;var n=67305985===i.getUint32(k,!0),r=i.getUint32(N,n),s=i.getUint32(F,n),o=i.getUint32(L,n),a=i.getUint32(B,n),h=i.getUint32(G,n)||1,l=i.getUint32(U,n)||1,u=i.getUint32(V,n)||1,c=i.getUint32(j,n),p=i.getUint32(H,n),d=i.getUint32(X,n);if(0===h||1!==l)throw new Error("Only 2D textures are supported");if(1!==c)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");var t=a+3&-4,l=h+3&-4,f=new Array(u),c=0===r?t*l:a*h,m=0!==r?z[r]?z[r]*q[s]:Y[r]:w[o];if(void 0===m)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var g=c*m,_=a,y=h,v=t,b=l,x=64+d,T=0;T<p;T++){for(var E=i.getUint32(x,n),S=x+4,A=0;A<u;A++)(f[A]||(f[A]=new Array(p)))[T]={levelID:T,levelWidth:1<p?_:v,levelHeight:1<p?y:b,levelBuffer:new Uint8Array(e,S,g)},S+=g;x=(x+=E+4)%4!=0?x+4-x%4:x,g=(v=(_=_>>1||1)+4-1&-4)*(b=(y=y>>1||1)+4-1&-4)*m}if(0!==r)throw new Error("TODO: Uncompressed");return f.map(function(t){return new P(null,{format:o,width:a,height:h,levels:p,levelBuffers:t})})},$.validate=function(t,e){for(var i=0;i<D.length;i++)if(e.getUint8(i)!==D[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},$);function $(){}i.BlobResource=t,i.CompressedTextureLoader=f,i.CompressedTextureResource=P,i.DDSLoader=_,i.FORMATS_TO_COMPONENTS=q,i.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=w,i.KTXLoader=W,i.TYPES_TO_BYTES_PER_COMPONENT=z,i.TYPES_TO_BYTES_PER_PIXEL=Y},{"@pixi/constants":9,"@pixi/core":10,"@pixi/loaders":21,"@pixi/utils":41}],9:[function(t,e,i){"use strict";var n;Object.defineProperty(i,"__esModule",{value:!0}),(n=i.ENV||(i.ENV={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",(n=i.RENDERER_TYPE||(i.RENDERER_TYPE={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",(n=i.BUFFER_BITS||(i.BUFFER_BITS={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",(n=i.BLEND_MODES||(i.BLEND_MODES={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",(n=i.DRAW_MODES||(i.DRAW_MODES={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",(n=i.FORMATS||(i.FORMATS={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(n=i.TARGETS||(i.TARGETS={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(n=i.TYPES||(i.TYPES={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",(n=i.SAMPLER_TYPES||(i.SAMPLER_TYPES={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",(n=i.SCALE_MODES||(i.SCALE_MODES={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",(n=i.WRAP_MODES||(i.WRAP_MODES={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(n=i.MIPMAP_MODES||(i.MIPMAP_MODES={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",(n=i.ALPHA_MODES||(i.ALPHA_MODES={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(n=i.CLEAR_MODES||(i.CLEAR_MODES={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",(n=i.GC_MODES||(i.GC_MODES={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",(n=i.PRECISION||(i.PRECISION={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",(n=i.MASK_TYPES||(i.MASK_TYPES={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",(n=i.MSAA_QUALITY||(i.MSAA_QUALITY={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",(i=i.BUFFER_TYPE||(i.BUFFER_TYPE={}))[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var f=t("@pixi/settings"),m=t("@pixi/constants"),g=t("@pixi/utils"),n=t("@pixi/runner"),r=t("@pixi/ticker"),h=t("@pixi/math");f.settings.PREFER_ENV=g.isMobile.any?m.ENV.WEBGL:m.ENV.WEBGL2,f.settings.STRICT_TEXTURE_CACHE=!1;var o=[];function _(t,e){if(!t)return null;var i,n="";"string"!=typeof t||(i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t))&&(n=i[1].toLowerCase());for(var r=o.length-1;0<=r;--r){var s=o[r];if(s.test&&s.test(t,n))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l=function(){return(l=Object.assign||function(t){for(var e,i=arguments,n=1,r=arguments.length;n<r;n++)for(var s in e=i[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};var y=(u.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},u.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},u.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(u.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),u.prototype.update=function(){this.destroyed||this.onUpdate.emit()},u.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),u.prototype.style=function(t,e,i){return!1},u.prototype.dispose=function(){},u.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},u.test=function(t,e){return!1},u);function u(t,e){void 0===e&&(e=0),this._width=t=void 0===t?0:t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new n.Runner("setRealSize"),this.onUpdate=new n.Runner("update"),this.onError=new n.Runner("onError")}var c,p=(a(d,c=y),d.prototype.upload=function(t,e,i){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK);var r=e.realWidth,t=e.realHeight;return i.width===r&&i.height===t?n.texSubImage2D(e.target,0,0,0,r,t,e.format,i.type,this.data):(i.width=r,i.height=t,n.texImage2D(e.target,0,i.internalFormat,r,t,0,e.format,i.type,this.data)),!0},d.prototype.dispose=function(){this.data=null},d.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},d);function d(t,e){var i=this,n=e||{},e=n.width,n=n.height;if(!e||!n)throw new Error("BufferResource width or height invalid");return(i=c.call(this,e,n)||this).data=t,i}var v,b={scaleMode:m.SCALE_MODES.NEAREST,format:m.FORMATS.RGBA,alphaMode:m.ALPHA_MODES.NPM},x=(a(T,v=g.EventEmitter),Object.defineProperty(T.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),T.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},T.prototype.setSize=function(t,e,i){return i=i||this.resolution,this.setRealSize(t*i,e*i,i)},T.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},T.prototype._refreshPOT=function(){this.isPowerOfTwo=g.isPow2(this.realWidth)&&g.isPow2(this.realHeight)},T.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},T.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},T.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):0<this.width&&0<this.height&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},T.prototype.onError=function(t){this.emit("error",this,t)},T.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete g.BaseTextureCache[this.cacheId],delete g.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),T.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},T.prototype.dispose=function(){this.emit("dispose",this)},T.prototype.castToBaseTexture=function(){return this},T.from=function(t,e,i){void 0===i&&(i=f.settings.STRICT_TEXTURE_CACHE);var n="string"==typeof t,r=null,r=n?t:(t._pixiId||(s=e&&e.pixiIdPrefix||"pixiid",t._pixiId=s+"_"+g.uid()),t._pixiId),s=g.BaseTextureCache[r];if(n&&i&&!s)throw new Error('The cacheId "'+r+'" does not exist in BaseTextureCache.');return s||((s=new T(t,e)).cacheId=r,T.addToCache(s,r)),s},T.fromBuffer=function(t,e,i,n){t=t||new Float32Array(e*i*4);var r=new p(t,{width:e,height:i}),t=t instanceof Float32Array?m.TYPES.FLOAT:m.TYPES.UNSIGNED_BYTE;return new T(r,Object.assign(b,n||{width:e,height:i,type:t}))},T.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),g.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),g.BaseTextureCache[e]=t)},T.removeFromCache=function(t){if("string"==typeof t){var e=g.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete g.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete g.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},T._globalBatch=0,T);function T(t,e){void 0===t&&(t=null),void 0===e&&(e=null);var i=v.call(this)||this,n=(e=e||{}).alphaMode,r=e.mipmap,s=e.anisotropicLevel,o=e.scaleMode,a=e.width,h=e.height,l=e.wrapMode,u=e.format,c=e.type,p=e.target,d=e.resolution,e=e.resourceOptions;return!t||t instanceof y||((t=_(t,e)).internal=!0),i.resolution=d||f.settings.RESOLUTION,i.width=Math.round((a||0)*i.resolution)/i.resolution,i.height=Math.round((h||0)*i.resolution)/i.resolution,i._mipmap=void 0!==r?r:f.settings.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==s?s:f.settings.ANISOTROPIC_LEVEL,i._wrapMode=l||f.settings.WRAP_MODE,i._scaleMode=void 0!==o?o:f.settings.SCALE_MODE,i.format=u||m.FORMATS.RGBA,i.type=c||m.TYPES.UNSIGNED_BYTE,i.target=p||m.TARGETS.TEXTURE_2D,i.alphaMode=void 0!==n?n:m.ALPHA_MODES.UNPACK,i.uid=g.uid(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=0<a&&0<h,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}var E,S=(a(A,E=y),A.prototype.initFromArray=function(t,e){for(var i=0;i<this.length;i++)t[i]&&(t[i].castToBaseTexture?this.addBaseTextureAt(t[i].castToBaseTexture(),i):t[i]instanceof y?this.addResourceAt(t[i],i):this.addResourceAt(_(t[i],e),i))},A.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},A.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},A.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");E.prototype.bind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=t,this.items[e].on("update",t.update,t)},A.prototype.unbind=function(t){E.prototype.unbind.call(this,t);for(var e=0;e<this.length;e++)this.items[e].parentTextureArray=null,this.items[e].off("update",t.update,t)},A.prototype.load=function(){var i=this;if(this._load)return this._load;var t=this.items.map(function(t){return t.resource}).filter(function(t){return t}).map(function(t){return t.load()});return this._load=Promise.all(t).then(function(){var t=i.items[0],e=t.realWidth,t=t.realHeight;return i.resize(e,t),Promise.resolve(i)}),this._load},A);function A(t,e){var i=this,n=e||{},e=n.width,n=n.height;(i=E.call(this,e,n)||this).items=[],i.itemDirtyIds=[];for(var r=0;r<t;r++){var s=new x;i.items.push(s),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}var w,P=(a(C,w=S),C.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},C.prototype.bind=function(t){w.prototype.bind.call(this,t),t.target=m.TARGETS.TEXTURE_2D_ARRAY},C.prototype.upload=function(t,e,i){var n=this.length,r=this.itemDirtyIds,s=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,e.format,i.type,null);for(var a=0;a<n;a++){var h=s[a];r[a]<h.dirtyId&&(r[a]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,i.type,h.resource.source))}return!0},C);function C(t,e){var i,n=this,r=e||{},s=r.width,r=r.height,t=Array.isArray(t)?(i=t).length:t,n=w.call(this,t,{width:s,height:r})||this;return i&&n.initFromArray(i,e),n}var R,O=(a(M,R=y),M.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=g.determineCrossOrigin(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},M.prototype.upload=function(t,e,i,n){var r=t.gl,s=e.realWidth,t=e.realHeight;return n=n||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK),this.noSubImage||e.target!==r.TEXTURE_2D||i.width!==s||i.height!==t?(i.width=s,i.height=t,r.texImage2D(e.target,0,i.internalFormat,e.format,i.type,n)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,i.type,n),!0},M.prototype.update=function(){var t,e;this.destroyed||(t=(e=this.source).naturalWidth||e.videoWidth||e.width,e=e.naturalHeight||e.videoHeight||e.height,this.resize(t,e),R.prototype.update.call(this))},M.prototype.dispose=function(){this.source=null},M);function M(t){var e=this,i=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;return(e=R.call(this,i,n)||this).source=t,e.noSubImage=!1,e}var I,D=(a(k,I=O),k.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},k);function k(t){return I.call(this,t)||this}var N,F=(a(L,N=S),L.prototype.bind=function(t){N.prototype.bind.call(this,t),t.target=m.TARGETS.TEXTURE_CUBE_MAP},L.prototype.addBaseTextureAt=function(t,e,i){if(void 0===i&&(i=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||0<Object.keys(t._glTextures).length){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},L.prototype.upload=function(t,e,i){for(var n=this.itemDirtyIds,r=0;r<L.SIDES;r++){var s=this.items[r];n[r]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(t,s,i),n[r]=s.dirtyId):n[r]<-1&&(t.gl.texImage2D(s.target,0,i.internalFormat,e.realWidth,e.realHeight,0,e.format,i.type,null),n[r]=-1))}return!0},L.test=function(t){return Array.isArray(t)&&t.length===L.SIDES},L.SIDES=6,L);function L(t,e){var i=this,n=e||{},r=n.width,s=n.height,o=n.autoLoad,n=n.linkBaseTexture;if(t&&t.length!==L.SIDES)throw new Error("Invalid length. Got "+t.length+", expected 6");for(var i=N.call(this,6,{width:r,height:s})||this,a=0;a<L.SIDES;a++)i.items[a].target=m.TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+a;return i.linkBaseTexture=!1!==n,t&&i.initFromArray(t,e),!1!==o&&i.load(),i}var B,G=(a(U,B=O),U.prototype.load=function(t){var r=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise(function(t,e){var i=r.source;r.url=i.src;function n(){r.destroyed||(i.onload=null,i.onerror=null,r.resize(i.width,i.height),r._load=null,r.createBitmap?t(r.process()):t(r))}i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){e(t),r.onError.emit(t)})}),this._load)},U.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var n=self.createImageBitmap,t=!i.crossOrigin||"anonymous"===i.crossOrigin;return this._process=fetch(i.src,{mode:t?"cors":"no-cors"}).then(function(t){return t.blob()}).then(function(t){return n(t,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===m.ALPHA_MODES.UNPACK?"premultiply":"none"})}).then(function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))}),this._process},U.prototype.upload=function(t,e,i){if("number"==typeof this.alphaMode&&(e.alphaMode=this.alphaMode),!this.createBitmap)return B.prototype.upload.call(this,t,e,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(B.prototype.upload.call(this,t,e,i,this.bitmap),!this.preserveBitmap){var n,r=!0,s=e._glTextures;for(n in s){var o=s[n];if(o!==i&&o.dirtyId!==e.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},U.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,B.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},U.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},U);function U(t,e){var i,n=this;return e=e||{},t instanceof HTMLImageElement||(i=new Image,O.crossOrigin(i,t,e.crossorigin),i.src=t,t=i),n=B.call(this,t)||this,!t.complete&&n._width&&n._height&&(n._width=0,n._height=0),n.url=t.src,n._process=null,n.preserveBitmap=!1,n.createBitmap=(void 0!==e.createBitmap?e.createBitmap:f.settings.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,n.alphaMode="number"==typeof e.alphaMode?e.alphaMode:null,n.bitmap=null,n._load=null,!1!==e.autoLoad&&n.load(),n}var V,j=(a(H,V=O),H.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(t){if(e._resolve=function(){e.resize(e.source.width,e.source.height),t(e)},H.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},H.prototype._loadSvg=function(){var s=this,o=new Image;O.crossOrigin(o,this.svg,this._crossorigin),o.src=this.svg,o.onerror=function(t){s._resolve&&(o.onerror=null,s.onError.emit(t))},o.onload=function(){if(s._resolve){var t=o.width,e=o.height;if(!t||!e)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=t*s.scale,n=e*s.scale;(s._overrideWidth||s._overrideHeight)&&(i=s._overrideWidth||s._overrideHeight/e*t,n=s._overrideHeight||s._overrideWidth/t*e);var i=Math.round(i),n=Math.round(n),r=s.source;r.width=i,r.height=n,r._pixiId="canvas_"+g.uid(),r.getContext("2d").drawImage(o,0,0,t,e,0,0,i,n),s._resolve(),s._resolve=null}}},H.getSize=function(t){var e=H.SVG_SIZE.exec(t),t={};return e&&(t[e[1]]=Math.round(parseFloat(e[3])),t[e[5]]=Math.round(parseFloat(e[7]))),t},H.prototype.dispose=function(){V.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},H.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&H.SVG_XML.test(t)},H.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,H.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,H);function H(t,e){var i=this;return e=e||{},(i=V.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=e.scale||1,i._overrideWidth=e.width,i._overrideHeight=e.height,i._resolve=null,i._crossorigin=e.crossorigin,i._load=null,!1!==e.autoLoad&&i.load(),i}var X,z=(a(q,X=O),q.prototype.update=function(t){var e;this.destroyed||(e=r.Ticker.shared.elapsedMS*this.source.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(X.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},q.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(t){e.valid?t(e):(e._resolve=t,i.load())}),this._load},q.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},q.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},q.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},q.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},q.prototype._onPlayStop=function(){this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},q.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},q.prototype.dispose=function(){this._isConnectedToTicker&&(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),X.prototype.dispose.call(this)},Object.defineProperty(q.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(r.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(r.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),q.test=function(t,e){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||-1<q.TYPES.indexOf(e)},q.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],q.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},q);function q(t,e){var i=this;if(e=e||{},!(t instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","");var r=(t="string"==typeof t?[t]:t)[0].src||t[0];O.crossOrigin(n,r,e.crossorigin);for(var s=0;s<t.length;++s){var o=document.createElement("source"),a=t[s],h=a.src,l=a.mime,a=(h=h||t[s]).split("?").shift().toLowerCase(),a=a.substr(a.lastIndexOf(".")+1),l=l||q.MIME_TYPES[a]||"video/"+a;o.src=h,o.type=l,n.appendChild(o)}t=n}return(i=X.call(this,t)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=e.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==e.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==e.autoLoad&&i.load(),i}var Y,W=(a($,Y=O),$.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},$);function $(t){return Y.call(this,t)||this}o.push(G,W,D,z,j,p,F,P);var Z,Q={__proto__:null,Resource:y,BaseImageResource:O,INSTALLED:o,autoDetectResource:_,AbstractMultiResource:S,ArrayResource:P,BufferResource:p,CanvasResource:D,CubeResource:F,ImageResource:G,SVGResource:j,VideoResource:z,ImageBitmapResource:W},K=(a(J,Z=p),J.prototype.upload=function(t,e,i){var n=t.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===m.ALPHA_MODES.UNPACK);var r=e.realWidth,t=e.realHeight;return i.width===r&&i.height===t?n.texSubImage2D(e.target,0,0,0,r,t,e.format,i.type,this.data):(i.width=r,i.height=t,n.texImage2D(e.target,0,i.internalFormat,r,t,0,e.format,i.type,this.data)),!0},J);function J(){return null!==Z&&Z.apply(this,arguments)||this}var tt=(Object.defineProperty(et.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),et.prototype.addColorTexture=function(t,e){return this.colorTextures[t=void 0===t?0:t]=e||new x(null,{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,mipmap:m.MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},et.prototype.addDepthTexture=function(t){return this.depthTexture=t||new x(new K(null,{width:this.width,height:this.height}),{scaleMode:m.SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:m.MIPMAP_MODES.OFF,format:m.FORMATS.DEPTH_COMPONENT,type:m.TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},et.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},et.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},et.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var n=this.colorTextures[i],r=n.resolution;n.setSize(t/r,e/r)}this.depthTexture&&(r=this.depthTexture.resolution,this.depthTexture.setSize(t/r,e/r))}},et.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},et.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},et);function et(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new n.Runner("disposeFramebuffer"),this.multisample=m.MSAA_QUALITY.NONE}var it,nt=(a(rt,it=x),rt.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},rt.prototype.dispose=function(){this.framebuffer.dispose(),it.prototype.dispose.call(this)},rt.prototype.destroy=function(){it.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},rt);function rt(t){var e=this;return(t="number"==typeof t?{width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}:t).width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:m.MSAA_QUALITY.NONE,(e=it.call(this,null,t)||this).mipmap=m.MIPMAP_MODES.OFF,e.valid=!0,e.clearColor=[0,0,0,0],e.framebuffer=new tt(e.realWidth,e.realHeight).addColorTexture(0,e),e.framebuffer.multisample=t.multisample,e.maskStack=[],e.filterStack=[{}],e}var st=(ot.prototype.set=function(t,e,i){var n,r,s,o=e.width,a=e.height;i?(n=t.width/2/o,r=t.height/2/a,s=t.x/o+n,e=t.y/a+r,i=h.groupD8.add(i,h.groupD8.NW),this.x0=s+n*h.groupD8.uX(i),this.y0=e+r*h.groupD8.uY(i),i=h.groupD8.add(i,2),this.x1=s+n*h.groupD8.uX(i),this.y1=e+r*h.groupD8.uY(i),i=h.groupD8.add(i,2),this.x2=s+n*h.groupD8.uX(i),this.y2=e+r*h.groupD8.uY(i),i=h.groupD8.add(i,2),this.x3=s+n*h.groupD8.uX(i),this.y3=e+r*h.groupD8.uY(i)):(this.x0=t.x/o,this.y0=t.y/a,this.x1=(t.x+t.width)/o,this.y1=t.y/a,this.x2=(t.x+t.width)/o,this.y2=(t.y+t.height)/a,this.x3=t.x/o,this.y3=(t.y+t.height)/a),this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},ot.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},ot);function ot(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}var at,ht=new st,lt=(a(ut,at=g.EventEmitter),ut.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},ut.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},ut.prototype.destroy=function(t){this.baseTexture&&(t&&((t=this.baseTexture.resource)&&t.url&&g.TextureCache[t.url]&&ut.removeFromCache(t.url),this.baseTexture.destroy()),this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ut.removeFromCache(this),this.textureCacheIds=null},ut.prototype.clone=function(){var t=this._frame.clone(),e=this._frame===this.orig?t:this.orig.clone(),e=new ut(this.baseTexture,!this.noFrame&&t,e,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(e._frame=t),e},ut.prototype.updateUvs=function(){this._uvs===ht&&(this._uvs=new st),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},ut.from=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=f.settings.STRICT_TEXTURE_CACHE);var n="string"==typeof t,r=null,r=n?t:t instanceof x?(t.cacheId||(s=e&&e.pixiIdPrefix||"pixiid",t.cacheId=s+"-"+g.uid(),x.addToCache(t,t.cacheId)),t.cacheId):(t._pixiId||(s=e&&e.pixiIdPrefix||"pixiid",t._pixiId=s+"_"+g.uid()),t._pixiId),s=g.TextureCache[r];if(n&&i&&!s)throw new Error('The cacheId "'+r+'" does not exist in TextureCache.');return s||t instanceof x?!s&&t instanceof x&&(s=new ut(t),ut.addToCache(s,r)):(e.resolution||(e.resolution=g.getResolutionOfUrl(t)),(s=new ut(new x(t,e))).baseTexture.cacheId=r,x.addToCache(s.baseTexture,r),ut.addToCache(s,r)),s},ut.fromURL=function(t,e){var i=Object.assign({autoLoad:!1},null==e?void 0:e.resourceOptions),n=ut.from(t,Object.assign({resourceOptions:i},e),!1),e=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):e.load().then(function(){return Promise.resolve(n)})},ut.fromBuffer=function(t,e,i,n){return new ut(x.fromBuffer(t,e,i,n))},ut.fromLoader=function(t,e,i,n){t=new x(t,Object.assign({scaleMode:f.settings.SCALE_MODE,resolution:g.getResolutionOfUrl(e)},n)),n=t.resource;n instanceof G&&(n.url=e);var r=new ut(t);return x.addToCache(r.baseTexture,i=i||e),ut.addToCache(r,i),i!==e&&(x.addToCache(r.baseTexture,e),ut.addToCache(r,e)),r.baseTexture.valid?Promise.resolve(r):new Promise(function(t){r.baseTexture.once("loaded",function(){return t(r)})})},ut.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),g.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),g.TextureCache[e]=t)},ut.removeFromCache=function(t){if("string"==typeof t){var e=g.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete g.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)g.TextureCache[t.textureCacheIds[n]]===t&&delete g.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(ut.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,n=t.width,r=t.height,s=e+n>this.baseTexture.width,o=i+r>this.baseTexture.height;if(s||o){e="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,i="Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+e+" "+(s&&o?"and":"or")+" "+i)}this.valid=n&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(ut.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),ut.prototype.castToBaseTexture=function(){return this.baseTexture},ut);function ut(t,e,i,n,r,s){var o=at.call(this)||this;if(o.noFrame=!1,e||(o.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof ut&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=n,o.valid=!1,o._uvs=ht,o.uvMatrix=null,o.orig=i||e,o._rotate=Number(r||0),!0===r)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return o.defaultAnchor=s?new h.Point(s.x,s.y):new h.Point(0,0),o._updateID=0,o.textureCacheIds=[],t.valid?o.noFrame?t.valid&&o.onBaseTextureUpdated(t):o.frame=e:t.once("loaded",o.onBaseTextureUpdated,o),o.noFrame&&t.on("update",o.onBaseTextureUpdated,o),o}function ct(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}lt.EMPTY=new lt(new x),ct(lt.EMPTY),ct(lt.EMPTY.baseTexture),lt.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new lt(new x(new D(t)))}(),ct(lt.WHITE),ct(lt.WHITE.baseTexture);var pt,dt=(a(ft,pt=lt),Object.defineProperty(ft.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(ft.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),ft.prototype.resize=function(t,e,i){void 0===i&&(i=!0);var n=this.baseTexture.resolution,t=Math.round(t*n)/n,n=Math.round(e*n)/n;this.valid=0<t&&0<n,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=n,i&&this.baseTexture.resize(t,n),this.updateUvs()},ft.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},ft.create=function(t){for(var e=arguments,i=[],n=1;n<arguments.length;n++)i[n-1]=e[n];return"number"==typeof t&&(g.deprecation("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new ft(new nt(t))},ft);function ft(t,e){e=pt.call(this,t,e)||this;return e.valid=!0,e.filterFrame=null,e.filterPoolKey=null,e.updateUvs(),e}var mt=(gt.prototype.createTexture=function(t,e,i){void 0===i&&(i=m.MSAA_QUALITY.NONE);i=new nt(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new dt(i)},gt.prototype.getOptimalTexture=function(t,e,i,n){var r;void 0===i&&(i=1),void 0===n&&(n=m.MSAA_QUALITY.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?r=1<n?-n:-1:(r=((65535&(t=g.nextPow2(t)))<<16|65535&(e=g.nextPow2(e)))>>>0,1<n&&(r+=4294967296*n)),this.texturePool[r]||(this.texturePool[r]=[]);var s=this.texturePool[r].pop();return(s=s||this.createTexture(t,e,n)).filterPoolKey=r,s.setResolution(i),s},gt.prototype.getFilterTexture=function(t,e,i){i=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||m.MSAA_QUALITY.NONE);return i.filterFrame=t.filterFrame,i},gt.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},gt.prototype.returnFilterTexture=function(t){this.returnTexture(t)},gt.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}},gt.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=0<t.width&&0<t.height,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},gt.SCREEN_KEY=-1,gt);function gt(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}var _t=(yt.prototype.destroy=function(){this.buffer=null},yt.from=function(t,e,i,n,r){return new yt(t,e,i,n,r)},yt);function yt(t,e,i,n,r,s,o){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===n&&(n=m.TYPES.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=s,this.instance=o}var vt=0,bt=(xt.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},xt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},xt.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(xt.prototype,"index",{get:function(){return this.type===m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:m.BUFFER_TYPE.ARRAY_BUFFER},enumerable:!1,configurable:!0}),xt.from=function(t){return new xt(t=t instanceof Array?new Float32Array(t):t)},xt);function xt(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=vt++,this.disposeRunner=new n.Runner("disposeBuffer")}var Tt={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Et={5126:4,5123:2,5121:1},St=0,At={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},wt=(Pt.prototype.addAttribute=function(t,e,i,n,r,s,o,a){if(void 0===i&&(i=0),void 0===n&&(n=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof bt||(e instanceof Array&&(e=new Float32Array(e)),e=new bt(e));var h=t.split("|");if(1<h.length){for(var l=0;l<h.length;l++)this.addAttribute(h[l],e,i,n,r);return this}var u=this.buffers.indexOf(e);return-1===u&&(this.buffers.push(e),u=this.buffers.length-1),this.attributes[t]=new _t(u,i,n,r,s,o,a),this.instanced=this.instanced||a,this},Pt.prototype.getAttribute=function(t){return this.attributes[t]},Pt.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Pt.prototype.addIndex=function(t){return t instanceof bt||(t instanceof Array&&(t=new Uint16Array(t)),t=new bt(t)),t.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Pt.prototype.getIndex=function(){return this.indexBuffer},Pt.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],n=new bt;for(t in this.attributes){var r=this.attributes[t],s=this.buffers[r.buffer];e.push(s.data),i.push(r.size*Et[r.type]/4),r.buffer=0}for(n.data=function(t,e){for(var i=0,n=0,r={},s=0;s<t.length;s++)n+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var l=e[s],u=t[s],c=g.getBufferType(u);r[c]||(r[c]=new Tt[c](o));for(var a=r[c],p=0;p<u.length;p++)a[(p/l|0)*n+h+p%l]=u[p];h+=l}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Pt.prototype.getSize=function(){for(var t in this.attributes){t=this.attributes[t];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},Pt.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},Pt.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Pt.prototype.clone=function(){for(var t=new Pt,e=0;e<this.buffers.length;e++)t.buffers[e]=new bt(this.buffers[e].data.slice(0));for(e in this.attributes){var i=this.attributes[e];t.attributes[e]=new _t(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),t},Pt.merge=function(t){for(var e=new Pt,i=[],n=[],r=[],s=0;s<t.length;s++)for(var o=t[s],a=0;a<o.buffers.length;a++)n[a]=n[a]||0,n[a]+=o.buffers[a].data.length,r[a]=0;for(s=0;s<o.buffers.length;s++)i[s]=new At[g.getBufferType(o.buffers[s].data)](n[s]),e.buffers[s]=new bt(i[s]);for(s=0;s<t.length;s++){o=t[s];for(a=0;a<o.buffers.length;a++)i[a].set(o.buffers[a].data,r[a]),r[a]+=o.buffers[a].data.length}if(e.attributes=o.attributes,o.indexBuffer){e.indexBuffer=e.buffers[o.buffers.indexOf(o.indexBuffer)],e.indexBuffer.type=m.BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;for(var h=0,l=0,u=0,c=0,s=0;s<o.buffers.length;s++)if(o.buffers[s]!==o.indexBuffer){c=s;break}for(s in o.attributes){var p=o.attributes[s];(0|p.buffer)===c&&(l+=p.size*Et[p.type]/4)}for(s=0;s<t.length;s++){for(var d=t[s].indexBuffer.data,a=0;a<d.length;a++)e.indexBuffer.data[a+u]+=h;h+=t[s].buffers[c].data.length/l,u+=d.length}}return e},Pt);function Pt(t,e){void 0===e&&(e={}),this.buffers=t=void 0===t?[]:t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=St++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new n.Runner("disposeGeometry"),this.refCount=0}var Ct,Rt=(a(Ot,Ct=wt),Ot);function Ot(){var t=Ct.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}var Mt,It=(a(Dt,Mt=wt),Dt.prototype.map=function(t,e){var i,n;return this.uvs[0]=0,this.uvs[1]=0,this.uvs[2]=0+e.width/t.width,this.uvs[3]=0,this.uvs[4]=0+e.width/t.width,this.uvs[5]=0+e.height/t.height,this.uvs[6]=0,this.uvs[7]=0+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this.invalidate(),this},Dt.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},Dt);function Dt(){var t=Mt.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new bt(t.vertices),t.uvBuffer=new bt(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}var kt=0,Nt=(Ft.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},Ft.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new Ft(e,i)},Ft.from=function(t,e,i){return new Ft(t,e,i)},Ft.uboFrom=function(t,e){return new Ft(t,null==e||e,!0)},Ft);function Ft(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=kt++,this.static=!!e,this.ubo=!!i,t instanceof bt?(this.buffer=t,this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new bt(new Float32Array(1)),this.buffer.type=m.BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}var Lt=(Bt.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},Bt);function Bt(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=m.MSAA_QUALITY.NONE,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.bindingSourceFrame=new h.Rectangle,this.bindingDestinationFrame=new h.Rectangle,this.filters=[],this.transform=null}var Gt=[new h.Point,new h.Point,new h.Point,new h.Point],Ut=new h.Matrix,Vt=(jt.prototype.push=function(t,e){for(var i=this.renderer,n=this.defaultFilterStack,r=this.statePool.pop()||new Lt,s=this.renderer.renderTexture,o=e[0].resolution,a=e[0].multisample,h=e[0].padding,l=e[0].autoFit,u=e[0].legacy,c=1;c<e.length;c++)var p=e[c],o=Math.min(o,p.resolution),a=Math.min(a,p.multisample),h=this.useMaxPadding?Math.max(h,p.padding):h+p.padding,l=l&&p.autoFit,u=u||p.legacy;1===n.length&&(this.defaultFilterStack[0].renderTexture=s.current),n.push(r),r.resolution=o,r.multisample=a,r.legacy=u,r.target=t,r.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),r.sourceFrame.pad(h),l&&(d=this.tempRect.copyFrom(s.sourceFrame),i.projection.transform&&this.transformAABB(Ut.copyFrom(i.projection.transform).invert(),d),r.sourceFrame.fit(d)),this.roundFrame(r.sourceFrame,(s.current||i).resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,o,a),r.filters=e,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;var d=this.tempRect;d.x=0,d.y=0,d.width=r.sourceFrame.width,d.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,r.bindingSourceFrame.copyFrom(s.sourceFrame),r.bindingDestinationFrame.copyFrom(s.destinationFrame),r.transform=i.projection.transform,i.projection.transform=null,s.bind(r.renderTexture,r.sourceFrame,d),i.framebuffer.clear(0,0,0,0)},jt.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var n=this.globalUniforms.uniforms;n.outputFrame=e.sourceFrame,n.resolution=e.resolution;var r=n.inputSize,s=n.inputPixel,o=n.inputClamp;r[0]=e.destinationFrame.width,r[1]=e.destinationFrame.height,r[2]=1/r[0],r[3]=1/r[1],s[0]=Math.round(r[0]*e.resolution),s[1]=Math.round(r[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*r[2]-.5*s[2],o[3]=e.sourceFrame.height*r[3]-.5*s[3],e.legacy&&((s=n.filterArea)[0]=e.destinationFrame.width,s[1]=e.destinationFrame.height,s[2]=e.sourceFrame.x,s[3]=e.sourceFrame.y,n.filterClamp=n.inputClamp),this.globalUniforms.update();t=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,t.renderTexture,m.CLEAR_MODES.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var a=e.renderTexture;(u=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame;for(var h=0,h=0;h<i.length-1;++h){1===h&&1<e.multisample&&((u=this.getOptimalFilterTexture(a.width,a.height,e.resolution)).filterFrame=a.filterFrame),i[h].apply(this,a,u,m.CLEAR_MODES.CLEAR,e);var l=a,a=u,u=l}i[h].apply(this,a,t.renderTexture,m.CLEAR_MODES.BLEND,e),1<h&&1<e.multisample&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(a),this.returnFilterTexture(u)}e.clear(),this.statePool.push(e)},jt.prototype.bindAndClear=function(t,e){void 0===e&&(e=m.CLEAR_MODES.CLEAR);var i=this.renderer,n=i.renderTexture,r=i.state;t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame?((i=this.tempRect).x=0,i.y=0,i.width=t.filterFrame.width,i.height=t.filterFrame.height,n.bind(t,t.filterFrame,i)):t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);r=1&r.stateId||this.forceClear;(e===m.CLEAR_MODES.CLEAR||e===m.CLEAR_MODES.BLIT&&r)&&this.renderer.framebuffer.clear(0,0,0,0)},jt.prototype.applyFilter=function(t,e,i,n){var r=this.renderer;r.state.set(t.state),this.bindAndClear(i,n),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,r.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),r.geometry.bind(this.quadUv),r.geometry.draw(m.DRAW_MODES.TRIANGLES)):(r.geometry.bind(this.quad),r.geometry.draw(m.DRAW_MODES.TRIANGLE_STRIP))},jt.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,n=i.sourceFrame,r=i.destinationFrame,i=e._texture.orig,r=t.set(r.width,0,0,r.height,n.x,n.y),n=e.worldTransform.copyTo(h.Matrix.TEMP_MATRIX);return n.invert(),r.prepend(n),r.scale(1/i.width,1/i.height),r.translate(e.anchor.x,e.anchor.y),r},jt.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},jt.prototype.getOptimalFilterTexture=function(t,e,i,n){return void 0===n&&(n=m.MSAA_QUALITY.NONE),this.texturePool.getOptimalTexture(t,e,i=void 0===i?1:i,n)},jt.prototype.getFilterTexture=function(t,e,i){var n;"number"==typeof t&&(n=t,t=e,e=n),t=t||this.activeState.renderTexture;i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,i||m.MSAA_QUALITY.NONE);return i.filterFrame=t.filterFrame,i},jt.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},jt.prototype.emptyPool=function(){this.texturePool.clear(!0)},jt.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},jt.prototype.transformAABB=function(t,e){var i=Gt[0],n=Gt[1],r=Gt[2],s=Gt[3];i.set(e.left,e.top),n.set(e.left,e.bottom),r.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(n,n),t.apply(r,r),t.apply(s,s);var o=Math.min(i.x,n.x,r.x,s.x),a=Math.min(i.y,n.y,r.y,s.y),t=Math.max(i.x,n.x,r.x,s.x),s=Math.max(i.y,n.y,r.y,s.y);e.x=o,e.y=a,e.width=t-o,e.height=s-a},jt.prototype.roundFrame=function(t,e,i,n,r){if(r){var s=r.a,o=r.b,a=r.c,h=r.d;if((1e-4<Math.abs(o)||1e-4<Math.abs(a))&&(1e-4<Math.abs(s)||1e-4<Math.abs(h)))return}(r=r?Ut.copyFrom(r):Ut.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(r,t),t.ceil(e),this.transformAABB(r.invert(),t)},jt);function jt(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new mt,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new Rt,this.quadUv=new It,this.tempRect=new h.Rectangle,this.activeState={},this.globalUniforms=new Nt({outputFrame:new h.Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}var Ht=(Xt.prototype.flush=function(){},Xt.prototype.destroy=function(){this.renderer=null},Xt.prototype.start=function(){},Xt.prototype.stop=function(){this.flush()},Xt.prototype.render=function(t){},Xt);function Xt(t){this.renderer=t}var zt=(qt.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},qt.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},qt.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},qt.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,n=e-1;0<=n;--n)t[n]=i[n]||null,t[n]&&(t[n]._batchLocation=n)},qt.prototype.boundArray=function(t,e,i,n){for(var r=t.elements,s=t.ids,o=t.count,a=0,h=0;h<o;h++){var l=r[h],u=l._batchLocation;if(0<=u&&u<n&&e[u]===l)s[h]=u;else for(;a<n;){var c=e[a];if(!c||c._batchEnabled!==i||c._batchLocation!==a){s[h]=a,e[l._batchLocation=a]=l;break}a++}}},qt.prototype.destroy=function(){this.renderer=null},qt);function qt(t){this.renderer=t,this.emptyRenderer=new Ht(t),this.currentRenderer=this.emptyRenderer}var Yt=0,Wt=(Object.defineProperty($t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),$t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Yt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},$t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Yt++,this.renderer.runners.contextChange.emit(t)},$t.prototype.initFromOptions=function(t){t=this.createContext(this.renderer.view,t);this.initFromContext(t)},$t.prototype.createContext=function(t,e){var i;if(i=f.settings.PREFER_ENV>=m.ENV.WEBGL2?t.getContext("webgl2",e):i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},$t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},$t.prototype.handleContextLost=function(t){t.preventDefault()},$t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},$t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},$t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},$t.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");t=i||!!t.getExtension("OES_element_index_uint");(this.supports.uint32Indices=t)||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},$t);function $t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}var Zt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=m.MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Qt=new h.Rectangle,Kt=(Jt.prototype.contextChange=function(){var e,t,i=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new h.Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion?(e=this.renderer.context.extensions.drawBuffers,t=this.renderer.context.extensions.depthTexture,f.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY&&(t=e=null),e?i.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,i.drawBuffers=function(){}),t||(this.writeDepthTexture=!1)):this.msaaSamples=i.getInternalformatParameter(i.RENDERBUFFER,i.RGBA8,i.SAMPLES)},Jt.prototype.bind=function(t,e,i){void 0===i&&(i=0);var n=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,r.mipLevel=i),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,r.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s,o,a=0;a<t.colorTextures.length;a++){var h=t.colorTextures[a];this.renderer.texture.unbind(h.parentTextureArray||h)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?(s=e.width>>i,o=e.height>>i,r=s/e.width,this.setViewport(e.x*r,e.y*r,s,o)):(s=t.width>>i,o=t.height>>i,this.setViewport(0,0,s,o))}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},Jt.prototype.setViewport=function(t,e,i,n){var r=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),n=Math.round(n),r.width===i&&r.height===n&&r.x===t&&r.y===e||(r.x=t,r.y=e,r.width=i,r.height=n,this.gl.viewport(t,e,i,n))},Object.defineProperty(Jt.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),Jt.prototype.clear=function(t,e,i,n,r){void 0===r&&(r=m.BUFFER_BITS.COLOR|m.BUFFER_BITS.DEPTH);var s=this.gl;s.clearColor(t,e,i,n),s.clear(r)},Jt.prototype.initFramebuffer=function(t){var e=this.gl,e=new Zt(e.createFramebuffer());return e.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=e,this.managedFramebuffers.push(t),t.disposeRunner.add(this),e},Jt.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var n=t.colorTextures,r=n.length;e.drawBuffers||(r=Math.min(r,1));for(var s=0;s<r;s++){var o=n[s],o=o.parentTextureArray||o;this.renderer.texture.bind(o,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},Jt.prototype.updateFramebuffer=function(t,e){var i=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures,s=r.length;i.drawBuffers||(s=Math.min(s,1)),1<n.multisample&&this.canMultisampleFramebuffer(t)?(n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));for(var o,a=[],h=0;h<s;h++){var l=r[h],u=l.parentTextureArray||l;this.renderer.texture.bind(u,0),0===h&&n.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h,l.target,u._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+h))}1<a.length&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture&&(o=t.depthTexture,this.renderer.texture.bind(o,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,e)),!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null):(n.stencil=n.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n.stencil))},Jt.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},Jt.prototype.detectSamples=function(t){var e=this.msaaSamples,i=m.MSAA_QUALITY.NONE;if(t<=1||null===e)return i;for(var n=0;n<e.length;n++)if(e[n]<=t){i=e[n];break}return i=1===i?m.MSAA_QUALITY.NONE:i},Jt.prototype.blit=function(t,e,i){var n=this.current,r=this.renderer,s=this.gl,o=this.CONTEXT_UID;if(2===r.context.webGLVersion&&n){r=n.glFramebuffers[o];if(r){if(!t){if(!r.msaaBuffer)return;o=n.colorTextures[0];if(!o)return;r.blitFramebuffer||(r.blitFramebuffer=new tt(n.width,n.height),r.blitFramebuffer.addColorTexture(0,o)),(t=r.blitFramebuffer).colorTextures[0]!==o&&(t.colorTextures[0]=o,t.dirtyId++,t.dirtyFormat++),t.width===n.width&&t.height===n.height||(t.width=n.width,t.height=n.height,t.dirtyId++,t.dirtySize++)}e||((e=Qt).width=n.width,e.height=n.height);n=e.width===(i=i||e).width&&e.height===i.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,r.framebuffer),s.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,s.COLOR_BUFFER_BIT,n?s.NEAREST:s.LINEAR)}}},Jt.prototype.disposeFramebuffer=function(t,e){var i,n=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;n&&(delete t.glFramebuffers[this.CONTEXT_UID],0<=(i=this.managedFramebuffers.indexOf(t))&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose())},Jt.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},Jt.prototype.forceStencil=function(){var t,e,i,n,r=this.current;!r||(t=r.glFramebuffers[this.CONTEXT_UID])&&!t.stencil&&(r.stencil=!0,e=r.width,i=r.height,r=(n=this.gl).createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,e,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,i),t.stencil=r,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r))},Jt.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new h.Rectangle},Jt.prototype.destroy=function(){this.renderer=null},Jt);function Jt(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new tt(10,10),this.msaaSamples=null}var te={5126:4,5123:2,5121:1},ee=(ie.prototype.contextChange=function(){this.disposeAll(!0);var e,s,t=this.gl=this.renderer.gl,i=this.renderer.context;this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==i.webGLVersion&&(e=this.renderer.context.extensions.vertexArrayObject,(e=f.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY?null:e)?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})),2!==i.webGLVersion&&((s=t.getExtension("ANGLE_instanced_arrays"))?(t.vertexAttribDivisor=function(t,e){return s.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,i,n,r){return s.drawElementsInstancedANGLE(t,e,i,n,r)},t.drawArraysInstanced=function(t,e,i,n){return s.drawArraysInstancedANGLE(t,e,i,n)}):this.hasInstance=!1),this.canUseUInt32ElementIndex=2===i.webGLVersion||!!i.extensions.uint32ElementIndex},ie.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,n=t.glVertexArrayObjects[this.CONTEXT_UID],r=!1;n||((this.managedGeometries[t.id]=t).disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=n={},r=!0);r=n[e.program.id]||this.initGeometryVao(t,e,r);this._activeGeometry=t,this._activeVao!==r&&(this._activeVao=r,this.hasVao?i.bindVertexArray(r):this.activateVao(t,e.program)),this.updateBuffers()},ie.prototype.reset=function(){this.unbind()},ie.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++){var n=t.buffers[i];e.update(n)}},ie.prototype.checkCompatibility=function(t,e){var i,n=t.attributes;for(i in e.attributeData)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},ie.prototype.getSignature=function(t,e){var i,n=t.attributes,r=e.attributeData,s=["g",t.id];for(i in n)r[i]&&s.push(i);return s.join("-")},ie.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var n=this.gl,r=this.CONTEXT_UID,s=this.renderer.buffer,o=e.program;o.glPrograms[r]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,o);var a=this.getSignature(t,o),h=t.glVertexArrayObjects[this.CONTEXT_UID],e=h[a];if(e)return h[o.id]=e;var l,u=t.buffers,c=t.attributes,p={},d={};for(l in u)p[l]=0,d[l]=0;for(l in c)!c[l].size&&o.attributeData[l]?c[l].size=o.attributeData[l].size:c[l].size||console.warn("PIXI Geometry attribute '"+l+"' size cannot be determined (likely the bound shader does not have the attribute)"),p[c[l].buffer]+=c[l].size*te[c[l].type];for(l in c){var f=c[l],m=f.size;void 0===f.stride&&(p[f.buffer]===m*te[f.type]?f.stride=0:f.stride=p[f.buffer]),void 0===f.start&&(f.start=d[f.buffer],d[f.buffer]+=m*te[f.type])}e=n.createVertexArray(),n.bindVertexArray(e);for(var g=0;g<u.length;g++){var _=u[g];s.bind(_),i&&_._glBuffers[r].refCount++}return this.activateVao(t,o),this._activeVao=e,h[o.id]=e,h[a]=e},ie.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,s=t.buffers,o=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),n){if(o)for(var a=0;a<s.length;a++){var h=s[a]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,0!==h.refCount||e||o.dispose(s[a],e))}if(!e)for(var l in n)"g"===l[0]&&(l=n[l],this._activeVao===l&&this.unbind(),r.deleteVertexArray(l));delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},ie.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},ie.prototype.activateVao=function(t,e){var i=this.gl,n=this.CONTEXT_UID,r=this.renderer.buffer,s=t.buffers,o=t.attributes;t.indexBuffer&&r.bind(t.indexBuffer);var a,h=null;for(a in o){var l=o[a],u=s[l.buffer],c=u._glBuffers[n];if(e.attributeData[a]){h!==c&&(r.bind(u),h=c);c=e.attributeData[a].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,l.size,l.type||i.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(c,1)}}}},ie.prototype.draw=function(t,e,i,n){var r,s,o=this.gl,a=this._activeGeometry;return a.indexBuffer?(s=2===(r=a.indexBuffer.data.BYTES_PER_ELEMENT)?o.UNSIGNED_SHORT:o.UNSIGNED_INT,2===r||4===r&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(i||0)*r,n||1):o.drawElements(t,e||a.indexBuffer.data.length,s,(i||0)*r):console.warn("unsupported index buffer type: uint32")):a.instanced?o.drawArraysInstanced(t,i,e||a.getSize(),n||1):o.drawArrays(t,i,e||a.getSize()),this},ie.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},ie.prototype.destroy=function(){this.renderer=null},ie);function ie(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}var ne=(Object.defineProperty(re.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),re.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=m.MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},re.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},re);function re(t){void 0===t&&(t=null),this.type=m.MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=f.settings.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}function se(t,e,i){e=t.createShader(e);return t.shaderSource(e,i),t.compileShader(e),e}function oe(t,e){var i=t.getShaderSource(e).split("\n").map(function(t,e){return e+": "+t}),t=t.getShaderInfoLog(e),e=t.split("\n"),n={},e=e.map(function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(t){return!(!t||n[t])&&(n[t]=!0)}),r=[""];e.forEach(function(t){i[t-1]="%c"+i[t-1]+"%c",r.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});e=i.join("\n");r[0]=e,console.error(t),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,r),console.groupEnd()}function ae(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function he(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ae(2*e);case"bvec3":return ae(3*e);case"bvec4":return ae(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var le,ue={},ce=ue;function pe(){var t,e;return(ce===ue||ce&&ce.isContextLost())&&(t=document.createElement("canvas"),e=void 0,(e=f.settings.PREFER_ENV>=m.ENV.WEBGL2?t.getContext("webgl2",{}):e)||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),ce=e),ce}function de(t,e,i){if("precision"===t.substring(0,9))return i!==m.PRECISION.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t;var n=e;return"precision "+(n=e===m.PRECISION.HIGH&&i!==m.PRECISION.HIGH?m.PRECISION.MEDIUM:n)+" float;\n"+t}var fe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function me(t){return fe[t]}var ge=null,_e={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function ye(t,e){if(!ge){var i=Object.keys(_e);ge={};for(var n=0;n<i.length;++n){var r=i[n];ge[t[r]]=_e[r]}}return ge[e]}var ve=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],be={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},xe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Te,Ee=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Se(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var n=Ee.replace(/%forloop%/gi,function(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}(t));if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}var Ae=0,we={},Pe=(Object.defineProperty(Ce,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Ce,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),Ce.from=function(t,e,i){var n=t+e,r=g.ProgramCache[n];return r||(g.ProgramCache[n]=r=new Ce(t,e,i)),r},Ce);function Ce(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Ae++,this.vertexSrc=t||Ce.defaultVertexSrc,this.fragmentSrc=e||Ce.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),we[i]?(we[i]++,i+="-"+we[i]):we[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=de(this.vertexSrc,f.settings.PRECISION_VERTEX,m.PRECISION.HIGH),this.fragmentSrc=de(this.fragmentSrc,f.settings.PRECISION_FRAGMENT,(le||(le=m.PRECISION.MEDIUM,(i=pe())&&i.getShaderPrecisionFormat&&(i=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT),le=i.precision?m.PRECISION.HIGH:m.PRECISION.MEDIUM)),le))),this.glPrograms={},this.syncUniforms=null}var Re=(Oe.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){i=e.uniforms[i];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},Oe.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(Oe.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),Oe.from=function(t,e,i){return new Oe(Pe.from(t,e),i)},Oe);function Oe(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof Nt?e:new Nt(e):new Nt({})}var Me=(Object.defineProperty(Ie.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==m.BLEND_MODES.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),Ie.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},Ie.for2d=function(){var t=new Ie;return t.depthTest=!1,t.blend=!0,t},Ie);function Ie(){this.data=0,this.blendMode=m.BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}var De,ke=(a(Ne,De=Re),Ne.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n)},Object.defineProperty(Ne.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ne.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(Ne,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(Ne,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),Ne);function Ne(t,e,i){var n=this,e=Pe.from(t||Ne.defaultVertexSrc,e||Ne.defaultFragmentSrc);return(n=De.call(this,e,i)||this).padding=0,n.resolution=f.settings.FILTER_RESOLUTION,n.multisample=f.settings.FILTER_MULTISAMPLE,n.enabled=!0,n.autoFit=!0,n.state=new Me,n}var Fe=new h.Matrix,Le=(Object.defineProperty(Be.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),Be.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],s=t[n+1];e[n]=r*i.a+s*i.c+i.tx,e[n+1]=r*i.b+s*i.d+i.ty}return e},Be.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(Fe.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(Fe));t=e.baseTexture,i=this.uClampFrame,n=this.clampMargin/t.resolution,r=this.clampOffset;return i[0]=(e._frame.x+n+r)/t.width,i[1]=(e._frame.y+n+r)/t.height,i[2]=(e._frame.x+e._frame.width-n+r)/t.width,i[3]=(e._frame.y+e._frame.height-n+r)/t.height,this.uClampOffset[0]=r/t.realWidth,this.uClampOffset[1]=r/t.realHeight,this.isSimple=e._frame.width===t.width&&e._frame.height===t.height&&0===e.rotate,!0},Be);function Be(t,e){this._texture=t,this.mapCoord=new h.Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}var Ge,Ue=(a(Ve,Ge=ke),Object.defineProperty(Ve.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),Ve.prototype.apply=function(t,e,i,n){var r=this._maskSprite,s=r._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new Le(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,t.applyFilter(this,e,i,n))},Ve);function Ve(t,e,i){var n=this,r=null;return"string"!=typeof t&&void 0===e&&void 0===i&&(r=t,i=e=t=void 0),(n=Ge.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",e||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",i)||this).maskSprite=r,n.maskMatrix=new h.Matrix,n}var je=(He.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},He.prototype.push=function(t,e){var i=e;i.isMaskData||((n=this.maskDataPool.pop()||new ne).pooled=!0,n.maskObject=e,i=n);var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i.autoDetect&&this.detect(i),i._target=t,i.type!==m.MASK_TYPES.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.push(i);break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.push(i);break;case m.MASK_TYPES.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===m.MASK_TYPES.SPRITE&&this.maskStack.push(i)},He.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case m.MASK_TYPES.SCISSOR:this.renderer.scissor.pop();break;case m.MASK_TYPES.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case m.MASK_TYPES.SPRITE:this.popSpriteMask(e)}e.reset(),e.pooled&&this.maskDataPool.push(e),0===this.maskStack.length||(t=this.maskStack[this.maskStack.length-1]).type===m.MASK_TYPES.SPRITE&&t._filters&&(t._filters[0].maskSprite=t.maskObject)}},He.prototype.detect=function(t){t.maskObject.isSprite?t.type=m.MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=m.MASK_TYPES.SCISSOR:t.type=m.MASK_TYPES.STENCIL},He.prototype.pushSpriteMask=function(t){var e,i,n=t.maskObject,r=t._target,s=(s=t._filters)||((s=this.alphaMaskPool[this.alphaMaskIndex])||(this.alphaMaskPool[this.alphaMaskIndex]=[new Ue])),o=this.renderer,a=o.renderTexture;h=a.current?(e=a.current,i=t.resolution||e.resolution,null!==(a=t.multisample)&&void 0!==a?a:e.multisample):(i=t.resolution||o.resolution,null!==(h=t.multisample)&&void 0!==h?h:o.multisample),s[0].resolution=i,s[0].multisample=h,s[0].maskSprite=n;var h=r.filterArea;r.filterArea=n.getBounds(!0),o.filter.push(r,s),r.filterArea=h,t._filters||this.alphaMaskIndex++},He.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},He.prototype.destroy=function(){this.renderer=null},He);function He(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}var Xe=(ze.prototype.getStackLength=function(){return this.maskStack.length},ze.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;t=this.getStackLength();t!==i&&(0===t?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},ze.prototype._useCurrent=function(){},ze.prototype.destroy=function(){this.renderer=null,this.maskStack=null},ze);function ze(t){this.renderer=t,this.maskStack=[],this.glConst=0}var qe,Ye=new h.Matrix,We=(a($e,qe=Xe),$e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},$e.prototype.calcScissorRect=function(t){var e,i,n,r,s;t._scissorRectLocal||(e=t._scissorRect,i=t.maskObject,r=(n=this.renderer).renderTexture,i.renderable=!0,s=i.getBounds(),this.roundFrameToPixels(s,(r.current||n).resolution,r.sourceFrame,r.destinationFrame,n.projection.transform),i.renderable=!1,e&&s.fit(e),t._scissorRectLocal=s)},$e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,i=t.b,n=t.c,t=t.d;return(1e-4<Math.abs(i)||1e-4<Math.abs(n))&&(1e-4<Math.abs(e)||1e-4<Math.abs(t))},$e.prototype.testScissor=function(t){var e=t.maskObject;if(!e.isFastRect||!e.isFastRect())return!1;if($e.isMatrixRotated(e.worldTransform))return!1;if($e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);t=t._scissorRectLocal;return 0<t.width&&0<t.height},$e.prototype.roundFrameToPixels=function(t,e,i,n,r){$e.isMatrixRotated(r)||((r=r?Ye.copyFrom(r):Ye.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(r,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))},$e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},$e.prototype.pop=function(){var t=this.renderer.gl;0<this.getStackLength()?this._useCurrent():t.disable(t.SCISSOR_TEST)},$e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y;this.renderer.gl.scissor(t.x,e,t.width,t.height)},$e);function $e(t){t=qe.call(this,t)||this;return t.glConst=WebGLRenderingContext.SCISSOR_TEST,t}var Ze,Qe=(a(Ke,Ze=Xe),Ke.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},Ke.prototype.push=function(t){var e=t.maskObject,i=this.renderer.gl,n=t._stencilCounter;0===n&&(this.renderer.framebuffer.forceStencil(),i.enable(i.STENCIL_TEST)),t._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},Ke.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clearStencil(0),e.clear(e.STENCIL_BUFFER_BIT)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},Ke.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},Ke);function Ke(t){t=Ze.call(this,t)||this;return t.glConst=WebGLRenderingContext.STENCIL_TEST,t}var Je=(ti.prototype.update=function(t,e,i,n){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},ti.prototype.calculateProjection=function(t,e,i,n){var r=this.projectionMatrix,n=n?-1:1;r.identity(),r.a=1/e.width*2,r.d=n*(1/e.height*2),r.tx=-1-e.x*r.a,r.ty=-n-e.y*r.d},ti.prototype.setTransform=function(t){},ti.prototype.destroy=function(){this.renderer=null},ti);function ti(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new h.Matrix,this.transform=null}var ei=new h.Rectangle,ii=new h.Rectangle,ni=(ri.prototype.bind=function(t,e,i){var n,r,s,o=this.renderer;(this.current=t=void 0===t?null:t)?(s=(n=t.baseTexture).resolution,e||(ei.width=t.frame.width,ei.height=t.frame.height,e=ei),i||(ii.x=t.frame.x,ii.y=t.frame.y,ii.width=e.width,ii.height=e.height,i=ii),r=n.framebuffer):(s=o.resolution,e||(ei.width=o.screen.width,ei.height=o.screen.height,e=ei),i||((i=ei).width=e.width,i.height=e.height));var a=this.viewportFrame;a.x=i.x*s,a.y=i.y*s,a.width=i.width*s,a.height=i.height*s,t||(a.y=o.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(r,a),this.renderer.projection.update(i,e,s,!r),t?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},ri.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i,n,r=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer.screen,o=r.width!==s.width||r.height!==s.height;o&&(i=(n=this.viewportFrame).x,r=n.y,s=n.width,n=n.height,i=Math.round(i),r=Math.round(r),s=Math.round(s),n=Math.round(n),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(i,r,s,n)),this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},ri.prototype.resize=function(){this.bind(null)},ri.prototype.reset=function(){this.bind(null)},ri.prototype.destroy=function(){this.renderer=null},ri);function ri(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new h.Rectangle,this.destinationFrame=new h.Rectangle,this.viewportFrame=new h.Rectangle}function si(t,e,i,n,r){i.buffer.update(r)}var oi={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},ai={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function hi(t){for(var e=t.map(function(t){return{data:t,offset:0,dataLen:0,dirty:0}}),i=0,n=0,r=0,s=0;s<e.length;s++){var o,a=e[s],i=ai[a.data.type];1<a.data.size&&(i=Math.max(i,16)*a.data.size),n%(a.dataLen=i)!=0&&n<16&&(n+=o=n%i%16,r+=o),16<n+i?(r=16*Math.ceil(r/16),a.offset=r,r+=i,n=i):(a.offset=r,n+=i,r+=i)}return{uboElements:e,size:r=16*Math.ceil(r/16)}}function li(t,e){var i,n=[];for(i in t)e[i]&&n.push(e[i]);return n.sort(function(t,e){return t.index-e.index}),n}function ui(t,e){if(!t.autoManage)return{size:0,syncFunc:si};for(var e=hi(li(t.uniforms,e)),i=e.uboElements,e=e.size,n=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],r=0;r<i.length;r++){for(var s,o,a=i[r],h=t.uniforms[a.data.name],l=a.data.name,u=!1,c=0;c<ve.length;c++){var p=ve[c];if(p.codeUbo&&p.test(a.data,h)){n.push("offset = "+a.offset/4+";",ve[c].codeUbo(a.data.name,h)),u=!0;break}}u||(1<a.data.size?(s=me(a.data.type),o=Math.max(ai[a.data.type]/16,1),n.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*o+"; i++)\n                {\n                    for(var j = 0; j < "+(o=s/o)+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-o%4)%4+";\n                }\n\n                ")):(o=oi[a.data.type],n.push("\n                cv = ud."+l+".value;\n                v = uv."+l+";\n                offset = "+a.offset/4+";\n                "+o+";\n                ")))}return n.push("\n       renderer.buffer.update(buffer);\n    "),{size:e,syncFunc:new Function("ud","uv","renderer","syncData","buffer",n.join("\n"))}}function ci(){}var pi=(di.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},di);function di(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}function fi(t,e){var i,n,r,s,o=se(t,t.VERTEX_SHADER,e.vertexSrc),a=se(t,t.FRAGMENT_SHADER,e.fragmentSrc),h=t.createProgram();if(t.attachShader(h,o),t.attachShader(h,a),t.linkProgram(h),t.getProgramParameter(h,t.LINK_STATUS)||(n=h,r=o,s=a,(i=t).getProgramParameter(n,i.LINK_STATUS)||(i.getShaderParameter(r,i.COMPILE_STATUS)||oe(i,r),i.getShaderParameter(s,i.COMPILE_STATUS)||oe(i,s),console.error("PixiJS Error: Could not initialize shader."),""!==i.getProgramInfoLog(n)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",i.getProgramInfoLog(n)))),e.attributeData=function(t,e){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<n;r++){var s,o=e.getActiveAttrib(t,r);0!==o.name.indexOf("gl_")&&(s={type:s=ye(e,o.type),name:o.name,size:me(s),location:e.getAttribLocation(t,o.name)},i[o.name]=s)}return i}(h,t),e.uniformData=function(t,e){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var s=e.getActiveUniform(t,r),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),h=ye(e,s.type);i[o]={name:o,index:r,type:h,size:s.size,isArray:a,value:he(h,s.size)}}return i}(h,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var l=Object.keys(e.attributeData);l.sort(function(t,e){return e<t?1:-1});for(var u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(h,u,l[u]);t.linkProgram(h)}t.deleteShader(o),t.deleteShader(a);var c={};for(u in e.uniformData){var p=e.uniformData[u];c[u]={location:t.getUniformLocation(h,u),value:he(p.type,p.size)}}return new pi(h,c)}var mi=0,gi={textureCount:0,uboCount:0},_i=(yi.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Te)return Te;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Te=!0===t({a:"b"},"a","b")}catch(t){Te=!1}return Te}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},yi.prototype.contextChange=function(t){this.gl=t,this.reset()},yi.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),e||(gi.textureCount=0,gi.uboCount=0,this.syncUniformGroup(t.uniformGroup,gi)),n},yi.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},yi.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();t.static&&t.dirtyId===i.uniformDirtyGroups[t.id]||(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},yi.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},yi.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var i,n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(i in t.uniforms){var r=e[i];if(r){for(var s,o=t.uniforms[i],a=!1,h=0;h<ve.length;h++)if(ve[h].test(r,o)){n.push(ve[h].code(i,o)),a=!0;break}a||(s=(1===r.size?be:xe)[r.type].replace("location",'ud["'+i+'"].location'),n.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+s+";"))}else null!==(s=t.uniforms[i])&&void 0!==s&&s.group&&(t.uniforms[i].ubo?n.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):n.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},yi.prototype.syncUniformBufferGroup=function(t,e){var i,n=this.getGlProgram();t.static&&0===t.dirtyId&&n.uniformGroups[t.id]||(t.dirtyId=0,i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e),t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,gi,t.buffer)),this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])},yi.prototype.createSyncBufferGroup=function(t,e,i){var n=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var r=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(e.program,r,this.shader.uniformBindCount),this.shader.uniformBindCount++;n=this.getSignature(t,this.shader.program.uniformData,"ubo"),r=(r=this._uboCache[n])||(this._uboCache[n]=ui(t,this.shader.program.uniformData));return t.autoManage&&(n=new Float32Array(r.size/4),t.buffer.update(n)),e.uniformGroups[t.id]=r.syncFunc,e.uniformGroups[t.id]},yi.prototype.getSignature=function(t,e,i){var n,r=[i+"-"];for(n in t.uniforms)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},yi.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},yi.prototype.generateProgram=function(t){var e=this.gl,t=t.program,e=fi(e,t);return t.glPrograms[this.renderer.CONTEXT_UID]=e},yi.prototype.reset=function(){this.program=null,this.shader=null},yi.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},yi);function yi(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=mi++}var vi=(bi.prototype.contextChange=function(t){var e;this.gl=t,this.blendModes=(t=t,(e=void 0===e?[]:e)[m.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.ADD]=[t.ONE,t.ONE],e[m.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.NONE]=[0,0],e[m.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[m.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[m.BLEND_MODES.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[m.BLEND_MODES.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[m.BLEND_MODES.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[m.BLEND_MODES.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[m.BLEND_MODES.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[m.BLEND_MODES.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e),this.set(this.defaultState),this.reset()},bi.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},bi.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},bi.prototype.setBlend=function(t){this.updateCheck(bi.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},bi.prototype.setOffset=function(t){this.updateCheck(bi.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},bi.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},bi.prototype.setDepthMask=function(t){this.gl.depthMask(t)},bi.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},bi.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},bi.prototype.setBlendMode=function(t){var e;t!==this.blendMode&&(this.blendMode=t,e=this.blendModes[t],t=this.gl,2===e.length?t.blendFunc(e[0],e[1]):t.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,t.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD)))},bi.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},bi.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},bi.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},bi.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},bi.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},bi.prototype.destroy=function(){this.gl=null},bi);function bi(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=m.BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Me,this.defaultState.blend=!0}var xi=(Ti.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==m.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},Ti.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,n=0;n<e.length;n++){var r=e[n];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),i=!(e[n]=null))}if(i){for(var s=0,n=0;n<e.length;n++)null!==e[n]&&(e[s++]=e[n]);e.length=s}},Ti.prototype.unload=function(t){var e=this.renderer.texture,i=t._texture;i&&!i.framebuffer&&e.destroyTexture(i);for(var n=t.children.length-1;0<=n;n--)this.unload(t.children[n])},Ti.prototype.destroy=function(){this.renderer=null},Ti);function Ti(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=f.settings.GC_MAX_IDLE,this.checkCountMax=f.settings.GC_MAX_CHECK_COUNT,this.mode=f.settings.GC_MODE}var Ei=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=m.TYPES.UNSIGNED_BYTE,this.internalFormat=m.FORMATS.RGBA,this.samplerType=0},Si=(Ai.prototype.contextChange=function(){var t,e,i,n=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=(t=n,o="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?((i={})[m.TYPES.UNSIGNED_BYTE]=((e={})[m.FORMATS.RGBA]=t.RGBA8,e[m.FORMATS.RGB]=t.RGB8,e[m.FORMATS.RG]=t.RG8,e[m.FORMATS.RED]=t.R8,e[m.FORMATS.RGBA_INTEGER]=t.RGBA8UI,e[m.FORMATS.RGB_INTEGER]=t.RGB8UI,e[m.FORMATS.RG_INTEGER]=t.RG8UI,e[m.FORMATS.RED_INTEGER]=t.R8UI,e[m.FORMATS.ALPHA]=t.ALPHA,e[m.FORMATS.LUMINANCE]=t.LUMINANCE,e[m.FORMATS.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),i[m.TYPES.BYTE]=((e={})[m.FORMATS.RGBA]=t.RGBA8_SNORM,e[m.FORMATS.RGB]=t.RGB8_SNORM,e[m.FORMATS.RG]=t.RG8_SNORM,e[m.FORMATS.RED]=t.R8_SNORM,e[m.FORMATS.RGBA_INTEGER]=t.RGBA8I,e[m.FORMATS.RGB_INTEGER]=t.RGB8I,e[m.FORMATS.RG_INTEGER]=t.RG8I,e[m.FORMATS.RED_INTEGER]=t.R8I,e),i[m.TYPES.UNSIGNED_SHORT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA16UI,e[m.FORMATS.RGB_INTEGER]=t.RGB16UI,e[m.FORMATS.RG_INTEGER]=t.RG16UI,e[m.FORMATS.RED_INTEGER]=t.R16UI,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,e),i[m.TYPES.SHORT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA16I,e[m.FORMATS.RGB_INTEGER]=t.RGB16I,e[m.FORMATS.RG_INTEGER]=t.RG16I,e[m.FORMATS.RED_INTEGER]=t.R16I,e),i[m.TYPES.UNSIGNED_INT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA32UI,e[m.FORMATS.RGB_INTEGER]=t.RGB32UI,e[m.FORMATS.RG_INTEGER]=t.RG32UI,e[m.FORMATS.RED_INTEGER]=t.R32UI,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,e),i[m.TYPES.INT]=((e={})[m.FORMATS.RGBA_INTEGER]=t.RGBA32I,e[m.FORMATS.RGB_INTEGER]=t.RGB32I,e[m.FORMATS.RG_INTEGER]=t.RG32I,e[m.FORMATS.RED_INTEGER]=t.R32I,e),i[m.TYPES.FLOAT]=((e={})[m.FORMATS.RGBA]=t.RGBA32F,e[m.FORMATS.RGB]=t.RGB32F,e[m.FORMATS.RG]=t.RG32F,e[m.FORMATS.RED]=t.R32F,e[m.FORMATS.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,e),i[m.TYPES.HALF_FLOAT]=((e={})[m.FORMATS.RGBA]=t.RGBA16F,e[m.FORMATS.RGB]=t.RGB16F,e[m.FORMATS.RG]=t.RG16F,e[m.FORMATS.RED]=t.R16F,e),i[m.TYPES.UNSIGNED_SHORT_5_6_5]=((e={})[m.FORMATS.RGB]=t.RGB565,e),i[m.TYPES.UNSIGNED_SHORT_4_4_4_4]=((e={})[m.FORMATS.RGBA]=t.RGBA4,e),i[m.TYPES.UNSIGNED_SHORT_5_5_5_1]=((e={})[m.FORMATS.RGBA]=t.RGB5_A1,e),i[m.TYPES.UNSIGNED_INT_2_10_10_10_REV]=((e={})[m.FORMATS.RGBA]=t.RGB10_A2,e[m.FORMATS.RGBA_INTEGER]=t.RGB10_A2UI,e),i[m.TYPES.UNSIGNED_INT_10F_11F_11F_REV]=((e={})[m.FORMATS.RGB]=t.R11F_G11F_B10F,e),i[m.TYPES.UNSIGNED_INT_5_9_9_9_REV]=((e={})[m.FORMATS.RGB]=t.RGB9_E5,e),i[m.TYPES.UNSIGNED_INT_24_8]=((e={})[m.FORMATS.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,e),i[m.TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]=((e={})[m.FORMATS.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,e),i):((o={})[m.TYPES.UNSIGNED_BYTE]=((i={})[m.FORMATS.RGBA]=t.RGBA,i[m.FORMATS.RGB]=t.RGB,i[m.FORMATS.ALPHA]=t.ALPHA,i[m.FORMATS.LUMINANCE]=t.LUMINANCE,i[m.FORMATS.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,i),o[m.TYPES.UNSIGNED_SHORT_5_6_5]=((i={})[m.FORMATS.RGB]=t.RGB,i),o[m.TYPES.UNSIGNED_SHORT_4_4_4_4]=((i={})[m.FORMATS.RGBA]=t.RGBA,i),o[m.TYPES.UNSIGNED_SHORT_5_5_5_1]=((i={})[m.FORMATS.RGBA]=t.RGBA,i),o));var r=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var s=0;s<r;s++)this.boundTextures[s]=null;this.emptyTextures={};var o=new Ei(n.createTexture());n.bindTexture(n.TEXTURE_2D,o.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[n.TEXTURE_2D]=o,this.emptyTextures[n.TEXTURE_CUBE_MAP]=new Ei(n.createTexture()),n.bindTexture(n.TEXTURE_CUBE_MAP,this.emptyTextures[n.TEXTURE_CUBE_MAP].texture);for(s=0;s<6;s++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,null);n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_CUBE_MAP,n.TEXTURE_MIN_FILTER,n.LINEAR);for(s=0;s<this.boundTextures.length;s++)this.bind(null,s)},Ai.prototype.bind=function(t,e){void 0===e&&(e=0);var i,n=this.gl;(t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray?(t.touched=this.renderer.textureGC.count,i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t),this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t):(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null)},Ai.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},Ai.prototype.unbind=function(t){var e=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(n=0;n<i.length;n++)i[n]===t&&(this.currentLocation!==n&&(e.activeTexture(e.TEXTURE0+n),this.currentLocation=n),e.bindTexture(t.target,this.emptyTextures[t.target].texture),i[n]=null)},Ai.prototype.ensureSamplerType=function(t){var e=this.boundTextures,i=this.hasIntegerTextures,n=this.CONTEXT_UID;if(i)for(var r=t-1;0<=r;--r){var s=e[r];s&&s._glTextures[n].samplerType!==m.SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(s)}},Ai.prototype.initTexture=function(t){var e=new Ei(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},Ai.prototype.initTextureType=function(t,e){var i;e.internalFormat=null!==(i=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==i?i:t.format,2===this.webGLVersion&&t.type===m.TYPES.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},Ai.prototype.updateTexture=function(t){var e,i,n,r=t._glTextures[this.CONTEXT_UID];r&&(n=this.renderer,this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r)?r.samplerType!==m.SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0):(e=t.realWidth,i=t.realHeight,n=n.gl,(r.width!==e||r.height!==i||r.dirtyId<0)&&(r.width=e,r.height=i,n.texImage2D(t.target,0,r.internalFormat,e,i,0,t.format,r.type,null))),t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId)},Ai.prototype.destroyTexture=function(t,e){var i=this.gl;(t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],e||-1!==(t=this.managedTextures.indexOf(t))&&g.removeItems(this.managedTextures,t,1))},Ai.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==m.MIPMAP_MODES.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=1<=t.mipmap:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=m.WRAP_MODES.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},Ai.prototype.setStyle=function(t,e){var i,n=this.gl;e.mipmap&&t.mipmap!==m.MIPMAP_MODES.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap?(n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST),(i=this.renderer.context.extensions.anisotropicFiltering)&&0<t.anisotropicLevel&&t.scaleMode===m.SCALE_MODES.LINEAR&&(e=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,e))):n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?n.LINEAR:n.NEAREST),n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===m.SCALE_MODES.LINEAR?n.LINEAR:n.NEAREST)},Ai.prototype.destroy=function(){this.renderer=null},Ai);function Ai(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new x,this.hasIntegerTextures=!1}var wi,Pi={__proto__:null,FilterSystem:Vt,BatchSystem:zt,ContextSystem:Wt,FramebufferSystem:Kt,GeometrySystem:ee,MaskSystem:je,ScissorSystem:We,StencilSystem:Qe,ProjectionSystem:Je,RenderTextureSystem:ni,ShaderSystem:_i,StateSystem:vi,TextureGCSystem:xi,TextureSystem:Si},Ci=new h.Matrix,Ri=(a(Oi,wi=g.EventEmitter),Oi.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(Oi.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),Oi.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);t=this.view.width/this.resolution,e=this.view.height/this.resolution;this.screen.width=t,this.screen.height=e,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},Oi.prototype.generateTexture=function(t,e,i,n){"number"==typeof(e=void 0===e?{}:e)&&(g.deprecation("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:i,region:n});i=e.region,e=function(t,e){var i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&(i[r[n]]=t[r[n]]);return i}(e,["region"]);0===(n=i||t.getLocalBounds(null,!0)).width&&(n.width=1),0===n.height&&(n.height=1);e=dt.create(l({width:n.width,height:n.height},e));return Ci.tx=-n.x,Ci.ty=-n.y,this.render(t,{renderTexture:e,clear:!1,transform:Ci,skipUpdateTransform:!!t.parent}),e},Oi.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);t=this;t.plugins=null,t.type=m.RENDERER_TYPE.UNKNOWN,t.view=null,t.screen=null,t._tempDisplayObjectParent=null,t.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(Oi.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=g.hex2string(t),g.hex2rgb(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(Oi.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),Oi);function Oi(t,e){void 0===t&&(t=m.RENDERER_TYPE.UNKNOWN);var i=wi.call(this)||this;return e=Object.assign({},f.settings.RENDER_OPTIONS,e),i.options=e,i.type=t,i.screen=new h.Rectangle(0,0,e.width,e.height),i.view=e.view||document.createElement("canvas"),i.resolution=e.resolution||f.settings.RESOLUTION,i.useContextAlpha=e.useContextAlpha,i.autoDensity=!!e.autoDensity,i.preserveDrawingBuffer=e.preserveDrawingBuffer,i.clearBeforeRender=e.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=e.backgroundColor||i._backgroundColor,i.backgroundAlpha=e.backgroundAlpha,void 0!==e.transparent&&(g.deprecation("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=e.transparent,i.backgroundAlpha=e.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}var Mi=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Ii=(Di.prototype.destroy=function(){this.renderer=null},Di.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},Di.prototype.bind=function(t){var e=this.gl,i=this.CONTEXT_UID,i=t._glBuffers[i]||this.createGLBuffer(t);e.bindBuffer(t.type,i.buffer)},Di.prototype.bindBufferBase=function(t,e){var i=this.gl,n=this.CONTEXT_UID;this.boundBufferBases[e]!==t&&(n=t._glBuffers[n]||this.createGLBuffer(t),this.boundBufferBases[e]=t,i.bindBufferBase(i.UNIFORM_BUFFER,e,n.buffer))},Di.prototype.bindBufferRange=function(t,e,i){var n=this.gl,r=this.CONTEXT_UID;i=i||0;t=t._glBuffers[r]||this.createGLBuffer(t);n.bindBufferRange(n.UNIFORM_BUFFER,e||0,t.buffer,256*i,256)},Di.prototype.update=function(t){var e=this.gl,i=this.CONTEXT_UID,n=t._glBuffers[i];t._updateID!==n.updateID&&(n.updateID=t._updateID,e.bindBuffer(t.type,n.buffer),n.byteLength>=t.data.byteLength?e.bufferSubData(t.type,0,t.data):(i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW,n.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)))},Di.prototype.dispose=function(t,e){var i,n;this.managedBuffers[t.id]&&(delete this.managedBuffers[t.id],i=t._glBuffers[this.CONTEXT_UID],n=this.gl,t.disposeRunner.remove(this),i&&(e||n.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID]))},Di.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},Di.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,i=this.gl;return t._glBuffers[e]=new Mi(i.createBuffer()),(this.managedBuffers[t.id]=t).disposeRunner.add(this),t._glBuffers[e]},Di);function Di(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}var ki,Ni=(a(Fi,ki=Ri),Fi.create=function(t){if(g.isWebGLSupported())return new Fi(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},Fi.prototype.contextChange=function(){var t,e,i=this.gl;1===this.context.webGLVersion?(e=i.getParameter(i.FRAMEBUFFER_BINDING),i.bindFramebuffer(i.FRAMEBUFFER,null),t=i.getParameter(i.SAMPLES),i.bindFramebuffer(i.FRAMEBUFFER,e)):(e=i.getParameter(i.DRAW_FRAMEBUFFER_BINDING),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),t=i.getParameter(i.SAMPLES),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,e)),t>=m.MSAA_QUALITY.HIGH?this.multisample=m.MSAA_QUALITY.HIGH:t>=m.MSAA_QUALITY.MEDIUM?this.multisample=m.MSAA_QUALITY.MEDIUM:t>=m.MSAA_QUALITY.LOW?this.multisample=m.MSAA_QUALITY.LOW:this.multisample=m.MSAA_QUALITY.NONE},Fi.prototype.addSystem=function(t,e){var i,n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(i in this[e]=n,this.runners)this.runners[i].add(n);return this},Fi.prototype.render=function(t,e){var i,n,r,s;e&&(s=e instanceof dt?(g.deprecation("6.0.0","Renderer#render arguments changed, use options instead."),i=e,n=arguments[2],r=arguments[3],arguments[4]):(i=e.renderTexture,n=e.clear,r=e.transform,e.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,this.context.isLost||(i||(this._lastObjectRendered=t),s||(s=t.enableTempParent(),t.updateTransform(),t.disableTempParent(s)),this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender"))},Fi.prototype.generateTexture=function(t,e,i,n){n=ki.prototype.generateTexture.call(this,t,e=void 0===e?{}:e,i,n);return this.framebuffer.blit(),n},Fi.prototype.resize=function(t,e){ki.prototype.resize.call(this,t,e),this.runners.resize.emit(this.screen.height,this.screen.width)},Fi.prototype.reset=function(){return this.runners.reset.emit(),this},Fi.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},Fi.prototype.destroy=function(t){for(var e in this.runners.destroy.emit(),this.runners)this.runners[e].destroy();ki.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(Fi.prototype,"extract",{get:function(){return g.deprecation("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),Fi.registerPlugin=function(t,e){(Fi.__plugins=Fi.__plugins||{})[t]=e},Fi);function Fi(t){var e=ki.call(this,m.RENDERER_TYPE.WEBGL,t)||this;return t=e.options,e.gl=null,e.CONTEXT_UID=0,e.runners={destroy:new n.Runner("destroy"),contextChange:new n.Runner("contextChange"),reset:new n.Runner("reset"),update:new n.Runner("update"),postrender:new n.Runner("postrender"),prerender:new n.Runner("prerender"),resize:new n.Runner("resize")},e.runners.contextChange.add(e),e.globalUniforms=new Nt({projectionMatrix:new h.Matrix},!0),e.addSystem(je,"mask").addSystem(Wt,"context").addSystem(vi,"state").addSystem(_i,"shader").addSystem(Si,"texture").addSystem(Ii,"buffer").addSystem(ee,"geometry").addSystem(Kt,"framebuffer").addSystem(We,"scissor").addSystem(Qe,"stencil").addSystem(Je,"projection").addSystem(xi,"textureGC").addSystem(Vt,"filter").addSystem(ni,"renderTexture").addSystem(zt,"batch"),e.initPlugins(Fi.__plugins),e.multisample=void 0,t.context?e.context.initFromContext(t.context):e.context.initFromOptions({alpha:!!e.useContextAlpha,antialias:t.antialias,premultipliedAlpha:e.useContextAlpha&&"notMultiplied"!==e.useContextAlpha,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:e.options.powerPreference}),e.renderingToScreen=!0,g.sayHello(2===e.context.webGLVersion?"WebGL 2":"WebGL 1"),e.resize(e.options.width,e.options.height),e}var Li=(Bi.prototype.destroy=function(){this.renderer=null},Bi);function Bi(t){g.deprecation("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}var Gi=function(){this.texArray=null,this.blend=0,this.type=m.DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null},Ui=(Vi.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},Vi);function Vi(){this.elements=[],this.ids=[],this.count=0}var ji=(Object.defineProperty(Hi.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(Hi.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),Hi.prototype.view=function(t){return this[t+"View"]},Hi.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},Hi.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Hi);function Hi(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}var Xi,zi=(a(qi,Xi=Ht),qi.prototype.contextChange=function(){var t=this.renderer.gl;f.settings.PREFER_ENV===m.ENV.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f.settings.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Se(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},qi.prototype.initFlushBuffers=function(){for(var t=qi._drawCallPool,e=qi._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new Gi);for(;e.length<n;)e.push(new Ui);for(var r=0;r<this.MAX_TEXTURES;r++)this._tempBoundTextures[r]=null},qi.prototype.onPrerender=function(){this._flushId=0},qi.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},qi.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,e=this.MAX_TEXTURES,i=qi._textureArrayPool,n=this.renderer.batch,r=this._tempBoundTextures,s=this.renderer.textureGC.count,o=++x._globalBatch,a=0,h=i[0],l=0;n.copyBoundTextures(r,e);for(var u=0;u<this._bufferSize;++u){var c=t[u];t[u]=null,c._batchEnabled!==o&&(h.count>=e&&(n.boundArray(h,r,o,e),this.buildDrawCalls(h,l,u),l=u,h=i[++a],++o),c._batchEnabled=o,c.touched=s,h.elements[h.count++]=c)}0<h.count&&(n.boundArray(h,r,o,e),this.buildDrawCalls(h,l,this._bufferSize),++a,++o);for(u=0;u<r.length;u++)r[u]=null;x._globalBatch=o},qi.prototype.buildDrawCalls=function(t,e,i){var n=this._bufferedElements,r=this._attributeBuffer,s=this._indexBuffer,o=this.vertexSize,a=qi._drawCallPool,h=this._dcIndex,l=this._aIndex,u=this._iIndex,c=a[h];c.start=this._iIndex,c.texArray=t;for(var p=e;p<i;++p){var d=n[p],f=d._texture.baseTexture,f=g.premultiplyBlendMode[f.alphaMode?1:0][d.blendMode];n[p]=null,e<p&&c.blend!==f&&(c.size=u-c.start,e=p,(c=a[++h]).texArray=t,c.start=u),this.packInterleavedGeometry(d,r,s,l,u),l+=d.vertexData.length/2*o,u+=d.indices.length,c.blend=f}e<i&&(c.size=u-c.start,++h),this._dcIndex=h,this._aIndex=l,this._iIndex=u},qi.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},qi.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;f.settings.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},qi.prototype.drawBatches=function(){for(var t=this._dcIndex,e=this.renderer,i=e.gl,n=e.state,r=qi._drawCallPool,s=null,o=0;o<t;o++){var a=r[o],h=a.texArray,l=a.type,u=a.size,c=a.start,a=a.blend;s!==h&&this.bindAndClearTexArray(s=h),this.state.blendMode=a,n.set(this.state),i.drawElements(l,u,i.UNSIGNED_SHORT,2*c)}},qi.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},qi.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),f.settings.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},qi.prototype.stop=function(){this.flush()},qi.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),Xi.prototype.destroy.call(this)},qi.prototype.getAttributeBuffer=function(t){var e=g.nextPow2(Math.ceil(t/8)),t=g.log2(e),e=8*e;this._aBuffers.length<=t&&(this._iBuffers.length=t+1);t=this._aBuffers[e];return t||(this._aBuffers[e]=t=new ji(e*this.vertexSize*4)),t},qi.prototype.getIndexBuffer=function(t){var e=g.nextPow2(Math.ceil(t/12)),i=g.log2(e),t=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);e=this._iBuffers[i];return e||(this._iBuffers[i]=e=new Uint16Array(t)),e},qi.prototype.packInterleavedGeometry=function(t,e,i,n,r){for(var s=e.uint32View,o=e.float32View,a=n/this.vertexSize,h=t.uvs,l=t.indices,u=t.vertexData,c=t._texture.baseTexture._batchLocation,e=Math.min(t.worldAlpha,1),p=e<1&&t._texture.baseTexture.alphaMode?g.premultiplyTint(t._tintRGB,e):t._tintRGB+(255*e<<24),d=0;d<u.length;d+=2)o[n++]=u[d],o[n++]=u[d+1],o[n++]=h[d],o[n++]=h[d+1],s[n++]=p,o[n++]=c;for(d=0;d<l.length;d++)i[r++]=a+l[d]},qi._drawCallPool=[],qi._textureArrayPool=[],qi);function qi(t){var e=Xi.call(this,t)||this;return e.shaderGenerator=null,e.geometryClass=null,e.vertexSize=null,e.state=Me.for2d(),e.size=4*f.settings.SPRITE_BATCH_SIZE,e._vertexCount=0,e._indexCount=0,e._bufferedElements=[],e._bufferedTextures=[],e._bufferSize=0,e._shader=null,e._packedGeometries=[],e._packedGeometryPoolSize=2,e._flushId=0,e._aBuffers={},e._iBuffers={},e.MAX_TEXTURES=1,e.renderer.on("prerender",e.onPrerender,e),t.runners.contextChange.add(e),e._dcIndex=0,e._aIndex=0,e._iIndex=0,e._attributeBuffer=null,e._indexBuffer=null,e._tempBoundTextures=[],e}var Yi=(Wi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Nt.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Pe(this.vertexSrc,n)}n={tint:new Float32Array([1,1,1,1]),translationMatrix:new h.Matrix,default:this.defaultGroupCache[t]};return new Re(this.programCache[t],n)},Wi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},Wi);function Wi(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}var $i,Zi=(a(Qi,$i=wt),Qi);function Qi(t){void 0===t&&(t=!1);var e=$i.call(this)||this;return e._buffer=new bt(null,t,!1),e._indexBuffer=new bt(null,t,!0),e.addAttribute("aVertexPosition",e._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aTextureCoord",e._buffer,2,!1,m.TYPES.FLOAT).addAttribute("aColor",e._buffer,4,!0,m.TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",e._buffer,1,!0,m.TYPES.FLOAT).addIndex(e._indexBuffer),e}var Ki="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",Ji="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",t=(tn.create=function(t){var e,t=Object.assign({vertex:Ki,fragment:Ji,geometryClass:Zi,vertexSize:6},t),i=t.vertex,n=t.fragment,r=t.vertexSize,s=t.geometryClass;return a(o,e=zi),o;function o(t){t=e.call(this,t)||this;return t.shaderGenerator=new Yi(i,n),t.geometryClass=s,t.vertexSize=r,t}},Object.defineProperty(tn,"defaultVertexSrc",{get:function(){return Ki},enumerable:!1,configurable:!0}),Object.defineProperty(tn,"defaultFragmentTemplate",{get:function(){return Ji},enumerable:!1,configurable:!0}),tn);function tn(){}var Xe=t.create(),en={};for(nn in Q)!function(t){Object.defineProperty(en,t,{get:function(){return g.deprecation("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),Q[t]}})}(nn);var nn,rn={};for(nn in Pi)!function(t){Object.defineProperty(rn,t,{get:function(){return g.deprecation("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),Pi[t]}})}(nn);i.AbstractBatchRenderer=zi,i.AbstractMultiResource=S,i.AbstractRenderer=Ri,i.ArrayResource=P,i.Attribute=_t,i.BaseImageResource=O,i.BaseRenderTexture=nt,i.BaseTexture=x,i.BatchDrawCall=Gi,i.BatchGeometry=Zi,i.BatchPluginFactory=t,i.BatchRenderer=Xe,i.BatchShaderGenerator=Yi,i.BatchSystem=zt,i.BatchTextureArray=Ui,i.Buffer=bt,i.BufferResource=p,i.CanvasResource=D,i.ContextSystem=Wt,i.CubeResource=F,i.Filter=ke,i.FilterState=Lt,i.FilterSystem=Vt,i.Framebuffer=tt,i.FramebufferSystem=Kt,i.GLFramebuffer=Zt,i.GLProgram=pi,i.GLTexture=Ei,i.Geometry=wt,i.GeometrySystem=ee,i.IGLUniformData=ci,i.INSTALLED=o,i.ImageBitmapResource=W,i.ImageResource=G,i.MaskData=ne,i.MaskSystem=je,i.ObjectRenderer=Ht,i.Program=Pe,i.ProjectionSystem=Je,i.Quad=Rt,i.QuadUv=It,i.RenderTexture=dt,i.RenderTexturePool=mt,i.RenderTextureSystem=ni,i.Renderer=Ni,i.Resource=y,i.SVGResource=j,i.ScissorSystem=We,i.Shader=Re,i.ShaderSystem=_i,i.SpriteMaskFilter=Ue,i.State=Me,i.StateSystem=vi,i.StencilSystem=Qe,i.System=Li,i.Texture=lt,i.TextureGCSystem=xi,i.TextureMatrix=Le,i.TextureSystem=Si,i.TextureUvs=st,i.UniformGroup=Nt,i.VideoResource=z,i.ViewableBuffer=ji,i.autoDetectRenderer=function(t){return Ni.create(t)},i.autoDetectResource=_,i.checkMaxIfStatementsInShader=Se,i.createUBOElements=hi,i.defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",i.defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",i.generateProgram=fi,i.generateUniformBufferSync=ui,i.getTestContext=pe,i.getUBOData=li,i.resources=en,i.systems=rn,i.uniformParsers=ve},{"@pixi/constants":9,"@pixi/math":23,"@pixi/runner":32,"@pixi/settings":33,"@pixi/ticker":40,"@pixi/utils":41}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/settings"),s=t("@pixi/math"),o=t("@pixi/utils");n.settings.SORTABLE_CHILDREN=!1;var a=(r.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},r.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},r.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?s.Rectangle.EMPTY:((t=t||new s.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},r.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},r.prototype.addPointMatrix=function(t,e){var i=t.a,n=t.b,r=t.c,s=t.d,o=t.tx,t=t.ty,o=i*e.x+r*e.y+o,t=n*e.x+s*e.y+t;this.minX=Math.min(this.minX,o),this.maxX=Math.max(this.maxX,o),this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)},r.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1],e=s<e?s:e,i=o<i?o:i,n=n<s?s:n,r=r<o?o:r;e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=n<s?s:n,r=r<o?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=n<s?s:n,r=r<o?o:r,s=t[6],i=(o=t[7])<i?o:i,n=n<s?s:n,r=r<o?o:r,this.minX=e=s<e?s:e,this.minY=i,this.maxX=n,this.maxY=r},r.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},r.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,h=t.d,l=t.tx,u=t.ty,c=s*e+a*i+l,p=o*e+h*i+u,d=c<(d=this.minX)?c:d,f=p<(f=this.minY)?p:f,m=(m=this.maxX)<c?c:m,t=(t=this.maxY)<p?p:t;d=(c=s*n+a*i+l)<d?c:d,f=(p=o*n+h*i+u)<f?p:f,m=m<c?c:m,t=t<p?p:t,d=(c=s*e+a*r+l)<d?c:d,f=(p=o*e+h*r+u)<f?p:f,t=t<p?p:t,f=(p=o*n+h*r+u)<f?p:f,m=(m=m<c?c:m)<(c=s*n+a*r+l)?c:m,t=t<p?p:t,this.minX=d=c<d?c:d,this.minY=f,this.maxX=m,this.maxY=t},r.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2)var h=t[a],l=t[a+1],n=h<n?h:n,r=l<r?l:r,s=s<h?h:s,o=o<l?l:o;this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},r.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},r.prototype.addVerticesMatrix=function(t,e,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s=r);for(var o=t.a,a=t.b,h=t.c,l=t.d,u=t.tx,c=t.ty,p=this.minX,d=this.minY,f=this.maxX,m=this.maxY,g=i;g<n;g+=2)var _=e[g],y=e[g+1],v=o*_+h*y+u,_=l*y+a*_+c,p=Math.min(p,v-r),f=Math.max(f,v+r),d=Math.min(d,_-s),m=Math.max(m,_+s);this.minX=p,this.minY=d,this.maxX=f,this.maxY=m},r.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},r.prototype.addBoundsMask=function(t,e){var i,n,r=(t.minX>e.minX?t:e).minX,s=(t.minY>e.minY?t:e).minY,o=(t.maxX<e.maxX?t:e).maxX,a=(t.maxY<e.maxY?t:e).maxY;r<=o&&s<=a&&(i=this.minX,n=this.minY,t=this.maxX,e=this.maxY,this.minX=r<i?r:i,this.minY=s<n?s:n,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},r.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},r.prototype.addBoundsArea=function(t,e){var i,n,r=t.minX>e.x?t.minX:e.x,s=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;r<=o&&s<=a&&(i=this.minX,n=this.minY,t=this.maxX,e=this.maxY,this.minX=r<i?r:i,this.minY=s<n?s:n,this.maxX=t<o?o:t,this.maxY=e<a?a:e)},r.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},r.prototype.addFramePad=function(t,e,i,n,r,s){e-=s,i+=r,n+=s,this.minX=this.minX<(t-=r)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},r);function r(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u,t=(l(c,u=o.EventEmitter),c.mixin=function(t){for(var e=Object.keys(t),i=0;i<e.length;++i){var n=e[i];Object.defineProperty(c.prototype,n,Object.getOwnPropertyDescriptor(t,n))}},Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),c.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},c.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},c.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new s.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},c.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new a);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,r=this._boundsID;this._bounds=this._localBounds;t=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-r,t},c.prototype.toGlobal=function(t,e,i){return(i=void 0===i?!1:i)||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},c.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},c.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},c.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t=void 0===t?0:t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},c.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(c.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new M),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),c.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},c.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(c.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"angle",{get:function(){return this.transform.rotation*s.RAD_TO_DEG},set:function(t){this.transform.rotation=t*s.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1}while(t=t.parent);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask!==t&&(this._mask&&((e=this._mask.maskObject||this._mask)._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1)),this._mask=t,this._mask&&(0===(e=this._mask.maskObject||this._mask)._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++))},enumerable:!1,configurable:!0}),c);function c(){var t=u.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new s.Transform,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new a,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}var p,d,f,m,g,_,y,v,b,x,T,E,S,A,w,P,C,R,O,M=(l(I,p=t),I);function I(){var t=null!==p&&p.apply(this,arguments)||this;return t.sortDirty=null,t}function D(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}t.prototype.displayObjectUpdateTransform=t.prototype.updateTransform,(d=d=d||{})[d.WEBGL_LEGACY=0]="WEBGL_LEGACY",d[d.WEBGL=1]="WEBGL",d[d.WEBGL2=2]="WEBGL2",(f=f=f||{})[f.UNKNOWN=0]="UNKNOWN",f[f.WEBGL=1]="WEBGL",f[f.CANVAS=2]="CANVAS",(m=m=m||{})[m.COLOR=16384]="COLOR",m[m.DEPTH=256]="DEPTH",m[m.STENCIL=1024]="STENCIL",(g=g=g||{})[g.NORMAL=0]="NORMAL",g[g.ADD=1]="ADD",g[g.MULTIPLY=2]="MULTIPLY",g[g.SCREEN=3]="SCREEN",g[g.OVERLAY=4]="OVERLAY",g[g.DARKEN=5]="DARKEN",g[g.LIGHTEN=6]="LIGHTEN",g[g.COLOR_DODGE=7]="COLOR_DODGE",g[g.COLOR_BURN=8]="COLOR_BURN",g[g.HARD_LIGHT=9]="HARD_LIGHT",g[g.SOFT_LIGHT=10]="SOFT_LIGHT",g[g.DIFFERENCE=11]="DIFFERENCE",g[g.EXCLUSION=12]="EXCLUSION",g[g.HUE=13]="HUE",g[g.SATURATION=14]="SATURATION",g[g.COLOR=15]="COLOR",g[g.LUMINOSITY=16]="LUMINOSITY",g[g.NORMAL_NPM=17]="NORMAL_NPM",g[g.ADD_NPM=18]="ADD_NPM",g[g.SCREEN_NPM=19]="SCREEN_NPM",g[g.NONE=20]="NONE",g[g.SRC_OVER=0]="SRC_OVER",g[g.SRC_IN=21]="SRC_IN",g[g.SRC_OUT=22]="SRC_OUT",g[g.SRC_ATOP=23]="SRC_ATOP",g[g.DST_OVER=24]="DST_OVER",g[g.DST_IN=25]="DST_IN",g[g.DST_OUT=26]="DST_OUT",g[g.DST_ATOP=27]="DST_ATOP",g[g.ERASE=26]="ERASE",g[g.SUBTRACT=28]="SUBTRACT",g[g.XOR=29]="XOR",(_=_=_||{})[_.POINTS=0]="POINTS",_[_.LINES=1]="LINES",_[_.LINE_LOOP=2]="LINE_LOOP",_[_.LINE_STRIP=3]="LINE_STRIP",_[_.TRIANGLES=4]="TRIANGLES",_[_.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",_[_.TRIANGLE_FAN=6]="TRIANGLE_FAN",(y=y=y||{})[y.RGBA=6408]="RGBA",y[y.RGB=6407]="RGB",y[y.RG=33319]="RG",y[y.RED=6403]="RED",y[y.RGBA_INTEGER=36249]="RGBA_INTEGER",y[y.RGB_INTEGER=36248]="RGB_INTEGER",y[y.RG_INTEGER=33320]="RG_INTEGER",y[y.RED_INTEGER=36244]="RED_INTEGER",y[y.ALPHA=6406]="ALPHA",y[y.LUMINANCE=6409]="LUMINANCE",y[y.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",y[y.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",y[y.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(v=v=v||{})[v.TEXTURE_2D=3553]="TEXTURE_2D",v[v.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",v[v.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",v[v.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",v[v.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",v[v.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",v[v.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",v[v.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",v[v.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(b=b=b||{})[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.UNSIGNED_INT=5125]="UNSIGNED_INT",b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",b[b.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",b[b.BYTE=5120]="BYTE",b[b.SHORT=5122]="SHORT",b[b.INT=5124]="INT",b[b.FLOAT=5126]="FLOAT",b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",b[b.HALF_FLOAT=36193]="HALF_FLOAT",(x=x=x||{})[x.FLOAT=0]="FLOAT",x[x.INT=1]="INT",x[x.UINT=2]="UINT",(T=T=T||{})[T.NEAREST=0]="NEAREST",T[T.LINEAR=1]="LINEAR",(E=E=E||{})[E.CLAMP=33071]="CLAMP",E[E.REPEAT=10497]="REPEAT",E[E.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(S=S=S||{})[S.OFF=0]="OFF",S[S.POW2=1]="POW2",S[S.ON=2]="ON",S[S.ON_MANUAL=3]="ON_MANUAL",(A=A=A||{})[A.NPM=0]="NPM",A[A.UNPACK=1]="UNPACK",A[A.PMA=2]="PMA",A[A.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",A[A.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",A[A.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",A[A.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(w=w=w||{})[w.NO=0]="NO",w[w.YES=1]="YES",w[w.AUTO=2]="AUTO",w[w.BLEND=0]="BLEND",w[w.CLEAR=1]="CLEAR",w[w.BLIT=2]="BLIT",(P=P=P||{})[P.AUTO=0]="AUTO",P[P.MANUAL=1]="MANUAL",(R=R=R||{}).LOW="lowp",R.MEDIUM="mediump",R.HIGH="highp",(R=C=C||{})[R.NONE=0]="NONE",R[R.SCISSOR=1]="SCISSOR",R[R.STENCIL=2]="STENCIL",R[R.SPRITE=3]="SPRITE",(O=O=O||{})[O.NONE=0]="NONE",O[O.LOW=2]="LOW",O[O.MEDIUM=4]="MEDIUM",O[O.HIGH=8]="HIGH",(N=N=N||{})[N.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",N[N.ARRAY_BUFFER=34962]="ARRAY_BUFFER",N[N.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var k,N=(l(F,k=t),F.prototype.onChildrenChange=function(t){},F.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var r=e[0];r.parent&&r.parent.removeChild(r),(r.parent=this).sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]},F.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),(t.parent=this).sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},F.prototype.swapChildren=function(t,e){var i,n;t!==e&&(i=this.getChildIndex(t),n=this.getChildIndex(e),this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n))},F.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},F.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);o.removeItems(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},F.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},F.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(1<e.length)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var r=e[0],s=this.children.indexOf(r);if(-1===s)return null;r.parent=null,r.transform._parentID=-1,o.removeItems(this.children,s,1),this._boundsID++,this.onChildrenChange(s),r.emit("removed",this),this.emit("childRemoved",r,this,s)}return e[0]},F.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,o.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},F.prototype.removeChildren=function(t,e){var i=t=void 0===t?0:t,n=(e=void 0===e?this.children.length:e)-i;if(0<n&&n<=e){for(var r=this.children.splice(i,n),s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(s=0;s<r.length;++s)r[s].emit("removed",this),this.emit("childRemoved",r[s],this,s);return r}if(0==n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},F.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&1<this.children.length&&this.children.sort(D),this.sortDirty=!1},F.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},F.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e,i=this.children[t];i.visible&&i.renderable&&(i.calculateBounds(),i._mask?((e=i._mask.maskObject||i._mask).calculateBounds(),this._bounds.addBoundsMask(i._bounds,e._bounds)):i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds))}this._bounds.updateID=this._boundsID},F.prototype.getLocalBounds=function(t,e){void 0===e&&(e=!1);t=k.prototype.getLocalBounds.call(this,t);if(!e)for(var i=0,n=this.children.length;i<n;++i){var r=this.children[i];r.visible&&r.updateTransform()}return t},F.prototype._calculateBounds=function(){},F.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},F.prototype.renderAdvanced=function(t){var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var n=this._enabledFilters.length=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n])}var r=e&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==C.NONE));r&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,s=this.children.length;n<s;n++)this.children[n].render(t);r&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},F.prototype._render=function(t){},F.prototype.destroy=function(t){k.prototype.destroy.call(this),this.sortDirty=!1;var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var n=0;n<i.length;++n)i[n].destroy(t)},Object.defineProperty(F.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),F);function F(){var t=k.call(this)||this;return t.children=[],t.sortableChildren=n.settings.SORTABLE_CHILDREN,t.sortDirty=!1,t}N.prototype.containerUpdateTransform=N.prototype.updateTransform,i.Bounds=a,i.Container=N,i.DisplayObject=t,i.TemporaryDisplayObject=M},{"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var u=t("@pixi/utils"),n=t("@pixi/math"),c=t("@pixi/core"),p=new n.Rectangle,n=(d.prototype.image=function(t,e,i){var n=new Image;return n.src=this.base64(t,e,i),n},d.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},d.prototype.canvas=function(t){var e,i,n,r=this.renderer,s=!1,o=!1;t&&(t instanceof c.RenderTexture?n=t:(n=this.renderer.generateTexture(t),o=!0)),n?(e=n.baseTexture.resolution,i=n.frame,s=!1,r.renderTexture.bind(n)):(e=this.renderer.resolution,s=!0,(i=p).width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var a=Math.floor(i.width*e+1e-4),h=Math.floor(i.height*e+1e-4),l=new u.CanvasRenderTarget(a,h,1),t=new Uint8Array(4*a*h),r=r.gl;r.readPixels(i.x*e,i.y*e,a,h,r.RGBA,r.UNSIGNED_BYTE,t);a=l.context.getImageData(0,0,a,h);return d.arrayPostDivide(t,a.data),l.context.putImageData(a,0,0),s&&((s=new u.CanvasRenderTarget(l.width,l.height,1)).context.scale(1,-1),s.context.drawImage(l.canvas,0,-h),l.destroy(),l=s),o&&n.destroy(!0),l.canvas},d.prototype.pixels=function(t){var e,i,n,r=this.renderer,s=!1;t&&(t instanceof c.RenderTexture?n=t:(n=this.renderer.generateTexture(t),s=!0)),n?(e=n.baseTexture.resolution,i=n.frame,r.renderTexture.bind(n)):(e=r.resolution,(i=p).width=r.width,i.height=r.height,r.renderTexture.bind(null));var o=i.width*e,a=i.height*e,t=new Uint8Array(4*o*a),r=r.gl;return r.readPixels(i.x*e,i.y*e,o,a,r.RGBA,r.UNSIGNED_BYTE,t),s&&n.destroy(!0),d.arrayPostDivide(t,t),t},d.prototype.destroy=function(){this.renderer=null},d.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var n=e[i+3]=t[i+3];0!==n?(e[i]=Math.round(Math.min(255*t[i]/n,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/n,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/n,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},d);function d(t){this.renderer=t}i.Extract=n},{"@pixi/core":10,"@pixi/math":23,"@pixi/utils":41}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=n.Filter,r(o=l,a=s),o.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h),Object.defineProperty(l.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),l);function h(){this.constructor=o}function l(t){void 0===t&&(t=1);var e=s.call(this,n.defaultVertex,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return e.alpha=t,e}i.AlphaFilter=t},{"@pixi/core":10}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),a=t("@pixi/settings"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function s(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";var o,l,u,c,p,d,f,m,g,_,y,v,b,x,T,E,S,A,w,P={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},C=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");(o=o=o||{})[o.WEBGL_LEGACY=0]="WEBGL_LEGACY",o[o.WEBGL=1]="WEBGL",o[o.WEBGL2=2]="WEBGL2",(l=l=l||{})[l.UNKNOWN=0]="UNKNOWN",l[l.WEBGL=1]="WEBGL",l[l.CANVAS=2]="CANVAS",(u=u=u||{})[u.COLOR=16384]="COLOR",u[u.DEPTH=256]="DEPTH",u[u.STENCIL=1024]="STENCIL",(c=c=c||{})[c.NORMAL=0]="NORMAL",c[c.ADD=1]="ADD",c[c.MULTIPLY=2]="MULTIPLY",c[c.SCREEN=3]="SCREEN",c[c.OVERLAY=4]="OVERLAY",c[c.DARKEN=5]="DARKEN",c[c.LIGHTEN=6]="LIGHTEN",c[c.COLOR_DODGE=7]="COLOR_DODGE",c[c.COLOR_BURN=8]="COLOR_BURN",c[c.HARD_LIGHT=9]="HARD_LIGHT",c[c.SOFT_LIGHT=10]="SOFT_LIGHT",c[c.DIFFERENCE=11]="DIFFERENCE",c[c.EXCLUSION=12]="EXCLUSION",c[c.HUE=13]="HUE",c[c.SATURATION=14]="SATURATION",c[c.COLOR=15]="COLOR",c[c.LUMINOSITY=16]="LUMINOSITY",c[c.NORMAL_NPM=17]="NORMAL_NPM",c[c.ADD_NPM=18]="ADD_NPM",c[c.SCREEN_NPM=19]="SCREEN_NPM",c[c.NONE=20]="NONE",c[c.SRC_OVER=0]="SRC_OVER",c[c.SRC_IN=21]="SRC_IN",c[c.SRC_OUT=22]="SRC_OUT",c[c.SRC_ATOP=23]="SRC_ATOP",c[c.DST_OVER=24]="DST_OVER",c[c.DST_IN=25]="DST_IN",c[c.DST_OUT=26]="DST_OUT",c[c.DST_ATOP=27]="DST_ATOP",c[c.ERASE=26]="ERASE",c[c.SUBTRACT=28]="SUBTRACT",c[c.XOR=29]="XOR",(p=p=p||{})[p.POINTS=0]="POINTS",p[p.LINES=1]="LINES",p[p.LINE_LOOP=2]="LINE_LOOP",p[p.LINE_STRIP=3]="LINE_STRIP",p[p.TRIANGLES=4]="TRIANGLES",p[p.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",p[p.TRIANGLE_FAN=6]="TRIANGLE_FAN",(d=d=d||{})[d.RGBA=6408]="RGBA",d[d.RGB=6407]="RGB",d[d.RG=33319]="RG",d[d.RED=6403]="RED",d[d.RGBA_INTEGER=36249]="RGBA_INTEGER",d[d.RGB_INTEGER=36248]="RGB_INTEGER",d[d.RG_INTEGER=33320]="RG_INTEGER",d[d.RED_INTEGER=36244]="RED_INTEGER",d[d.ALPHA=6406]="ALPHA",d[d.LUMINANCE=6409]="LUMINANCE",d[d.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",d[d.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",d[d.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(f=f=f||{})[f.TEXTURE_2D=3553]="TEXTURE_2D",f[f.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",f[f.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",f[f.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",f[f.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",f[f.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",f[f.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",f[f.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",f[f.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(m=m=m||{})[m.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",m[m.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",m[m.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",m[m.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",m[m.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",m[m.UNSIGNED_INT=5125]="UNSIGNED_INT",m[m.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",m[m.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",m[m.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",m[m.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",m[m.BYTE=5120]="BYTE",m[m.SHORT=5122]="SHORT",m[m.INT=5124]="INT",m[m.FLOAT=5126]="FLOAT",m[m.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",m[m.HALF_FLOAT=36193]="HALF_FLOAT",(g=g=g||{})[g.FLOAT=0]="FLOAT",g[g.INT=1]="INT",g[g.UINT=2]="UINT",(_=_=_||{})[_.NEAREST=0]="NEAREST",_[_.LINEAR=1]="LINEAR",(y=y=y||{})[y.CLAMP=33071]="CLAMP",y[y.REPEAT=10497]="REPEAT",y[y.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(v=v=v||{})[v.OFF=0]="OFF",v[v.POW2=1]="POW2",v[v.ON=2]="ON",v[v.ON_MANUAL=3]="ON_MANUAL",(x=x=x||{})[x.NPM=0]="NPM",x[x.UNPACK=1]="UNPACK",x[x.PMA=2]="PMA",x[x.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",x[x.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",x[x.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",x[x.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(x=b=b||{})[x.NO=0]="NO",x[x.YES=1]="YES",x[x.AUTO=2]="AUTO",x[x.BLEND=0]="BLEND",x[x.CLEAR=1]="CLEAR",x[x.BLIT=2]="BLIT",(T=T=T||{})[T.AUTO=0]="AUTO",T[T.MANUAL=1]="MANUAL",(E=E=E||{}).LOW="lowp",E.MEDIUM="mediump",E.HIGH="highp",(S=S=S||{})[S.NONE=0]="NONE",S[S.SCISSOR=1]="SCISSOR",S[S.STENCIL=2]="STENCIL",S[S.SPRITE=3]="SPRITE",(A=A=A||{})[A.NONE=0]="NONE",A[A.LOW=2]="LOW",A[A.MEDIUM=4]="MEDIUM",A[A.HIGH=8]="HIGH",(w=w=w||{})[w.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",w[w.ARRAY_BUFFER=34962]="ARRAY_BUFFER",w[w.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var R,O=(s(M,R=n.Filter),M.prototype.apply=function(t,e,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{var r=t.getFilterTexture(),s=t.renderer,o=e,a=r;this.state.blend=!1,t.applyFilter(this,o,a,b.CLEAR);for(var h=1;h<this.passes-1;h++){t.bindAndClear(o,b.BLIT);var l=this.uniforms.uSampler=a,a=o,o=l;s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,a,i,n),t.returnFilterTexture(r)}},Object.defineProperty(M.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),M);function M(t,e,i,n,r){void 0===e&&(e=8),void 0===i&&(i=4),void 0===n&&(n=a.settings.FILTER_RESOLUTION);var s=this,o=function(t,e){for(var i=Math.ceil(t/2),n=h,r="",s=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);",o=0;o<t;o++)r+=s.replace("%index%",o.toString()).replace("%sampleIndex%",o-(i-1)+".0"),r+="\n";return n=(n=n.replace("%blur%",r)).replace("%size%",t.toString())}(r=void 0===r?5:r,t),r=function(t){for(var e=P[t],i=e.length,n=C,r="",s=0;s<t;s++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s.toString()),a=s;r+=o=o.replace("%value%",e[a=i<=s?t-s-1:a].toString()),r+="\n"}return n=(n=n.replace("%blur%",r)).replace("%size%",t.toString())}(r);return(s=R.call(this,o,r)||this).horizontal=t,s.resolution=n,s._quality=0,s.quality=i,s.blur=e,s}var I,n=(s(D,I=n.Filter),D.prototype.apply=function(t,e,i,n){var r=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);r&&s?(r=t.getFilterTexture(),this.blurXFilter.apply(t,e,r,b.CLEAR),this.blurYFilter.apply(t,r,i,n),t.returnFilterTexture(r)):(s?this.blurYFilter:this.blurXFilter).apply(t,e,i,n)},D.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(D.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),D);function D(t,e,i,n){void 0===t&&(t=8),void 0===e&&(e=4),void 0===i&&(i=a.settings.FILTER_RESOLUTION),void 0===n&&(n=5);var r=I.call(this)||this;return r.blurXFilter=new O(!0,t,e,i,n),r.blurYFilter=new O(!1,t,e,i,n),r.resolution=i,r.quality=e,r.blur=t,r.repeatEdgePixels=!1,r}i.BlurFilter=n,i.BlurFilterPass=O},{"@pixi/core":10,"@pixi/settings":33}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=n.Filter,r(o=l,a=s),o.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h),l.prototype._loadMatrix=function(t,e){var i=t;(e=void 0===e?!1:e)&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},l.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},l.prototype._colorMatrix=function(t){t=new Float32Array(t);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},l.prototype.brightness=function(t,e){this._loadMatrix([t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0],e)},l.prototype.tint=function(t,e){this._loadMatrix([(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0],e)},l.prototype.greyscale=function(t,e){this._loadMatrix([t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0],e)},l.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},l.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),t=(0,Math.sqrt)(1/3);this._loadMatrix([i+1/3*(1-i),1/3*(1-i)-t*n,1/3*(1-i)+t*n,0,0,1/3*(1-i)+t*n,i+1/3*(1-i),1/3*(1-i)-t*n,0,0,1/3*(1-i)-t*n,1/3*(1-i)+t*n,i+1/3*(1-i),0,0,0,0,0,1,0],e)},l.prototype.contrast=function(t,e){var i=(t||0)+1,t=-.5*(i-1);this._loadMatrix([i,0,0,0,t,0,i,0,0,t,0,0,i,0,t,0,0,0,1,0],e)},l.prototype.saturate=function(t,e){var i=2*(t=void 0===t?0:t)/3+1,t=-.5*(i-1);this._loadMatrix([i,t,t,0,0,t,i,t,0,0,t,t,i,0,0,0,0,0,1,0],e)},l.prototype.desaturate=function(){this.saturate(-1)},l.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},l.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},l.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},l.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},l.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},l.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},l.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},l.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},l.prototype.colorTone=function(t,e,i,n,r){var s=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,a=(255&i)/255,h=((n=n||3375104)>>16&255)/255,i=(n>>8&255)/255,n=(255&n)/255;this._loadMatrix([.3,.59,.11,0,0,s,o,a,t=t||.2,0,h,i,n,e=e||.15,0,s-h,o-i,a-n,0,0],r)},l.prototype.night=function(t,e){this._loadMatrix([-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0],e)},l.prototype.predator=function(t,e){this._loadMatrix([11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0],e)},l.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},l.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(l.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),l);function h(){this.constructor=o}function l(){var t=this,e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=s.call(this,n.defaultFilterVertex,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",e)||this).alpha=1,t}t.prototype.grayscale=t.prototype.greyscale,i.ColorMatrixFilter=t},{"@pixi/core":10}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),r=t("@pixi/math"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var o,a,h,n=(o=n.Filter,s(a=u,h=o),a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l),u.prototype.apply=function(t,e,i,n){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var r=this.maskSprite.worldTransform,s=Math.sqrt(r.a*r.a+r.b*r.b),o=Math.sqrt(r.c*r.c+r.d*r.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=r.a/s,this.uniforms.rotation[1]=r.b/s,this.uniforms.rotation[2]=r.c/o,this.uniforms.rotation[3]=r.d/o),t.applyFilter(this,e,i,n)},Object.defineProperty(u.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),u);function l(){this.constructor=a}function u(t,e){var i=this,n=new r.Matrix;return t.renderable=!1,(i=o.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=n,i.scale=new r.Point(e=null==e?20:e,e),i}i.DisplacementFilter=n},{"@pixi/core":10,"@pixi/math":23}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var r,s,o,t=(r=t.Filter,n(s=h,o=r),s.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a),h);function a(){this.constructor=s}function h(){return r.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}i.FXAAFilter=t},{"@pixi/core":10}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var s,o,a,t=(s=n.Filter,r(o=l,a=s),o.prototype=null===a?Object.create(a):(h.prototype=a.prototype,new h),Object.defineProperty(l.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),l);function h(){this.constructor=o}function l(t,e){void 0===t&&(t=.5),void 0===e&&(e=Math.random());var i=s.call(this,n.defaultFilterVertex,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=e,i}i.NoiseFilter=t},{"@pixi/core":10}],19:[function(t,e,H){"use strict";Object.defineProperty(H,"__esModule",{value:!0});var f=t("@pixi/core"),X=t("@pixi/math"),c=t("@pixi/utils"),g=t("@pixi/constants"),i=t("@pixi/display");(u=H.LINE_JOIN||(H.LINE_JOIN={})).MITER="miter",u.BEVEL="bevel",u.ROUND="round",(U=H.LINE_CAP||(H.LINE_CAP={})).BUTT="butt",U.ROUND="round",U.SQUARE="square";var z={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;t=Math.ceil(t/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}},n=(r.prototype.clone=function(){var t=new r;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},r.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=f.Texture.WHITE,this.matrix=null,this.visible=!1},r.prototype.destroy=function(){this.texture=null,this.matrix=null},r);function r(){this.color=16777215,this.alpha=1,this.texture=f.Texture.WHITE,this.matrix=null,this.visible=!1,this.reset()}var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function o(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var a={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var i=t.points,n=t.holes,r=e.points,s=e.indices;if(6<=i.length){for(var o=[],a=0;a<n.length;a++){var h=n[a];o.push(i.length/2),i=i.concat(h.points)}var l=c.earcut(i,o,2);if(l){for(var u=r.length/2,a=0;a<l.length;a+=3)s.push(l[a]+u),s.push(l[a+1]+u),s.push(l[a+2]+u);for(a=0;a<i.length;a++)r.push(i[a])}}}},h={build:function(t){var e,i,n=t.shape,r=t.points,s=n.x,o=n.y;if(r.length=0,i=t.type===X.SHAPES.CIRC?(e=n.radius,n.radius):(e=(t=t.shape).width,t.height),0!==e&&0!==i){var a=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+i));a/=2.3;for(var h=2*Math.PI/a,l=0;l<a-.5;l++)r.push(s+Math.sin(-h*l)*e,o+Math.cos(-h*l)*i);r.push(r[0],r[1])}},triangulate:function(t,e){var i=t.points,n=e.points,r=e.indices,s=n.length/2,o=s,a=t.shape,h=t.matrix,e=a.x,a=a.y;n.push(t.matrix?h.a*e+h.c*a+h.tx:e,t.matrix?h.b*e+h.d*a+h.ty:a);for(var l=0;l<i.length;l+=2)n.push(i[l],i[l+1]),r.push(s++,o,s)}},t={build:function(t){var e=t.shape,i=e.x,n=e.y,r=e.width,e=e.height,t=t.points;t.length=0,t.push(i,n,i+r,n,i+r,n+e,i,n+e)},triangulate:function(t,e){var i=t.points,n=e.points,t=n.length/2;n.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),e.indices.push(t,1+t,2+t,1+t,2+t,3+t)}};function _(t,e,i){return t+(e-t)*i}function l(t,e,i,n,r,s,o){for(var a,h,l,u,c,p,d,f=o=void 0===o?[]:o,m=0;m<=20;++m)a=_(t,i,d=m/20),h=_(e,n,d),l=_(i,r,d),u=_(n,s,d),c=_(a,l,d),p=_(h,u,d),0===m&&f[f.length-2]===c&&f[f.length-1]===p||f.push(c,p);return f}var u={build:function(t){var e=t.shape,i=t.points,n=e.x,r=e.y,s=e.width,t=e.height,e=Math.max(0,Math.min(e.radius,Math.min(s,t)/2));i.length=0,e?(l(n,r+e,n,r,n+e,r,i),l(n+s-e,r,n+s,r,n+s,r+e,i),l(n+s,r+t-e,n+s,r+t,n+s-e,r+t,i),l(n+e,r+t,n,r+t,n,r+t-e,i)):i.push(n,r,n+s,r,n+s,r+t,n,r+t)},triangulate:function(t,e){for(var i=t.points,n=e.points,r=e.indices,s=n.length/2,o=c.earcut(i,null,2),a=0,h=o.length;a<h;a+=3)r.push(o[a]+s),r.push(o[a+1]+s),r.push(o[a+2]+s);for(a=0,h=i.length;a<h;a++)n.push(i[a],i[++a])}};function q(t,e,i,n,r,s,o,a){var h,l=o?(h=n,-i):(h=-n,i),o=t+i*s+h,s=e+n*s+l;return a.push(t-i*r+h,e-n*r+l),a.push(o,s),2}function Y(t,e,i,n,r,s,o,a){var h=i-t,l=n-e,u=Math.atan2(h,l),c=Math.atan2(r-t,s-e);a&&u<c?u+=2*Math.PI:!a&&c<u&&(c+=2*Math.PI);var p=u,c=c-u,u=Math.abs(c),d=Math.sqrt(h*h+l*l),f=1+(15*u*Math.sqrt(d)/Math.PI>>0),m=c/f;if(p+=m,a){o.push(t,e),o.push(i,n);for(var g=1,_=p;g<f;g++,_+=m)o.push(t,e),o.push(t+Math.sin(_)*d,e+Math.cos(_)*d);o.push(t,e),o.push(r,s)}else{o.push(i,n),o.push(t,e);for(g=1,_=p;g<f;g++,_+=m)o.push(t+Math.sin(_)*d,e+Math.cos(_)*d),o.push(t,e);o.push(r,s),o.push(t,e)}return 2*f}function p(t,e){(t.lineStyle.native?function(t,e){var i=0,n=t.shape,r=t.points||n.points,n=n.type!==X.SHAPES.POLY||n.closeStroke;if(0!==r.length){var s=e.points,o=e.indices,a=r.length/2,e=s.length/2,h=e;for(s.push(r[0],r[1]),i=1;i<a;i++)s.push(r[2*i],r[2*i+1]),o.push(h,h+1),h++;n&&o.push(h,e)}}:function(t,e){var i=t.shape,n=t.points||i.points.slice(),r=e.closePointEps;if(0!==n.length){var s=t.lineStyle,o=new X.Point(n[0],n[1]),t=new X.Point(n[n.length-2],n[n.length-1]),i=i.type!==X.SHAPES.POLY||i.closeStroke,r=Math.abs(o.x-t.x)<r&&Math.abs(o.y-t.y)<r;i&&(n=n.slice(),r&&(n.pop(),n.pop(),t.set(n[n.length-2],n[n.length-1])),r=.5*(o.x+t.x),A=.5*(t.y+o.y),n.unshift(r,A),n.push(r,A));var a,h,l=e.points,u=n.length/2,c=n.length,p=l.length/2,d=s.width/2,f=d*d,m=s.miterLimit*s.miterLimit,g=n[0],_=n[1],y=n[2],v=n[3],b=0,x=0,T=-(_-v),E=g-y,S=Math.sqrt(T*T+E*E);T/=S,E/=S,T*=d,E*=d;var A=s.alignment,w=2*(1-A),P=2*A;i||(s.cap===H.LINE_CAP.ROUND?c+=Y(g-T*(w-P)*.5,_-E*(w-P)*.5,g-T*w,_-E*w,g+T*P,_+E*P,l,!0)+2:s.cap===H.LINE_CAP.SQUARE&&(c+=q(g,_,T,E,w,P,!0,l))),l.push(g-T*w,_-E*w),l.push(g+T*P,_+E*P);for(var C=1;C<u-1;++C){g=n[2*(C-1)],_=n[2*(C-1)+1],y=n[2*C],v=n[2*C+1],b=n[2*(C+1)],x=n[2*(C+1)+1],T=-(_-v),E=g-y,T/=S=Math.sqrt(T*T+E*E),E/=S,T*=d,E*=d,a=-(v-x),h=y-b,a/=S=Math.sqrt(a*a+h*h),h/=S,a*=d,h*=d;var R,O,M,I,D,k,N=y-g,F=_-v,L=y-b,B=x-v,G=F*L-B*N,U=G<0;Math.abs(G)<.1?(l.push(y-T*w,v-E*w),l.push(y+T*P,v+E*P)):(M=y+((R=(N*(k=(-a+b)*(-h+v)-(-a+y)*(-h+x))-L*(D=(-T+g)*(-E+v)-(-T+y)*(-E+_)))/G)-y)*w,I=v+((O=(B*D-F*k)/G)-v)*w,D=y-(R-y)*P,k=v-(O-v)*P,G=U?w:P,(O=(R-y)*(R-y)+(O-v)*(O-v))<=Math.min(N*N+F*F,L*L+B*B)+G*G*f?s.join===H.LINE_JOIN.BEVEL||m<O/f?(U?(l.push(M,I),l.push(y+T*P,v+E*P),l.push(M,I),l.push(y+a*P,v+h*P)):(l.push(y-T*w,v-E*w),l.push(D,k),l.push(y-a*w,v-h*w),l.push(D,k)),c+=2):s.join===H.LINE_JOIN.ROUND?U?(l.push(M,I),l.push(y+T*P,v+E*P),c+=Y(y,v,y+T*P,v+E*P,y+a*P,v+h*P,l,!0)+4,l.push(M,I),l.push(y+a*P,v+h*P)):(l.push(y-T*w,v-E*w),l.push(D,k),c+=Y(y,v,y-T*w,v-E*w,y-a*w,v-h*w,l,!1)+4,l.push(y-a*w,v-h*w),l.push(D,k)):(l.push(M,I),l.push(D,k)):(l.push(y-T*w,v-E*w),l.push(y+T*P,v+E*P),s.join===H.LINE_JOIN.BEVEL||m<O/f||(s.join===H.LINE_JOIN.ROUND?c+=U?Y(y,v,y+T*P,v+E*P,y+a*P,v+h*P,l,!0)+2:Y(y,v,y-T*w,v-E*w,y-a*w,v-h*w,l,!1)+2:(U?(l.push(D,k),l.push(D,k)):(l.push(M,I),l.push(M,I)),c+=2)),l.push(y-a*w,v-h*w),l.push(y+a*P,v+h*P),c+=2))}g=n[2*(u-2)],_=n[2*(u-2)+1],y=n[2*(u-1)],T=-(_-(v=n[2*(u-1)+1])),E=g-y,T/=S=Math.sqrt(T*T+E*E),E/=S,l.push(y-(T*=d)*w,v-(E*=d)*w),l.push(y+T*P,v+E*P),i||(s.cap===H.LINE_CAP.ROUND?c+=Y(y-T*(w-P)*.5,v-E*(w-P)*.5,y-T*w,v-E*w,y+T*P,v+E*P,l,!1)+2:s.cap===H.LINE_CAP.SQUARE&&(c+=q(y,v,T,E,w,P,!1,l)));for(var V=e.indices,j=z.epsilon*z.epsilon,C=p;C<c+p-2;++C)g=l[2*C],_=l[2*C+1],y=l[2*(C+1)],v=l[2*(C+1)+1],b=l[2*(C+2)],x=l[2*(C+2)+1],Math.abs(g*(v-x)+y*(x-_)+b*(_-v))<j||V.push(C,C+1,C+2)}})(t,e)}var d=(m.curveTo=function(t,e,i,n,r,s){var o=s[s.length-2],a=s[s.length-1]-e,h=o-t,l=n-e,u=i-t,c=Math.abs(a*u-h*l);if(c<1e-8||0===r)return s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e),null;var p=a*a+h*h,d=l*l+u*u,o=a*l+h*u,n=r*Math.sqrt(p)/c,i=r*Math.sqrt(d)/c,s=n*o/p,c=i*o/d,p=n*u+i*h,o=n*l+i*a,d=u*(n+c),c=l*(n+c);return{cx:p+t,cy:o+e,radius:r,startAngle:Math.atan2(a*(i+s)-o,h*(i+s)-p),endAngle:Math.atan2(c-o,d-p),anticlockwise:u*a<h*l}},m.arc=function(t,e,i,n,r,s,o,a,h){for(var l=o-s,o=z._segmentsCount(Math.abs(l)*r,40*Math.ceil(Math.abs(l)/X.PI_2)),u=l/(2*o),c=2*u,p=Math.cos(u),d=Math.sin(u),f=o-1,m=f%1/f,g=0;g<=f;++g){var _=u+s+c*(g+m*g),y=Math.cos(_),_=-Math.sin(_);h.push((p*y+d*_)*r+i,(p*-_+d*y)*r+n)}},m);function m(){}var y=(v.curveLength=function(t,e,i,n,r,s,o,a){for(var h,l,u,c,p,d,f,m,g,_,y=0,v=t,b=e,x=1;x<=10;++x)g=v-(f=(d=(p=(c=1-(h=x/10))*c)*c)*t+3*p*h*i+3*c*(l=h*h)*r+(u=l*h)*o),_=b-(m=d*e+3*p*h*n+3*c*l*s+u*a),v=f,b=m,y+=Math.sqrt(g*g+_*_);return y},v.curveTo=function(t,e,i,n,r,s,o){var a=o[o.length-2],h=o[o.length-1];o.length-=2;var l,u,c,p,d,f=z._segmentsCount(v.curveLength(a,h,t,e,i,n,r,s));o.push(a,h);for(var m,g=1;g<=f;++g)o.push((c=(u=(l=1-(m=g/f))*l)*l)*a+3*u*m*t+3*l*(p=m*m)*i+(d=p*m)*r,c*h+3*u*m*e+3*l*p*n+d*s)},v);function v(){}var b=(x.curveLength=function(t,e,i,n,r,s){var o=t-2*i+r,a=e-2*n+s,r=2*i-2*t,s=2*n-2*e,i=4*(o*o+a*a),t=4*(o*r+a*s),n=r*r+s*s,e=2*Math.sqrt(i+t+n),o=Math.sqrt(i),a=2*i*o,r=2*Math.sqrt(n),s=t/o;return(a*e+o*t*(e-r)+(4*n*i-t*t)*Math.log((2*o+s+e)/(s+r)))/(4*a)},x.curveTo=function(t,e,i,n,r){for(var s=r[r.length-2],o=r[r.length-1],a=z._segmentsCount(x.curveLength(s,o,t,e,i,n)),h=0,l=0,u=1;u<=a;++u){var c=u/a;r.push((h=s+(t-s)*c)+(t+(i-t)*c-h)*c,(l=o+(e-o)*c)+(e+(n-e)*c-l)*c)}},x);function x(){}var T=(E.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},E.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},E.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},E);function E(){this.reset()}var S=((U={})[X.SHAPES.POLY]=a,U[X.SHAPES.CIRC]=h,U[X.SHAPES.ELIP]=h,U[X.SHAPES.RECT]=t,U[X.SHAPES.RREC]=u,U),A=[],w=[];var P=(C.prototype.clone=function(){return new C(this.shape,this.fillStyle,this.lineStyle,this.matrix)},C.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},C);function C(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=n,this.type=t.type}var R,O=new X.Point,M=new i.Bounds,I=(o(D,R=f.BatchGeometry),Object.defineProperty(D.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),D.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0;for(var t=this.textureIds.length=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),w.push(this.drawCalls[t]);for(t=this.drawCalls.length=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),A.push(e)}this.batches.length=0},D.prototype.clear=function(){return 0<this.graphicsData.length&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},D.prototype.drawShape=function(t,e,i,n){n=new P(t,e=void 0===e?null:e,i=void 0===i?null:i,n=void 0===n?null:n);return this.graphicsData.push(n),this.dirty++,this},D.prototype.drawHole=function(t,e){if(!this.graphicsData.length)return null;t=new P(t,null,null,e=void 0===e?null:e),e=this.graphicsData[this.graphicsData.length-1];return t.lineStyle=e.lineStyle,e.holes.push(t),this.dirty++,this},D.prototype.destroy=function(){R.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},D.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var n=e[i];if(n.fillStyle.visible&&(n.shape&&(n.matrix?n.matrix.applyInverse(t,O):O.copyFrom(t),n.shape.contains(O.x,O.y)))){var r=!1;if(n.holes)for(var s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(O.x,O.y)){r=!0;break}if(!r)return!0}}return!1},D.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,i=this.graphicsData,n=null,r=null;0<this.batches.length&&(r=(n=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var o=i[s],a=o.fillStyle,h=o.lineStyle;S[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var l=0;l<2;l++){var u,c,p,d=0===l?a:h;d.visible&&(p=d.texture.baseTexture,u=this.indices.length,c=this.points.length/2,p.wrapMode=g.WRAP_MODES.REPEAT,0===l?this.processFill(o):this.processLine(o),0!=(p=this.points.length/2-c)&&(n&&!this._compareStyles(r,d)&&(n.end(u,c),n=null),n||((n=A.pop()||new T).begin(d,u,c),this.batches.push(n),r=d),this.addUvs(this.points,e,d.texture,c,p,d.matrix)))}}var f=this.indices.length,m=this.points.length/2;n&&n.end(f,m),0!==this.batches.length?(this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=new(65535<m&&t?Uint32Array:Uint16Array)(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()):this.batchable=!0}}else this.batchable=!0},D.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},D.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var i=this.graphicsData[t],n=i.fillStyle,i=i.lineStyle;if(n&&!n.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},D.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,i=t.length;e<i;e++)for(var n=t[e],r=0;r<n.size;r++){var s=n.start+r;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}},D.prototype.isBatchable=function(){if(131070<this.points.length)return!1;for(var t=this.batches,e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<2*D.BATCHABLE_SIZE},D.prototype.buildDrawCalls=function(){for(var t=++f.BaseTexture._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),w.push(this.drawCalls[e]);this.drawCalls.length=0;var i=this.colors,n=this.textureIds,r=w.pop();r||((r=new f.BatchDrawCall).texArray=new f.BatchTextureArray),r.texArray.count=0,r.start=0,r.size=0,r.type=g.DRAW_MODES.TRIANGLES;var s,o=0,a=null,h=!1,l=g.DRAW_MODES.TRIANGLES,u=0;this.drawCalls.push(r);for(e=0;e<this.batches.length;e++){var c=this.batches[e],p=c.style,d=p.texture.baseTexture;h!==!!p.native&&(l=(h=!!p.native)?g.DRAW_MODES.LINES:g.DRAW_MODES.TRIANGLES,a=null,o=8,t++),a!==d&&(a=d)._batchEnabled!==t&&(8===o&&(t++,(o=0)<r.size&&((r=w.pop())||((r=new f.BatchDrawCall).texArray=new f.BatchTextureArray),this.drawCalls.push(r)),r.start=u,r.size=0,r.texArray.count=0,r.type=l),d.touched=1,d._batchEnabled=t,d._batchLocation=o,d.wrapMode=g.WRAP_MODES.REPEAT,r.texArray.elements[r.texArray.count++]=d,o++),r.size+=c.size,u+=c.size,s=d._batchLocation,this.addColors(i,p.color,p.alpha,c.attribSize,c.attribStart),this.addTextureIds(n,s,c.attribSize,c.attribStart)}f.BaseTexture._globalBatch=t,this.packAttributes()},D.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,i=this.colors,n=this.textureIds,r=new ArrayBuffer(3*t.length*4),s=new Float32Array(r),o=new Uint32Array(r),a=0,h=0;h<t.length/2;h++)s[a++]=t[2*h],s[a++]=t[2*h+1],s[a++]=e[2*h],s[a++]=e[2*h+1],o[a++]=i[h],s[a++]=n[h];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},D.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),a.triangulate(t,this)):S[t.type].triangulate(t,this)},D.prototype.processLine=function(t){p(t,this);for(var e=0;e<t.holes.length;e++)p(t.holes[e],this)},D.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var i=t[e];S[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},D.prototype.calculateBounds=function(){var t=this._bounds,e=M,i=X.Matrix.IDENTITY;this._bounds.clear(),e.clear();for(var n=0;n<this.graphicsData.length;n++){var r=this.graphicsData[n],s=r.shape,o=r.type,a=r.lineStyle,h=r.matrix||X.Matrix.IDENTITY,l=0;a&&a.visible&&(r=a.alignment,l=a.width,o===X.SHAPES.POLY?!function(t){for(var e=t.points,i=0,n=0;n<e.length-2;n+=2)i+=(e[n+2]-e[n])*(e[n+3]+e[n+1]);return 0<i}(s)?l*=r:l*=1-r:l*=Math.max(0,r)),i!==h&&(e.isEmpty()||(t.addBoundsMatrix(e,i),e.clear()),i=h),o===X.SHAPES.RECT||o===X.SHAPES.RREC?e.addFramePad(s.x,s.y,s.x+s.width,s.y+s.height,l,l):o===X.SHAPES.CIRC?e.addFramePad(s.x,s.y,s.x,s.y,s.radius+l,s.radius+l):o===X.SHAPES.ELIP?e.addFramePad(s.x,s.y,s.x,s.y,s.width+l,s.height+l):t.addVerticesMatrix(i,s.points,0,s.points.length,l,l)}e.isEmpty()||t.addBoundsMatrix(e,i),t.pad(this.boundsPadding,this.boundsPadding)},D.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var n=t[2*i],r=t[2*i+1];t[2*i]=e.a*n+e.c*r+e.tx,t[2*i+1]=e.b*n+e.d*r+e.ty}},D.prototype.addColors=function(t,e,i,n,r){void 0===r&&(r=0);var s=c.premultiplyTint((e>>16)+(65280&e)+((255&e)<<16),i);t.length=Math.max(t.length,r+n);for(var o=0;o<n;o++)t[r+o]=s},D.prototype.addTextureIds=function(t,e,i,n){void 0===n&&(n=0),t.length=Math.max(t.length,n+i);for(var r=0;r<i;r++)t[n+r]=e},D.prototype.addUvs=function(t,e,i,n,r,s){void 0===s&&(s=null);for(var o=0,a=e.length,h=i.frame;o<r;){var l,u=t[2*(n+o)],c=t[2*(n+o)+1];s&&(l=s.a*u+s.c*c+s.tx,c=s.b*u+s.d*c+s.ty,u=l),o++,e.push(u/h.width,c/h.height)}var p=i.baseTexture;(h.width<p.width||h.height<p.height)&&this.adjustUvs(e,i,a,r)},D.prototype.adjustUvs=function(t,e,i,n){for(var r=e.baseTexture,s=i+2*n,e=e.frame,o=e.width/r.width,a=e.height/r.height,h=e.x/e.width,l=e.y/e.height,u=Math.floor(t[i]+1e-6),c=Math.floor(t[i+1]+1e-6),p=i+2;p<s;p+=2)u=Math.min(u,Math.floor(t[p]+1e-6)),c=Math.min(c,Math.floor(t[p+1]+1e-6));h-=u,l-=c;for(p=i;p<s;p+=2)t[p]=(t[p]+h)*o,t[p+1]=(t[p+1]+l)*a},D.BATCHABLE_SIZE=100,D);function D(){var t=R.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new i.Bounds,t.boundsDirty=-1,t}var k,N=(o(F,k=n),F.prototype.clone=function(){var t=new F;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},F.prototype.reset=function(){k.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},F);function F(){var t=null!==k&&k.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=H.LINE_CAP.BUTT,t.join=H.LINE_JOIN.MITER,t.miterLimit=10,t}var L,B=new Float32Array(3),G={},U=(o(V,L=i.Container),Object.defineProperty(V.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),V.prototype.clone=function(){return this.finishPoly(),new V(this._geometry)},Object.defineProperty(V.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(V.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),V.prototype.lineStyle=function(t,e,i,n,r){return void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=.5),void 0===r&&(r=!1),this.lineTextureStyle(t="number"==typeof(t=void 0===t?null:t)?{width:t,color:e,alpha:i,alignment:n,native:r}:t)},V.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:f.Texture.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:H.LINE_CAP.BUTT,join:H.LINE_JOIN.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=0<t.width&&0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},V.prototype.startPoly=function(){var t,e;this.currentPath?(t=this.currentPath.points,2<(e=this.currentPath.points.length)&&(this.drawShape(this.currentPath),this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))):(this.currentPath=new X.Polygon,this.currentPath.closeStroke=!1)},V.prototype.finishPoly=function(){this.currentPath&&(2<this.currentPath.points.length?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},V.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},V.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,n=i[i.length-2],r=i[i.length-1];return n===t&&r===e||i.push(t,e),this},V.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},V.prototype.quadraticCurveTo=function(t,e,i,n){this._initCurve();var r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),b.curveTo(t,e,i,n,r),this},V.prototype.bezierCurveTo=function(t,e,i,n,r,s){return this._initCurve(),y.curveTo(t,e,i,n,r,s,this.currentPath.points),this},V.prototype.arcTo=function(t,e,i,n,r){this._initCurve(t,e);var s=this.currentPath.points,t=d.curveTo(t,e,i,n,r,s);return t&&(e=t.cx,i=t.cy,n=t.radius,r=t.startAngle,s=t.endAngle,t=t.anticlockwise,this.arc(e,i,n,r,s,t)),this},V.prototype.arc=function(t,e,i,n,r,s){if(n===r)return this;if(!(s=void 0===s?!1:s)&&r<=n?r+=X.PI_2:s&&n<=r&&(n+=X.PI_2),0==r-n)return this;var o,a,h=t+Math.cos(n)*i,l=e+Math.sin(n)*i,u=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;return c?(o=Math.abs(c[c.length-2]-h),a=Math.abs(c[c.length-1]-l),o<u&&a<u||c.push(h,l)):(this.moveTo(h,l),c=this.currentPath.points),d.arc(h,l,t,e,i,n,r,s,c),this},V.prototype.beginFill=function(t,e){return this.beginTextureFill({texture:f.Texture.WHITE,color:t=void 0===t?0:t,alpha:e=void 0===e?1:e})},V.prototype.beginTextureFill=function(t){t=Object.assign({texture:f.Texture.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=0<t.alpha;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},V.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},V.prototype.drawRect=function(t,e,i,n){return this.drawShape(new X.Rectangle(t,e,i,n))},V.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new X.RoundedRectangle(t,e,i,n,r))},V.prototype.drawCircle=function(t,e,i){return this.drawShape(new X.Circle(t,e,i))},V.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new X.Ellipse(t,e,i,n))},V.prototype.drawPolygon=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var n=!0,r=e[0],r=r.points?(n=r.closeStroke,r.points):Array.isArray(e[0])?e[0]:e,r=new X.Polygon(r);return r.closeStroke=n,this.drawShape(r),this},V.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},V.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},V.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==X.SHAPES.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},V.prototype._render=function(t){this.finishPoly();var e=this._geometry,i=t.context.supports.uint32Indices;e.updateBatches(i),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},V.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,i=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(t.points);for(var n=0;n<i;n++){var r=t.batches[n],s=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),a=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),r={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:a,_batchRGB:c.hex2rgb(s),_tintRGB:s,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[n]=r}},V.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,i=this.batches.length;e<i;e++){var n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}},V.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),i=this._geometry,n=this.tint,r=this.worldAlpha,s=e.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(n>>16&255)/255*r,s.tint[1]=(n>>8&255)/255*r,s.tint[2]=(255&n)/255*r,s.tint[3]=r,t.shader.bind(e),t.geometry.bind(i,e),t.state.set(this.state);for(var a=0,h=o.length;a<h;a++)this._renderDrawCallDirect(t,i.drawCalls[a])},V.prototype._renderDrawCallDirect=function(t,e){for(var i=e.texArray,n=e.type,r=e.size,e=e.start,s=i.count,o=0;o<s;o++)t.texture.bind(i.elements[o],o);t.geometry.draw(n,r,e)},V.prototype._resolveDirectShader=function(t){var e=this.shader,i=this.pluginName;if(!e){if(!G[i]){for(var n=t.plugins.batch.MAX_TEXTURES,r=new Int32Array(n),s=0;s<n;s++)r[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new X.Matrix,default:f.UniformGroup.from({uSamplers:r},!0)},t=t.plugins[i]._shader.program;G[i]=new f.Shader(t,o)}e=G[i]}return e},V.prototype._calculateBounds=function(){this.finishPoly();var t,e,i,n=this._geometry;n.graphicsData.length&&(t=(i=n.bounds).minX,e=i.minY,n=i.maxX,i=i.maxY,this._bounds.addFrame(this.transform,t,e,n,i))},V.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,V._TEMP_POINT),this._geometry.containsPoint(V._TEMP_POINT)},V.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=c.hex2rgb(this.tint,B),e=0;e<this.batches.length;e++){var i=this.batches[e],n=i._batchRGB,n=(t[0]*n[0]*255<<16)+(t[1]*n[1]*255<<8)+(0|t[2]*n[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},V.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var t=this.transform.worldTransform,e=t.a,i=t.b,n=t.c,r=t.d,s=t.tx,o=t.ty,a=this._geometry.points,h=this.vertexData,l=0,u=0;u<a.length;u+=2){var c=a[u],p=a[u+1];h[l++]=e*c+n*p+s,h[l++]=r*p+i*c+o}}},V.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},V.prototype.setMatrix=function(t){return this._matrix=t,this},V.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},V.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},V.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,L.prototype.destroy.call(this,t)},V._TEMP_POINT=new X.Point,V);function V(t){void 0===t&&(t=null);var e=L.call(this)||this;return e.shader=null,e.pluginName="batch",e.currentPath=null,e.batches=[],e.batchTint=-1,e.batchDirty=-1,e.vertexData=null,e._fillStyle=new n,e._lineStyle=new N,e._matrix=null,e._holeMode=!1,e.state=f.State.for2d(),e._geometry=t||new I,e._geometry.refCount++,e._transformID=-1,e.tint=16777215,e.blendMode=g.BLEND_MODES.NORMAL,e}u={buildPoly:a,buildCircle:h,buildRectangle:t,buildRoundedRectangle:u,buildLine:p,ArcUtils:d,BezierUtils:y,QuadraticUtils:b,BatchPart:T,FILL_COMMANDS:S,BATCH_POOL:A,DRAW_CALL_POOL:w};H.FillStyle=n,H.GRAPHICS_CURVES=z,H.Graphics=U,H.GraphicsData=P,H.GraphicsGeometry=I,H.LineStyle=N,H.graphicsUtils=u},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/utils":41}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/math"),r=t("@pixi/ticker"),s=t("@pixi/display"),o=t("@pixi/utils"),a=(Object.defineProperty(h.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),h.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},h.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},h.prototype.reset=function(){this.isPrimary=!1},h);function h(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var u=(c.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},c.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},c);function c(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}var p=(d.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(d.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"none",{get:function(){return this._flags===d.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"over",{get:function(){return 0!=(this._flags&d.FLAGS.OVER)},set:function(t){this._doSet(d.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rightDown",{get:function(){return 0!=(this._flags&d.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(d.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"leftDown",{get:function(){return 0!=(this._flags&d.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(d.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),d.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),d);function d(t){this._pointerId=t,this._flags=d.FLAGS.NONE}var f=(m.prototype.recursiveFindHit=function(t,e,i,n,r){if(!e||!e.visible)return!1;var s=t.data.global,o=!1,a=r=e.interactive||r,h=!0;if(e.hitArea?(n&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:h=n=!1),a=!1):e._mask&&n&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(n=!1)),h&&e.interactiveChildren&&e.children)for(var l=e.children,u=l.length-1;0<=u;u--){var c=l[u],p=this.recursiveFindHit(t,c,i,n,a);p&&c.parent&&(a=!1,p&&(t.target&&(n=!1),o=!0))}return r&&(n&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),i&&i(t,e,!!o))),o},m.prototype.findHit=function(t,e,i,n){this.recursiveFindHit(t,e,i,n,!1)},m);function m(){this._tempPoint=new n.Point}t={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};s.DisplayObject.mixin(t);var g,_,y,v={target:null,data:{global:null}},o=(g=o.EventEmitter,l(_=x,y=g),_.prototype=null===y?Object.create(y):(b.prototype=y.prototype,new b),Object.defineProperty(x.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){(this._useSystemTicker=t)?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),x.prototype.hitTest=function(t,e){return v.target=null,v.data.global=t,e=e||this.lastObjectRendered,this.processInteractive(v,e,null,!0),v.target},x.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},x.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(r.Ticker.system.add(this.tickerUpdate,this,r.UPDATE_PRIORITY.INTERACTION),this.tickerAdded=!0)},x.prototype.removeTickerListener=function(){this.tickerAdded&&(r.Ticker.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},x.prototype.addEvents=function(){var t;!this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0)},x.prototype.removeEvents=function(){var t;this.eventsAdded&&this.interactionDOMElement&&(t=this.interactionDOMElement.style,self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1)},x.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},x.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)!this.activeInteractionData.hasOwnProperty(t)||(t=this.activeInteractionData[t]).originalEvent&&"touch"!==t.pointerType&&(t=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t),this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!0));this.setCursorMode(this.cursor)}},x.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},x.prototype.dispatchEvent=function(t,e,i){i.stopPropagationHint&&t!==i.stopsPropagatingAt||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},x.prototype.delayDispatchEvent=function(t,e,i){this.delayedEvents.push({displayObject:t,eventString:e,eventData:i})},x.prototype.mapPositionToPoint=function(t,e,i){var n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0},r=1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*r,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*r},x.prototype.processInteractive=function(t,e,i,n){var n=this.search.findHit(t,e,i,n),r=this.delayedEvents;if(!r.length)return n;t.stopPropagationHint=!1;var s=r.length;this.delayedEvents=[];for(var o=0;o<s;o++){var a=r[o],h=a.displayObject,l=a.eventString,a=a.eventData;a.stopsPropagatingAt===h&&(a.stopPropagationHint=!0),this.dispatchEvent(h,l,a)}return n},x.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);!this.autoPreventDefault||!e[0].isNormalized||!t.cancelable&&"cancelable"in t||t.preventDefault();for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===r.pointerType?this.emit("touchstart",s):"mouse"!==r.pointerType&&"pen"!==r.pointerType||(r=2===r.button,this.emit(r?"rightdown":"mousedown",this.eventData))}}},x.prototype.processPointerDown=function(t,e,i){var n=t.data,r=t.data.identifier;i&&(e.trackedPointers[r]||(e.trackedPointers[r]=new p(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType?this.dispatchEvent(e,"touchstart",t):"mouse"!==n.pointerType&&"pen"!==n.pointerType||((n=2===n.button)?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,n?"rightdown":"mousedown",t)))},x.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),r=n.length,s=t.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var a=n[o],h=this.getInteractionDataForPointerId(a),l=this.configureInteractionEventForDOMEvent(this.eventData,a,h);l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,i,e||!s),this.emit(e?"pointercancel":"pointerup"+s,l),"mouse"===a.pointerType||"pen"===a.pointerType?(h=2===a.button,this.emit(h?"rightup"+s:"mouseup"+s,l)):"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+s,l),this.releaseInteractionDataForPointerId(a.pointerId))}},x.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},x.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},x.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},x.prototype.processPointerUp=function(t,e,i){var n,r=t.data,s=t.data.identifier,o=e.trackedPointers[s],a="touch"===r.pointerType,h="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;h&&(n=2===r.button,r=p.FLAGS,r=n?r.RIGHT_DOWN:r.LEFT_DOWN,r=void 0!==o&&o.flags&r,i?(this.dispatchEvent(e,n?"rightup":"mouseup",t),r&&(this.dispatchEvent(e,n?"rightclick":"click",t),l=!0)):r&&this.dispatchEvent(e,n?"rightupoutside":"mouseupoutside",t),o&&(n?o.rightDown=!1:o.leftDown=!1)),i?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(h&&!l||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[s]},x.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var r=e[n],s=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,s);s.data.originalEvent=t,this.processInteractive(s,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",s),"touch"===r.pointerType&&this.emit("touchmove",s),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},x.prototype.processPointerMove=function(t,e,i){var n=t.data,r="touch"===n.pointerType,n="mouse"===n.pointerType||"pen"===n.pointerType;n&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),n&&this.dispatchEvent(e,"mousemove",t))},x.prototype.onPointerOut=function(t){var e,i;this.supportsTouchEvents&&"touch"===t.pointerType||("mouse"===(e=this.normalizeToPointerData(t)[0]).pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null)),i=this.getInteractionDataForPointerId(e),(t=this.configureInteractionEventForDOMEvent(this.eventData,e,i)).data.originalEvent=e,this.processInteractive(t,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",t),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",t):this.releaseInteractionDataForPointerId(i.identifier))},x.prototype.processPointerOverOut=function(t,e,i){var n=t.data,r=t.data.identifier,s="mouse"===n.pointerType||"pen"===n.pointerType,n=e.trackedPointers[r];void 0!==(n=i&&!n?e.trackedPointers[r]=new p(r):n)&&(i&&this.mouseOverRenderer?(n.over||(n.over=!0,this.delayDispatchEvent(e,"pointerover",t),s&&this.delayDispatchEvent(e,"mouseover",t)),s&&null===this.cursor&&(this.cursor=e.cursor)):n.over&&(n.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),s&&this.dispatchEvent(e,"mouseout",t),n.none&&delete e.trackedPointers[r]))},x.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],t=this.getInteractionDataForPointerId(e),t=this.configureInteractionEventForDOMEvent(this.eventData,e,t);"mouse"===(t.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",t),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",t)},x.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return 1===i||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new a).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},x.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},x.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},x.prototype.normalizeToPointerData=function(t){var e,i=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var s=t.changedTouches[n];void 0===s.button&&(s.button=t.touches.length?1:0),void 0===s.buttons&&(s.buttons=t.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else!self.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof self.PointerEvent)?(void 0===(e=t).isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0,i.push(e)):i.push(t);return i},x.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},x);function b(){this.constructor=_}function x(t,e){var i=g.call(this)||this;return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new a,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new u,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new f,i._tempDisplayObject=new s.TemporaryDisplayObject,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===e.useSystemTicker||e.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}i.InteractionData=a,i.InteractionEvent=u,i.InteractionManager=o,i.InteractionTrackingData=p,i.interactiveTarget=t},{"@pixi/display":11,"@pixi/math":23,"@pixi/ticker":40,"@pixi/utils":41}],21:[function(t,e,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var o=t("@pixi/core"),i=(n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n);function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}function r(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}var a=(s.prototype.handlers=function(t){var e=this._head;if(t=void 0===t?!1:t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},s.prototype.has=function(t){if(!(t instanceof i))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},s.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,e),n=n._next;return!0},s.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return r(this,new i(t,!1,e))},s.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return r(this,new i(t,!0,e))},s.prototype.detach=function(t){if(!(t instanceof i))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},s.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},s);function s(){this._head=this._tail=void 0}function l(t,e){for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[(e=e||{}).strictMode?"strict":"loose"].exec(t),r={},s=14;s--;)r[n.key[s]]=i[s]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,i){e&&(r[n.q.name][e]=i)}),r}var u=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),c=null;function p(){}function d(t,e,i){(e=e&&0===e.indexOf(".")?e.substring(1):e)&&(t[e]=i)}function f(t){return t.toString().replace("object ","")}function m(t,e,i){if(this._dequeue=p,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(m.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=m.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=p,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a,this.onProgress=new a,this.onComplete=new a,this.onAfterMiddleware=new a}function g(){}h.LoaderResource=(m.setExtensionLoadType=function(t,e){d(m._loadTypeMap,t,e)},m.setExtensionXhrType=function(t,e){d(m._xhrTypeMap,t,e)},Object.defineProperty(m.prototype,"isDataUrl",{get:function(){return this._hasFlag(m.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isComplete",{get:function(){return this._hasFlag(m.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isLoading",{get:function(){return this._hasFlag(m.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),m.prototype.complete=function(){this._clearEvents(),this._finish()},m.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=m.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},m.prototype.load=function(t){var e=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(e)},1);else switch(t&&this.onComplete.once(t),this._setFlag(m.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case m.LOAD_TYPE.IMAGE:this.type=m.TYPE.IMAGE,this._loadElement("image");break;case m.LOAD_TYPE.AUDIO:this.type=m.TYPE.AUDIO,this._loadSourceElement("audio");break;case m.LOAD_TYPE.VIDEO:this.type=m.TYPE.VIDEO,this._loadSourceElement("video");break;default:m.LOAD_TYPE.XHR;u&&this.crossOrigin?this._loadXdr():this._loadXhr()}},m.prototype._hasFlag=function(t){return 0!=(this._flags&t)},m.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},m.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},m.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(m.STATUS_FLAGS.COMPLETE,!0),this._setFlag(m.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},m.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==self.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},m.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},m.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===m.XHR_RESPONSE_TYPE.JSON||this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=m.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},m.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},m.prototype._createSource=function(t,e,i){i=i||t+"/"+this._getExtension(e);t=document.createElement("source");return t.src=e,t.type=i,t},m.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},m.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},m.prototype._onTimeout=function(){this.abort("Load timed out.")},m.prototype._xhrOnError=function(){var t=this.xhr;this.abort(f(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},m.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(f(t)+" Request timed out.")},m.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(f(t)+" Request was aborted by the user.")},m.prototype._xhrOnLoad=function(){var t,e,i=this.xhr,n="",r=void 0===i.status?200:i.status;if(""!==i.responseType&&"text"!==i.responseType&&void 0!==i.responseType||(n=i.responseText),0===r&&(0<n.length||i.responseType===m.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2==(r/100|0)){if(this.xhrType===m.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=m.TYPE.TEXT;else if(this.xhrType===m.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=m.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===m.XHR_RESPONSE_TYPE.DOCUMENT)try{self.DOMParser?(t=new DOMParser,this.data=t.parseFromString(n,"text/xml")):((e=document.createElement("div")).innerHTML=n,this.data=e),this.type=m.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=i.response||n;this.complete()}else this.abort("["+i.status+"] "+i.statusText+": "+i.responseURL)},m.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,(c=c||document.createElement("a")).href=t;var i=l(c.href,{strictMode:!0}),n=!i.port&&""===e.port||i.port===e.port,t=i.protocol?i.protocol+":":"";return i.host===e.hostname&&n&&t===e.protocol?"":"anonymous"},m.prototype._determineXhrType=function(){return m._xhrTypeMap[this.extension]||m.XHR_RESPONSE_TYPE.TEXT},m.prototype._determineLoadType=function(){return m._loadTypeMap[this.extension]||m.LOAD_TYPE.XHR},m.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e,i;return(this.isDataUrl?(i=t.indexOf("/"),t.substring(i+1,t.indexOf(";",i))):(e=t.indexOf("?"),i=t.indexOf("#"),i=Math.min(-1<e?e:t.length,-1<i?i:t.length),(t=t.substring(0,i)).substring(t.lastIndexOf(".")+1))).toLowerCase()},m.prototype._getMimeFromXhrType=function(t){switch(t){case m.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case m.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case m.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case m.XHR_RESPONSE_TYPE.JSON:return"application/json";case m.XHR_RESPONSE_TYPE.DEFAULT:case m.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},m),S=h.LoaderResource||(h.LoaderResource={}),(t=S.STATUS_FLAGS||(S.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",(t=S.TYPE||(S.TYPE={}))[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT",(t=S.LOAD_TYPE||(S.LOAD_TYPE={}))[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO",(t=S.XHR_RESPONSE_TYPE||(S.XHR_RESPONSE_TYPE={})).DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text",S._loadTypeMap={gif:S.LOAD_TYPE.IMAGE,png:S.LOAD_TYPE.IMAGE,bmp:S.LOAD_TYPE.IMAGE,jpg:S.LOAD_TYPE.IMAGE,jpeg:S.LOAD_TYPE.IMAGE,tif:S.LOAD_TYPE.IMAGE,tiff:S.LOAD_TYPE.IMAGE,webp:S.LOAD_TYPE.IMAGE,tga:S.LOAD_TYPE.IMAGE,svg:S.LOAD_TYPE.IMAGE,"svg+xml":S.LOAD_TYPE.IMAGE,mp3:S.LOAD_TYPE.AUDIO,ogg:S.LOAD_TYPE.AUDIO,wav:S.LOAD_TYPE.AUDIO,mp4:S.LOAD_TYPE.VIDEO,webm:S.LOAD_TYPE.VIDEO},S._xhrTypeMap={xhtml:S.XHR_RESPONSE_TYPE.DOCUMENT,html:S.XHR_RESPONSE_TYPE.DOCUMENT,htm:S.XHR_RESPONSE_TYPE.DOCUMENT,xml:S.XHR_RESPONSE_TYPE.DOCUMENT,tmx:S.XHR_RESPONSE_TYPE.DOCUMENT,svg:S.XHR_RESPONSE_TYPE.DOCUMENT,tsx:S.XHR_RESPONSE_TYPE.DOCUMENT,gif:S.XHR_RESPONSE_TYPE.BLOB,png:S.XHR_RESPONSE_TYPE.BLOB,bmp:S.XHR_RESPONSE_TYPE.BLOB,jpg:S.XHR_RESPONSE_TYPE.BLOB,jpeg:S.XHR_RESPONSE_TYPE.BLOB,tif:S.XHR_RESPONSE_TYPE.BLOB,tiff:S.XHR_RESPONSE_TYPE.BLOB,webp:S.XHR_RESPONSE_TYPE.BLOB,tga:S.XHR_RESPONSE_TYPE.BLOB,json:S.XHR_RESPONSE_TYPE.JSON,text:S.XHR_RESPONSE_TYPE.TEXT,txt:S.XHR_RESPONSE_TYPE.TEXT,ttf:S.XHR_RESPONSE_TYPE.BUFFER,otf:S.XHR_RESPONSE_TYPE.BUFFER},S.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var _=function(t,e){this.data=t,this.callback=e},y=(v.prototype._next=function(n){var r=this;return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];--r.workers,n.callback.apply(n,e),null!=e[0]&&r.error(e[0],n.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},v.prototype.push=function(t,e){this._insert(t,!1,e)},v.prototype.kill=function(){this.workers=0,this.drain=g,this.started=!1,this._tasks=[]},v.prototype.unshift=function(t,e){this._insert(t,!0,e)},v.prototype.length=function(){return this._tasks.length},v.prototype.running=function(){return this.workers},v.prototype.idle=function(){return this._tasks.length+this.workers===0},v.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},v.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},v.eachSeries=function(i,n,r,s){var o=0,a=i.length;!function t(e){e||o===a?r&&r(e):s?setTimeout(function(){n(i[o++],t)},1):n(i[o++],t)}()},v.queue=function(t,e){return new v(t,e)},v);function v(t,e){var n=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=g,this.unsaturated=g,this.empty=g,this.drain=g,this.error=g,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,i){if(i&&"function"!=typeof i)throw new Error("task callback must be a function");n.started=!0,null==t&&n.idle()?setTimeout(function(){return n.drain()},1):(i=new _(t,"function"==typeof i?i:g),e?n._tasks.unshift(i):n._tasks.push(i),setTimeout(n.process,1))},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(t.data,function(r){return function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(null===r)throw new Error("Callback was already called.");var n=r;r=null,n.apply(this,e)}}(n._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}var b=/(#[\w-]+)?$/,x=(T.prototype._add=function(t,e,i,n){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.LoaderResource(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var r=i.parentResource,s=[],o=0;o<r.children.length;++o)r.children[o].isComplete||s.push(r.children[o]);var a=r.progressChunk*(s.length+1)/(s.length+2);r.children.push(this.resources[t]),r.progressChunk=a;for(o=0;o<s.length;++o)s[o].progressChunk=a;this.resources[t].progressChunk=a}return this._queue.push(this.resources[t]),this},T.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},T.prototype.use=function(t){return this._afterMiddleware.push(t),this},T.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){t=this.resources[t];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},T.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(T.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),T.prototype._prepareUrl=function(t){var e=l(t,{strictMode:!0});return e=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString&&(t=b.exec(e)[0],-1!==(e=e.substr(0,e.length-t.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=t),e},T.prototype._loadResource=function(i,t){var n=this;i._dequeue=t,y.eachSeries(this._beforeMiddleware,function(t,e){t.call(n,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?n._onLoad(i):(i._onLoadBinding=i.onComplete.once(n._onLoad,n),i.load())},!0)},T.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},T.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},T.prototype._onLoad=function(i){var n=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),y.eachSeries(this._afterMiddleware,function(t,e){t.call(n,i,e)},function(){i.onAfterMiddleware.dispatch(i),n.progress=Math.min(100,n.progress+i.progressChunk),n.onProgress.dispatch(n,i),i.error?n.onError.dispatch(i.error,n,i):n.onLoad.dispatch(n,i),n._resourcesParsing.splice(n._resourcesParsing.indexOf(i),1),n._queue.idle()&&0===n._resourcesParsing.length&&n._onComplete()},!0)},T.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(T,"shared",{get:function(){var t=T._shared;return t||((t=new T)._protected=!0,T._shared=t),t},enumerable:!1,configurable:!0}),T.registerPlugin=function(t){return T._plugins.push(t),t.add&&t.add(),T},T._plugins=[],T);function T(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this.resources={},this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=y.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new a,this.onError=new a,this.onLoad=new a,this.onStart=new a,this.onComplete=new a;for(var n=0;n<T._plugins.length;++n){var r=T._plugins[n],s=r.pre,r=r.use;s&&this.pre(s),r&&this.use(r)}this._protected=!1}x.prototype.add=function(t,e,i,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(i=t,n=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(n=i,i=null),this._add(t,e,i,n)};E.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?x.shared:new x},E.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t=E;function E(){}var S=(A.add=function(){h.LoaderResource.setExtensionLoadType("svg",h.LoaderResource.LOAD_TYPE.XHR),h.LoaderResource.setExtensionXhrType("svg",h.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},A.use=function(e,i){var t,n,r,s;!e.data||e.type!==h.LoaderResource.TYPE.IMAGE&&"svg"!==e.extension?i():(t=e.data,n=e.url,r=e.name,s=e.metadata,o.Texture.fromLoader(t,n,r,s).then(function(t){e.texture=t,i()}).catch(i))},A);function A(){}var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var P=self.URL||self.webkitURL;x.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===h.LoaderResource.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=P.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=h.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){P.revokeObjectURL(i),t.data.onload=null,e()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],r=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(r[0]=n[0]>>2,r[1]=(3&n[0])<<4|n[1]>>4,r[2]=(15&n[1])<<2|n[2]>>6,r[3]=63&n[2],i-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(s=0;s<r.length;++s)e+=w.charAt(r[s])}return e}(t.xhr.responseText),t.type=h.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),x.registerPlugin(S),h.AppLoaderPlugin=t,h.Loader=x,h.TextureLoader=S},{"@pixi/core":10}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=t("@pixi/math"),t={add:function(t,e){return(e=e||new l.Point).x=this.x+t.x,e.y=this.y+t.y,e},subtract:function(t,e){return(e=e||new l.Point).x=this.x-t.x,e.y=this.y-t.y,e},multiply:function(t,e){return(e=e||new l.Point).x=this.x*t.x,e.y=this.y*t.y,e},multiplyScalar:function(t,e){return(e=e||new l.Point).x=this.x*t,e.y=this.y*t,e},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},normalize:function(t){t=t||new l.Point;var e=Math.sqrt(this.x*this.x+this.y*this.y);return t.x=this.x/e,t.y=this.y/e,t},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},magnitudeSquared:function(){return this.x*this.x+this.y*this.y},project:function(t,e){e=e||new l.Point;var i=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return e.x=t.x*i,e.y=t.y*i,e},reflect:function(t,e){e=e||new l.Point;var i=this.x*t.x+this.y*t.y;return e.x=this.x-2*i*t.x,e.y=this.y-2*i*t.y,e}};function u(t,e,i){return void 0===i&&(i=Number.EPSILON),t===e||Math.abs(t-e)<i}function s(t,e,i,n,r,s){s=s||new l.Point;var o=e.x-t.x,a=e.y-t.y,h=n.x-i.x,e=n.y-i.y,n=e*o-h*a;if(u(n,0))return s.x=NaN,s.y=NaN,s;h=(h*(t.y-i.y)-e*(t.x-i.x))/n,n=(o*(t.y-i.y)-a*(t.x-i.x))/n;return!r&&(h<0||1<h||n<0||1<n)?(s.x=NaN,s.y=NaN):(s.x=t.x+h*o,s.y=i.y+n*e),s}Object.assign(l.Point.prototype,t),Object.assign(l.ObservablePoint.prototype,t),l.Rectangle.prototype.intersects=function(t){var e=(this.x<t.x?t:this).x;return!((this.right>t.right?t:this).right<=e)&&(this.y<t.y?t:this).y<(this.bottom>t.bottom?t:this).bottom},l.Rectangle.prototype.containsRect=function(t){return t.width<=0||t.height<=0?t.x>this.x&&t.y>this.y&&t.right<this.right&&t.bottom<this.bottom:t.x>=this.x&&t.y>=this.y&&t.right<=this.right&&t.bottom<=this.bottom},l.Rectangle.prototype.equals=function(t){return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},l.Rectangle.prototype.intersection=function(t,e){e=e||new l.Rectangle;var i=(this.x<t.x?t:this).x,n=(this.right>t.right?t:this).right;if(n<=i)return e.x=e.y=e.width=e.height=0,e;var r=(this.y<t.y?t:this).y,t=(this.bottom>t.bottom?t:this).bottom;return t<=r?e.x=e.y=e.width=e.height=0:(e.x=i,e.y=r,e.width=n-i,e.height=t-r),e},l.Rectangle.prototype.union=function(t,e){e=e||new l.Rectangle;var i=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return e.x=i,e.y=r,e.width=n-i,e.height=t-r,e},i.floatEqual=u,i.lineIntersection=function(t,e,i,n,r){return s(t,e,i,n,!0,r)},i.segmentIntersection=function(t,e,i,n,r){return s(t,e,i,n,!1,r)}},{"@pixi/math":23}],23:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=2*Math.PI,i=180/Math.PI,n=Math.PI/180;(O=a.SHAPES||(a.SHAPES={}))[O.POLY=0]="POLY",O[O.RECT=1]="RECT",O[O.CIRC=2]="CIRC",O[O.ELIP=3]="ELIP",O[O.RREC=4]="RREC";var r=(Object.defineProperty(s.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(s,"EMPTY",{get:function(){return new s(0,0,0,0)},enumerable:!1,configurable:!0}),s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height)},s.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},s.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},s.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},s.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},s.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(t-n,0),this},s.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this},s.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=t-n,this},s.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},s);function s(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=a.SHAPES.RECT}var o=(h.prototype.clone=function(){return new h(this.x,this.y,this.radius)},h.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,t=this.x-t,e=this.y-e;return(t*=t)+(e*=e)<=i},h.prototype.getBounds=function(){return new r(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},h.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},h);function h(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.x=t=void 0===t?0:t,this.y=e,this.radius=i,this.type=a.SHAPES.CIRC}var u=(c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)},c.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;t=(t-this.x)/this.width,e=(e-this.y)/this.height;return(t*=t)+(e*=e)<=1},c.prototype.getBounds=function(){return new r(this.x-this.width,this.y-this.height,this.width,this.height)},c.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},c);function c(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=n,this.type=a.SHAPES.ELIP}var p=(d.prototype.clone=function(){var t=new d(this.points.slice());return t.closeStroke=this.closeStroke,t},d.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,s=n-1;r<n;s=r++){var o=this.points[2*r],a=this.points[2*r+1],h=this.points[2*s],l=this.points[2*s+1];e<a!=e<l&&t<(e-a)/(l-a)*(h-o)+o&&(i=!i)}return i},d.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},d);function d(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var n=Array.isArray(e[0])?e[0]:e;if("number"!=typeof n[0]){for(var r=[],s=0,o=n.length;s<o;s++)r.push(n[s].x,n[s].y);n=r}this.points=n,this.type=a.SHAPES.POLY,this.closeStroke=!0}var f=(m.prototype.clone=function(){return new m(this.x,this.y,this.width,this.height,this.radius)},m.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),n=e-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if((i=t-(this.x+this.width-this.radius))*i+n*n<=r)return!0;if(i*i+(n=e-(this.y+this.height-this.radius))*n<=r)return!0;if((i=t-(this.x+this.radius))*i+n*n<=r)return!0}return!1},m.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},m);function m(t,e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=n,this.radius=r,this.type=a.SHAPES.RREC}var g=(_.prototype.clone=function(){return new _(this.x,this.y)},_.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},_.prototype.copyTo=function(t){return t.set(this.x,this.y),t},_.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},_.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},_.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},_);function _(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}var y=(v.prototype.clone=function(t,e){return new v(t=void 0===t?this.cb:t,e=void 0===e?this.scope:e,this._x,this._y)},v.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},v.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},v.prototype.copyTo=function(t){return t.set(this._x,this._y),t},v.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},v.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(v.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),v);function v(t,e,i,n){void 0===n&&(n=0),this._x=i=void 0===i?0:i,this._y=n,this.cb=t,this.scope=e}var b=(x.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},x.prototype.set=function(t,e,i,n,r,s){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s,this},x.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},x.prototype.apply=function(t,e){e=e||new g;var i=t.x,t=t.y;return e.x=this.a*i+this.c*t+this.tx,e.y=this.b*i+this.d*t+this.ty,e},x.prototype.applyInverse=function(t,e){e=e||new g;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,t=t.y;return e.x=this.d*i*n+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},x.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},x.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},x.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,t=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=t*e-this.ty*i,this.ty=t*i+this.ty*e,this},x.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},x.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return this.a=Math.cos(o+h)*r,this.b=Math.sin(o+h)*r,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this},x.prototype.prepend=function(t){var e,i,n=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,i=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d),this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this},x.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,s=t.pivot,o=-Math.atan2(-n,r),a=Math.atan2(i,e),h=Math.abs(o+a);return h<1e-5||Math.abs(l-h)<1e-5?(t.rotation=a,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx+(s.x*e+s.y*n),t.position.y=this.ty+(s.x*i+s.y*r),t},x.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,s=t*n-e*i;return this.a=n/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-n*r)/s,this.ty=-(t*this.ty-e*r)/s,this},x.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},x.prototype.clone=function(){var t=new x;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},x.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},x.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},x.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(x,"IDENTITY",{get:function(){return new x},enumerable:!1,configurable:!0}),Object.defineProperty(x,"TEMP_MATRIX",{get:function(){return new x},enumerable:!1,configurable:!0}),x);function x(t,e,i,n,r,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=s}var T=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],E=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],S=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],A=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],w=[],P=[],C=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];w.push(e);for(var i=0;i<16;i++)for(var n=C(T[t]*T[i]+S[t]*E[i]),r=C(E[t]*T[i]+A[t]*E[i]),s=C(T[t]*S[i]+S[t]*A[i]),o=C(E[t]*S[i]+A[t]*A[i]),a=0;a<16;a++)if(T[a]===n&&E[a]===r&&S[a]===s&&A[a]===o){e.push(a);break}}for(t=0;t<16;t++){var h=new b;h.set(T[t],E[t],S[t],A[t],0,0),P.push(h)}}();var R={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return T[t]},uY:function(t){return E[t]},vX:function(t){return S[t]},vY:function(t){return A[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return w[t][e]},sub:function(t,e){return w[t][R.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?R.S:R.N:2*Math.abs(e)<=Math.abs(t)?0<t?R.E:R.W:0<e?0<t?R.SE:R.SW:0<t?R.NE:R.NW},matrixAppendRotationInv:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);e=P[R.inv(e)];e.tx=i,e.ty=n,t.append(e)}},O=(M.prototype.onChange=function(){this._localID++},M.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},M.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},M.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},M.prototype.updateTransform=function(t){var e,i,n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID&&(e=t.worldTransform,(i=this.worldTransform).a=n.a*e.a+n.b*e.c,i.b=n.a*e.b+n.b*e.d,i.c=n.c*e.a+n.d*e.c,i.d=n.c*e.b+n.d*e.d,i.tx=n.tx*e.a+n.ty*e.c+e.tx,i.ty=n.tx*e.b+n.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++)},M.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(M.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),M.IDENTITY=new M,M);function M(){this.worldTransform=new b,this.localTransform=new b,this.position=new y(this.onChange,this,0,0),this.scale=new y(this.onChange,this,1,1),this.pivot=new y(this.onChange,this,0,0),this.skew=new y(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}a.Circle=o,a.DEG_TO_RAD=n,a.Ellipse=u,a.Matrix=b,a.ObservablePoint=y,a.PI_2=l,a.Point=g,a.Polygon=p,a.RAD_TO_DEG=i,a.Rectangle=r,a.RoundedRectangle=f,a.Transform=O,a.groupD8=R},{}],24:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("@pixi/mesh"),s=t("@pixi/constants"),a=t("@pixi/core"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function r(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h,l=(r(u,h=o.MeshGeometry),u.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],i=[],n=[],r=this.segWidth-1,s=this.segHeight-1,o=this.width/r,a=this.height/s,h=0;h<t;h++){var l=h%this.segWidth,u=h/this.segWidth|0;e.push(l*o,u*a),i.push(l/r,u/s)}for(var c=r*s,h=0;h<c;h++){var p=h%r,d=h/r|0,f=d*this.segWidth+p,m=d*this.segWidth+p+1,g=(1+d)*this.segWidth+p,p=(1+d)*this.segWidth+p+1;n.push(f,m,g,m,p,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},u);function u(t,e,i,n){void 0===t&&(t=100),void 0===e&&(e=100),void 0===i&&(i=10),void 0===n&&(n=10);var r=h.call(this)||this;return r.segWidth=i,r.segHeight=n,r.width=t,r.height=e,r.build(),r}var c,p=(r(d,c=o.MeshGeometry),Object.defineProperty(d.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),d.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),n.data=new Uint16Array(6*(t.length-1)));var r=i.data,s=n.data;r[0]=0,r[1]=0,r[2]=0,r[3]=1;for(var o=0,a=t[0],h=this._width*this.textureScale,l=t.length,u=0;u<l;u++){var c,p,d=4*u;0<this.textureScale?(c=a.x-t[u].x,p=a.y-t[u].y,p=Math.sqrt(c*c+p*p),a=t[u],o+=p/h):o=u/(l-1),r[d]=o,r[d+1]=0,r[d+2]=o,r[d+3]=1}for(var f=0,u=0;u<l-1;u++){d=2*u;s[f++]=d,s[f++]=d+1,s[f++]=d+2,s[f++]=d+2,s[f++]=d+1,s[f++]=d+3}i.update(),n.update(),this.updateVertices()}}},d.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e=t[0],i=this.buffers[0].data,n=t.length,r=0;r<n;r++){var s=t[r],o=4*r,a=-((u=r<t.length-1?t[r+1]:s).x-e.x),h=u.y-e.y,l=Math.sqrt(h*h+a*a),u=0<this.textureScale?this.textureScale*this._width/2:this._width/2;h/=l,a/=l,h*=u,a*=u,i[o]=s.x+h,i[1+o]=s.y+a,i[2+o]=s.x-h,i[3+o]=s.y-a,e=s}this.buffers[0].update()}},d.prototype.update=function(){0<this.textureScale?this.build():this.updateVertices()},d);function d(t,e,i){void 0===t&&(t=200),void 0===i&&(i=0);var n=c.call(this,new Float32Array(4*e.length),new Float32Array(4*e.length),new Uint16Array(6*(e.length-1)))||this;return n.points=e,n._width=t,n.textureScale=i,n.build(),n}var f,m=(r(g,f=o.Mesh),g.prototype._render=function(t){var e=this.geometry;!this.autoUpdate&&e._width===this.shader.texture.height||(e._width=this.shader.texture.height,e.update()),f.prototype._render.call(this,t)},g);function g(t,e,i){var n=this,r=new p(t.height,e,i=void 0===i?0:i),e=new o.MeshMaterial(t);return 0<i&&(t.baseTexture.wrapMode=s.WRAP_MODES.REPEAT),(n=f.call(this,r,e)||this).autoUpdate=!0,n}var _,y=(r(v,_=o.Mesh),v.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,i=e.width,e=e.height;!this.autoResize||t.width===i&&t.height===e||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(v.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),v.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),_.prototype._render.call(this,t)},v.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),_.prototype.destroy.call(this,t)},v);function v(t,e,i){var n=this,e=new l(t.width,t.height,e,i),i=new o.MeshMaterial(a.Texture.WHITE);return(n=_.call(this,e,i)||this).texture=t,n.autoResize=!0,n}var b,x=(r(T,b=o.Mesh),Object.defineProperty(T.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),T.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),b.prototype._render.call(this,t)},T);function T(t,e,i,n,r){void 0===t&&(t=a.Texture.EMPTY);var s=this,n=new o.MeshGeometry(e,i,n);n.getBuffer("aVertexPosition").static=!1;t=new o.MeshMaterial(t);return(s=b.call(this,n,t,null,r)||this).autoUpdate=!0,s}var E,t=(r(S,E=y),S.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(S.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),S.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},S.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},S.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,t=this._topHeight+this._bottomHeight,t=this._height>t?1:this._height/t;return Math.min(e,t)},Object.defineProperty(S.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),S.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,t=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=t*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-t*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},S);function S(t,e,i,n,r){void 0===e&&(e=10),void 0===i&&(i=10),void 0===n&&(n=10),void 0===r&&(r=10);var s=E.call(this,a.Texture.WHITE,4,4)||this;return s._origWidth=t.orig.width,s._origHeight=t.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=e,s._rightWidth=n,s._topHeight=i,s._bottomHeight=r,s.texture=t,s}i.NineSlicePlane=t,i.PlaneGeometry=l,i.RopeGeometry=p,i.SimpleMesh=x,i.SimplePlane=y,i.SimpleRope=m},{"@pixi/constants":9,"@pixi/core":10,"@pixi/mesh":25}],25:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=t("@pixi/core"),r=t("@pixi/math"),o=t("@pixi/constants"),n=t("@pixi/display"),f=t("@pixi/settings"),a=t("@pixi/utils"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function l(t,e){function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var u=(c.prototype.update=function(t){!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID||(this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID,t=this.uvBuffer.data,this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++)},c);function c(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}var p,d=new r.Point,m=new r.Polygon,g=(l(_,p=n.Container),Object.defineProperty(_.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),_.prototype._render=function(t){var e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===o.DRAW_MODES.TRIANGLES&&e.length<2*_.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},_.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},_.prototype._renderToBatch=function(t){var e=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},_.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,i=t._updateID;if(i!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var t=this.transform.worldTransform,n=t.a,r=t.b,s=t.c,o=t.d,a=t.tx,h=t.ty,l=this.vertexData,u=0;u<l.length/2;u++){var c=e[2*u],p=e[2*u+1];l[2*u]=n*c+s*p+a,l[2*u+1]=r*c+o*p+h}if(this._roundPixels)for(var d=f.settings.RESOLUTION,u=0;u<l.length;++u)l[u]=Math.round((l[u]*d|0)/d);this.vertexDirty=i}},_.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new u(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},_.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},_.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,d);for(var e=this.geometry.getBuffer("aVertexPosition").data,i=m.points,n=this.geometry.getIndex().data,r=n.length,s=4===this.drawMode?3:1,o=0;o+2<r;o+=s){var a=2*n[o],h=2*n[o+1],l=2*n[o+2];if(i[0]=e[a],i[1]=e[1+a],i[2]=e[h],i[3]=e[1+h],i[4]=e[l],i[5]=e[1+l],m.contains(d.x,d.y))return!0}return!1},_.prototype.destroy=function(t){p.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},_.BATCHABLE_SIZE=100,_);function _(t,e,i,n){void 0===n&&(n=o.DRAW_MODES.TRIANGLES);var r=p.call(this)||this;return r.geometry=t,r.shader=e,r.state=i||s.State.for2d(),r.drawMode=n,r.start=0,r.size=0,r.uvs=null,r.indices=null,r.vertexData=new Float32Array(1),r.vertexDirty=-1,r._transformID=-1,r._roundPixels=f.settings.ROUND_PIXELS,r.batchUvs=null,r}var y,t=(l(v,y=s.Shader),Object.defineProperty(v.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),v.prototype.update=function(){var t;this._colorDirty&&(this._colorDirty=!1,t=this.texture.baseTexture,a.premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},v);function v(t,e){var i=this,n={uSampler:t,alpha:1,uTextureMatrix:r.Matrix.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(e=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},e)).uniforms&&Object.assign(n,e.uniforms),(i=y.call(this,e.program||s.Program.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,i.uvMatrix=new s.TextureMatrix(t),i.batchable=void 0===e.program,i.pluginName=e.pluginName,i.tint=e.tint,i.alpha=e.alpha,i}var b,n=(l(x,b=s.Geometry),Object.defineProperty(x.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),x);function x(t,e,i){var n=b.call(this)||this,t=new s.Buffer(t),e=new s.Buffer(e,!0),i=new s.Buffer(i,!0,!0);return n.addAttribute("aVertexPosition",t,2,!1,o.TYPES.FLOAT).addAttribute("aTextureCoord",e,2,!1,o.TYPES.FLOAT).addIndex(i),n._updateId=-1,n}i.Mesh=g,i.MeshBatchUvs=u,i.MeshGeometry=n,i.MeshMaterial=t},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],26:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r,s,o,a,h,l,u,c,p,d,f,m,g,_,y,v,b,x,T=t("@pixi/core"),E=t("@pixi/sprite"),S=t("@pixi/display"),A=t("@pixi/math"),w=t("@pixi/utils"),P=t("@pixi/settings");(n=n=n||{})[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",(r=r=r||{})[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",(s=s=s||{})[s.COLOR=16384]="COLOR",s[s.DEPTH=256]="DEPTH",s[s.STENCIL=1024]="STENCIL",(o=o=o||{})[o.NORMAL=0]="NORMAL",o[o.ADD=1]="ADD",o[o.MULTIPLY=2]="MULTIPLY",o[o.SCREEN=3]="SCREEN",o[o.OVERLAY=4]="OVERLAY",o[o.DARKEN=5]="DARKEN",o[o.LIGHTEN=6]="LIGHTEN",o[o.COLOR_DODGE=7]="COLOR_DODGE",o[o.COLOR_BURN=8]="COLOR_BURN",o[o.HARD_LIGHT=9]="HARD_LIGHT",o[o.SOFT_LIGHT=10]="SOFT_LIGHT",o[o.DIFFERENCE=11]="DIFFERENCE",o[o.EXCLUSION=12]="EXCLUSION",o[o.HUE=13]="HUE",o[o.SATURATION=14]="SATURATION",o[o.COLOR=15]="COLOR",o[o.LUMINOSITY=16]="LUMINOSITY",o[o.NORMAL_NPM=17]="NORMAL_NPM",o[o.ADD_NPM=18]="ADD_NPM",o[o.SCREEN_NPM=19]="SCREEN_NPM",o[o.NONE=20]="NONE",o[o.SRC_OVER=0]="SRC_OVER",o[o.SRC_IN=21]="SRC_IN",o[o.SRC_OUT=22]="SRC_OUT",o[o.SRC_ATOP=23]="SRC_ATOP",o[o.DST_OVER=24]="DST_OVER",o[o.DST_IN=25]="DST_IN",o[o.DST_OUT=26]="DST_OUT",o[o.DST_ATOP=27]="DST_ATOP",o[o.ERASE=26]="ERASE",o[o.SUBTRACT=28]="SUBTRACT",o[o.XOR=29]="XOR",(a=a=a||{})[a.POINTS=0]="POINTS",a[a.LINES=1]="LINES",a[a.LINE_LOOP=2]="LINE_LOOP",a[a.LINE_STRIP=3]="LINE_STRIP",a[a.TRIANGLES=4]="TRIANGLES",a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN",(h=h=h||{})[h.RGBA=6408]="RGBA",h[h.RGB=6407]="RGB",h[h.RG=33319]="RG",h[h.RED=6403]="RED",h[h.RGBA_INTEGER=36249]="RGBA_INTEGER",h[h.RGB_INTEGER=36248]="RGB_INTEGER",h[h.RG_INTEGER=33320]="RG_INTEGER",h[h.RED_INTEGER=36244]="RED_INTEGER",h[h.ALPHA=6406]="ALPHA",h[h.LUMINANCE=6409]="LUMINANCE",h[h.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",h[h.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",h[h.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(l=l=l||{})[l.TEXTURE_2D=3553]="TEXTURE_2D",l[l.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",l[l.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",l[l.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",l[l.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",l[l.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",l[l.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",l[l.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(u=u=u||{})[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.UNSIGNED_INT=5125]="UNSIGNED_INT",u[u.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",u[u.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",u[u.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",u[u.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",u[u.BYTE=5120]="BYTE",u[u.SHORT=5122]="SHORT",u[u.INT=5124]="INT",u[u.FLOAT=5126]="FLOAT",u[u.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",u[u.HALF_FLOAT=36193]="HALF_FLOAT",(c=c=c||{})[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT",(p=p=p||{})[p.NEAREST=0]="NEAREST",p[p.LINEAR=1]="LINEAR",(d=d=d||{})[d.CLAMP=33071]="CLAMP",d[d.REPEAT=10497]="REPEAT",d[d.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(f=f=f||{})[f.OFF=0]="OFF",f[f.POW2=1]="POW2",f[f.ON=2]="ON",f[f.ON_MANUAL=3]="ON_MANUAL",(m=m=m||{})[m.NPM=0]="NPM",m[m.UNPACK=1]="UNPACK",m[m.PMA=2]="PMA",m[m.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",m[m.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",m[m.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",m[m.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(g=g=g||{})[g.NO=0]="NO",g[g.YES=1]="YES",g[g.AUTO=2]="AUTO",g[g.BLEND=0]="BLEND",g[g.CLEAR=1]="CLEAR",g[g.BLIT=2]="BLIT",(_=_=_||{})[_.AUTO=0]="AUTO",_[_.MANUAL=1]="MANUAL",(y=y=y||{}).LOW="lowp",y.MEDIUM="mediump",y.HIGH="highp",(b=b=b||{})[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE",(b=v=v||{})[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH",(x=x=x||{})[x.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",x[x.ARRAY_BUFFER=34962]="ARRAY_BUFFER",x[x.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var C=new A.Matrix;S.DisplayObject.prototype._cacheAsBitmap=!1,S.DisplayObject.prototype._cacheData=null,S.DisplayObject.prototype._cacheAsBitmapResolution=null,S.DisplayObject.prototype._cacheAsBitmapMultisample=v.NONE;var R=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(S.DisplayObject.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&((this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new R),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),S.DisplayObject.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},S.DisplayObject.prototype._initCachedDisplayObject=function(t){var e,i,n,r,s,o,a,h;this._cacheData&&this._cacheData.sprite||(e=this.alpha,this.alpha=1,t.batch.flush(),i=this.getLocalBounds(null,!0).clone(),this.filters&&(h=this.filters[0].padding,i.pad(h)),i.ceil(P.settings.RESOLUTION),n=t.renderTexture.current,r=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,h=T.RenderTexture.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(a=this.cacheAsBitmapMultisample)&&void 0!==a?a:t.multisample}),a="cacheAsBitmap_"+w.uid(),this._cacheData.textureCacheId=a,T.BaseTexture.addToCache(h.baseTexture,a),T.Texture.addToCache(h,a),a=this.transform.localTransform.copyTo(C).invert().translate(-i.x,-i.y),this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:a,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(n,r,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e,(h=new E.Sprite(h)).transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(i.x/i.width),h.anchor.y=-(i.y/i.height),h.alpha=e,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=h.containsPoint.bind(h))},S.DisplayObject.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},S.DisplayObject.prototype._initCachedDisplayObjectCanvas=function(t){var e,i,n,r,s,o;this._cacheData&&this._cacheData.sprite||(e=this.getLocalBounds(null,!0),i=this.alpha,this.alpha=1,n=t.context,r=t._projTransform,e.ceil(P.settings.RESOLUTION),o=T.RenderTexture.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+w.uid(),this._cacheData.textureCacheId=s,T.BaseTexture.addToCache(o.baseTexture,s),T.Texture.addToCache(o,s),this.transform.localTransform.copyTo(s=C),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:s,skipUpdateTransform:!1}),t.context=n,t._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i,(o=new E.Sprite(o)).transform.worldTransform=this.transform.worldTransform,o.anchor.x=-(e.x/e.width),o.anchor.y=-(e.y/e.height),o.alpha=i,o._bounds=this._bounds,this._cacheData.sprite=o,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=o.containsPoint.bind(o))},S.DisplayObject.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},S.DisplayObject.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},S.DisplayObject.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,T.BaseTexture.removeFromCache(this._cacheData.textureCacheId),T.Texture.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},S.DisplayObject.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},i.CacheData=R},{"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/utils":41}],27:[function(t,e,i){"use strict";t=t("@pixi/display");t.DisplayObject.prototype.name=null,t.Container.prototype.getChildByName=function(t,e){for(var i=0,n=this.children.length;i<n;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,n=this.children.length;i<n;i++)if(this.children[i].getChildByName){var r=this.children[i].getChildByName(t,!0);if(r)return r}return null}},{"@pixi/display":11}],28:[function(t,e,i){"use strict";var n=t("@pixi/display"),r=t("@pixi/math");n.DisplayObject.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new r.Point),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"@pixi/display":11,"@pixi/math":23}],29:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("@pixi/constants"),n=t("@pixi/display"),m=t("@pixi/utils"),a=t("@pixi/core"),r=t("@pixi/math"),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function h(t,e){function i(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l,t=(h(u,l=n.Container),u.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},u.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(u.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,m.hex2rgb(t,this.tintRgb)},enumerable:!1,configurable:!0}),u.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},u.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},u.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},u.prototype.destroy=function(t){l.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},u);function u(t,e,i,n){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var r=l.call(this)||this;return 16384<i&&(i=16384),r._properties=[!1,!0,!1,!1,!1],r._maxSize=t,r._batchSize=i,r._buffers=null,r._bufferUpdateIDs=[],r._updateID=0,r.interactiveChildren=!1,r.blendMode=o.BLEND_MODES.NORMAL,r.autoResize=n,r.roundPixels=!0,r.baseTexture=null,r.setProperties(e),r._tint=0,r.tintRgb=new Float32Array(4),r.tint=16777215,r}var c=(p.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new a.Buffer(m.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i)(s=this.dynamicProperties[i]).offset=e,e+=s.size,this.dynamicStride+=s.size;var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new a.Buffer(this.dynamicData,!1,!1);for(var r=0,i=this.staticStride=0;i<this.staticProperties.length;++i)(s=this.staticProperties[i]).offset=r,r+=s.size,this.staticStride+=s.size;n=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(n),this.staticDataUint32=new Uint32Array(n),this.staticBuffer=new a.Buffer(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var s=this.dynamicProperties[i];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===o.TYPES.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(i=0;i<this.staticProperties.length;++i){s=this.staticProperties[i];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===o.TYPES.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},p.prototype.uploadDynamic=function(t,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.type===o.TYPES.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++},p.prototype.uploadStatic=function(t,e,i){for(var n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(t,e,i,r.type===o.TYPES.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++},p.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},p);function p(t,e,i){this.geometry=new a.Geometry,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<t.length;++n){var r={attributeName:(r=t[n]).attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||o.TYPES.FLOAT,offset:r.offset};(e[n]?this.dynamicProperties:this.staticProperties).push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}var d,n=(h(f,d=a.ObjectRenderer),f.prototype.render=function(t){var e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer,s=e.length;if(0!==s){i<s&&!t.autoResize&&(s=i);var o=(o=t._buffers)||(t._buffers=this.generateBuffers(t)),a=e[0]._texture.baseTexture;this.state.blendMode=m.correctBlendMode(t.blendMode,a.alphaMode),r.state.set(this.state);var h=r.gl,i=t.worldTransform.copyTo(this.tempMatrix);i.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=i.toArray(!0),this.shader.uniforms.uColor=m.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,u=0,c=0;u<s;u+=n,c+=1){var p=s-u;n<p&&(p=n),c>=o.length&&o.push(this._generateOneMoreBuffer(t));var d=o[c];d.uploadDynamic(e,u,p);var f=t._bufferUpdateIDs[c]||0;(l=l||d._updateID<f)&&(d._updateID=t._updateID,d.uploadStatic(e,u,p)),r.geometry.bind(d.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},f.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,n=t._batchSize,r=t._properties,s=0;s<i;s+=n)e.push(new c(this.properties,r,n));return e},f.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,t=t._properties;return new c(this.properties,t,e)},f.prototype.uploadVertices=function(t,e,i,n,r,s){for(var o=0,a=0,h=0,l=0,u=0;u<i;++u){var c=t[e+u],p=c._texture,d=c.scale.x,f=c.scale.y,m=p.trim,p=p.orig;m?(o=(a=m.x-c.anchor.x*p.width)+m.width,h=(l=m.y-c.anchor.y*p.height)+m.height):(o=p.width*(1-c.anchor.x),a=p.width*-c.anchor.x,h=p.height*(1-c.anchor.y),l=p.height*-c.anchor.y),n[s]=a*d,n[s+1]=l*f,n[s+r]=o*d,n[s+r+1]=l*f,n[s+2*r]=o*d,n[s+2*r+1]=h*f,n[s+3*r]=a*d,n[s+3*r+1]=h*f,s+=4*r}},f.prototype.uploadPosition=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].position;n[s]=a.x,n[s+1]=a.y,n[s+r]=a.x,n[s+r+1]=a.y,n[s+2*r]=a.x,n[s+2*r+1]=a.y,n[s+3*r]=a.x,n[s+3*r+1]=a.y,s+=4*r}},f.prototype.uploadRotation=function(t,e,i,n,r,s){for(var o=0;o<i;o++){var a=t[e+o].rotation;n[s]=a,n[s+r]=a,n[s+2*r]=a,n[s+3*r]=a,s+=4*r}},f.prototype.uploadUvs=function(t,e,i,n,r,s){for(var o=0;o<i;++o){var a=t[e+o]._texture._uvs;a?(n[s]=a.x0,n[s+1]=a.y0,n[s+r]=a.x1,n[s+r+1]=a.y1,n[s+2*r]=a.x2,n[s+2*r+1]=a.y2,n[s+3*r]=a.x3,n[s+3*r+1]=a.y3):(n[s]=0,n[s+1]=0,n[s+r]=0,n[s+r+1]=0,n[s+2*r]=0,n[s+2*r+1]=0,n[s+3*r]=0,n[s+3*r+1]=0),s+=4*r}},f.prototype.uploadTint=function(t,e,i,n,r,s){for(var o=0;o<i;++o){var a=t[e+o],h=0<a._texture.baseTexture.alphaMode,l=a.alpha,l=l<1&&h?m.premultiplyTint(a._tintRGB,l):a._tintRGB+(255*l<<24);n[s]=l,n[s+r]=l,n[s+2*r]=l,n[s+3*r]=l,s+=4*r}},f.prototype.destroy=function(){d.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},f);function f(t){t=d.call(this,t)||this;return t.shader=null,t.properties=null,t.tempMatrix=new r.Matrix,t.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:t.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:t.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:t.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:t.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:o.TYPES.UNSIGNED_BYTE,uploadFunction:t.uploadTint,offset:0}],t.shader=a.Shader.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),t.state=a.State.for2d(),t}i.ParticleContainer=t,i.ParticleRenderer=n},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/utils":41}],30:[function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=n(t("promise-polyfill")),t=n(t("object-assign"));self.Promise||(self.Promise=r),Object.assign||(Object.assign=t);var s;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),self.performance&&self.performance.now||(s=Date.now(),self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-s});for(var o=Date.now(),a=["ms","moz","webkit","o"],h=0;h<a.length&&!self.requestAnimationFrame;++h){var l=a[h];self.requestAnimationFrame=self[l+"RequestAnimationFrame"],self.cancelAnimationFrame=self[l+"CancelAnimationFrame"]||self[l+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+o-e;return i<0&&(i=0),o=e,self.setTimeout(function(){o=Date.now(),t(performance.now())},i)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array)},{"object-assign":54,"promise-polyfill":57}],31:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/settings"),s=t("@pixi/core"),o=t("@pixi/graphics"),a=t("@pixi/ticker"),r=t("@pixi/display"),h=t("@pixi/text");n.settings.UPLOADS_PER_FRAME=4;var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var u=(c.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},c.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},c);function c(t){this.maxItemsPerFrame=t,this.itemsLeft=0}function p(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var n,r=0;r<t._textures.length;r++)t._textures[r]instanceof s.Texture&&(n=t._textures[r].baseTexture,-1===e.indexOf(n)&&(e.push(n),i=!0));return i}function d(t,e){if(t.baseTexture instanceof s.BaseTexture){t=t.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function f(t,e){if(t._texture&&t._texture instanceof s.Texture){t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function m(t,e){return e instanceof h.Text&&(e.updateText(!0),!0)}function g(t,e){if(e instanceof h.TextStyle){e=e.toFontString();return h.TextMetrics.measureFont(e),!0}return!1}function _(t,e){if(t instanceof h.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);t=t._texture.baseTexture;return-1===e.indexOf(t)&&e.push(t),!0}return!1}function y(t,e){return t instanceof h.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}var v=(b.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY))):e&&e()},b.prototype.tick=function(){setTimeout(this.delayedTick,0)},b.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)a.Ticker.system.addOnce(this.tick,this,a.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var r=this.completes.slice(0),i=this.completes.length=0,n=r.length;i<n;i++)r[i]()}},b.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},b.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},b.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof r.Container)for(e=t.children.length-1;0<=e;e--)this.add(t.children[e]);return this},b.prototype.destroy=function(){this.ticking&&a.Ticker.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},b);function b(t){var e=this;this.limiter=new u(n.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(_),this.registerFindHook(y),this.registerFindHook(p),this.registerFindHook(d),this.registerFindHook(f),this.registerUploadHook(m),this.registerUploadHook(g)}function x(t,e){return e instanceof s.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function T(t,e){if(!(e instanceof o.Graphics))return!1;var i=e.geometry;e.finishPoly(),i.updateBatches();for(var n=i.batches,r=0;r<n.length;r++){var s=n[r].style.texture;s&&x(t,s.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function E(t,e){return t instanceof o.Graphics&&(e.push(t),!0)}var S,A,w,P=(l(A=R,w=S=v),A.prototype=null===w?Object.create(w):(C.prototype=w.prototype,new C),R);function C(){this.constructor=A}function R(t){t=S.call(this,t)||this;return t.uploadHookHelper=t.renderer,t.registerFindHook(E),t.registerUploadHook(x),t.registerUploadHook(T),t}O.prototype.beginFrame=function(){this.frameStart=Date.now()},O.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t=O;function O(t){this.maxMilliseconds=t,this.frameStart=0}i.BasePrepare=v,i.CountLimiter=u,i.Prepare=P,i.TimeLimiter=t},{"@pixi/core":10,"@pixi/display":11,"@pixi/graphics":19,"@pixi/settings":33,"@pixi/text":39,"@pixi/ticker":40}],32:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=(r.prototype.emit=function(t,e,i,n,r,s,o,a){if(8<arguments.length)throw new Error("max arguments reached");var h=this.name,l=this.items;this._aliasCount++;for(var u=0,c=l.length;u<c;u++)l[u][h](t,e,i,n,r,s,o,a);return l===this.items&&this._aliasCount--,this},r.prototype.ensureNonAliasedItems=function(){0<this._aliasCount&&1<this.items.length&&(this._aliasCount=0,this.items=this.items.slice(0))},r.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},r.prototype.remove=function(t){t=this.items.indexOf(t);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},r.prototype.contains=function(t){return-1!==this.items.indexOf(t)},r.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},r.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(r.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),r);function r(t){this.items=[],this._name=t,this._aliasCount=0}Object.defineProperties(n.prototype,{dispatch:{value:n.prototype.emit},run:{value:n.prototype.emit}}),i.Runner=n},{}],33:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n,r,s,o,a,h,l,u,c,p,d,f,m,g,_,y,v,b,x,T=((n=t("ismobilejs"))&&"object"==typeof n&&"default"in n?n.default:n)(self.navigator);(r=r=r||{})[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",(s=s=s||{})[s.UNKNOWN=0]="UNKNOWN",s[s.WEBGL=1]="WEBGL",s[s.CANVAS=2]="CANVAS",(o=o=o||{})[o.COLOR=16384]="COLOR",o[o.DEPTH=256]="DEPTH",o[o.STENCIL=1024]="STENCIL",(a=a=a||{})[a.NORMAL=0]="NORMAL",a[a.ADD=1]="ADD",a[a.MULTIPLY=2]="MULTIPLY",a[a.SCREEN=3]="SCREEN",a[a.OVERLAY=4]="OVERLAY",a[a.DARKEN=5]="DARKEN",a[a.LIGHTEN=6]="LIGHTEN",a[a.COLOR_DODGE=7]="COLOR_DODGE",a[a.COLOR_BURN=8]="COLOR_BURN",a[a.HARD_LIGHT=9]="HARD_LIGHT",a[a.SOFT_LIGHT=10]="SOFT_LIGHT",a[a.DIFFERENCE=11]="DIFFERENCE",a[a.EXCLUSION=12]="EXCLUSION",a[a.HUE=13]="HUE",a[a.SATURATION=14]="SATURATION",a[a.COLOR=15]="COLOR",a[a.LUMINOSITY=16]="LUMINOSITY",a[a.NORMAL_NPM=17]="NORMAL_NPM",a[a.ADD_NPM=18]="ADD_NPM",a[a.SCREEN_NPM=19]="SCREEN_NPM",a[a.NONE=20]="NONE",a[a.SRC_OVER=0]="SRC_OVER",a[a.SRC_IN=21]="SRC_IN",a[a.SRC_OUT=22]="SRC_OUT",a[a.SRC_ATOP=23]="SRC_ATOP",a[a.DST_OVER=24]="DST_OVER",a[a.DST_IN=25]="DST_IN",a[a.DST_OUT=26]="DST_OUT",a[a.DST_ATOP=27]="DST_ATOP",a[a.ERASE=26]="ERASE",a[a.SUBTRACT=28]="SUBTRACT",a[a.XOR=29]="XOR",(h=h=h||{})[h.POINTS=0]="POINTS",h[h.LINES=1]="LINES",h[h.LINE_LOOP=2]="LINE_LOOP",h[h.LINE_STRIP=3]="LINE_STRIP",h[h.TRIANGLES=4]="TRIANGLES",h[h.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",h[h.TRIANGLE_FAN=6]="TRIANGLE_FAN",(l=l=l||{})[l.RGBA=6408]="RGBA",l[l.RGB=6407]="RGB",l[l.RG=33319]="RG",l[l.RED=6403]="RED",l[l.RGBA_INTEGER=36249]="RGBA_INTEGER",l[l.RGB_INTEGER=36248]="RGB_INTEGER",l[l.RG_INTEGER=33320]="RG_INTEGER",l[l.RED_INTEGER=36244]="RED_INTEGER",l[l.ALPHA=6406]="ALPHA",l[l.LUMINANCE=6409]="LUMINANCE",l[l.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",l[l.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",l[l.DEPTH_STENCIL=34041]="DEPTH_STENCIL",(u=u=u||{})[u.TEXTURE_2D=3553]="TEXTURE_2D",u[u.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",u[u.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",u[u.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",u[u.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",u[u.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",u[u.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",(c=c=c||{})[c.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",c[c.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",c[c.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",c[c.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",c[c.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",c[c.UNSIGNED_INT=5125]="UNSIGNED_INT",c[c.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",c[c.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",c[c.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",c[c.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",c[c.BYTE=5120]="BYTE",c[c.SHORT=5122]="SHORT",c[c.INT=5124]="INT",c[c.FLOAT=5126]="FLOAT",c[c.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",c[c.HALF_FLOAT=36193]="HALF_FLOAT",(m=m=m||{})[m.FLOAT=0]="FLOAT",m[m.INT=1]="INT",m[m.UINT=2]="UINT",(m=p=p||{})[m.NEAREST=0]="NEAREST",m[m.LINEAR=1]="LINEAR",(m=d=d||{})[m.CLAMP=33071]="CLAMP",m[m.REPEAT=10497]="REPEAT",m[m.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",(m=f=f||{})[m.OFF=0]="OFF",m[m.POW2=1]="POW2",m[m.ON=2]="ON",m[m.ON_MANUAL=3]="ON_MANUAL",(g=g=g||{})[g.NPM=0]="NPM",g[g.UNPACK=1]="UNPACK",g[g.PMA=2]="PMA",g[g.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",g[g.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",g[g.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",g[g.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",(y=y=y||{})[y.NO=0]="NO",y[y.YES=1]="YES",y[y.AUTO=2]="AUTO",y[y.BLEND=0]="BLEND",y[y.CLEAR=1]="CLEAR",y[y.BLIT=2]="BLIT",(y=_=_||{})[y.AUTO=0]="AUTO",y[y.MANUAL=1]="MANUAL",(y=w=w||{}).LOW="lowp",y.MEDIUM="mediump",y.HIGH="highp",(b=b=b||{})[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE",(b=v=v||{})[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH",(x=x=x||{})[x.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",x[x.ARRAY_BUFFER=34962]="ARRAY_BUFFER",x[x.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";var E,S,A,w={MIPMAP_TEXTURES:f.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:v.NONE,SPRITE_MAX_TEXTURES:(E=32,A=!0,(T.tablet||T.phone)&&(T.apple.device&&(S=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(S[1],10)<11&&(A=!1),T.android.device&&(S=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(S[1],10)<7&&(A=!1)),A?E:4),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:_.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:d.CLAMP,SCALE_MODE:p.LINEAR,PRECISION_VERTEX:w.HIGH,PRECISION_FRAGMENT:T.apple.device?w.HIGH:w.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!T.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};i.isMobile=T,i.settings=w},{ismobilejs:47}],34:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/core"),r=t("@pixi/sprite"),s=t("@pixi/ticker"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var a,h,l,r=(a=r.Sprite,o(h=c,l=a),h.prototype=null===l?Object.create(l):(u.prototype=l.prototype,new u),c.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1))},c.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.Ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH),this._isConnectedToTicker=!0))},c.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},c.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},c.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},c.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},c.prototype.destroy=function(t){this.stop(),a.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},c.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(n.Texture.from(t[i]));return new c(e)},c.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(n.Texture.from(t[i]));return new c(e)},Object.defineProperty(c.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof n.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),c);function u(){this.constructor=h}function c(t,e){void 0===e&&(e=!0);var i=a.call(this,t[0]instanceof n.Texture?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=e,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}i.AnimatedSprite=r},{"@pixi/core":10,"@pixi/sprite":36,"@pixi/ticker":40}],35:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=t("@pixi/core"),s=t("@pixi/math"),n=t("@pixi/sprite"),d=t("@pixi/constants"),f=t("@pixi/utils"),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function a(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var h,l=new s.Point,t=(a(u,h=n.Sprite),Object.defineProperty(u.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),u.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},u.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},u.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)},u.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):h.prototype.getLocalBounds.call(this,t)},u.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._width,i=this._height,t=-e*this.anchor._x;if(l.x>=t&&l.x<t+e){e=-i*this.anchor._y;if(l.y>=e&&l.y<e+i)return!0}return!1},u.prototype.destroy=function(t){h.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},u.from=function(t,e){return new u(t instanceof r.Texture?t:r.Texture.from(t,e),e.width,e.height)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),u);function u(t,e,i){void 0===e&&(e=100),void 0===i&&(i=100);var n=h.call(this,t)||this;return n.tileTransform=new s.Transform,n._width=e,n._height=i,n.uvMatrix=n.texture.uvMatrix||new r.TextureMatrix(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}var c,p="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",m=new s.Matrix,n=(a(g,c=r.ObjectRenderer),g.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=r.Shader.from(p,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=1<t.context.webGLVersion?r.Shader.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):r.Shader.from(p,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},g.prototype.render=function(t){var e=this.renderer,i=this.quad,n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);var r=t.uvRespectAnchor?t.anchor.x:0,s=t.uvRespectAnchor?t.anchor.y:0;(n=i.uvs)[0]=n[6]=-r,n[1]=n[3]=-s,n[2]=n[4]=1-r,n[5]=n[7]=1-s,i.invalidate();var o=t._texture,a=o.baseTexture,h=t.tileTransform.localTransform,l=t.uvMatrix,u=a.isPowerOfTwo&&o.frame.width===a.width&&o.frame.height===a.height;u&&(a._glTextures[e.CONTEXT_UID]?u=a.wrapMode!==d.WRAP_MODES.CLAMP:a.wrapMode===d.WRAP_MODES.CLAMP&&(a.wrapMode=d.WRAP_MODES.REPEAT));var c=u?this.simpleShader:this.shader,p=o.width,r=o.height,n=t._width,s=t._height;m.set(h.a*p/n,h.b*p/s,h.c*r/n,h.d*r/s,h.tx/n,h.ty/s),m.invert(),u?m.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=m.toArray(!0),c.uniforms.uColor=f.premultiplyTintToRgba(t.tint,t.worldAlpha,c.uniforms.uColor,a.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,e.shader.bind(c),e.geometry.bind(i),this.state.blendMode=f.correctBlendMode(t.blendMode,a.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},g);function g(t){var e=c.call(this,t)||this;return t.runners.contextChange.add(e),e.quad=new r.QuadUv,e.state=r.State.for2d(),e}i.TilingSprite=t,i.TilingSpriteRenderer=n},{"@pixi/constants":9,"@pixi/core":10,"@pixi/math":23,"@pixi/sprite":36,"@pixi/utils":41}],36:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("@pixi/constants"),r=t("@pixi/core"),s=t("@pixi/display"),o=t("@pixi/math"),g=t("@pixi/settings"),a=t("@pixi/utils"),h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var l,u,c,p=new o.Point,d=new Uint16Array([0,1,2,0,2,3]),s=(l=s.Container,h(u=m,c=l),u.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f),m.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=a.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=a.sign(this.scale.y)*this._height/this._texture.orig.height)},m.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},m.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,s=e.d,o=e.tx,a=e.ty,h=this.vertexData,l=t.trim,u=t.orig,c=this._anchor,p=0,d=0,e=0,t=0,e=l?(p=(d=l.x-c._x*u.width)+l.width,(t=l.y-c._y*u.height)+l.height):(p=(d=-c._x*u.width)+u.width,(t=-c._y*u.height)+u.height);if(h[0]=i*d+r*t+o,h[1]=s*t+n*d+a,h[2]=i*p+r*t+o,h[3]=s*t+n*p+a,h[4]=i*p+r*e+o,h[5]=s*e+n*p+a,h[6]=i*d+r*e+o,h[7]=s*e+n*d+a,this._roundPixels)for(var f=g.settings.RESOLUTION,m=0;m<h.length;++m)h[m]=Math.round((h[m]*f|0)/f)}},m.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,r=this.transform.worldTransform,s=r.a,o=r.b,a=r.c,h=r.d,l=r.tx,u=r.ty,t=-n._x*i.width,r=t+i.width,n=-n._y*i.height,i=n+i.height;e[0]=s*t+a*n+l,e[1]=h*n+o*t+u,e[2]=s*r+a*n+l,e[3]=h*n+o*r+u,e[4]=s*r+a*i+l,e[5]=h*i+o*r+u,e[6]=s*t+a*i+l,e[7]=h*i+o*t+u},m.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},m.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},m.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):l.prototype.getLocalBounds.call(this,t)},m.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,p);var e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x,t=0;return p.x>=n&&p.x<n+e&&(t=-i*this.anchor.y,p.y>=t&&p.y<t+i)},m.prototype.destroy=function(t){l.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof t?t:t&&t.texture)&&(t="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!t)),this._texture=null},m.from=function(t,e){return new m(t instanceof r.Texture?t:r.Texture.from(t,e))},Object.defineProperty(m.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=a.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=a.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||r.Texture.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),m);function f(){this.constructor=u}function m(t){var e=l.call(this)||this;return e._anchor=new o.ObservablePoint(e._onAnchorUpdate,e,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=n.BLEND_MODES.NORMAL,e._cachedTint=16777215,e.uvs=null,e.texture=t||r.Texture.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.indices=d,e.pluginName="batch",e.isSprite=!0,e._roundPixels=g.settings.ROUND_PIXELS,e}i.Sprite=s},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/math":23,"@pixi/settings":33,"@pixi/utils":41}],37:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=t("@pixi/math"),u=t("@pixi/core"),h=t("@pixi/utils"),c=t("@pixi/loaders"),p=(d.prototype._updateResolution=function(t){var e=this.data.meta.scale,t=h.getResolutionOfUrl(t=void 0===t?null:t,null);return 1!==(t=null===t?void 0!==e?parseFloat(e):1:t)&&this.baseTexture.setResolution(t),t},d.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=d.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},d.prototype._processFrames=function(t){for(var e=t,i=d.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var n,r,s,o=this._frameKeys[e],a=this._frames[o],h=a.frame;h&&(n=s=null,r=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,r=new l.Rectangle(0,0,Math.floor(r.w)/this.resolution,Math.floor(r.h)/this.resolution),s=a.rotated?new l.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):new l.Rectangle(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(n=new l.Rectangle(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new u.Texture(this.baseTexture,s,r,n,a.rotated?2:0,a.anchor),u.Texture.addToCache(this.textures[o],o)),e++}},d.prototype._processAnimations=function(){var t,e=this.data.animations||{};for(t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var n=e[t][i];this.animations[t].push(this.textures[n])}}},d.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},d.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*d.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*d.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},d.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null!==(t=this._texture)&&void 0!==t&&t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},d.BATCH_SIZE=1e3,d);function d(t,e,i){void 0===i&&(i=null),this._texture=t instanceof u.Texture?t:null,this.baseTexture=t instanceof u.BaseTexture?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;e=this.baseTexture.resource;this.resolution=this._updateResolution(i||(e?e.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}f.use=function(n,i){var r=this,t=n.name+"_image";if(n.data&&n.type===c.LoaderResource.TYPE.JSON&&n.data.frames&&!r.resources[t]){var e=null===(a=null===(e=n.data)||void 0===e?void 0:e.meta)||void 0===a?void 0:a.related_multi_packs;if(Array.isArray(e))for(var s=0,o=e;s<o.length;s++)!function(t){if("string"!=typeof t)return;var e=t.replace(".json",""),i=h.url.resolve(n.url.replace(r.baseUrl,""),t);if(r.resources[e]||Object.values(r.resources).some(function(t){return h.url.format(h.url.parse(t.url))===i}))return;t={crossOrigin:n.crossOrigin,loadType:c.LoaderResource.LOAD_TYPE.XHR,xhrType:c.LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:n,metadata:n.metadata};r.add(e,i,t)}(o[s]);var a={crossOrigin:n.crossOrigin,metadata:n.metadata.imageMetadata,parentResource:n},e=f.getResourcePath(n,r.baseUrl);r.add(t,e,a,function(t){var e;t.error?i(t.error):(e=new p(t.texture,n.data,n.url)).parse(function(){n.spritesheet=e,n.textures=e.textures,i()})})}else i()},f.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:h.url.resolve(t.url.replace(e,""),t.data.meta.image)},t=f;function f(){}i.Spritesheet=p,i.SpritesheetLoader=t},{"@pixi/core":10,"@pixi/loaders":21,"@pixi/math":23,"@pixi/utils":41}],38:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var J=t("@pixi/math"),h=t("@pixi/settings"),tt=t("@pixi/mesh"),et=t("@pixi/utils"),it=t("@pixi/core"),O=t("@pixi/text"),nt=t("@pixi/constants"),n=t("@pixi/display"),f=t("@pixi/loaders"),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};var M=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},s=(o.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},o.parse=function(t){var e,i=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(e in i){var r,s=i[e].match(/^[a-z]+/gm)[0],o=i[e].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(r in o){var h=o[r].split("="),l=h[0],u=h[1].replace(/"/gm,""),h=parseFloat(u),h=isNaN(h)?u:h;a[l]=h}n[s].push(a)}var c=new M;return n.info.forEach(function(t){return c.info.push({face:t.face,size:parseInt(t.size,10)})}),n.common.forEach(function(t){return c.common.push({lineHeight:parseInt(t.lineHeight,10)})}),n.page.forEach(function(t){return c.page.push({id:parseInt(t.id,10),file:t.file})}),n.char.forEach(function(t){return c.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})}),n.kerning.forEach(function(t){return c.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})}),n.distanceField.forEach(function(t){return c.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})}),c},o);function o(){}var a=(l.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},l.parse=function(t){for(var e=new M,i=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),r=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),a=t.getElementsByTagName("distanceField"),h=0;h<i.length;h++)e.info.push({face:i[h].getAttribute("face"),size:parseInt(i[h].getAttribute("size"),10)});for(h=0;h<n.length;h++)e.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(h=0;h<r.length;h++)e.page.push({id:parseInt(r[h].getAttribute("id"),10)||0,file:r[h].getAttribute("file")});for(h=0;h<s.length;h++){var l=s[h];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(h=0;h<o.length;h++)e.kerning.push({first:parseInt(o[h].getAttribute("first"),10),second:parseInt(o[h].getAttribute("second"),10),amount:parseInt(o[h].getAttribute("amount"),10)});for(h=0;h<a.length;h++)e.distanceField.push({fieldType:a[h].getAttribute("fieldType"),distanceRange:parseInt(a[h].getAttribute("distanceRange"),10)});return e},l);function l(){}u.test=function(t){if("string"==typeof t&&-1<t.indexOf("<font>")){t=(new self.DOMParser).parseFromString(t,"text/xml");return a.test(t)}return!1},u.parse=function(t){t=(new self.DOMParser).parseFromString(t,"text/xml");return a.parse(t)},t=u;function u(){}var c=[s,a,t];function m(t){for(var e=0;e<c.length;e++)if(c[e].test(t))return c[e];return null}function I(t,e,i,n,r,s,o){var a=i.text,h=i.fontProperties;e.translate(n,r),e.scale(s,s);n=o.strokeThickness/2,r=-o.strokeThickness/2;e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=function(t,e,i,n,r,s){var o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,l=t.width/n-a-2*h,u=t.height/n-a-2*h,c=o.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var d=c.length+1,f=1;f<d;++f)p.push(f/d);if(c.unshift(o[0]),p.unshift(0),c.push(o[o.length-1]),p.push(1),i.fillGradientType===O.TEXT_GRADIENT.LINEAR_VERTICAL)for(var m=e.createLinearGradient(l/2,h,l/2,u+h),g=0,_=(s.fontProperties.fontSize+i.strokeThickness)/u,f=0;f<r.length;f++)for(var y=s.lineHeight*f,v=0;v<c.length;v++){var b=0,b="number"==typeof p[v]?p[v]:v/c.length,b=Math.max(g,y/u+b*_),b=Math.min(b,1);m.addColorStop(b,c[v]),g=b}else{m=e.createLinearGradient(h,u/2,l+h,u/2);for(var x=c.length+1,T=1,f=0;f<c.length;f++){var E=void 0,E="number"==typeof p[f]?p[f]:T/x;m.addColorStop(E,c[f]),T++}}return m}(t,e,o,s,[a],i),e.strokeStyle=o.stroke;s=o.dropShadowColor,s=et.hex2rgb("number"==typeof s?s:et.string2hex(s));o.dropShadow?(e.shadowColor="rgba("+255*s[0]+","+255*s[1]+","+255*s[2]+","+o.dropShadowAlpha+")",e.shadowBlur=o.dropShadowBlur,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),o.stroke&&o.strokeThickness&&e.strokeText(a,n,r+i.lineHeight-h.descent),o.fill&&e.fillText(a,n,r+i.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function rt(t){return Array.from?Array.from(t):t.split("")}function st(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var ot=(D.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},D.install=function(t,e,i){var n;if(t instanceof M)n=t;else{var r=m(t);if(!r)throw new Error("Unrecognized data format for font.");n=r.parse(t)}i=new D(n,e=e instanceof it.Texture?[e]:e,i);return D.available[i.font]=i},D.uninstall=function(t){var e=D.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete D.available[t]},D.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},D.defaultOptions,i),i=n.chars,r=n.padding,s=n.resolution,o=n.textureWidth,a=n.textureHeight,h=function(t){for(var e=[],i=0,n=(t="string"==typeof t?[t]:t).length;i<n;i++){var r=t[i];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var s=r[0].charCodeAt(0),o=r[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,h=o;a<=h;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,rt(r))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(i),l=e instanceof O.TextStyle?e:new O.TextStyle(e),u=o,c=new M;c.info[0]={face:l.fontFamily,size:l.fontSize},c.common[0]={lineHeight:l.fontSize};for(var p,d,f,m=0,g=0,_=0,y=[],v=0;v<h.length;v++){p||((p=document.createElement("canvas")).width=o,p.height=a,d=p.getContext("2d"),f=new it.BaseTexture(p,{resolution:s}),y.push(new it.Texture(f)),c.page.push({id:y.length-1,file:""}));var b=O.TextMetrics.measureText(h[v],l,!1,p),x=b.width,T=Math.ceil(b.height),E=Math.ceil(("italic"===l.fontStyle?2:1)*x);if(a-T*s<=g){if(0===g)throw new Error("[BitmapFont] textureHeight "+a+"px is too small for "+l.fontSize+"px fonts");--v,f=d=p=null,_=m=g=0}else{_=Math.max(T+b.fontProperties.descent,_);u<=E*s+m?(--v,g+=_*s,g=Math.ceil(g),_=m=0):(I(p,d,b,m,g,s,l),b=st(b.text),c.char.push({id:b,page:y.length-1,x:m/s,y:g/s,width:E,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(x-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))}),m+=(E+2*r)*s,m=Math.ceil(m))}}for(var v=0,S=h.length;v<S;v++)for(var A=h[v],w=0;w<S;w++){var P=h[w],C=d.measureText(A).width,R=d.measureText(P).width,R=d.measureText(A+P).width-(C+R);R&&c.kerning.push({first:st(A),second:st(P),amount:R})}e=new D(c,y,!0);return void 0!==D.available[t]&&D.uninstall(t),D.available[t]=e},D.ALPHA=[["a","z"],["A","Z"]," "],D.NUMERIC=[["0","9"]],D.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],D.ASCII=[[" ","~"]],D.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:D.ALPHANUMERIC},D.available={},D);function D(t,e,i){var n=t.info[0],r=t.common[0],s=t.page[0],o=t.distanceField[0],a=et.getResolutionOfUrl(s.file),h={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=r.lineHeight/a,this.chars={},this.pageTextures=h;for(var l=0;l<t.page.length;l++){var u=t.page[l],c=u.id,u=u.file;h[c]=e instanceof Array?e[l]:e[u],null!=o&&o.fieldType&&"none"!==o.fieldType&&(h[c].baseTexture.alphaMode=nt.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA)}for(l=0;l<t.char.length;l++){var p=t.char[l],c=p.id,d=p.page,f=t.char[l],m=f.x,g=f.y,_=f.width,y=f.height,v=f.xoffset,p=f.yoffset,f=f.xadvance;m/=a,g/=a,_/=a,y/=a,v/=a,p/=a,f/=a;y=new J.Rectangle(m+h[d].frame.x/a,g+h[d].frame.y/a,_,y);this.chars[c]={xOffset:v,yOffset:p,xAdvance:f,kerning:{},texture:new it.Texture(h[d].baseTexture,y),page:d}}for(l=0;l<t.kerning.length;l++){var b=t.kerning[l],x=b.first,T=b.second,b=b.amount;x/=a,T/=a,b/=a,this.chars[T]&&(this.chars[T].kerning[x]=b)}this.distanceFieldRange=null==o?void 0:o.distanceRange,this.distanceFieldType=null!==(r=null===(r=null==o?void 0:o.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==r?r:"none"}var p,d,g,at=[],ht=[],lt=[],t=(p=n.Container,r(d=y,g=p),d.prototype=null===g?Object.create(g):(_.prototype=g.prototype,new _),y.prototype.updateText=function(){for(var t=ot.available[this._fontName],e=this._fontSize/t.size,i=new J.Point,n=[],r=[],s=[],o=rt(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),a=this._maxWidth*t.size/this._fontSize,h="none"===t.distanceFieldType?at:ht,l=null,u=0,c=0,p=0,d=-1,f=0,m=0,g=0,_=0,y=0;y<o.length;y++){var v,b,x=st(L=o[y]);/(?:\s)/.test(L)&&(d=y,f=u,_++),"\r"!==L&&"\n"!==L?(v=t.chars[x])&&(l&&v.kerning[l]&&(i.x+=v.kerning[l]),(b=lt.pop()||{texture:it.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new J.Point}).texture=v.texture,b.line=p,b.charCode=x,b.position.x=i.x+v.xOffset+this._letterSpacing/2,b.position.y=i.y+v.yOffset,b.prevSpaces=_,n.push(b),u=b.position.x+v.texture.orig.width,i.x+=v.xAdvance+this._letterSpacing,g=Math.max(g,v.yOffset+v.texture.height),l=x,-1!==d&&0<a&&i.x>a&&(++m,et.removeItems(n,1+d-m,1+y-d),y=d,d=-1,r.push(f),s.push(0<n.length?n[n.length-1].prevSpaces:0),c=Math.max(c,f),p++,i.x=0,i.y+=t.lineHeight,l=null,_=0)):(r.push(u),s.push(-1),c=Math.max(c,u),++p,++m,i.x=0,i.y+=t.lineHeight,l=null,_=0)}var T=o[o.length-1];"\r"!==T&&"\n"!==T&&(/(?:\s)/.test(T)&&(u=f),r.push(u),c=Math.max(c,u),s.push(-1));for(var E=[],y=0;y<=p;y++){var S=0;"right"===this._align?S=c-r[y]:"center"===this._align?S=(c-r[y])/2:"justify"===this._align&&(S=s[y]<0?0:(c-r[y])/s[y]),E.push(S)}for(var A=n.length,w={},P=[],C=this._activePagesMeshData,y=0;y<C.length;y++)h.push(C[y]);for(y=0;y<A;y++){var R,O,M,I=(B=n[y].texture).baseTexture.uid;w[I]||((z=h.pop())||(R=new tt.MeshGeometry,O=M=void 0,O="none"===t.distanceFieldType?(M=new tt.MeshMaterial(it.Texture.EMPTY),nt.BLEND_MODES.NORMAL):(M=new tt.MeshMaterial(it.Texture.EMPTY,{program:it.Program.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),nt.BLEND_MODES.NORMAL_NPM),(M=new tt.Mesh(R,M)).blendMode=O,z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:M,vertices:null,uvs:null,indices:null}),z.index=0,z.indexCount=0,z.vertexCount=0,z.uvsCount=0,z.total=0,(M=this._textureCache)[I]=M[I]||new it.Texture(B.baseTexture),z.mesh.texture=M[I],z.mesh.tint=this._tint,P.push(z),w[I]=z),w[I].total++}for(y=0;y<C.length;y++)-1===P.indexOf(C[y])&&this.removeChild(C[y].mesh);for(y=0;y<P.length;y++)P[y].mesh.parent!==this&&this.addChild(P[y].mesh);for(y in this._activePagesMeshData=P,w){var D=(z=w[y]).total;if(!((null===(k=z.indices)||void 0===k?void 0:k.length)>6*D)||z.vertices.length<2*tt.Mesh.BATCHABLE_SIZE)z.vertices=new Float32Array(8*D),z.uvs=new Float32Array(8*D),z.indices=new Uint16Array(6*D);else for(var k=z.total,N=z.vertices,F=4*k*2;F<N.length;F++)N[F]=0;z.mesh.size=6*D}for(y=0;y<A;y++){var L,B,G=(L=n[y]).position.x+E[L.line]*("justify"===this._align?L.prevSpaces:1),U=(G=this._roundPixels?Math.round(G):G)*e,V=L.position.y*e,j=w[(B=L.texture).baseTexture.uid],H=B.frame,X=B._uvs,G=j.index++;j.indices[6*G+0]=0+4*G,j.indices[6*G+1]=1+4*G,j.indices[6*G+2]=2+4*G,j.indices[6*G+3]=0+4*G,j.indices[6*G+4]=2+4*G,j.indices[6*G+5]=3+4*G,j.vertices[8*G+0]=U,j.vertices[8*G+1]=V,j.vertices[8*G+2]=U+H.width*e,j.vertices[8*G+3]=V,j.vertices[8*G+4]=U+H.width*e,j.vertices[8*G+5]=V+H.height*e,j.vertices[8*G+6]=U,j.vertices[8*G+7]=V+H.height*e,j.uvs[8*G+0]=X.x0,j.uvs[8*G+1]=X.y0,j.uvs[8*G+2]=X.x1,j.uvs[8*G+3]=X.y1,j.uvs[8*G+4]=X.x2,j.uvs[8*G+5]=X.y2,j.uvs[8*G+6]=X.x3,j.uvs[8*G+7]=X.y3}for(y in this._textWidth=c*e,this._textHeight=(i.y+t.lineHeight)*e,w){var z=w[y];if(0!==this.anchor.x||0!==this.anchor.y)for(var q=0,Y=this._textWidth*this.anchor.x,W=this._textHeight*this.anchor.y,$=0;$<z.total;$++)z.vertices[q++]-=Y,z.vertices[q++]-=W,z.vertices[q++]-=Y,z.vertices[q++]-=W,z.vertices[q++]-=Y,z.vertices[q++]-=W,z.vertices[q++]-=Y,z.vertices[q++]-=W;this._maxLineHeight=g*e;var Z=z.mesh.geometry.getBuffer("aVertexPosition"),Q=z.mesh.geometry.getBuffer("aTextureCoord"),K=z.mesh.geometry.getIndex();Z.data=z.vertices,Q.data=z.uvs,K.data=z.indices,Z.update(),Q.update(),K.update()}for(y=0;y<n.length;y++)lt.push(n[y])},y.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},y.prototype._render=function(t){var e=ot.available[this._fontName],i=e.distanceFieldRange,n=e.distanceFieldType,r=e.size;if("none"!==n)for(var s=this.worldTransform,o=s.a,e=s.b,n=s.c,s=s.d,e=Math.sqrt(o*o+e*e),s=Math.sqrt(n*n+s*s),a=(Math.abs(e)+Math.abs(s))/2,h=this._fontSize/r,l=0,u=this._activePagesMeshData;l<u.length;l++)u[l].mesh.shader.uniforms.uFWidth=a*i*h*t.resolution;p.prototype._render.call(this,t)},y.prototype.getLocalBounds=function(){return this.validate(),p.prototype.getLocalBounds.call(this)},y.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(y.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!ot.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),y.prototype.destroy=function(t){var e,i=this._textureCache;for(e in i)i[e].destroy(),delete i[e];this._textureCache=null,p.prototype.destroy.call(this,t)},y.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},y);function _(){this.constructor=d}function y(t,e){void 0===e&&(e={});var i=p.call(this)||this;i._tint=16777215;var n=Object.assign({},y.styleDefaults,e),r=n.align,s=n.tint,o=n.maxWidth,a=n.letterSpacing,e=n.fontName,n=n.fontSize;if(!ot.available[e])throw new Error('Missing BitmapFont "'+e+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=r,i._tint=s,i._fontName=e,i._fontSize=n||ot.available[e].size,i._text=t,i._maxWidth=o,i._maxLineHeight=0,i._letterSpacing=a,i._anchor=new J.ObservablePoint(function(){i.dirty=!0},i,0,0),i._roundPixels=h.settings.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}v.add=function(){f.LoaderResource.setExtensionXhrType("fnt",f.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},v.use=function(e,i){var t=m(e.data);if(t)for(var n=v.getBaseUrl(this,e),r=t.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===r.page.length&&(e.bitmapFont=ot.install(r,s,!0),i())},a=0;a<r.page.length;++a){var h,l,u=r.page[a].file,c=n+u,p=!1;for(h in this.resources){var d=this.resources[h];if(d.url===c){d.metadata.pageFile=u,d.texture?o(d):d.onAfterMiddleware.add(o),p=!0;break}}p||(l={crossOrigin:e.crossOrigin,loadType:f.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},e.metadata.imageMetadata),parentResource:e},this.add(c,l,o))}else i()},v.getBaseUrl=function(t,e){var i=e.isDataUrl?"":v.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},v.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n=v;function v(){}i.BitmapFont=ot,i.BitmapFontData=M,i.BitmapFontLoader=n,i.BitmapText=t},{"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/loaders":21,"@pixi/math":23,"@pixi/mesh":25,"@pixi/settings":33,"@pixi/text":39,"@pixi/utils":41}],39:[function(t,e,w){"use strict";Object.defineProperty(w,"__esModule",{value:!0});var i=t("@pixi/sprite"),o=t("@pixi/core"),a=t("@pixi/settings"),h=t("@pixi/math"),v=t("@pixi/utils"),n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};(t=w.TEXT_GRADIENT||(w.TEXT_GRADIENT={}))[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL";var r={align:"left",breakWords:!(t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"),dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:w.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=(u.prototype.clone=function(){var t={};return d(t,this,r),new u(t)},u.prototype.reset=function(){d(this,r,r)},Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){t=p(t);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fill",{get:function(){return this._fill},set:function(t){t=p(t);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){!function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}(this._fillGradientStops,t)&&(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t=p(t);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),u.prototype.toFontString=function(){for(var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily,i=(e=!Array.isArray(this.fontFamily)?this.fontFamily.split(","):e).length-1;0<=i;i--){var n=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&s.indexOf(n)<0&&(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},u);function u(t){this.styleID=0,this.reset(),d(this,t,t)}function c(t){return"number"==typeof t?v.hex2string(t):"string"==typeof t&&0===t.indexOf("0x")?t.replace("0x","#"):t}function p(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=c(t[e]);return t}return c(t)}function d(t,e,i){for(var n in i)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var b=(A.measureText=function(t,e,i,n){void 0===n&&(n=A._canvas),i=null==i?e.wordWrap:i;var r=e.toFontString(),s=A.measureFont(r);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=n.getContext("2d");o.font=r;for(var a=(i?A.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),l=0,u=0;u<a.length;u++){var c=o.measureText(a[u]).width+(a[u].length-1)*e.letterSpacing;h[u]=c,l=Math.max(l,c)}r=l+e.strokeThickness;e.dropShadow&&(r+=e.dropShadowDistance);i=e.lineHeight||s.fontSize+e.strokeThickness,n=Math.max(i,s.fontSize+e.strokeThickness)+(a.length-1)*(i+e.leading);return e.dropShadow&&(n+=e.dropShadowDistance),new A(t,e,r,n,a,h,i+e.leading,l,s)},A.wordWrap=function(t,e,i){for(var n=(i=void 0===i?A._canvas:i).getContext("2d"),r=0,s="",o="",a=Object.create(null),h=e.letterSpacing,i=e.whiteSpace,l=A.collapseSpaces(i),u=A.collapseNewlines(i),c=!l,p=e.wordWrapWidth+h,d=A.tokenize(t),f=0;f<d.length;f++){var m=d[f];if(A.isNewline(m)){if(!u){o+=A.addLine(s),c=!l,s="",r=0;continue}m=" "}if(l){var g=A.isBreakingSpace(m),_=A.isBreakingSpace(s[s.length-1]);if(g&&_)continue}g=A.getFromCache(m,h,a,n);if(p<g)if(""!==s&&(o+=A.addLine(s),s="",r=0),A.canBreakWords(m,e.breakWords))for(var y=A.wordWrapSplit(m),v=0;v<y.length;v++){for(var b=y[v],x=1;y[v+x];){var T=y[v+x],E=b[b.length-1];if(A.canBreakChars(E,T,m,v,e.breakWords))break;b+=T,x++}v+=b.length-1;var S=A.getFromCache(b,h,a,n);p<S+r&&(o+=A.addLine(s),c=!1,s="",r=0),s+=b,r+=S}else{0<s.length&&(o+=A.addLine(s),s="",r=0);_=f===d.length-1;o+=A.addLine(m,!_),c=!1,s="",r=0}else p<g+r&&(c=!1,o+=A.addLine(s),s="",r=0),(0<s.length||!A.isBreakingSpace(m)||c)&&(s+=m,r+=g)}return o+=A.addLine(s,!1)},A.addLine=function(t,e){return void 0===e&&(e=!0),t=A.trimRight(t),t=e?t+"\n":t},A.getFromCache=function(t,e,i,n){var r=i[t];return"number"!=typeof r&&(e=t.length*e,r=n.measureText(t).width+e,i[t]=r),r},A.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},A.collapseNewlines=function(t){return"normal"===t},A.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;0<=e;e--){var i=t[e];if(!A.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},A.isNewline=function(t){return"string"==typeof t&&0<=A._newlines.indexOf(t.charCodeAt(0))},A.isBreakingSpace=function(t,e){return"string"==typeof t&&0<=A._breakingSpaces.indexOf(t.charCodeAt(0))},A.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var n=0;n<t.length;n++){var r=t[n],s=t[n+1];A.isBreakingSpace(r,s)||A.isNewline(r)?(""!==i&&(e.push(i),i=""),e.push(r)):i+=r}return""!==i&&e.push(i),e},A.canBreakWords=function(t,e){return e},A.canBreakChars=function(t,e,i,n,r){return!0},A.wordWrapSplit=function(t){return t.split("")},A.measureFont=function(t){if(A._fonts[t])return A._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=A._canvas,n=A._context;n.font=t;var r=A.METRICS_STRING+A.BASELINE_SYMBOL,s=Math.ceil(n.measureText(r).width),o=Math.ceil(n.measureText(A.BASELINE_SYMBOL).width),a=Math.ceil(A.HEIGHT_MULTIPLIER*o),o=o*A.BASELINE_MULTIPLIER|0;i.width=s,i.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,o);for(var h=n.getImageData(0,0,s,a).data,n=h.length,l=4*s,u=0,c=0,p=!1,u=0;u<o;++u){for(var d=0;d<l;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c+=l}for(e.ascent=o-u,c=n-l,p=!1,u=a;o<u;--u){for(d=0;d<l;d+=4)if(255!==h[c+d]){p=!0;break}if(p)break;c-=l}return e.descent=u-o,e.fontSize=e.ascent+e.descent,A._fonts[t]=e},A.clearMetrics=function(t){(t=void 0===t?"":t)?delete A._fonts[t]:A._fonts={}},A);function A(t,e,i,n,r,s,o,a,h){this.text=t,this.style=e,this.width=i,this.height=n,this.lines=r,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=h}t=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();t.width=t.height=10,b._canvas=t,b._context=t.getContext("2d"),b._fonts={},b.METRICS_STRING="|q",b.BASELINE_SYMBOL="M",b.BASELINE_MULTIPLIER=1.4,b.HEIGHT_MULTIPLIER=2,b._newlines=[10,13];var f,m,g,_={texture:!0,children:!(b._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]),baseTexture:!0},y="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype,i=(f=i.Sprite,n(m=T,g=f),m.prototype=null===g?Object.create(g):(x.prototype=g.prototype,new x),T.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,n,r=this.context,s=b.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),t=s.width,o=s.height,a=s.lines,h=s.lineHeight,l=s.lineWidths,u=s.maxLineWidth,c=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,t)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*e.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;for(var p=e.dropShadow?2:1,d=0;d<p;++d){var f=e.dropShadow&&0===d,m=f?Math.ceil(Math.max(1,o)+2*e.padding):0,g=m*this._resolution;f?(r.fillStyle="black",r.strokeStyle="black",f=e.dropShadowColor,f=v.hex2rgb("number"==typeof f?f:v.string2hex(f)),r.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+e.dropShadowAlpha+")",r.shadowBlur=e.dropShadowBlur,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+g):(r.fillStyle=this._generateFillStyle(e,a,s),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0);var _=(h-c.fontSize)/2;(!T.nextLineHeightBehavior||h-c.fontSize<0)&&(_=0);for(var y=0;y<a.length;y++)i=e.strokeThickness/2,n=e.strokeThickness/2+y*h+c.ascent+_,"right"===e.align?i+=u-l[y]:"center"===e.align&&(i+=(u-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[y],i+e.padding,n+e.padding-m,!0),e.fill&&this.drawLetterSpacing(a[y],i+e.padding,n+e.padding-m)}this.updateTexture()}},T.prototype.drawLetterSpacing=function(t,e,i,n){void 0===n&&(n=!1);var r=this._style.letterSpacing;if(0===r||y)return y&&(this.context.letterSpacing=r,this.context.textLetterSpacing=r),void(n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i));for(var s,o=e,a=Array.from?Array.from(t):t.split(""),h=this.context.measureText(t).width,l=0;l<a.length;++l){var u=a[l];n?this.context.strokeText(u,o,i):this.context.fillText(u,o,i),o+=h-(s=this.context.measureText(t.substring(l+1)).width)+r,h=s}},T.prototype.updateTexture=function(){var t=this.canvas;!this._style.trim||(n=v.trimCanvas(t)).data&&(t.width=n.width,t.height=n.height,this.context.putImageData(n.data,0,0));var e=this._texture,i=this._style,n=i.trim?0:i.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},T.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),f.prototype._render.call(this,t)},T.prototype.getLocalBounds=function(t){return this.updateText(!0),f.prototype.getLocalBounds.call(this,t)},T.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},T.prototype._generateFillStyle=function(t,e,i){var n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var r=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,o=this.canvas.width/this._resolution-r-2*s,a=this.canvas.height/this._resolution-r-2*s,h=n.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var u=h.length+1,c=1;c<u;++c)l.push(c/u);if(h.unshift(n[0]),l.unshift(0),h.push(n[n.length-1]),l.push(1),t.fillGradientType===w.TEXT_GRADIENT.LINEAR_VERTICAL)for(var p=this.context.createLinearGradient(o/2,s,o/2,a+s),d=i.fontProperties.fontSize+t.strokeThickness,c=0;c<e.length;c++)for(var f=i.lineHeight*(c-1)+d,m=i.lineHeight*c,g=m,_=m+d,y=i.lineHeight*(c+1),v=_,b=((v=c+1<e.length&&y<_?(_+y)/2:v)-(g=0<c&&m<f?(m+f)/2:g))/a,x=0;x<h.length;x++){var T=0,T="number"==typeof l[x]?l[x]:x/h.length,T=Math.min(1,Math.max(0,g/a+T*b)),T=Number(T.toFixed(5));p.addColorStop(T,h[x])}else{p=this.context.createLinearGradient(s,a/2,o+s,a/2);for(var E=h.length+1,S=1,c=0;c<h.length;c++){var A=void 0,A="number"==typeof l[c]?l[c]:S/E;p.addColorStop(A,h[c]),S++}}return p},T.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},_,t),f.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(T.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=v.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=v.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"style",{get:function(){return this._style},set:function(t){this._style=(t=t||{})instanceof l?t:new l(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),T.nextLineHeightBehavior=!1,T);function x(){this.constructor=m}function T(t,e,i){var n=this,r=!1;i||(i=document.createElement("canvas"),r=!0),i.width=3,i.height=3;var s=o.Texture.from(i);return s.orig=new h.Rectangle,s.trim=new h.Rectangle,(n=f.call(this,s)||this)._ownCanvas=r,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=a.settings.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=e,n.localStyleID=-1,n}w.Text=i,w.TextMetrics=b,w.TextStyle=l},{"@pixi/core":10,"@pixi/math":23,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/utils":41}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("@pixi/settings");r.settings.TARGET_FPMS=.06,(t=n.UPDATE_PRIORITY||(n.UPDATE_PRIORITY={}))[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY";var s=(i.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},i.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},i.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},i.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},i);function i(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=0),void 0===n&&(n=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=n}var o=(a.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},a.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},a.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},a.prototype.add=function(t,e,i){return void 0===i&&(i=n.UPDATE_PRIORITY.NORMAL),this._addListener(new s(t,e,i))},a.prototype.addOnce=function(t,e,i){return void 0===i&&(i=n.UPDATE_PRIORITY.NORMAL),this._addListener(new s(t,e,i,!0))},a.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},a.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(a.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),a.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},a.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},a.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},a.prototype.update=function(t){if((t=void 0===t?performance.now():t)>this.lastTime){if((i=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){var e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*r.settings.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(a.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,r.settings.TARGET_FPMS);this._maxElapsedMS=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))},enumerable:!1,configurable:!0}),Object.defineProperty(a,"shared",{get:function(){var t;return a._shared||((t=a._shared=new a).autoStart=!0,t._protected=!0),a._shared},enumerable:!1,configurable:!0}),Object.defineProperty(a,"system",{get:function(){var t;return a._system||((t=a._system=new a).autoStart=!0,t._protected=!0),a._system},enumerable:!1,configurable:!0}),a);function a(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new s(null,null,1/0),this.deltaMS=1/r.settings.TARGET_FPMS,this.elapsedMS=1/r.settings.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}h.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,n.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},h.destroy=function(){var t;this._ticker&&(t=this._ticker,this.ticker=null,t.destroy())},t=h;function h(){}n.Ticker=o,n.TickerPlugin=t},{"@pixi/settings":33}],41:[function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(i,"__esModule",{value:!0});var s=t("@pixi/settings"),r=n(t("eventemitter3")),o=n(t("earcut")),a=t("url"),h=t("@pixi/constants"),l={parse:a.parse,format:a.format,resolve:a.resolve};s.settings.RETINA_PREFIX=/@([0-9\.]+)x/;var u,c=s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var d=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[h.BLEND_MODES.NORMAL_NPM]=h.BLEND_MODES.NORMAL,t[h.BLEND_MODES.ADD_NPM]=h.BLEND_MODES.ADD,t[h.BLEND_MODES.SCREEN_NPM]=h.BLEND_MODES.SCREEN,e[h.BLEND_MODES.NORMAL]=h.BLEND_MODES.NORMAL_NPM,e[h.BLEND_MODES.ADD]=h.BLEND_MODES.ADD_NPM,e[h.BLEND_MODES.SCREEN]=h.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function f(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var m={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var g=0;var _={};var y=Object.create(null),v=Object.create(null);b.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},b.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},b.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(b.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),a=b;function b(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.settings.RESOLUTION,this.resize(t,e)}var x,T=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;Object.defineProperty(i,"isMobile",{enumerable:!0,get:function(){return s.isMobile}}),i.EventEmitter=r,i.earcut=o,i.BaseTextureCache=v,i.CanvasRenderTarget=a,i.DATA_URI=T,i.ProgramCache={},i.TextureCache=y,i.clearTextureCache=function(){for(var t in y)delete y[t];for(t in v)delete v[t]},i.correctBlendMode=function(t,e){return d[e?1:0][t]},i.createIndicesForQuads=function(t,e){var i=6*t;if((e=(e=void 0===e?null:e)||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+i);for(var n=0,r=0;n<i;n+=6,r+=4)e[n+0]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3;return e},i.decomposeDataUri=function(t){if(t=T.exec(t))return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}},i.deprecation=function(t,e,i){var n;void 0===i&&(i=3),_[e]||(void 0===(n=(new Error).stack)?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(n=n.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(n))),_[e]=!0)},i.destroyTextureCache=function(){for(var t in y)y[t].destroy();for(t in v)v[t].destroy()},i.determineCrossOrigin=function(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,(x=x||document.createElement("a")).href=t;var i=l.parse(x.href),t=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&t&&i.protocol===e.protocol?"":"anonymous"},i.getBufferType=f,i.getResolutionOfUrl=function(t,e){return(t=s.settings.RETINA_PREFIX.exec(t))?parseFloat(t[1]):void 0!==e?e:1},i.hex2rgb=function(t,e){return(e=void 0===e?[]:e)[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},i.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},i.interleaveTypedArrays=function(t,e){for(var i=0,n=0,r={},s=0;s<t.length;s++)n+=e[s],i+=t[s].length;for(var o=new ArrayBuffer(4*i),a=null,h=0,s=0;s<t.length;s++){var l=e[s],u=t[s],c=f(u);r[c]||(r[c]=new m[c](o));for(var a=r[c],p=0;p<u.length;p++)a[(p/l|0)*n+h+p%l]=u[p];h+=l}return new Float32Array(o)},i.isPow2=function(t){return!(t&t-1||!t)},i.isWebGLSupported=function(){return u=void 0===u?function(){var t={stencil:!0,failIfMajorPerformanceCaveat:s.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e,i=document.createElement("canvas"),n=i.getContext("webgl",t)||i.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);return!n||(e=n.getExtension("WEBGL_lose_context"))&&e.loseContext(),n=null,r}catch(t){return!1}}():u},i.log2=function(t){var e=(65535<t?1:0)<<4,i=(255<(t>>>=e)?1:0)<<3;return e|=i,e|=i=(15<(t>>>=i)?1:0)<<2,(e|=i=(3<(t>>>=i)?1:0)<<1)|(t>>>=i)>>1},i.nextPow2=function(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},i.premultiplyBlendMode=d,i.premultiplyRgba=function(t,e,i,n){return i=i||new Float32Array(4),n||void 0===n?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i},i.premultiplyTint=function(t,e){return 1===e?(255*e<<24)+t:0===e?0:(255*e<<24)+(((t>>16&255)*e+.5|0)<<16)+(((t>>8&255)*e+.5|0)<<8)+((255&t)*e+.5|0)},i.premultiplyTintToRgba=function(t,e,i,n){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,!n&&void 0!==n||(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i},i.removeItems=function(t,e,i){var n=t.length;if(!(n<=e||0===i)){for(var r=n-(i=n<e+i?n-e:i),s=e;s<r;++s)t[s]=t[s+i];t.length=r}},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.sayHello=function(t){var e;c||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?(e=self.console).log.apply(e,["\n %c %c %c PixiJS 6.2.0 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.0 - "+t+" - http://www.pixijs.com/"),c=!0)},i.sign=function(t){return 0===t?0:t<0?-1:1},i.skipHello=function(){c=!0},i.string2hex=function(t){return"string"==typeof t&&"#"===(t=p[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)},i.trimCanvas=function(t){for(var e,i,n=t.width,r=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,n,r).data,a=o.length,h={top:null,left:null,right:null,bottom:null},t=null,l=0;l<a;l+=4)0!==o[l+3]&&(e=l/4%n,i=~~(l/4/n),null===h.top&&(h.top=i),(null===h.left||e<h.left)&&(h.left=e),(null===h.right||h.right<e)&&(h.right=1+e),(null===h.bottom||h.bottom<i)&&(h.bottom=i));return null!==h.top&&(n=h.right-h.left,r=h.bottom-h.top+1,t=s.getImageData(h.left,h.top,n,r)),{height:r,width:n,data:t}},i.uid=function(){return++g},i.url=l},{"@pixi/constants":9,"@pixi/settings":33,earcut:44,eventemitter3:42,url:66}],42:[function(t,e,i){"use strict";var n=Object.prototype.hasOwnProperty,d="~";function r(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(t,e,i,n,r){if("function"!=typeof i)throw new TypeError("The listener must be a function");r=new s(i,n||t,r),e=d?d+e:e;return t._events[e]?t._events[e].fn?t._events[e]=[t._events[e],r]:t._events[e].push(r):(t._events[e]=r,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(d=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(d?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var t=d?d+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,n=e.length,r=new Array(n);i<n;i++)r[i]=e[i].fn;return r},a.prototype.listenerCount=function(t){t=d?d+t:t,t=this._events[t];return t?t.fn?1:t.length:0},a.prototype.emit=function(t,e,i,n,r,s){var o=d?d+t:t;if(!this._events[o])return!1;var a,h=this._events[o],l=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),l){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,r),!0;case 6:return h.fn.call(h.context,e,i,n,r,s),!0}for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];h.fn.apply(h.context,a)}else for(var u,c=h.length,p=0;p<c;p++)switch(h[p].once&&this.removeListener(t,h[p].fn,void 0,!0),l){case 1:h[p].fn.call(h[p].context);break;case 2:h[p].fn.call(h[p].context,e);break;case 3:h[p].fn.call(h[p].context,e,i);break;case 4:h[p].fn.call(h[p].context,e,i,n);break;default:if(!a)for(u=1,a=new Array(l-1);u<l;u++)a[u-1]=arguments[u];h[p].fn.apply(h[p].context,a)}return!0},a.prototype.on=function(t,e,i){return o(this,t,e,i,!1)},a.prototype.once=function(t,e,i){return o(this,t,e,i,!0)},a.prototype.removeListener=function(t,e,i,n){t=d?d+t:t;if(!this._events[t])return this;if(!e)return h(this,t),this;var r=this._events[t];if(r.fn)r.fn!==e||n&&!r.once||i&&r.context!==i||h(this,t);else{for(var s=0,o=[],a=r.length;s<a;s++)(r[s].fn!==e||n&&!r[s].once||i&&r[s].context!==i)&&o.push(r[s]);o.length?this._events[t]=1===o.length?o[0]:o:h(this,t)}return this},a.prototype.removeAllListeners=function(t){return t?(t=d?d+t:t,this._events[t]&&h(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,a.EventEmitter=a,void 0!==e&&(e.exports=a)},{}],43:[function(t,e,i){var n,r;n=this,r=function(){"use strict";return function(n){for(var r={command:/\s*([achlmqstvz])/gi,number:/\s*([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/gi,comma:/\s*(?:(,)|\s)/g,flag:/\s*([01])/g},s={number:function(t){return+u("number",t)},"coordinate pair":function(t){var e=u("number",t);return null!==e||t?(u("comma"),{x:+e,y:+u("number",!0)}):null},"arc definition":function(t){var e=s["coordinate pair"](t);if(!e&&!t)return null;u("comma");var i=+u("number",!0);u("comma",!0);var n=!!+u("flag",!0);u("comma");t=!!+u("flag",!0);return u("comma"),{radii:e,rotation:i,large:n,clockwise:t,end:s["coordinate pair"](!0)}}},o=0,t=[];o<n.length;){var e,i=u("command"),a=i.toUpperCase(),h=i!==a;switch(a){case"M":e=c("coordinate pair").map(function(t,e){return 1===e&&(i=h?"l":"L"),l({end:t})});break;case"L":case"T":e=c("coordinate pair").map(function(t){return l({end:t})});break;case"C":if((e=c("coordinate pair")).length%3)throw Error("Expected coordinate pair triplet at position "+o);e=e.reduce(function(t,e,i){i%=3;return i?t[t.length-1][1==i?"cp2":"end"]=e:t.push(l({cp1:e})),t},[]);break;case"Q":case"S":if(1&(e=c("coordinate pair")).length)throw Error("Expected coordinate pair couple at position "+o);e=e.reduce(function(t,e,i){return 1&i?t[t.length-1].end=e:t.push(l({cp:e})),t},[]);break;case"H":case"V":e=c("number").map(function(t){return l({value:t})});break;case"A":e=c("arc definition").map(l);break;case"Z":e=[{code:"Z"}]}t.push.apply(t,e)}return t;function l(t){return t.code=i,t.relative=h,t}function u(t,e){r[t].lastIndex=o;var i=r[t].exec(n);if(i&&i.index===o)return o=r[t].lastIndex,i[1];if(!e)return null;throw Error("Expected "+t+" at position "+o)}function c(t){for(var e,i=[],n=!0;e=s[t](n);)i.push(e),n=!!u("comma");return i}}},"function"==typeof define&&define.amd?define([],r):"object"==typeof i?e.exports=r():n.dPathParse=r()},{}],44:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,r,s,o,a,h=e&&e.length,l=h?e[0]*i:t.length,u=m(t,0,l,i,!0),c=[];if(!u||u.next===u.prev)return c;if(h&&(u=function(t,e,i,n){var r,s,o,a,h=[];for(r=0,s=e.length;r<s;r++)o=e[r]*n,a=r<s-1?e[r+1]*n:t.length,(a=m(t,o,a,n,!1))===a.next&&(a.steiner=!0),h.push(function(t){var e=t,i=t;for(;(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next,e!==t;);return i}(a));for(h.sort(y),r=0;r<h.length;r++)i=function(t,e){var i=function(t,e){var i,n=e,r=t.x,s=t.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&o<a){if((o=a)===r){if(s===n.y)return n;if(s===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}}while(n=n.next,n!==e);if(!i)return null;if(r===o)return i;var h,l=i,u=i.x,c=i.y,p=1/0;n=i;for(;r>=n.x&&n.x>=u&&r!==n.x&&b(s<c?r:o,s,u,c,s<c?o:r,s,n.x,n.y)&&(h=Math.abs(s-n.y)/(r-n.x),T(n,t)&&(h<p||h===p&&(n.x>i.x||n.x===i.x&&function(t,e){return x(t.prev,t,e.prev)<0&&x(e.next,t,t.next)<0}(i,n)))&&(i=n,p=h)),n=n.next,n!==l;);return i}(t,e);if(!i)return e;var n=E(i,t),t=g(i,i.next);return g(n,n.next),e===i?t:e}(h[r],i),i=g(i,i.next);return i}(t,e,u,i)),t.length>80*i){for(var p=n=t[0],d=r=t[1],f=i;f<l;f+=i)(s=t[f])<p&&(p=s),(o=t[f+1])<d&&(d=o),n<s&&(n=s),r<o&&(r=o);a=0!==(a=Math.max(n-p,r-d))?1/a:0}return _(u,c,i,p,d,a),c}function m(t,e,i,n,r){var s,o;if(r===0<S(t,e,i,n))for(s=e;s<i;s+=n)o=a(s,t[s],t[s+1],o);else for(s=i-n;e<=s;s-=n)o=a(s,t[s],t[s+1],o);return o&&u(o,o.next)&&(p(o),o=o.next),o}function g(t,e){if(!t)return t;e=e||t;var i,n=t;do{if(i=!1,n.steiner||!u(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(p(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function _(t,e,i,n,r,s,o){if(t){!o&&s&&function(t,e,i,n){var r=t;for(;null===r.z&&(r.z=v(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==t;);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,s,o,a,h,l=1;do{for(i=t,s=t=null,o=0;i;){for(o++,n=i,e=a=0;e<l&&(a++,n=n.nextZ);e++);for(h=l;0<a||0<h&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(i=(r=i).nextZ,a--):(n=(r=n).nextZ,h--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}}while(s.nextZ=null,l*=2,1<o)}(r)}(t,n,r,s);for(var a,h,l=t;t.prev!==t.next;)if(a=t.prev,h=t.next,s?function(t,e,i,n){var r=t.prev,s=t,o=t.next;if(0<=x(r,s,o))return!1;var a=(r.x<s.x?r.x<o.x?r:o:s.x<o.x?s:o).x,h=(r.y<s.y?r.y<o.y?r:o:s.y<o.y?s:o).y,l=(r.x>s.x?r.x>o.x?r:o:s.x>o.x?s:o).x,u=(r.y>s.y?r.y>o.y?r:o:s.y>o.y?s:o).y,c=v(a,h,e,i,n),p=v(l,u,e,i,n),d=t.prevZ,f=t.nextZ;for(;d&&d.z>=c&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=x(d.prev,d,d.next))return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,d.x,d.y)&&0<=x(d.prev,d,d.next))return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&b(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&0<=x(f.prev,f,f.next))return!1;f=f.nextZ}return!0}(t,n,r,s):function(t){var e=t.prev,i=t,n=t.next;if(0<=x(e,i,n))return!1;var r=t.next.next;for(;r!==t.prev;){if(b(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&0<=x(r.prev,r,r.next))return!1;r=r.next}return!0}(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),p(t),t=h.next,l=h.next;else if((t=h)===l){o?1===o?_(t=function(t,e,i){var n=t;do{var r=n.prev,s=n.next.next}while(!u(r,s)&&c(r,n,n.next,s)&&T(r,s)&&T(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),p(n),p(n.next),n=t=s),n=n.next,n!==t);return g(n)}(g(t),e,i),e,i,n,r,s,2):2===o&&function(t,e,i,n,r,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&c(i,i.next,t,e))return!0}while(i=i.next,i!==t);return!1}(t,e)&&(T(t,e)&&T(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,s=(t.y+e.y)/2;for(;i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next,i!==t;);return n}(t,e)&&(x(t.prev,t,e.prev)||x(t,e.prev,e))||u(t,e)&&0<x(t.prev,t,t.next)&&0<x(e.prev,e,e.next))}(o,a)){var h=E(o,a);return o=g(o,o.next),h=g(h,h.next),_(o,e,i,n,r,s),_(h,e,i,n,r,s)}a=a.next}}while(o=o.next,o!==t)}(t,e,i,n,r,s):_(g(t),e,i,n,r,s,1);break}}}function y(t,e){return t.x-e.x}function v(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function b(t,e,i,n,r,s,o,a){return 0<=(r-o)*(e-a)-(t-o)*(s-a)&&0<=(t-o)*(n-a)-(i-o)*(e-a)&&0<=(i-o)*(s-a)-(r-o)*(n-a)}function x(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function u(t,e){return t.x===e.x&&t.y===e.y}function c(t,e,i,n){var r=l(x(t,e,i)),s=l(x(t,e,n)),o=l(x(i,n,t)),a=l(x(i,n,e));return r!==s&&o!==a||(0===r&&h(t,i,e)||(0===s&&h(t,n,e)||(0===o&&h(i,t,n)||!(0!==a||!h(i,e,n)))))}function h(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function l(t){return 0<t?1:t<0?-1:0}function T(t,e){return x(t.prev,t,t.next)<0?0<=x(t,e,t.next)&&0<=x(t,t.prev,e):x(t,e,t.prev)<0||x(t,t.next,e)<0}function E(t,e){var i=new o(t.i,t.x,t.y),n=new o(e.i,e.x,e.y),r=t.next,s=e.prev;return(t.next=e).prev=t,(i.next=r).prev=i,(n.next=i).prev=n,(s.next=n).prev=s,n}function a(t,e,i,n){i=new o(t,e,i);return n?(i.next=n.next,(i.prev=n).next.prev=i,n.next=i):(i.prev=i).next=i,i}function p(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function o(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,n){for(var r=0,s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}e.exports=n,(e.exports.default=n).deviation=function(t,e,i,n){var r=e&&e.length,s=r?e[0]*i:t.length,o=Math.abs(S(t,0,s,i));if(r)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,u=a<h-1?e[a+1]*i:t.length;o-=Math.abs(S(t,l,u,i))}for(var c=0,a=0;a<n.length;a+=3){var p=n[a]*i,d=n[a+1]*i,f=n[a+2]*i;c+=Math.abs((t[p]-t[f])*(t[1+d]-t[1+p])-(t[p]-t[d])*(t[1+f]-t[1+p]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var s=0;s<t[r].length;s++)for(var o=0;o<e;o++)i.vertices.push(t[r][s][o]);0<r&&(n+=t[r-1].length,i.holes.push(n))}return i}},{}],45:[function(t,e,i){var n,r;n=this,r=function(t){"use strict";function i(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return!1!==t}function e(){return"undefined"!=typeof window}function A(t){return Rt(t)||Ct(t)}function n(t){return(Ht=C(t,jt))&&vi}function w(t,e){return!e&&console.warn(t)}function s(t,e){return t&&(jt[t]=e)&&Ht&&(Ht[t]=e)||jt}function P(){return 0}function d(t,e){return(t=t.split(",")).forEach(e)||t}function r(t,e,i,n){qt.length&&re(),t.render(e,i,n),qt.length&&re()}function o(t){return t}function F(t,e){for(var i in e)i in t||(t[i]=e[i]);return t}function a(t,e){for(var i in e)i in t||"duration"===i||"ease"===i||(t[i]=e[i])}function C(t,e){for(var i in e)t[i]=e[i];return t}function h(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=It(e[i])?h(t[i]||(t[i]={}),e[i]):e[i]);return t}function L(t,e){var i,n={};for(i in t)i in e||(n[i]=t[i]);return n}function R(t){var e=t.parent||Z,i=t.keyframes?a:F;if(N(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t}function B(t,e){!t.parent||e&&!t.parent.autoRemoveChildren||t.parent.remove(t),t._act=0}function O(t){return!t||t._ts&&O(t.parent)}function l(t){return t._repeat?x(t._tTime,t=t.duration()+t._rDelay)*t:0}function x(t,e){return e=Math.floor(t/=e),t&&e===t?e-1:e}function u(t,e){return(t-e._start)*e._ts+(0<=e._ts?0:e._dirty?e.totalDuration():e._tDur)}function c(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=u(t.rawTime(),e),(!e._dur||b(0,e.totalDuration(),i)-e._tTime>xt)&&e.render(i,!0)),ae(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)0<=i.rawTime()&&i.totalTime(i._tTime),i=i._dp;t._zTime=-xt}}function M(t,e,i,n){return e.parent&&B(e),e._start=ne((Ot(i)?i:i||t!==Z?m(t,i,e):t._time)+e._delay),e._end=ne(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,n,r){void 0===i&&(i="_first");var s,o=t[n=void 0===n?"_last":n];if(r)for(s=e[r];o&&o[r]>s;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[n]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),y(e)||(t._recent=e),n||c(t,e),t}function I(t,e){return(jt.ScrollTrigger||Xt("scrollTrigger",e))&&jt.ScrollTrigger.create(e,t)}function g(t,e,i,n){return $e(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&et!==Ce.frame?(qt.push(t),t._lazy=[e,n]):void 0:1}function _(t){return(t=t.parent)&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||_(t))}function y(t){return"isFromStart"===(t=t.data)||"isStart"===t}function f(t,e,i,n){var r=t._repeat,s=ne(e)||0;return(e=t._tTime/t._tDur)&&!n&&(t._time*=s/t._dur),t._dur=s,t._tDur=r?r<0?1e10:ne(s*(r+1)+t._rDelay*r):s,e&&!n?le(t,t._tTime=t._tDur*e):t.parent&&he(t),i||ae(t.parent,t),t}function p(t){return t instanceof Xe?ae(t):f(t,t._dur)}function m(t,e,i){var n,r,s,o=t.labels,a=t._recent||ue,h=t.duration()>=bt?a.endTime(!1):t._dur;return Ct(e)&&(isNaN(e)||e in o)?(r=e.charAt(0),s="%"===e.substr(-1),n=e.indexOf("="),"<"===r||">"===r?(0<=n&&(e=e.replace(/=/,"")),("<"===r?a._start:a.endTime(0<=a._repeat))+(parseFloat(e.substr(1))||0)*(s?(n<0?a:i).totalDuration()/100:1)):n<0?(e in o||(o[e]=h),o[e]):(r=parseFloat(e.charAt(n-1)+e.substr(n+1)),s&&i&&(r=r/100*(kt(i)?i[0]:i).totalDuration()),1<n?m(t,e.substr(0,n-1),i)+r:h+r)):null==e?h:+e}function v(t,e,i){var n,r,s=Ot(e[1]),o=(s?2:1)+(t<2?0:1),a=e[o];if(s&&(a.duration=e[1]),a.parent=i,t){for(n=a,r=i;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=N(r.vars.inherit)&&r.parent;a.immediateRender=N(n.immediateRender),t<2?a.runBackwards=1:a.startAt=e[o-1]}return new Je(e[0],a,e[1+o])}function b(t,e,i){return i<t?t:e<i?e:i}function D(t){if(Rt(t))return t;var d=It(t)?t:{each:t},f=Fe(d.ease),m=d.from||0,g=parseFloat(d.base)||0,_={},t=0<m&&m<1,y=isNaN(m)||t,v=d.axis,b=m,x=m;return Ct(m)?b=x={center:.5,edges:.5,end:1}[m]||0:!t&&y&&(b=m[0],x=m[1]),function(t,e,i){var n,r,s,o,a,h,l,u,c=(i||d).length,p=_[c];if(!p){if(!(u="auto"===d.grid?0:(d.grid||[1,bt])[1])){for(h=-bt;h<(h=i[u++].getBoundingClientRect().left)&&u<c;);u--}for(p=_[c]=[],n=y?Math.min(u,c)*b-.5:m%u,r=y?c*x/u-.5:m/u|0,l=bt,a=h=0;a<c;a++)s=a%u-n,o=r-(a/u|0),p[a]=o=v?Math.abs("y"===v?o:s):At(s*s+o*o),h<o&&(h=o),o<l&&(l=o);"random"===m&&ge(p),p.max=h-l,p.min=l,p.v=c=(parseFloat(d.amount)||parseFloat(d.each)*(c<u?c-1:v?"y"===v?c/u:u:Math.max(u,c/u))||0)*("edges"===m?-1:1),p.b=c<0?g-c:g,p.u=pe(d.amount||d.each)||0,f=f&&c<0?Ne(f):f}return c=(p[t]-p.min)/p.max||0,ne(p.b+(f?f(c):c)*p.v)+p.u}}function T(i){var n=Math.pow(10,((i+"").split(".")[1]||"").length);return function(t){var e=Math.round(parseFloat(t)/i)*i*n;return(e-e%1)/n+(Ot(t)?0:pe(t))}}function E(t,e,i,n){return ce(kt(t)?!e:!0===i?!!(i=0):!n,function(){return kt(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*n)/n})}function k(e,i,t){return ce(t,function(t){return e[~~i(t)]})}function G(e,t,i,n,r){var s=t-e,o=n-i;return ce(r,function(t){return i+((t-e)/s*o||0)})}function U(t,e,i){var n,r,s,o=t.labels,a=bt;for(n in o)(r=o[n]-e)<0==!!i&&r&&a>(r=Math.abs(r))&&(s=n,a=r);return s}function V(t,e,i){var n=t.vars,r=n[e];return r&&(e=n[e+"Params"],t=n.callbackScope||t,i&&qt.length&&re(),e?r.apply(t,e):r.call(t))}function j(t){return B(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&V(t,"onInterrupt"),t}function H(t,e,i){return(6*(t=t<0?t+1:1<t?t-1:t)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Te+.5|0}function X(t,e,i){var n,r,s,o,a="",h=(t+a).match(we),l=e?"hsla(":"rgba(",u=0;if(!h)return t;if(h=h.map(function(t){return(t=Se(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"}),i&&(s=Ae(t),(n=i.c).join(a)!==s.c.join(a)))for(o=(r=t.replace(we,"1").split(Lt)).length-1;u<o;u++)a+=r[u]+(~n.indexOf(u)?h.shift()||l+"0,0,0,0)":(s.length?s:h.length?h:i).shift());if(!r)for(o=(r=t.split(we)).length-1;u<o;u++)a+=r[u]+h[u];return a+r[o]}function z(t){var e=t.join(" ");if(we.lastIndex=0,we.test(e))return e=Pe.test(e),t[1]=X(t[1],e),t[0]=X(t[0],e,Ae(t[1])),!0}function q(t,e){for(var i,n=t._first;n;)n instanceof Xe?q(n,e):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===e||(n.timeline?q(n.timeline,e):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=e)),n=n._next}function Y(t,e,i,n){void 0===i&&(i=function(t){return 1-e(1-t)}),void 0===n&&(n=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,s={easeIn:e,easeOut:i,easeInOut:n};return d(t,function(t){for(var e in Oe[t]=jt[t]=s,Oe[r=t.toLowerCase()]=i,s)Oe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Oe[t+"."+e]=s[e]}),1}function W(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}var $,Z,Q,K,J,tt,et,it,nt,rt,st,ot,at,ht,lt,ut,ct,pt,dt,ft,mt,gt,_t,yt={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},vt={duration:.5,overwrite:!1,delay:0},bt=1e8,xt=1/bt,Tt=2*Math.PI,Et=Tt/4,St=0,At=Math.sqrt,wt=Math.cos,Pt=Math.sin,Ct=function(t){return"string"==typeof t},Rt=function(t){return"function"==typeof t},Ot=function(t){return"number"==typeof t},Mt=function(t){return void 0===t},It=function(t){return"object"==typeof t},Dt="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},kt=Array.isArray,Nt=/(?:-?\.?\d|\.)+/gi,Ft=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Lt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Bt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Gt=/[+-]=-?[.\d]+/,Ut=/[^,'"\[\]\s]+/gi,Vt=/[\d.+\-=]+(?:e[-+]\d*)*/i,jt={},Ht={},Xt=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},zt={},qt=[],Yt={},Wt={},$t={},Zt=30,Qt=[],Kt="",Jt=function(t){var e,i,n=t[0];if(It(n)||Rt(n)||(t=[t]),!(e=(n._gsap||{}).harness)){for(i=Qt.length;i--&&!Qt[i].targetTest(n););e=Qt[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new Ve(t[i],e)))||t.splice(i,1);return t},te=function(t){return t._gsap||Jt(me(t))[0]._gsap},ee=function(t,e,i){return(i=t[e])&&Rt(i)?t[e]():Mt(i)&&t.getAttribute&&t.getAttribute(e)||i},ie=function(t){return Math.round(1e5*t)/1e5||0},ne=function(t){return Math.round(1e7*t)/1e7||0},re=function(){var t,e,i=qt.length,n=qt.slice(0);for(Yt={},t=qt.length=0;t<i;t++)(e=n[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},se=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(Ut).length<2?e:Ct(t)?t.trim():t},oe=function(t,e,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=e._prev,s=e._next;r?r._next=s:t[i]===e&&(t[i]=s),s?s._prev=r:t[n]===e&&(t[n]=r),e._next=e._prev=e.parent=null},ae=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},he=function(t){return t._end=ne(t._start+(t._tDur/Math.abs(t._ts||t._rts||xt)||0))},le=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=ne(i._time-(0<t._ts?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),he(t),i._dirty||ae(i,t)),t},ue={_start:0,endTime:P,totalDuration:P},ce=function(t,e){return t||0===t?e(t):e},pe=function(t){if("string"!=typeof t)return"";var e=Vt.exec(t);return e?t.substr(e.index+e[0].length):""},de=[].slice,fe=function(t,e){return t&&It(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&It(t[0]))&&!t.nodeType&&t!==Q},me=function(t,e,i){return!Ct(t)||i||!K&&Re()?kt(t)?(n=i,void 0===r&&(r=[]),t.forEach(function(t){return Ct(t)&&!n||fe(t,1)?r.push.apply(r,me(t)):r.push(t)})||r):fe(t)?de.call(t,0):t?[t]:[]:de.call((e||J).querySelectorAll(t),0);var n,r},ge=function(t){return t.sort(function(){return.5-Math.random()})},_e=function(h,t){var l,u,e=kt(h);return!e&&It(h)&&(l=e=h.radius||bt,h.values?(h=me(h.values),(u=!Ot(h[0]))&&(l*=l)):h=T(h.increment)),ce(t,e?Rt(h)?function(t){return u=h(t),Math.abs(u-t)<=l?u:t}:function(t){for(var e,i,n=parseFloat(u?t.x:t),r=parseFloat(u?t.y:0),s=bt,o=0,a=h.length;a--;)(e=u?(e=h[a].x-n)*e+(i=h[a].y-r)*i:Math.abs(h[a]-n))<s&&(s=e,o=a);return o=!l||s<=l?h[o]:t,u||o===t||Ot(t)?o:o+pe(t)}:T(h))},ye=function t(e,i,n){var r=i-e;return kt(e)?k(e,t(0,e.length),i):ce(n,function(t){return(r+(t-e)%r)%r+e})},ve=function t(e,i,n){var r=i-e,s=2*r;return kt(e)?k(e,t(0,e.length-1),i):ce(n,function(t){return e+(r<(t=(s+(t-e)%s)%s||0)?s-t:t)})},be=function(t){for(var e,i,n,r,s=0,o="";~(e=t.indexOf("random(",s));)n=t.indexOf(")",e),r="["===t.charAt(e+7),i=t.substr(e+7,n-e-7).match(r?Ut:Nt),o+=t.substr(s,e-s)+E(r?i:+i[0],r?0:+i[1],+i[2]||1e-5),s=n+1;return o+t.substr(s,t.length-s)},xe=function t(e,i,n,r){var s=isNaN(e+i)?0:function(t){return(1-t)*e+t*i};if(!s){var o,a,h,l,u,c=Ct(e),p={};if(!0===n&&(r=1)&&(n=null),c)e={p:e},i={p:i};else if(kt(e)&&!kt(i)){for(h=[],l=e.length,u=l-2,a=1;a<l;a++)h.push(t(e[a-1],e[a]));l--,s=function(t){t*=l;var e=Math.min(u,~~t);return h[e](t-e)},n=i}else r||(e=C(kt(e)?[]:{},e));if(!h){for(o in i)ze.call(p,e,o,"get",i[o]);s=function(t){return ei(t,p),c?e.p:e}}}return ce(n,s)},Te=255,Ee={aqua:[0,Te,Te],lime:[0,Te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Te],navy:[0,0,128],white:[Te,Te,Te],olive:[128,128,0],yellow:[Te,Te,0],orange:[Te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Te,0,0],pink:[Te,192,203],cyan:[0,Te,Te],transparent:[Te,Te,Te,0]},Se=function(t,e,i){var n,r,s,o,a,h,l,u=t?Ot(t)?[t>>16,t>>8&Te,t&Te]:0:Ee.black;if(!u){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ee[t])u=Ee[t];else if("#"===t.charAt(0)){if(9===(t=t.length<6?"#"+(n=t.charAt(1))+n+(r=t.charAt(2))+r+(s=t.charAt(3))+s+(5===t.length?t.charAt(4)+t.charAt(4):""):t).length)return[(u=parseInt(t.substr(1,6),16))>>16,u>>8&Te,u&Te,parseInt(t.substr(7),16)/255];u=[(t=parseInt(t.substr(1),16))>>16,t>>8&Te,t&Te]}else if("hsl"===t.substr(0,3))if(u=l=t.match(Nt),e){if(~t.indexOf("="))return u=t.match(Ft),i&&u.length<4&&(u[3]=1),u}else o=+u[0]%360/360,a=+u[1]/100,n=2*(h=+u[2]/100)-(r=h<=.5?h*(a+1):h+a-h*a),3<u.length&&(u[3]*=1),u[0]=H(o+1/3,n,r),u[1]=H(o,n,r),u[2]=H(o-1/3,n,r);else u=t.match(Nt)||Ee.transparent;u=u.map(Number)}return e&&!l&&(n=u[0]/Te,r=u[1]/Te,s=u[2]/Te,h=((t=Math.max(n,r,s))+(e=Math.min(n,r,s)))/2,t===e?o=a=0:(l=t-e,a=.5<h?l/(2-t-e):l/(t+e),o=t===n?(r-s)/l+(r<s?6:0):t===r?(s-n)/l+2:(n-r)/l+4,o*=60),u[0]=~~(o+.5),u[1]=~~(100*a+.5),u[2]=~~(100*h+.5)),i&&u.length<4&&(u[3]=1),u},Ae=function(t){var e=[],i=[],n=-1;return t.split(we).forEach(function(t){t=t.match(Lt)||[];e.push.apply(e,t),i.push(n+=t.length+1)}),e.c=i,e},we=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ee)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Pe=/hsl[a]?\(/,Ce=(ht=Date.now,lt=500,ut=33,ct=ht(),pt=ct,ft=dt=1e3/240,gt={time:0,frame:0,tick:function(){Ge(!0)},deltaRatio:function(t){return ot/(1e3/(t||60))},wake:function(){tt&&(!K&&e()&&(Q=K=window,J=Q.document||{},jt.gsap=vi,(Q.gsapVersions||(Q.gsapVersions=[])).push(vi.version),n(Ht||Q.GreenSockGlobals||!Q.gsap&&Q||{}),st=Q.requestAnimationFrame),nt&&gt.sleep(),rt=st||function(t){return setTimeout(t,ft-1e3*gt.time+1|0)},it=1,Ge(2))},sleep:function(){(st?Q.cancelAnimationFrame:clearTimeout)(nt),it=0,rt=P},lagSmoothing:function(t,e){lt=t||1/xt,ut=Math.min(e,lt,0)},fps:function(t){dt=1e3/(t||240),ft=1e3*gt.time+dt},add:function(t){mt.indexOf(t)<0&&mt.push(t),Re()},remove:function(t){~(t=mt.indexOf(t))&&mt.splice(t,1)&&t<=at&&at--},_listeners:mt=[]}),Re=function(){return!it&&Ce.wake()},Oe={},Me=/^[\d.\-M][\d.\-,\s]/,Ie=/["']/g,De=function(t){for(var e,i,n,r={},s=t.substr(1,t.length-3).split(":"),o=s[0],a=1,h=s.length;a<h;a++)i=s[a],e=a!==h-1?i.lastIndexOf(","):i.length,n=i.substr(0,e),r[o]=isNaN(n)?n.replace(Ie,"").trim():+n,o=i.substr(e+1).trim();return r},ke=function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),n=t.indexOf("(",e);return t.substring(e,~n&&n<i?t.indexOf(")",i+1):i)},Ne=function(e){return function(t){return 1-e(1-t)}},Fe=function(t,e){return t&&(Rt(t)?t:Oe[t]||(n=((i=t)+"").split("("),(t=Oe[n[0]])&&1<n.length&&t.config?t.config.apply(null,~i.indexOf("{")?[De(n[1])]:ke(i).split(",").map(se)):Oe._CE&&Me.test(i)?Oe._CE("",i):t))||e;var i,n},Le=function i(n,t,e){function r(t){return 1===t?1:s*Math.pow(2,-10*t)*Pt((t-o)*a)+1}var s=1<=t?t:1,o=(a=(e||(n?.3:.45))/(t<1?t:1))/Tt*(Math.asin(1/s)||0),t="out"===n?r:"in"===n?function(t){return 1-r(1-t)}:W(r),a=Tt/a;return t.config=function(t,e){return i(n,t,e)},t},Be=function e(i,n){void 0===n&&(n=1.70158);function r(t){return t?--t*t*((n+1)*t+n)+1:0}var t="out"===i?r:"in"===i?function(t){return 1-r(1-t)}:W(r);return t.config=function(t){return e(i,t)},t};function Ge(t){var e,i,n,r=ht()-pt,s=!0===t;if(lt<r&&(ct+=r-ut),(0<(r=(i=(pt+=r)-ct)-ft)||s)&&(n=++gt.frame,ot=i-1e3*gt.time,gt.time=i/=1e3,ft+=r+(dt<=r?4:dt-r),e=1),s||(nt=rt(Ge)),e)for(at=0;at<mt.length;at++)mt[at](i,ot,n,t)}function Ue(t){return t<1/2.75?_t*t*t:t<1/2.75*2?_t*Math.pow(t-1.5/2.75,2)+.75:t<1/2.75*2.5?_t*(t-=2.25/2.75)*t+.9375:_t*Math.pow(t-2.625/2.75,2)+.984375}d("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var i=e<5?e+1:e;Y(t+",Power"+(i-1),e?function(t){return Math.pow(t,i)}:function(t){return t},function(t){return 1-Math.pow(1-t,i)},function(t){return t<.5?Math.pow(2*t,i)/2:1-Math.pow(2*(1-t),i)/2})}),Oe.Linear.easeNone=Oe.none=Oe.Linear.easeIn,Y("Elastic",Le("in"),Le("out"),Le()),_t=7.5625,Y("Bounce",function(t){return 1-Ue(1-t)},Ue),Y("Expo",function(t){return t?Math.pow(2,10*(t-1)):0}),Y("Circ",function(t){return-(At(1-t*t)-1)}),Y("Sine",function(t){return 1===t?1:1-wt(t*Et)}),Y("Back",Be("in"),Be("out"),Be()),Oe.SteppedEase=Oe.steps=jt.SteppedEase={config:function(t,e){var i=1/(t=void 0===t?1:t),n=t+(e?0:1),r=e?1:0,s=1-xt;return function(t){return((n*b(0,s,t)|0)+r)*i}}},vt.ease=Oe["quad.out"],d("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Kt+=t+","+t+"Params,"});var Ve=function(t,e){this.id=St++,(t._gsap=this).target=t,this.harness=e,this.get=e?e.get:ee,this.set=e?e.getSetter:ui},je=((ln=He.prototype).delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},ln.duration=function(t){return arguments.length?this.totalDuration(0<this._repeat?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},ln.totalDuration=function(t){return arguments.length?(this._dirty=0,f(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},ln.totalTime=function(t,e){if(Re(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(le(this,t),!i._dp||i.parent||c(i,this);i&&i.parent;)i.parent._time!==i._start+(0<=i._ts?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&t<this._tDur||this._ts<0&&0<t||!this._tDur&&!t)&&M(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===xt||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),r(this,t,e)),this},ln.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+l(this))%(this._dur+this._rDelay)||(t?this._dur:0),e):this._time},ln.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},ln.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+l(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},ln.iteration=function(t,e){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*i,e):this._repeat?x(this._tTime,i)+1:1},ln.timeScale=function(t){if(!arguments.length)return this._rts===-xt?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?u(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||t===-xt?0:this._rts,function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent}(this.totalTime(b(-this._delay,this._tDur,e),!0)),he(this),this},ln.paused=function(t){return arguments.length?(this._ps!==t&&((this._ps=t)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Re(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==xt&&(this._tTime-=xt)))),this):this._ps},ln.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return!e||!e._sort&&this.parent||M(e,this,t-this._delay),this}return this._start},ln.endTime=function(t){return this._start+(N(t)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},ln.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?u(e.rawTime(t),this):this._tTime:this._tTime},ln.globalTime=function(t){for(var e=this,i=arguments.length?t:e.rawTime();e;)i=e._start+i/(e._ts||1),e=e._dp;return i},ln.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,p(this)):-2===this._repeat?1/0:this._repeat},ln.repeatDelay=function(t){if(arguments.length){var e=this._time;return this._rDelay=t,p(this),e?this.time(e):this}return this._rDelay},ln.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},ln.seek=function(t,e){return this.totalTime(m(this,t),N(e))},ln.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,N(e))},ln.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},ln.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},ln.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},ln.resume=function(){return this.paused(!1)},ln.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-xt:0)),this):this._rts<0},ln.invalidate=function(){return this._initted=this._act=0,this._zTime=-xt,this},ln.isActive=function(){var t,e=this.parent||this._dp,i=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<this.endTime(!0)-xt))},ln.eventCallback=function(t,e,i){var n=this.vars;return 1<arguments.length?(e?(n[t]=e,i&&(n[t+"Params"]=i),"onUpdate"===t&&(this._onUpdate=e)):delete n[t],this):n[t]},ln.then=function(n){var r=this;return new Promise(function(e){function t(){var t=r.then;r.then=null,Rt(i)&&(i=i(r))&&(i.then||i===r)&&(r.then=t),e(i),r.then=t}var i=Rt(n)?n:o;r._initted&&1===r.totalProgress()&&0<=r._ts||!r._tTime&&r._ts<0?t():r._prom=t})},ln.kill=function(){j(this)},He);function He(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,f(this,+t.duration,1,1),this.data=t.data,it||Ce.wake()}F(je.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xt,_prom:0,_ps:!1,_rts:1});var Xe=function(n){function t(t,e){var i;return(i=n.call(this,t=void 0===t?{}:t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=N(t.sortChildren),Z&&M(t.parent||Z,S(i),e),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&I(S(i),t.scrollTrigger),i}i(t,n);var e=t.prototype;return e.to=function(t,e,i){return v(0,arguments,this),this},e.from=function(t,e,i){return v(1,arguments,this),this},e.fromTo=function(t,e,i,n){return v(2,arguments,this),this},e.set=function(t,e,i){return e.duration=0,e.parent=this,R(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Je(t,e,m(this,i),1),this},e.call=function(t,e,i){return M(this,Je.delayedCall(0,t,e),i)},e.staggerTo=function(t,e,i,n,r,s,o){return i.duration=e,i.stagger=i.stagger||n,i.onComplete=s,i.onCompleteParams=o,i.parent=this,new Je(t,i,m(this,r)),this},e.staggerFrom=function(t,e,i,n,r,s,o){return i.runBackwards=1,R(i).immediateRender=N(i.immediateRender),this.staggerTo(t,e,i,n,r,s,o)},e.staggerFromTo=function(t,e,i,n,r,s,o,a){return n.startAt=i,R(n).immediateRender=N(n.immediateRender),this.staggerTo(t,e,n,r,s,o,a)},e.render=function(t,e,i){var n,r,s,o,a,h,l,u,c,p,d=this._time,f=this._dirty?this.totalDuration():this._tDur,m=this._dur,g=t<=0?0:ne(t),_=this._zTime<0!=t<0&&(this._initted||!m);if((g=this!==Z&&f<g&&0<=t?f:g)!==this._tTime||i||_){if(d!==this._time&&m&&(g+=this._time-d,t+=this._time-d),n=g,u=this._start,a=!(l=this._ts),_&&(m||(d=this._zTime),!t&&e||(this._zTime=t)),this._repeat){if(y=this._yoyo,o=m+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(n=ne(g%o),g===f?(s=this._repeat,n=m):((s=~~(g/o))&&s===g/o&&(n=m,s--),m<n&&(n=m)),c=x(this._tTime,o),y&&1&s&&(n=m-n,p=1),s!==(c=!d&&this._tTime&&c!==s?s:c)&&!this._lock){var _=y&&1&c,y=_===(y&&1&s),d=(_=s<c?!_:_)?0:m;if(this._lock=1,this.render(d||(p?0:ne(s*o)),e,!m)._lock=0,this._tTime=g,!e&&this.parent&&V(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1),d&&d!==this._time||a!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(m=this._dur,f=this._tDur,y&&(this._lock=2,this.render(d=_?m:-1e-4,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!a)return this;q(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,i){var n;if(e<i)for(n=t._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>e)return n;n=n._next}else for(n=t._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<e)return n;n=n._prev}}(this,ne(d),ne(n)))&&(g-=n-(n=h._start)),this._tTime=g,this._time=n,this._act=!l,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,d=0),!d&&n&&!e&&(V(this,"onStart"),this._tTime!==g))return this;if(d<=n&&0<=t)for(v=this._first;v;){if(r=v._next,(v._act||n>=v._start)&&v._ts&&h!==v){if(v.parent!==this)return this.render(t,e,i);if(v.render(0<v._ts?(n-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(n-v._start)*v._ts,e,i),n!==this._time||!this._ts&&!a){h=0,r&&(g+=this._zTime=-xt);break}}v=r}else for(var v=this._last,b=t<0?t:n;v;){if(r=v._prev,(v._act||b<=v._end)&&v._ts&&h!==v){if(v.parent!==this)return this.render(t,e,i);if(v.render(0<v._ts?(b-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(b-v._start)*v._ts,e,i),n!==this._time||!this._ts&&!a){h=0,r&&(g+=this._zTime=b?-xt:xt);break}}v=r}if(h&&!e&&(this.pause(),h.render(d<=n?0:-xt)._zTime=d<=n?1:-1,this._ts))return this._start=u,he(this),this.render(t,e,i);this._onUpdate&&!e&&V(this,"onUpdate",!0),(g===f&&f>=this.totalDuration()||!g&&d)&&(u!==this._start&&Math.abs(l)===Math.abs(this._ts)||this._lock||(!t&&m||!(g===f&&0<this._ts||!g&&this._ts<0)||B(this,1),e||t<0&&!d||!g&&!d&&f||(V(this,g===f&&0<=t?"onComplete":"onReverseComplete",!0),!this._prom||g<f&&0<this.timeScale()||this._prom())))}return this},e.add=function(t,e){var i=this;if(Ot(e)||(e=m(this,e,t)),!(t instanceof je)){if(kt(t))return t.forEach(function(t){return i.add(t,e)}),this;if(Ct(t))return this.addLabel(t,e);if(!Rt(t))return this;t=Je.delayedCall(0,t)}return this!==t?M(this,t,e):this},e.getChildren=function(t,e,i,n){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i&&(i=!0),void 0===n&&(n=-bt);for(var r=[],s=this._first;s;)s._start>=n&&(s instanceof Je?e&&r.push(s):(i&&r.push(s),t&&r.push.apply(r,s.getChildren(!0,e,i)))),s=s._next;return r},e.getById=function(t){for(var e=this.getChildren(1,1,1),i=e.length;i--;)if(e[i].vars.id===t)return e[i]},e.remove=function(t){return Ct(t)?this.removeLabel(t):Rt(t)?this.killTweensOf(t):(oe(this,t),t===this._recent&&(this._recent=this._last),ae(this))},e.totalTime=function(t,e){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ne(Ce.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),n.prototype.totalTime.call(this,t,e),this._forcing=0,this):this._tTime},e.addLabel=function(t,e){return this.labels[t]=m(this,e),this},e.removeLabel=function(t){return delete this.labels[t],this},e.addPause=function(t,e,i){i=Je.delayedCall(0,e||P,i);return i.data="isPause",this._hasPause=1,M(this,i,m(this,t))},e.removePause=function(t){var e=this._first;for(t=m(this,t);e;)e._start===t&&"isPause"===e.data&&B(e),e=e._next},e.killTweensOf=function(t,e,i){for(var n=this.getTweensOf(t,i),r=n.length;r--;)Ye!==n[r]&&n[r].kill(t,e);return this},e.getTweensOf=function(t,e){for(var i,n=[],r=me(t),s=this._first,o=Ot(e);s;)s instanceof Je?function(t,e){for(var i=e.length,n=0;t.indexOf(e[n])<0&&++n<i;);return n<i}(s._targets,r)&&(o?(!Ye||s._initted&&s._ts)&&s.globalTime(0)<=e&&s.globalTime(s.totalDuration())>e:!e||s.isActive())&&n.push(s):(i=s.getTweensOf(r,e)).length&&n.push.apply(n,i),s=s._next;return n},e.tweenTo=function(t,e){e=e||{};var i,n=this,r=m(n,t),t=e,s=t.startAt,o=t.onStart,a=t.onStartParams,t=t.immediateRender,h=Je.to(n,F({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale())||xt,onStart:function(){var t;n.pause(),i||(t=e.duration||Math.abs((r-(s&&"time"in s?s.time:n._time))/n.timeScale()),h._dur!==t&&f(h,t,0,1).render(h._time,!0,!0),i=1),o&&o.apply(h,a||[])}},e));return t?h.render(0):h},e.tweenFromTo=function(t,e,i){return this.tweenTo(e,F({startAt:{time:m(this,t)}},i))},e.recent=function(){return this._recent},e.nextLabel=function(t){return void 0===t&&(t=this._time),U(this,m(this,t))},e.previousLabel=function(t){return void 0===t&&(t=this._time),U(this,m(this,t),1)},e.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+xt)},e.shiftChildren=function(t,e,i){void 0===i&&(i=0);for(var n,r=this._first,s=this.labels;r;)r._start>=i&&(r._start+=t,r._end+=t),r=r._next;if(e)for(n in s)s[n]>=i&&(s[n]+=t);return ae(this)},e.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return n.prototype.invalidate.call(this)},e.clear=function(t){void 0===t&&(t=!0);for(var e,i=this._first;i;)e=i._next,this.remove(i),i=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),ae(this)},e.totalDuration=function(t){var e,i,n,r=0,s=this,o=s._last,a=bt;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-t:t));if(s._dirty){for(n=s.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),a<(i=o._start)&&s._sort&&o._ts&&!s._lock?(s._lock=1,M(s,o,i-o._delay,1)._lock=0):a=i,i<0&&o._ts&&(r-=i,(!n&&!s._dp||n&&n.smoothChildTiming)&&(s._start+=i/s._ts,s._time-=i,s._tTime-=i),s.shiftChildren(-i,!1,-1/0),a=0),o._end>r&&o._ts&&(r=o._end),o=e;f(s,s===Z&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(t){if(Z._ts&&(r(Z,u(t,Z)),et=Ce.frame),Ce.frame>=Zt){Zt+=yt.autoSleep||120;var e=Z._first;if((!e||!e._ts)&&yt.autoSleep&&Ce._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Ce.sleep()}}},t}(je);F(Xe.prototype,{_lock:0,_hasPause:0,_forcing:0});function ze(t,e,i,n,r,s,o,a,h){Rt(n)&&(n=n(r||0,t,s));var l,r=t[e],s="get"!==i?i:Rt(r)?h?t[e.indexOf("set")||!Rt(t["get"+e.substr(3)])?e:"get"+e.substr(3)](h):t[e]():r,i=Rt(r)?h?hi:ai:oi;if(Ct(n)&&"="===(n=~n.indexOf("random(")?be(n):n).charAt(1)&&(!(l=parseFloat(s)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(pe(s)||0))&&0!==l||(n=l)),s!==n)return isNaN(s*n)||""===n?(r||e in t||Xt(e,n),We.call(this,t,e,s,n,i,a||yt.stringFilter,h)):(l=new di(this._pt,t,e,+s||0,n-(s||0),"boolean"==typeof r?pi:ci,0,i),h&&(l.fp=h),o&&l.modifier(o,this,t),this._pt=l)}function qe(t,e,i,n,r,s){var o,a,h,l;if(Wt[t]&&!1!==(o=new Wt[t]).init(r,o.rawVars?e[t]:function(t,e,i,n,r){if(Rt(t)&&(t=Ze(t,r,e,i,n)),!It(t)||t.style&&t.nodeType||kt(t)||Dt(t))return Ct(t)?Ze(t,r,e,i,n):t;var s,o={};for(s in t)o[s]=Ze(t[s],r,e,i,n);return o}(e[t],n,r,s,i),i,n,s)&&(i._pt=a=new di(i._pt,r,t,0,1,o.render,o,0,o.priority),i!==gi))for(h=i._ptLookup[i._targets.indexOf(r)],l=o._props.length;l--;)h[o._props[l]]=a;return o}var Ye,We=function(t,e,i,n,r,s,o){var a,h,l,u,c,p=new di(this._pt,t,e,0,1,ti,null,r),d=0,f=0;for(p.b=i,p.e=n,i+="",(r=~(n+="").indexOf("random("))&&(n=be(n)),s&&(s(s=[i,n],t,e),i=s[0],n=s[1]),a=i.match(Bt)||[];c=Bt.exec(n);)l=c[0],u=n.substring(d,c.index),h?h=(h+1)%5:"rgba("===u.substr(-5)&&(h=1),l!==a[f++]&&(c=parseFloat(a[f-1])||0,p._pt={_next:p._pt,p:u||1===f?u:",",s:c,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-c,m:h&&h<4?Math.round:0},d=Bt.lastIndex);return p.c=d<n.length?n.substring(d,n.length):"",p.fp=o,(Gt.test(n)||r)&&(p.e=0),this._pt=p},$e=function t(e,i){var n,r,s,o,a,h,l,u,c,p,d,f,m,g=e.vars,_=g.ease,y=g.startAt,v=g.immediateRender,b=g.lazy,x=g.onUpdate,T=g.onUpdateParams,E=g.callbackScope,S=g.runBackwards,A=g.yoyoEase,w=g.keyframes,P=g.autoRevert,C=e._dur,R=e._startAt,O=e._targets,M=e.parent,I=M&&"nested"===M.data?M.parent._targets:O,D="auto"===e._overwrite&&!$,k=e.timeline;if(e._ease=Fe(_=!(!k||w&&_)?"none":_,vt.ease),e._yEase=A?Ne(Fe(!0===A?_:A,vt.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),e._from=!k&&!!g.runBackwards,!k){if(f=(u=O[0]?te(O[0]).harness:0)&&g[u.prop],n=L(g,zt),R&&R.render(-1,!0).kill(),y)if(B(e._startAt=Je.set(O,F({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:N(b),startAt:null,delay:0,onUpdate:x,onUpdateParams:T,callbackScope:E,stagger:0},y))),i<0&&!v&&!P&&e._startAt.render(-1,!0),v){if(0<i&&!P&&(e._startAt=0),C&&i<=0)return void(i&&(e._zTime=i))}else!1===P&&(e._startAt=0);else if(S&&C)if(R)P||(e._startAt=0);else if(s=F({overwrite:!1,data:"isFromStart",lazy:(v=i?!1:v)&&N(b),immediateRender:v,stagger:0,parent:M},n),f&&(s[u.prop]=f),B(e._startAt=Je.set(O,s)),i<0&&e._startAt.render(-1,!0),v){if(!i)return}else t(e._startAt,xt);for(e._pt=0,b=C&&N(b)||b&&!C,r=0;r<O.length;r++){if(l=(a=O[r])._gsap||Jt(O)[r]._gsap,e._ptLookup[r]=p={},Yt[l.id]&&qt.length&&re(),d=I===O?r:I.indexOf(a),u&&!1!==(c=new u).init(a,f||n,e,d,I)&&(e._pt=o=new di(e._pt,a,c.name,0,1,c.render,c,0,c.priority),c._props.forEach(function(t){p[t]=o}),c.priority&&(h=1)),!u||f)for(s in n)Wt[s]&&(c=qe(s,n,e,d,a,I))?c.priority&&(h=1):p[s]=o=ze.call(e,a,s,"get",n[s],d,I,0,g.stringFilter);e._op&&e._op[r]&&e.kill(a,e._op[r]),D&&e._pt&&(Ye=e,Z.killTweensOf(a,p,e.globalTime(i)),m=!e.parent,Ye=0),e._pt&&b&&(Yt[l.id]=1)}h&&si(e),e._onInit&&e._onInit(e)}e._onUpdate=x,e._initted=(!e._op||e._pt)&&!m},Ze=function(t,e,i,n,r){return Rt(t)?t.call(e,i,n,r):Ct(t)&&~t.indexOf("random(")?be(t):t},Qe=Kt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Ke=(Qe+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Je=function(E){function r(t,e,i,n){"number"==typeof e&&(i.duration=e,e=i,i=null);var r,s,o,a,h,l,u,c,p,d=(r=E.call(this,n?e:R(e))||this).vars,f=d.duration,m=d.delay,g=d.immediateRender,_=d.stagger,y=d.overwrite,v=d.keyframes,b=d.defaults,n=d.scrollTrigger,x=d.yoyoEase,d=e.parent||Z,T=(kt(t)||Dt(t)?Ot(t[0]):"length"in e)?[t]:me(t);if(r._targets=T.length?Jt(T):w("GSAP target "+t+" not found. https://greensock.com",!yt.nullTargetWarn)||[],r._ptLookup=[],r._overwrite=y,v||_||A(f)||A(m)){if(e=r.vars,(s=r.timeline=new Xe({data:"nested",defaults:b||{}})).kill(),s.parent=s._dp=S(r),s._start=0,v)R(F(s.vars.defaults,{ease:"none"})),_?T.forEach(function(i,n){return v.forEach(function(t,e){return s.to(i,t,e?">":n*_)})}):v.forEach(function(t){return s.to(T,t,">")});else{if(h=T.length,c=_?D(_):P,It(_))for(l in _)~Qe.indexOf(l)&&((p=p||{})[l]=_[l]);for(o=0;o<h;o++){for(l in a={},e)Ke.indexOf(l)<0&&(a[l]=e[l]);a.stagger=0,x&&(a.yoyoEase=x),p&&C(a,p),u=T[o],a.duration=+Ze(f,S(r),o,u,T),a.delay=(+Ze(m,S(r),o,u,T)||0)-r._delay,!_&&1===h&&a.delay&&(r._delay=m=a.delay,r._start+=m,a.delay=0),s.to(u,a,c(o,u,T))}s.duration()?f=m=0:r.timeline=0}f||r.duration(f=s.duration())}else r.timeline=0;return!0!==y||$||(Ye=S(r),Z.killTweensOf(T),Ye=0),M(d,S(r),i),e.reversed&&r.reverse(),e.paused&&r.paused(!0),(g||!f&&!v&&r._start===ne(d._time)&&N(g)&&O(S(r))&&"nested"!==d.data)&&(r._tTime=-xt,r.render(Math.max(0,-m))),n&&I(S(r),n),r}i(r,E);var t=r.prototype;return t.render=function(t,e,i){var n,r,s,o,a,h,l,u,c,p=this._time,d=this._tDur,f=this._dur,m=d-xt<t&&0<=t?d:t<xt?0:t;if(f){if(m!==this._tTime||!t||i||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(n=m,u=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,i);if(n=ne(m%o),m===d?(s=this._repeat,n=f):((s=~~(m/o))&&s===m/o&&(n=f,s--),f<n&&(n=f)),(h=this._yoyo&&1&s)&&(c=this._yEase,n=f-n),a=x(this._tTime,o),n===p&&!i&&this._initted)return this;s!==a&&(u&&this._yEase&&q(u,h),!this.vars.repeatRefresh||h||this._lock||(this._lock=i=1,this.render(ne(o*s),!0).invalidate()._lock=0))}if(!this._initted){if(g(this,t<0?t:n,i,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,i)}if(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(c||this._ease)(n/f),this._from&&(this.ratio=l=1-l),n&&!p&&!e&&(V(this,"onStart"),this._tTime!==m))return this;for(r=this._pt;r;)r.r(l,r.d),r=r._next;u&&u.render(t<0?t:!n&&h?-xt:u._dur*l,e,i)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,i),V(this,"onUpdate")),this._repeat&&s!==a&&this.vars.onRepeat&&!e&&this.parent&&V(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),!t&&f||!(m===this._tDur&&0<this._ts||!m&&this._ts<0)||B(this,1),e||t<0&&!p||!m&&!p||(V(this,m===d?"onComplete":"onReverseComplete",!0),!this._prom||m<d&&0<this.timeScale()||this._prom()))}}else!function(t,e,i,n){var r,s,o,a=t.ratio,h=e<0||!e&&(!t._start&&_(t)&&(t._initted||!y(t))||(t._ts<0||t._dp._ts<0)&&!y(t))?0:1,l=t._rDelay,u=0;if(l&&t._repeat&&(u=b(0,t._tDur,e),s=x(u,l),o=x(t._tTime,l),t._yoyo&&1&s&&(h=1-h),s!==o&&(a=1-h,t.vars.repeatRefresh&&t._initted&&t.invalidate())),h!==a||n||t._zTime===xt||!e&&t._zTime){if(t._initted||!g(t,e,n,i)){for(o=t._zTime,t._zTime=e||(i?xt:0),i=i||e&&!o,t.ratio=h,t._from&&(h=1-h),t._time=0,t._tTime=u,r=t._pt;r;)r.r(h,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&V(t,"onUpdate"),u&&t._repeat&&!i&&t.parent&&V(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===h&&(h&&B(t,1),i||(V(t,h?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}}else t._zTime||(t._zTime=e)}(this,t,e,i);return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),E.prototype.invalidate.call(this)},t.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?j(this):this;if(this.timeline){var i=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,Ye&&!0!==Ye.vars.overwrite)._first||j(this),this.parent&&i!==this.timeline.totalDuration()&&f(this,this._dur*this.timeline._tDur/i,0,1),this}var n,r,s,o,a,h,l,u=this._targets,c=t?me(t):u,p=this._ptLookup,t=this._pt;if((!e||"all"===e)&&function(t,e){for(var i=t.length,n=i===e.length;n&&i--&&t[i]===e[i];);return i<0}(u,c))return"all"===e&&(this._pt=0),j(this);for(n=this._op=this._op||[],"all"!==e&&(Ct(e)&&(a={},d(e,function(t){return a[t]=1}),e=a),e=function(t,e){var i,n,r,s,t=t[0]?te(t[0]).harness:0,o=t&&t.aliases;if(!o)return e;for(n in i=C({},e),o)if(n in i)for(r=(s=o[n].split(",")).length;r--;)i[s[r]]=i[n];return i}(u,e)),l=u.length;l--;)if(~c.indexOf(u[l]))for(a in r=p[l],"all"===e?(n[l]=e,o=r,s={}):(s=n[l]=n[l]||{},o=e),o)(h=r&&r[a])&&("kill"in h.d&&!0!==h.d.kill(a)||oe(this,h,"_pt"),delete r[a]),"all"!==s&&(s[a]=1);return this._initted&&!this._pt&&t&&j(this),this},r.to=function(t,e){return new r(t,e,arguments[2])},r.from=function(t,e){return v(1,arguments)},r.delayedCall=function(t,e,i,n){return new r(e,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:e,onReverseComplete:e,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},r.fromTo=function(t,e,i){return v(2,arguments)},r.set=function(t,e){return e.duration=0,e.repeatDelay||(e.repeat=0),new r(t,e)},r.killTweensOf=function(t,e,i){return Z.killTweensOf(t,e,i)},r}(je);F(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),d("staggerTo,staggerFrom,staggerFromTo",function(i){Je[i]=function(){var t=new Xe,e=de.call(arguments,0);return e.splice("staggerFromTo"===i?5:4,0,0),t[i].apply(t,e)}});function ti(t,e){var i=e._pt,n="";if(!t&&e.b)n=e.b;else if(1===t&&e.e)n=e.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+n,i=i._next;n+=e.c}e.set(e.t,e.p,n,e)}function ei(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next}function ii(t,e,i,n){for(var r,s=this._pt;s;)r=s._next,s.p===n&&s.modifier(t,e,i),s=r}function ni(t){for(var e,i,n=this._pt;n;)i=n._next,n.p===t&&!n.op||n.op===t?oe(this,n,"_pt"):n.dep||(e=1),n=i;return!e}function ri(t,e,i,n){n.mSet(t,e,n.m.call(n.tween,i,n.mt),n)}function si(t){for(var e,i,n,r,s=t._pt;s;){for(e=s._next,i=n;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:n=s,(s._next=i)?i._prev=s:r=s,s=e}t._pt=n}var oi=function(t,e,i){return t[e]=i},ai=function(t,e,i){return t[e](i)},hi=function(t,e,i,n){return t[e](n.fp,i)},li=function(t,e,i){return t.setAttribute(e,i)},ui=function(t,e){return Rt(t[e])?ai:Mt(t[e])&&t.setAttribute?li:oi},ci=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},pi=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},di=(fi.prototype.modifier=function(t,e,i){this.mSet=this.mSet||this.set,this.set=ri,this.m=t,this.mt=i,this.tween=e},fi);function fi(t,e,i,n,r,s,o,a,h){this.t=e,this.s=n,this.c=r,this.p=i,this.r=s||ci,this.d=o||this,this.set=a||oi,this.pr=h||0,(this._next=t)&&(t._prev=this)}d(Kt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return zt[t]=1}),jt.TweenMax=jt.TweenLite=Je,jt.TimelineLite=jt.TimelineMax=Xe,Z=new Xe({sortChildren:!1,defaults:vt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),yt.stringFilter=z;var mi={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(t){var e=(t=!t.name&&t.default||t).name,i=Rt(t),n=e&&!i&&t.init?function(){this._props=[]}:t,r={init:P,render:ei,add:ze,kill:ni,modifier:ii,rawVars:0},i={targetTest:0,get:0,getSetter:ui,aliases:{},register:0};if(Re(),t!==n){if(Wt[e])return;F(n,F(L(t,r),i)),C(n.prototype,C(r,L(t,i))),Wt[n.prop=e]=n,t.targetTest&&(Qt.push(n),zt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}s(e,n),t.register&&t.register(vi,n,di)})},timeline:function(t){return new Xe(t)},getTweensOf:function(t,e){return Z.getTweensOf(t,e)},getProperty:function(n,t,e,i){Ct(n)&&(n=me(n)[0]);var r=te(n||{}).get,s=e?o:se;return"native"===e&&(e=""),n&&(t?s((Wt[t]&&Wt[t].get||r)(n,t,e,i)):function(t,e,i){return s((Wt[t]&&Wt[t].get||r)(n,t,e,i))})},quickSetter:function(i,e,n){if(1<(i=me(i)).length){var r=i.map(function(t){return vi.quickSetter(t,e,n)}),s=r.length;return function(t){for(var e=s;e--;)r[e](t)}}i=i[0]||{};var o=Wt[e],a=te(i),h=a.harness&&(a.harness.aliases||{})[e]||e,l=o?function(t){var e=new o;gi._pt=0,e.init(i,n?t+n:t,gi,0,[i]),e.render(1,e),gi._pt&&ei(1,gi)}:a.set(i,h);return o?l:function(t){return l(i,h,n?t+n:t,a,1)}},isTweening:function(t){return 0<Z.getTweensOf(t,!0).length},defaults:function(t){return t&&t.ease&&(t.ease=Fe(t.ease,vt.ease)),h(vt,t||{})},config:function(t){return h(yt,t||{})},registerEffect:function(t){var n=t.name,r=t.effect,e=t.plugins,s=t.defaults,t=t.extendTimeline;(e||"").split(",").forEach(function(t){return t&&!Wt[t]&&!jt[t]&&w(n+" effect requires "+t+" plugin.")}),$t[n]=function(t,e,i){return r(me(t),F(e||{},s),i)},t&&(Xe.prototype[n]=function(t,e,i){return this.add($t[n](t,It(e)?e:(i=e)&&{},this),i)})},registerEase:function(t,e){Oe[t]=Fe(e)},parseEase:function(t,e){return arguments.length?Fe(t,e):Oe},getById:function(t){return Z.getById(t)},exportRoot:function(t,e){var i,n,r=new Xe(t=void 0===t?{}:t);for(r.smoothChildTiming=N(t.smoothChildTiming),Z.remove(r),r._dp=0,r._time=r._tTime=Z._time,i=Z._first;i;)n=i._next,!e&&!i._dur&&i instanceof Je&&i.vars.onComplete===i._targets[0]||M(r,i,i._start-i._delay),i=n;return M(Z,r,0),r},utils:{wrap:ye,wrapYoyo:ve,distribute:D,random:E,snap:_e,normalize:function(t,e,i){return G(t,e,0,1,i)},getUnit:pe,clamp:function(e,i,t){return ce(t,function(t){return b(e,i,t)})},splitColor:Se,toArray:me,selector:function(i){return i=me(i)[0]||w("Invalid scope")||{},function(t){var e=i.current||i.nativeElement||i;return me(t,e.querySelectorAll?e:e===i?w("Invalid scope")||J.createElement("div"):i)}},mapRange:G,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t){return e.reduce(function(t,e){return e(t)},t)}},unitize:function(e,i){return function(t){return e(parseFloat(t))+(i||pe(t))}},interpolate:xe,shuffle:ge},install:n,effects:$t,ticker:Ce,updateRoot:Xe.updateRoot,plugins:Wt,globalTimeline:Z,core:{PropTween:di,globals:s,Tween:Je,Timeline:Xe,Animation:je,getCache:te,_removeLinkedListItem:oe,suppressOverwrites:function(t){return $=t}}};d("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return mi[t]=Je[t]}),Ce.add(Xe.updateRoot);var gi=mi.to({},{duration:0}),_i=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},yi=function(t,r){return{name:t,rawVars:1,init:function(t,n,e){e._onInit=function(t){var e,i;if(Ct(n)&&(e={},d(n,function(t){return e[t]=1}),n=e),r){for(i in e={},n)e[i]=r(n[i]);n=e}!function(t,e){var i,n,r,s=t._targets;for(i in e)for(n=s.length;n--;)(r=(r=t._ptLookup[n][i])&&r.d)&&(r=r._pt?_i(r,i):r)&&r.modifier&&r.modifier(e[i],t,s[n],i)}(t,n)}}}},vi=mi.registerPlugin({name:"attr",init:function(t,e,i,n,r){var s,o;for(s in e)(o=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],n,r,0,0,s))&&(o.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},yi("roundProps",T),yi("modifiers"),yi("snap",_e))||mi;Je.version=Xe.version=vi.version="3.8.0",tt=1,e()&&Re();function bi(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function xi(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)}function Ti(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)}function Ei(t,e){t=e.s+e.c*t,e.set(e.t,e.p,~~(t+(t<0?-.5:.5))+e.u,e)}function Si(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)}function Ai(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)}function wi(t,e,i){return t.style[e]=i}function Pi(t,e,i){return t.style.setProperty(e,i)}function Ci(t,e,i){return t._gsap[e]=i}function Ri(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i}function Oi(t,e,i,n,r){(t=t._gsap).scaleX=t.scaleY=i,t.renderTransform(r,t)}function Mi(t,e,i,n,r){(t=t._gsap)[e]=i,t.renderTransform(r,t)}function Ii(){un()&&window.document&&(ji=window,Hi=ji.document,Xi=Hi.documentElement,qi=xn("div")||{style:{}},xn("div"),vn=Sn(vn),bn=vn+"Origin",qi.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Wi=!!Sn("perspective"),zi=1)}function Di(t){var e,i=xn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,s=this.style.cssText;if(Xi.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=Di}catch(t){}else this._gsapBBox&&(e=this._gsapBBox());return n&&(r?n.insertBefore(this,r):n.appendChild(this)),Xi.removeChild(i),this.style.cssText=s,e}function ki(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])}function Ni(t,e,i,n){var r;return zi||Ii(),e in yn&&"transform"!==e&&~(e=yn[e]).indexOf(",")&&(e=e.split(",")[0]),cn[e]&&"transform"!==e?(r=Ln(t,n),r="transformOrigin"!==e?r[e]:r.svg?r.origin:Bn(Tn(t,bn))+" "+r.zOrigin+"px"):(r=t.style[e])&&"auto"!==r&&!n&&!~(r+"").indexOf("calc(")||(r=In[e]&&In[e](t,e,i)||Tn(t,e)||ee(t,e)||("opacity"===e?1:0)),i&&!~(r+"").trim().indexOf(" ")?On(t,e,r,i)+i:r}function Fi(t,e,i,n){var r;i&&"none"!==i||((s=(r=Sn(e,t,1))&&Tn(t,r,1))&&s!==i?(e=r,i=s):"borderColor"===e&&(i=Tn(t,"borderTopColor")));var s,o,a,h,l,u,c,p,d,f,m=new di(this._pt,t.style,e,0,1,ti),g=0,_=0;if(m.b=i,m.e=n,i+="","auto"===(n+="")&&(t.style[e]=n,n=Tn(t,e)||n,t.style[e]=i),z(s=[i,n]),n=s[1],o=(i=s[0]).match(Lt)||[],(n.match(Lt)||[]).length){for(;u=Lt.exec(n);)p=u[0],c=n.substring(g,u.index),h?h=(h+1)%5:"rgba("!==c.substr(-5)&&"hsla("!==c.substr(-5)||(h=1),p!==(l=o[_++]||"")&&(a=parseFloat(l)||0,d=l.substr((a+"").length),(f="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),u=parseFloat(p),p=p.substr((u+"").length),g=Lt.lastIndex-p.length,p||(p=p||yt.units[e]||d,g===n.length&&(n+=p,m.e+=p)),d!==p&&(a=On(t,e,l,p)||0),m._pt={_next:m._pt,p:c||1===_?c:",",s:a,c:f?f*u:u-a,m:h&&h<4||"zIndex"===e?Math.round:0});m.c=g<n.length?n.substring(g,n.length):""}else m.r="display"===e&&"none"===n?Ai:Si;return Gt.test(n)&&(m.e=0),this._pt=m}function Li(t,e){if(e.tween&&e.tween._time===e.tween._dur){var i,n,r,s=e.t,o=s.style,a=e.u,e=s._gsap;if("all"===a||!0===a)o.cssText="",n=1;else for(r=(a=a.split(",")).length;-1<--r;)i=a[r],cn[i]&&(n=1,i="transformOrigin"===i?bn:vn),Pn(s,i);n&&(Pn(s,vn),e&&(e.svg&&s.removeAttribute("transform"),Ln(s,1),e.uncache=1))}}function Bi(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t}function Gi(t,e,i,n,r,s){var o,a,h=t._gsap,l=r||Fn(t,!0),u=h.xOrigin||0,c=h.yOrigin||0,p=h.xOffset||0,d=h.yOffset||0,f=l[0],m=l[1],g=l[2],_=l[3],y=l[4],v=l[5],b=e.split(" "),x=parseFloat(b[0])||0,r=parseFloat(b[1])||0;i?l!==Dn&&(o=f*_-m*g)&&(a=x*(-m/o)+r*(f/o)-(f*v-m*y)/o,x=x*(_/o)+r*(-g/o)+(g*v-_*y)/o,r=a):(x=(a=An(t)).x+(~b[0].indexOf("%")?x/100*a.width:x),r=a.y+(~(b[1]||b[0]).indexOf("%")?r/100*a.height:r)),n||!1!==n&&h.smooth?(h.xOffset=p+((y=x-u)*f+(v=r-c)*g)-y,h.yOffset=d+(y*m+v*_)-v):h.xOffset=h.yOffset=0,h.xOrigin=x,h.yOrigin=r,h.smooth=!!n,h.origin=e,h.originIsAbsolute=!!i,t.style[bn]="0px 0px",s&&(Cn(s,h,"xOrigin",u,x),Cn(s,h,"yOrigin",c,r),Cn(s,h,"xOffset",p,h.xOffset),Cn(s,h,"yOffset",d,h.yOffset)),t.setAttribute("data-svg-origin",x+" "+r)}function Ui(t,e,i){var n=pe(e);return ie(parseFloat(e)+parseFloat(On(t,"x",i+"px",n)))+n}function Vi(t,e){for(var i in e)t[i]=e[i];return t}var ji,Hi,Xi,zi,qi,Yi,Wi,$i=Oe.Power0,Zi=Oe.Power1,Qi=Oe.Power2,Ki=Oe.Power3,Ji=Oe.Power4,tn=Oe.Linear,en=Oe.Quad,nn=Oe.Cubic,rn=Oe.Quart,sn=Oe.Quint,on=Oe.Strong,an=Oe.Elastic,hn=Oe.Back,Le=Oe.SteppedEase,Be=Oe.Bounce,ln=Oe.Sine,ye=Oe.Expo,ve=Oe.Circ,un=function(){return"undefined"!=typeof window},cn={},pn=180/Math.PI,dn=Math.PI/180,fn=Math.atan2,mn=/([A-Z])/g,gn=/(?:left|right|width|margin|padding|x)/i,_n=/[\s,\(]\S/,yn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},vn="transform",bn=vn+"Origin",xn=function(t,e){e=Hi.createElementNS?Hi.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):Hi.createElement(t);return e.style?e:Hi.createElement(t)},Tn=function t(e,i,n){var r=getComputedStyle(e);return r[i]||r.getPropertyValue(i.replace(mn,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&t(e,Sn(i)||i,1)||""},En="O,Moz,ms,Ms,Webkit".split(","),Sn=function(t,e,i){var n=(e||qi).style,r=5;if(t in n&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(En[r]+t in n););return r<0?null:(3===r?"ms":0<=r?En[r]:"")+t},An=function(e){var i;try{i=e.getBBox()}catch(t){i=Di.call(e,!0)}return!(i=!(i&&(i.width||i.height)||e.getBBox===Di)?Di.call(e,!0):i)||i.width||i.x||i.y?i:{x:+ki(e,["x","cx","x1"])||0,y:+ki(e,["y","cy","y1"])||0,width:0,height:0}},wn=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!An(t))},Pn=function(t,e){e&&(t=t.style,e in cn&&e!==bn&&(e=vn),t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(mn,"-$1").toLowerCase())):t.removeAttribute(e))},Cn=function(t,e,i,n,r,s){s=new di(t._pt,e,i,0,1,s?Ai:Si);return(t._pt=s).b=n,s.e=r,t._props.push(i),s},Rn={deg:1,rad:1,turn:1},On=function t(e,i,n,r){var s,o=parseFloat(n)||0,a=(n+"").trim().substr((o+"").length)||"px",h=qi.style,l=gn.test(i),u="svg"===e.tagName.toLowerCase(),c=(u?"client":"offset")+(l?"Width":"Height"),p="px"===r,d="%"===r;return r===a||!o||Rn[r]||Rn[a]?o:("px"===a||p||(o=t(e,i,n,"px")),n=e.getCTM&&wn(e),!d&&"%"!==a||!cn[i]&&!~i.indexOf("adius")?(h[l?"width":"height"]=100+(p?a:r),r=~i.indexOf("adius")||"em"===r&&e.appendChild&&!u?e:e.parentNode,(u=(r=!(r=n?(e.ownerSVGElement||{}).parentNode:r)||r===Hi||!r.appendChild?Hi.body:r)._gsap)&&d&&u.width&&l&&u.time===Ce.time?ie(o/u.width*100):(!d&&"%"!==a||(h.position=Tn(e,"position")),r===e&&(h.position="static"),r.appendChild(qi),s=qi[c],r.removeChild(qi),h.position="absolute",l&&d&&((u=te(r)).time=Ce.time,u.width=r[c]),ie(p?s*o/100:s&&o?100/s*o:0))):(s=n?e.getBBox()[l?"width":"height"]:e[c],ie(d?o/s*100:o/100*s)))},Mn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},In={clearProps:function(t,e,i,n,r){if("isFromStart"!==r.data){e=t._pt=new di(t._pt,e,i,0,0,Li);return e.u=n,e.pr=-10,e.tween=r,t._props.push(i),1}}},Dn=[1,0,0,1,0,0],kn={},Nn=function(t){t=Tn(t,vn);return Bi(t)?Dn:t.substr(7).match(Ft).map(ie)},Fn=function(t,e){var i,n,r,s=t._gsap||te(t),o=t.style,a=Nn(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(a=[(n=t.transform.baseVal.consolidate().matrix).a,n.b,n.c,n.d,n.e,n.f]).join(",")?Dn:a:(a!==Dn||t.offsetParent||t===Xi||s.svg||(n=o.display,o.display="block",(s=t.parentNode)&&t.offsetParent||(r=1,i=t.nextSibling,Xi.appendChild(t)),a=Nn(t),n?o.display=n:Pn(t,"display"),r&&(i?s.insertBefore(t,i):s?s.appendChild(t):Xi.removeChild(t))),e&&6<a.length?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Ln=function(t,e){var i=t._gsap||new Ve(t);if("x"in i&&!e&&!i.uncache)return i;var n,r,s,o,a,h,l,u,c,p,d,f,m,g,_,y,v,b,x,T,E,S,A,w,P,C=t.style,R=i.scaleX<0,O=Tn(t,bn)||"0",M=n=r=o=a=h=l=u=0,I=s=1;return i.svg=!(!t.getCTM||!wn(t)),c=Fn(t,i.svg),i.svg&&(b=(!i.uncache||"0px 0px"===O)&&!e&&t.getAttribute("data-svg-origin"),Gi(t,b||O,!!b||i.originIsAbsolute,!1!==i.smooth,c)),S=i.xOrigin||0,w=i.yOrigin||0,c!==Dn&&(f=c[0],m=c[1],g=c[2],_=c[3],M=y=c[4],n=v=c[5],6===c.length?(I=Math.sqrt(f*f+m*m),s=Math.sqrt(_*_+g*g),o=f||m?fn(m,f)*pn:0,(l=g||_?fn(g,_)*pn+o:0)&&(s*=Math.abs(Math.cos(l*dn))),i.svg&&(M-=S-(S*f+w*g),n-=w-(S*m+w*_))):(P=c[6],A=c[7],E=c[8],e=c[9],S=c[10],w=c[11],M=c[12],n=c[13],r=c[14],a=(c=fn(P,S))*pn,c&&(b=y*(p=Math.cos(-c))+E*(d=Math.sin(-c)),x=v*p+e*d,T=P*p+S*d,E=y*-d+E*p,e=v*-d+e*p,S=P*-d+S*p,w=A*-d+w*p,y=b,v=x,P=T),h=(c=fn(-g,S))*pn,c&&(p=Math.cos(-c),w=_*(d=Math.sin(-c))+w*p,f=b=f*p-E*d,m=x=m*p-e*d,g=T=g*p-S*d),o=(c=fn(m,f))*pn,c&&(b=f*(p=Math.cos(c))+m*(d=Math.sin(c)),x=y*p+v*d,m=m*p-f*d,v=v*p-y*d,f=b,y=x),a&&359.9<Math.abs(a)+Math.abs(o)&&(a=o=0,h=180-h),I=ie(Math.sqrt(f*f+m*m+g*g)),s=ie(Math.sqrt(v*v+P*P)),c=fn(y,v),l=2e-4<Math.abs(c)?c*pn:0,u=w?1/(w<0?-w:w):0),i.svg&&(b=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!Bi(Tn(t,vn)),b&&t.setAttribute("transform",b))),90<Math.abs(l)&&Math.abs(l)<270&&(R?(I*=-1,l+=o<=0?180:-180,o+=o<=0?180:-180):(s*=-1,l+=l<=0?180:-180)),i.x=M-((i.xPercent=M&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-M)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+"px",i.y=n-((i.yPercent=n&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-n)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+"px",i.z=r+"px",i.scaleX=ie(I),i.scaleY=ie(s),i.rotation=ie(o)+"deg",i.rotationX=ie(a)+"deg",i.rotationY=ie(h)+"deg",i.skewX=l+"deg",i.skewY="0deg",i.transformPerspective=u+"px",(i.zOrigin=parseFloat(O.split(" ")[2])||0)&&(C[bn]=Bn(O)),i.xOffset=i.yOffset=0,i.force3D=yt.force3D,i.renderTransform=i.svg?jn:Wi?Vn:Gn,i.uncache=0,i},Bn=function(t){return(t=t.split(" "))[0]+" "+t[1]},Gn=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,Vn(t,e)},Un="0deg",Vn=function(t,e){var i=e||this,n=i.xPercent,r=i.yPercent,s=i.x,o=i.y,a=i.z,h=i.rotation,l=i.rotationY,u=i.rotationX,c=i.skewX,p=i.skewY,d=i.scaleX,f=i.scaleY,m=i.transformPerspective,g=i.force3D,_=i.target,y=i.zOrigin,v="",b="auto"===g&&t&&1!==t||!0===g;!y||u===Un&&l===Un||(e=parseFloat(l)*dn,i=Math.sin(e),t=Math.cos(e),e=parseFloat(u)*dn,g=Math.cos(e),s=Ui(_,s,i*g*-y),o=Ui(_,o,-Math.sin(e)*-y),a=Ui(_,a,t*g*-y+y)),"0px"!==m&&(v+="perspective("+m+") "),(n||r)&&(v+="translate("+n+"%, "+r+"%) "),!b&&"0px"===s&&"0px"===o&&"0px"===a||(v+="0px"!==a||b?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+") "),h!==Un&&(v+="rotate("+h+") "),l!==Un&&(v+="rotateY("+l+") "),u!==Un&&(v+="rotateX("+u+") "),c===Un&&p===Un||(v+="skew("+c+", "+p+") "),1===d&&1===f||(v+="scale("+d+", "+f+") "),_.style[vn]=v||"translate(0, 0)"},jn=function(t,e){var i,n,r,s,o,a=e||this,h=a.xPercent,l=a.yPercent,u=a.x,c=a.y,p=a.rotation,d=a.skewX,f=a.skewY,m=a.scaleX,g=a.scaleY,_=a.target,y=a.xOrigin,v=a.yOrigin,b=a.xOffset,x=a.yOffset,T=a.forceCSS,e=parseFloat(u),a=parseFloat(c),p=parseFloat(p),d=parseFloat(d);(f=parseFloat(f))&&(d+=f=parseFloat(f),p+=f),p||d?(p*=dn,d*=dn,i=Math.cos(p)*m,n=Math.sin(p)*m,r=Math.sin(p-d)*-g,s=Math.cos(p-d)*g,d&&(f*=dn,o=Math.tan(d-f),r*=o=Math.sqrt(1+o*o),s*=o,f&&(o=Math.tan(f),i*=o=Math.sqrt(1+o*o),n*=o)),i=ie(i),n=ie(n),r=ie(r),s=ie(s)):(i=m,s=g,n=r=0),(e&&!~(u+"").indexOf("px")||a&&!~(c+"").indexOf("px"))&&(e=On(_,"x",u,"px"),a=On(_,"y",c,"px")),(y||v||b||x)&&(e=ie(e+y-(y*i+v*r)+b),a=ie(a+v-(y*n+v*s)+x)),(h||l)&&(o=_.getBBox(),e=ie(e+h/100*o.width),a=ie(a+l/100*o.height)),_.setAttribute("transform",o="matrix("+i+","+n+","+r+","+s+","+e+","+a+")"),T&&(_.style[vn]=o)};d("padding,margin,Width,Radius",function(e,i){var t="Top",n="Right",r="Bottom",s="Left",a=(i<3?[t,n,r,s]:[t+s,t+n,r+n,r+s]).map(function(t){return i<2?e+t:"border"+t+e});In[1<i?"border"+e:e]=function(e,t,i,n,r){var s,o;if(arguments.length<4)return s=a.map(function(t){return Ni(e,t,i)}),5===(o=s.join(" ")).split(s[0]).length?s[0]:o;s=(n+"").split(" "),o={},a.forEach(function(t,e){return o[t]=s[e]=s[e]||s[(e-1)/2|0]}),e.init(t,o,r)}});var Hn,xe={name:"css",register:Ii,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,n,r){var s,o,a,h,l,u,c,p,d,f,m,g,_,y,v,b,x,T,E,S,A,w=this._props,P=t.style,C=i.vars.startAt;for(l in zi||Ii(),e)if("autoRound"!==l&&(o=e[l],!Wt[l]||!qe(l,e,i,n,t,r)))if(b=In[l],"string"===(x="function"===(x=typeof o)?typeof(o=o.call(i,n,t,r)):x)&&~o.indexOf("random(")&&(o=be(o)),b)b(this,t,l,o,i)&&(_=1);else if("--"===l.substr(0,2))s=(getComputedStyle(t).getPropertyValue(l)+"").trim(),o+="",we.lastIndex=0,we.test(s)||(u=pe(s),c=pe(o)),c?u!==c&&(s=On(t,l,s,c)+c):u&&(o+=u),this.add(P,"setProperty",s,o,n,r,0,0,l),w.push(l);else if("undefined"!==x){if(C&&l in C?(s="function"==typeof C[l]?C[l].call(i,n,t,r):C[l],l in yt.units&&!pe(s)&&(s+=yt.units[l]),"="===((s=Ct(s)&&~s.indexOf("random(")?be(s):s)+"").charAt(1)&&(s=Ni(t,l))):s=Ni(t,l),h=parseFloat(s),(p="string"===x&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),a=parseFloat(o),l in yn&&("autoAlpha"===l&&(1===h&&"hidden"===Ni(t,"visibility")&&a&&(h=0),Cn(this,P,"visibility",h?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==l&&"transform"!==l&&~(l=yn[l]).indexOf(",")&&(l=l.split(",")[0])),d=l in cn)if(f||((m=t._gsap).renderTransform&&!e.parseTransform||Ln(t,e.parseTransform),g=!1!==e.smoothOrigin&&m.smooth,(f=this._pt=new di(this._pt,P,vn,0,1,m.renderTransform,m,0,-1)).dep=1),"scale"===l)this._pt=new di(this._pt,m,"scaleY",m.scaleY,(p?p*a:a-m.scaleY)||0),w.push("scaleY",l),l+="X";else{if("transformOrigin"===l){A=S=E=void 0,E=(T=o).split(" "),S=E[0],A=E[1]||"50%","top"!==S&&"bottom"!==S&&"left"!==A&&"right"!==A||(T=S,S=A,A=T),E[0]=Mn[S]||S,E[1]=Mn[A]||A,o=E.join(" "),m.svg?Gi(t,o,0,g,0,this):((c=parseFloat(o.split(" ")[2])||0)!==m.zOrigin&&Cn(this,m,"zOrigin",m.zOrigin,c),Cn(this,P,l,Bn(s),Bn(o)));continue}if("svgOrigin"===l){Gi(t,o,1,g,0,this);continue}if(l in kn){y=this,v=m,b=l,x=h,T=p,A=S=void 0,S=Ct(E=o),A=parseFloat(E)*(S&&~E.indexOf("rad")?pn:1),A=x+(T=T?A*T:A-x)+"deg",S&&("short"===(E=E.split("_")[1])&&(T%=360)!==T%180&&(T+=T<0?360:-360),"cw"===E&&T<0?T=(T+36e9)%360-360*~~(T/360):"ccw"===E&&0<T&&(T=(T-36e9)%360-360*~~(T/360))),y._pt=T=new di(y._pt,v,b,x,T,xi),T.e=A,T.u="deg",y._props.push(b);continue}if("smoothOrigin"===l){Cn(this,m,"smooth",m.smooth,o);continue}if("force3D"===l){m[l]=o;continue}if("transform"===l){!function(t,e,i){var n,r,s,o,a,h,l=Vi({},i._gsap),u=i.style;for(r in l.svg?(s=i.getAttribute("transform"),i.setAttribute("transform",""),u[vn]=e,n=Ln(i,1),Pn(i,vn),i.setAttribute("transform",s)):(s=getComputedStyle(i)[vn],u[vn]=e,n=Ln(i,1),u[vn]=s),cn)(s=l[r])!==(a=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(o=pe(s)!==(h=pe(a))?On(i,r,s,h):parseFloat(s),a=parseFloat(a),t._pt=new di(t._pt,n,r,o,a-o,bi),t._pt.u=h||0,t._props.push(r));Vi(n,l)}(this,o,t);continue}}else l in P||(l=Sn(l)||l);if(d||(a||0===a)&&(h||0===h)&&!_n.test(o)&&l in P)a=a||0,(u=(s+"").substr((h+"").length))!==(c=pe(o)||(l in yt.units?yt.units[l]:u))&&(h=On(t,l,s,c)),this._pt=new di(this._pt,d?m:P,l,h,p?p*a:a-h,d||"px"!==c&&"zIndex"!==l||!1===e.autoRound?bi:Ei),this._pt.u=c||0,u!==c&&"%"!==c&&(this._pt.b=s,this._pt.r=Ti);else if(l in P)Fi.call(this,t,l,s,o);else{if(!(l in t)){Xt(l,o);continue}this.add(t,l,s||t[l],o,n,r)}w.push(l)}_&&si(this)},get:Ni,aliases:yn,getSetter:function(t,e,i){var n=yn[e];return(e=n&&n.indexOf(",")<0?n:e)in cn&&e!==bn&&(t._gsap.x||Ni(t,"x"))?i&&Yi===i?"scale"===e?Ri:Ci:(Yi=i||{})&&("scale"===e?Oi:Mi):t.style&&!Mt(t.style[e])?wi:~e.indexOf("-")?Pi:ui(t,e)},core:{_removeProperty:Pn,_getMatrix:Fn}};vi.utils.checkPrefix=Sn,Hn=d((yi="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(_e="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(t){cn[t]=1}),d(_e,function(t){yt.units[t]="deg",kn[t]=1}),yn[Hn[13]]=yi+","+_e,d("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(t){t=t.split(":");yn[t[1]]=Hn[t[0]]}),d("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){yt.units[t]="px"}),vi.registerPlugin(xe);yi=vi.registerPlugin(xe)||vi,_e=yi.core.Tween;t.Back=hn,t.Bounce=Be,t.CSSPlugin=xe,t.Circ=ve,t.Cubic=nn,t.Elastic=an,t.Expo=ye,t.Linear=tn,t.Power0=$i,t.Power1=Zi,t.Power2=Qi,t.Power3=Ki,t.Power4=Ji,t.Quad=en,t.Quart=rn,t.Quint=sn,t.Sine=ln,t.SteppedEase=Le,t.Strong=on,t.TimelineLite=Xe,t.TimelineMax=Xe,t.TweenLite=Je,t.TweenMax=_e,t.default=yi,t.gsap=yi,"undefined"==typeof window||window!==t?Object.defineProperty(t,"__esModule",{value:!0}):delete window.default},"object"==typeof i&&void 0!==e?r(i):"function"==typeof define&&define.amd?define(["exports"],r):r((n=n||self).window=n.window||{})},{}],46:[function(t,e,i){!function(s){!function(){var r=!!(s===s.window&&s.URL&&s.Blob&&s.Worker);function t(t,e){var i,n=this;if(e=e||{},r)return i=t.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new s.Worker(s.URL.createObjectURL(new s.Blob([i],{type:"text/javascript"})));this.self=e,this.self.postMessage=function(t){setTimeout(function(){n.onmessage({data:t})},0)},setTimeout(t.bind(e,e),0)}t.prototype.postMessage=function(t){var e=this;setTimeout(function(){e.self.onmessage({data:t})},0)},e.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],47:[function(t,e,i){"use strict";i.__esModule=!0,function(t){for(var e in t)i.hasOwnProperty(e)||(i[e]=t[e])}(t("./isMobile"));t=t("./isMobile");i.default=t.default},{"./isMobile":48}],48:[function(t,e,i){"use strict";i.__esModule=!0;function r(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&1<t.maxTouchPoints&&"undefined"==typeof MSStream}var s=/iPhone/i,o=/iPod/i,a=/iPad/i,h=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,p=/Silk/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,g=/BB10/i,_=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/Mobile(?:.+)Firefox\b/i;i.default=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i,n=e.userAgent;return void 0!==(t=(n=void 0!==(t=n.split("[FBAN"))[1]?t[0]:n).split("Twitter"))[1]&&(n=t[0]),(n={apple:{phone:(n=(i=n,function(t){return t.test(i)}))(s)&&!n(d),ipod:n(o),tablet:!n(s)&&(n(a)||r(e))&&!n(d),universal:n(h),device:(n(s)||n(o)||n(a)||n(h)||r(e))&&!n(d)},amazon:{phone:n(c),tablet:!n(c)&&n(p),device:n(c)||n(p)},android:{phone:!n(d)&&n(c)||!n(d)&&n(l),tablet:!n(d)&&!n(c)&&!n(l)&&(n(p)||n(u)),device:!n(d)&&(n(c)||n(p)||n(l)||n(u))||n(/\bokhttp\b/i)},windows:{phone:n(d),tablet:n(f),device:n(d)||n(f)},other:{blackberry:n(m),blackberry10:n(g),opera:n(_),firefox:n(v),chrome:n(y),device:n(m)||n(g)||n(_)||n(v)||n(y)},any:!1,phone:!1,tablet:!1}).any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}},{}],49:[function(t,e,i){var n;n=function(u){var c,p,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(u.event.fixHooks)for(var i=t.length;i;)u.event.fixHooks[t[--i]]=u.event.mouseHooks;var f=u.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],n,!1);else this.onmousewheel=n;u.data(this,"mousewheel-line-height",f.getLineHeight(this)),u.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],n,!1);else this.onmousewheel=null;u.removeData(this,"mousewheel-line-height"),u.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=u(t),t=e["offsetParent"in u.fn?"offsetParent":"parent"]();return t.length||(t=u("body")),parseInt(t.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return u(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function n(t){var e,i=t||window.event,n=d.call(arguments,1),r=0,s=0,o=0,a=0,h=0,l=0;if((t=u.event.fix(i)).type="mousewheel","detail"in i&&(o=-1*i.detail),"wheelDelta"in i&&(o=i.wheelDelta),"wheelDeltaY"in i&&(o=i.wheelDeltaY),"wheelDeltaX"in i&&(s=-1*i.wheelDeltaX),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=-1*o,o=0),r=0===o?s:o,"deltaY"in i&&(r=o=-1*i.deltaY),"deltaX"in i&&(s=i.deltaX,0===o&&(r=-1*s)),0!==o||0!==s)return 1===i.deltaMode?(r*=e=u.data(this,"mousewheel-line-height"),o*=e,s*=e):2===i.deltaMode&&(r*=e=u.data(this,"mousewheel-page-height"),o*=e,s*=e),a=Math.max(Math.abs(o),Math.abs(s)),(!p||a<p)&&g(i,p=a)&&(p/=40),g(i,a)&&(r/=40,s/=40,o/=40),r=Math[1<=r?"floor":"ceil"](r/p),s=Math[1<=s?"floor":"ceil"](s/p),o=Math[1<=o?"floor":"ceil"](o/p),f.settings.normalizeOffset&&this.getBoundingClientRect&&(a=this.getBoundingClientRect(),h=t.clientX-a.left,l=t.clientY-a.top),t.deltaX=s,t.deltaY=o,t.deltaFactor=p,t.offsetX=h,t.offsetY=l,t.deltaMode=0,n.unshift(t,r,s,o),c&&clearTimeout(c),c=setTimeout(m,200),(u.event.dispatch||u.event.handle).apply(this,n)}function m(){p=null}function g(t,e){return f.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}u.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof i?e.exports=n:n(jQuery)},{}],50:[function(t,e,i){!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(l){"use strict";var r,i=0,o=Array.prototype.hasOwnProperty,a=Array.prototype.slice;return l.cleanData=(r=l.cleanData,function(t){for(var e,i,n=0;null!=(i=t[n]);n++)(e=l._data(i,"events"))&&e.remove&&l(i).triggerHandler("remove");r(t)}),l.widget=function(t,i,e){var n,r,s,o={},a=t.split(".")[0],h=a+"-"+(t=t.split(".")[1]);return e||(e=i,i=l.Widget),Array.isArray(e)&&(e=l.extend.apply(null,[{}].concat(e))),l.expr.pseudos[h.toLowerCase()]=function(t){return!!l.data(t,h)},l[a]=l[a]||{},n=l[a][t],r=l[a][t]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},l.extend(r,n,{version:e.version,_proto:l.extend({},e),_childConstructors:[]}),(s=new i).options=l.widget.extend({},s.options),l.each(e,function(e,n){function r(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}o[e]="function"==typeof n?function(){var t,e=this._super,i=this._superApply;return this._super=r,this._superApply=s,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}:n}),r.prototype=l.widget.extend(s,{widgetEventPrefix:n&&s.widgetEventPrefix||t},o,{constructor:r,namespace:a,widgetName:t,widgetFullName:h}),n?(l.each(n._childConstructors,function(t,e){var i=e.prototype;l.widget(i.namespace+"."+i.widgetName,r,e._proto)}),delete n._childConstructors):i._childConstructors.push(r),l.widget.bridge(t,r),r},l.widget.extend=function(t){for(var e,i,n=a.call(arguments,1),r=0,s=n.length;r<s;r++)for(e in n[r])i=n[r][e],o.call(n[r],e)&&void 0!==i&&(l.isPlainObject(i)?t[e]=l.isPlainObject(t[e])?l.widget.extend({},t[e],i):l.widget.extend({},i):t[e]=i);return t},l.widget.bridge=function(s,e){var o=e.prototype.widgetFullName||s;l.fn[s]=function(i){var t="string"==typeof i,n=a.call(arguments,1),r=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=l.data(this,o);return"instance"===i?(r=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?l.error("no such method '"+i+"' for "+s+" widget instance"):(t=e[i].apply(e,n))!==e&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0:l.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):r=void 0:(n.length&&(i=l.widget.extend.apply(null,[i].concat(n))),this.each(function(){var t=l.data(this,o);t?(t.option(i||{}),t._init&&t._init()):l.data(this,o,new e(i,this))})),r}},l.Widget=function(){},l.Widget._childConstructors=[],l.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=l(e||this.defaultElement||this)[0],this.element=l(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=l(),this.hoverable=l(),this.focusable=l(),this.classesElementLookup={},e!==this&&(l.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=l(e.style?e.ownerDocument:e.document||e),this.window=l(this.document[0].defaultView||this.document[0].parentWindow)),this.options=l.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:l.noop,_create:l.noop,_init:l.noop,destroy:function(){var i=this;this._destroy(),l.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:l.noop,widget:function(){return this.element},option:function(t,e){var i,n,r,s=t;if(0===arguments.length)return l.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(n=s[t]=l.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(t=i.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=e}return this._setOptions(s),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,n;for(e in t)n=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&n&&n.length&&(i=l(n.get()),this._removeClass(n,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){var s=[],o=this;function t(t,e){for(var i,n=0;n<t.length;n++)i=o.classesElementLookup[t[n]]||l(),i=r.add?(r.element.each(function(t,e){l.map(o.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||o._on(l(e),{remove:"_untrackClassesElement"})}),l(l.uniqueSort(i.get().concat(r.element.get())))):l(i.not(r.element).get()),o.classesElementLookup[t[n]]=i,s.push(t[n]),e&&r.classes[t[n]]&&s.push(r.classes[t[n]])}return(r=l.extend({element:this.element,classes:this.options.classes||{}},r)).keys&&t(r.keys.match(/\S+/g)||[],!0),r.extra&&t(r.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(i){var n=this;l.each(n.classesElementLookup,function(t,e){-1!==l.inArray(i.target,e)&&(n.classesElementLookup[t]=l(e.not(i.target).get()))}),this._off(l(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){var r="string"==typeof t||null===t,i={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n="boolean"==typeof n?n:i};return i.element.toggleClass(this._classes(i),n),this},_on:function(r,s,t){var o,a=this;"boolean"!=typeof r&&(t=s,s=r,r=!1),t?(s=o=l(s),this.bindings=this.bindings.add(s)):(t=s,s=this.element,o=this.widget()),l.each(t,function(t,e){function i(){if(r||!0!==a.options.disabled&&!l(this).hasClass("ui-state-disabled"))return("string"==typeof e?a[e]:e).apply(a,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||l.guid++);var n=t.match(/^([\w:-]*)\s*(.*)$/),t=n[1]+a.eventNamespace,n=n[2];n?o.on(t,n,i):s.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=l(this.bindings.not(t).get()),this.focusable=l(this.focusable.not(t).get()),this.hoverable=l(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(l(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(l(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(l(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(l(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var n,r,s=this.options[t];if(i=i||{},(e=l.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],r=e.originalEvent)for(n in r)n in e||(e[n]=r[n]);return this.element.trigger(e,i),!("function"==typeof s&&!1===s.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},l.each({show:"fadeIn",hide:"fadeOut"},function(s,o){l.Widget.prototype["_"+s]=function(e,t,i){var n,r=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||o:s;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),n=!l.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&l.effects&&l.effects.effect[r]?e[s](t):r!==s&&e[r]?e[r](t.duration,t.easing,i):e.queue(function(t){l(this)[s](),i&&i.call(e[0]),t()})}}),l.widget})},{}],51:[function(t,i,e){!function(t,e){"use strict";"object"==typeof i&&"object"==typeof i.exports?i.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(T,t){"use strict";function m(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function g(t){return null!=t&&t===t.window}var e=[],i=Object.getPrototypeOf,a=e.slice,_=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},h=e.push,r=e.indexOf,n={},s=n.toString,y=n.hasOwnProperty,o=y.toString,l=o.call(Object),v={},E=T.document,u={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,i){var n,r,s=(i=i||E).createElement("script");if(s.text=t,e)for(n in u)(r=e[n]||e.getAttribute&&e.getAttribute(n))&&s.setAttribute(n,r);i.head.appendChild(s).parentNode.removeChild(s)}function f(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[s.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)};function c(t){var e=!!t&&"length"in t&&t.length,i=f(t);return!m(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"3.6.0",constructor:S,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=S.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return S.each(this,t)},map:function(i){return this.pushStack(S.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:h,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,i,n,r,s=arguments[0]||{},o=1,a=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[o]||{},o++),"object"==typeof s||m(s)||(s={}),o===a&&(s=this,o--);o<a;o++)if(null!=(t=arguments[o]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(h&&i&&(S.isPlainObject(i)||(n=Array.isArray(i)))?(r=s[e],r=n&&!Array.isArray(r)?[]:n||S.isPlainObject(r)?r:{},n=!1,s[e]=S.extend(h,r,i)):void 0!==i&&(s[e]=i));return s},S.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==s.call(t))&&(!(t=i(t))||"function"==typeof(t=y.call(t,"constructor")&&t.constructor)&&o.call(t)===l)},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,i){b(t,{nonce:e&&e.nonce},i)},each:function(t,e){var i,n=0;if(c(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(c(Object(t))?S.merge(e,"string"==typeof t?[t]:t):h.call(e,t)),e},inArray:function(t,e,i){return null==e?-1:r.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,s=t.length,o=!i;r<s;r++)!e(t[r],r)!=o&&n.push(t[r]);return n},map:function(t,e,i){var n,r,s=0,o=[];if(c(t))for(n=t.length;s<n;s++)null!=(r=e(t[s],s,i))&&o.push(r);else for(s in t)null!=(r=e(t[s],s,i))&&o.push(r);return _(o)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var p=function(i){function c(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function p(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function n(){T()}var t,d,b,s,r,f,m,g,x,h,l,T,E,o,S,_,a,u,y,A="sizzle"+ +new Date,v=i.document,w=0,P=0,C=ht(),R=ht(),O=ht(),M=ht(),I=function(t,e){return t===e&&(l=!0),0},D={}.hasOwnProperty,e=[],k=e.pop,N=e.push,F=e.push,L=e.slice,B=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",V="(?:\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+U+"*("+V+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+U+"*\\]",H=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",X=new RegExp(U+"+","g"),z=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),q=new RegExp("^"+U+"*,"+U+"*"),Y=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),W=new RegExp(U+"|>"),$=new RegExp(H),Z=new RegExp("^"+V+"$"),Q={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,et=/^[^{]+\{\s*\[native \w/,it=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=new RegExp("\\\\[\\da-fA-F]{1,6}"+U+"?|\\\\([^\\r\\n\\f])","g"),st=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{F.apply(e=L.call(v.childNodes),v.childNodes),e[v.childNodes.length].nodeType}catch(t){F={apply:e.length?function(t,e){N.apply(t,L.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function at(e,t,i,n){var r,s,o,a,h,l,u=t&&t.ownerDocument,c=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return i;if(!n&&(T(t),t=t||E,S)){if(11!==c&&(a=it.exec(e)))if(l=a[1]){if(9===c){if(!(s=t.getElementById(l)))return i;if(s.id===l)return i.push(s),i}else if(u&&(s=u.getElementById(l))&&y(t,s)&&s.id===l)return i.push(s),i}else{if(a[2])return F.apply(i,t.getElementsByTagName(e)),i;if((l=a[3])&&d.getElementsByClassName&&t.getElementsByClassName)return F.apply(i,t.getElementsByClassName(l)),i}if(d.qsa&&!M[e+" "]&&(!_||!_.test(e))&&(1!==c||"object"!==t.nodeName.toLowerCase())){if(l=e,u=t,1===c&&(W.test(e)||Y.test(e))){for((u=nt.test(e)&&mt(t.parentNode)||t)===t&&d.scope||((o=t.getAttribute("id"))?o=o.replace(st,p):t.setAttribute("id",o=A)),r=(h=f(e)).length;r--;)h[r]=(o?"#"+o:":scope")+" "+_t(h[r]);l=h.join(",")}try{return F.apply(i,u.querySelectorAll(l)),i}catch(t){M(e,!0)}finally{o===A&&t.removeAttribute("id")}}}return g(e.replace(z,"$1"),t,i,n)}function ht(){var i=[];function n(t,e){return i.push(t+" ")>b.cacheLength&&delete n[i.shift()],n[t+" "]=e}return n}function lt(t){return t[A]=!0,t}function ut(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function ct(t,e){for(var i=t.split("|"),n=i.length;n--;)b.attrHandle[i[n]]=e}function pt(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function dt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ot(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(o){return lt(function(s){return s=+s,lt(function(t,e){for(var i,n=o([],t.length,s),r=n.length;r--;)t[i=n[r]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=at.support={},r=at.isXML=function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!K.test(e||t&&t.nodeName||"HTML")},T=at.setDocument=function(t){var e,t=t?t.ownerDocument||t:v;return t!=E&&9===t.nodeType&&t.documentElement&&(o=(E=t).documentElement,S=!r(E),v!=E&&(e=E.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",n,!1):e.attachEvent&&e.attachEvent("onunload",n)),d.scope=ut(function(t){return o.appendChild(t).appendChild(E.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),d.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=ut(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=et.test(E.getElementsByClassName),d.getById=ut(function(t){return o.appendChild(t).id=A,!E.getElementsByName||!E.getElementsByName(A).length}),d.getById?(b.filter.ID=function(t){var e=t.replace(rt,c);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){t=e.getElementById(t);return t?[t]:[]}}):(b.filter.ID=function(t){var e=t.replace(rt,c);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&S){var i,n,r,s=e.getElementById(t);if(s){if((i=s.getAttributeNode("id"))&&i.value===t)return[s];for(r=e.getElementsByName(t),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===t)return[s]}return[]}}),b.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"!==t)return s;for(;i=s[r++];)1===i.nodeType&&n.push(i);return n},b.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&S)return e.getElementsByClassName(t)},a=[],_=[],(d.qsa=et.test(E.querySelectorAll))&&(ut(function(t){var e;o.appendChild(t).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&_.push("[*^$]="+U+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||_.push("\\["+U+"*(?:value|"+G+")"),t.querySelectorAll("[id~="+A+"-]").length||_.push("~="),(e=E.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||_.push("\\["+U+"*name"+U+"*="+U+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||_.push(":checked"),t.querySelectorAll("a#"+A+"+*").length||_.push(".#.+[+~]"),t.querySelectorAll("\\\f"),_.push("[\\r\\n\\f]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&_.push("name"+U+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&_.push(":enabled",":disabled"),o.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&_.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),_.push(",.*:")})),(d.matchesSelector=et.test(u=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ut(function(t){d.disconnectedMatch=u.call(t,"*"),u.call(t,"[s!='']:x"),a.push("!=",H)}),_=_.length&&new RegExp(_.join("|")),a=a.length&&new RegExp(a.join("|")),e=et.test(o.compareDocumentPosition),y=e||et.test(o.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(i.contains?i.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return l=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===i?t==E||t.ownerDocument==v&&y(v,t)?-1:e==E||e.ownerDocument==v&&y(v,e)?1:h?B(h,t)-B(h,e):0:4&i?-1:1)}:function(t,e){if(t===e)return l=!0,0;var i,n=0,r=t.parentNode,s=e.parentNode,o=[t],a=[e];if(!r||!s)return t==E?-1:e==E?1:r?-1:s?1:h?B(h,t)-B(h,e):0;if(r===s)return pt(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?pt(o[n],a[n]):o[n]==v?-1:a[n]==v?1:0}),E},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if(T(t),d.matchesSelector&&S&&!M[e+" "]&&(!a||!a.test(e))&&(!_||!_.test(e)))try{var i=u.call(t,e);if(i||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){M(e,!0)}return 0<at(e,E,null,[t]).length},at.contains=function(t,e){return(t.ownerDocument||t)!=E&&T(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!=E&&T(t);var i=b.attrHandle[e.toLowerCase()],i=i&&D.call(b.attrHandle,e.toLowerCase())?i(t,e,!S):void 0;return void 0!==i?i:d.attributes||!S?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},at.escape=function(t){return(t+"").replace(st,p)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],n=0,r=0;if(l=!d.detectDuplicates,h=!d.sortStable&&t.slice(0),t.sort(I),l){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return h=null,t},s=at.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(b=at.selectors={cacheLength:50,createPseudo:lt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(rt,c),t[3]=(t[3]||t[4]||t[5]||"").replace(rt,c),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&$.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(rt,c).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+U+")"+t+"("+U+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(t){t=at.attr(t,e);return null==t?"!="===i:!i||(t+="","="===i?t===n:"!="===i?t!==n:"^="===i?n&&0===t.indexOf(n):"*="===i?n&&-1<t.indexOf(n):"$="===i?n&&t.slice(-n.length)===n:"~="===i?-1<(" "+t.replace(X," ")+" ").indexOf(n):"|="===i&&(t===n||t.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,t,e,m,g){var _="nth"!==f.slice(0,3),y="last"!==f.slice(-4),v="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var n,r,s,o,a,h,l=_!=y?"nextSibling":"previousSibling",u=t.parentNode,c=v&&t.nodeName.toLowerCase(),p=!i&&!v,d=!1;if(u){if(_){for(;l;){for(o=t;o=o[l];)if(v?o.nodeName.toLowerCase()===c:1===o.nodeType)return!1;h=l="only"===f&&!h&&"nextSibling"}return!0}if(h=[y?u.firstChild:u.lastChild],y&&p){for(d=(a=(n=(r=(s=(o=u)[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===w&&n[1])&&n[2],o=a&&u.childNodes[a];o=++a&&o&&o[l]||(d=a=0)||h.pop();)if(1===o.nodeType&&++d&&o===t){r[f]=[w,a,d];break}}else if(!1===(d=p?a=(n=(r=(s=(o=t)[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]||[])[0]===w&&n[1]:d))for(;(o=++a&&o&&o[l]||(d=a=0)||h.pop())&&((v?o.nodeName.toLowerCase()!==c:1!==o.nodeType)||!++d||(p&&((r=(s=o[A]||(o[A]={}))[o.uniqueID]||(s[o.uniqueID]={}))[f]=[w,d]),o!==t)););return(d-=g)===m||d%m==0&&0<=d/m}}},PSEUDO:function(t,s){var e,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return o[A]?o(s):1<o.length?(e=[t,t,"",s],b.setFilters.hasOwnProperty(t.toLowerCase())?lt(function(t,e){for(var i,n=o(t,s),r=n.length;r--;)t[i=B(t,n[r])]=!(e[i]=n[r])}):function(t){return o(t,0,e)}):o}},pseudos:{not:lt(function(t){var n=[],r=[],a=m(t.replace(z,"$1"));return a[A]?lt(function(t,e,i,n){for(var r,s=a(t,null,n,[]),o=t.length;o--;)(r=s[o])&&(t[o]=!(e[o]=r))}):function(t,e,i){return n[0]=t,a(n,null,i,r),n[0]=null,!r.pop()}}),has:lt(function(e){return function(t){return 0<at(e,t).length}}),contains:lt(function(e){return e=e.replace(rt,c),function(t){return-1<(t.textContent||s(t)).indexOf(e)}}),lang:lt(function(i){return Z.test(i||"")||at.error("unsupported lang: "+i),i=i.replace(rt,c).toLowerCase(),function(t){var e;do{if(e=S?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:dt(!1),disabled:dt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return tt.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:e<i?e:i;0<=--n;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=function(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}(t);function gt(){}function _t(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(o,t,e){var a=t.dir,h=t.next,l=h||a,u=e&&"parentNode"===l,c=P++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||u)return o(t,e,i);return!1}:function(t,e,i){var n,r,s=[w,c];if(i){for(;t=t[a];)if((1===t.nodeType||u)&&o(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||u)if(n=(r=t[A]||(t[A]={}))[t.uniqueID]||(r[t.uniqueID]={}),h&&h===t.nodeName.toLowerCase())t=t[a]||t;else{if((r=n[l])&&r[0]===w&&r[1]===c)return s[2]=r[2];if((n[l]=s)[2]=o(t,e,i))return!0}return!1}}function vt(r){return 1<r.length?function(t,e,i){for(var n=r.length;n--;)if(!r[n](t,e,i))return!1;return!0}:r[0]}function bt(t,e,i,n,r){for(var s,o=[],a=0,h=t.length,l=null!=e;a<h;a++)(s=t[a])&&(i&&!i(s,n,r)||(o.push(s),l&&e.push(a)));return o}function xt(d,f,m,g,_,t){return g&&!g[A]&&(g=xt(g)),_&&!_[A]&&(_=xt(_,t)),lt(function(t,e,i,n){var r,s,o,a=[],h=[],l=e.length,u=t||function(t,e,i){for(var n=0,r=e.length;n<r;n++)at(t,e[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),c=!d||!t&&f?u:bt(u,a,d,i,n),p=m?_||(t?d:l||g)?[]:e:c;if(m&&m(c,p,i,n),g)for(r=bt(p,h),g(r,[],i,n),s=r.length;s--;)(o=r[s])&&(p[h[s]]=!(c[h[s]]=o));if(t){if(_||d){if(_){for(r=[],s=p.length;s--;)(o=p[s])&&r.push(c[s]=o);_(null,p=[],r,n)}for(s=p.length;s--;)(o=p[s])&&-1<(r=_?B(t,o):a[s])&&(t[r]=!(e[r]=o))}}else p=bt(p===e?p.splice(l,p.length):p),_?_(null,e,p,n):F.apply(e,p)})}function Tt(g,_){function t(t,e,i,n,r){var s,o,a,h=0,l="0",u=t&&[],c=[],p=x,d=t||v&&b.find.TAG("*",r),f=w+=null==p?1:Math.random()||.1,m=d.length;for(r&&(x=e==E||e||r);l!==m&&null!=(s=d[l]);l++){if(v&&s){for(o=0,e||s.ownerDocument==E||(T(s),i=!S);a=g[o++];)if(a(s,e||E,i)){n.push(s);break}r&&(w=f)}y&&((s=!a&&s)&&h--,t&&u.push(s))}if(h+=l,y&&l!==h){for(o=0;a=_[o++];)a(u,c,e,i);if(t){if(0<h)for(;l--;)u[l]||c[l]||(c[l]=k.call(n));c=bt(c)}F.apply(n,c),r&&!t&&0<c.length&&1<h+_.length&&at.uniqueSort(n)}return r&&(w=f,x=p),u}var y=0<_.length,v=0<g.length;return y?lt(t):t}return gt.prototype=b.filters=b.pseudos,b.setFilters=new gt,f=at.tokenize=function(t,e){var i,n,r,s,o,a,h,l=R[t+" "];if(l)return e?0:l.slice(0);for(o=t,a=[],h=b.preFilter;o;){for(s in i&&!(n=q.exec(o))||(n&&(o=o.slice(n[0].length)||o),a.push(r=[])),i=!1,(n=Y.exec(o))&&(i=n.shift(),r.push({value:i,type:n[0].replace(z," ")}),o=o.slice(i.length)),b.filter)!(n=Q[s].exec(o))||h[s]&&!(n=h[s](n))||(i=n.shift(),r.push({value:i,type:s,matches:n}),o=o.slice(i.length));if(!i)break}return e?o.length:o?at.error(t):R(t,a).slice(0)},m=at.compile=function(t,e){var i,n=[],r=[],s=O[t+" "];if(!s){for(i=(e=e||f(t)).length;i--;)((s=function t(e){for(var n,i,r,s=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],h=o?1:0,l=yt(function(t){return t===n},a,!0),u=yt(function(t){return-1<B(n,t)},a,!0),c=[function(t,e,i){return i=!o&&(i||e!==x)||((n=e).nodeType?l:u)(t,e,i),n=null,i}];h<s;h++)if(i=b.relative[e[h].type])c=[yt(vt(c),i)];else{if((i=b.filter[e[h].type].apply(null,e[h].matches))[A]){for(r=++h;r<s&&!b.relative[e[r].type];r++);return xt(1<h&&vt(c),1<h&&_t(e.slice(0,h-1).concat({value:" "===e[h-2].type?"*":""})).replace(z,"$1"),i,h<r&&t(e.slice(h,r)),r<s&&t(e=e.slice(r)),r<s&&_t(e))}c.push(i)}return vt(c)}(e[i]))[A]?n:r).push(s);(s=O(t,Tt(r,n))).selector=t}return s},g=at.select=function(t,e,i,n){var r,s,o,a,h,l="function"==typeof t&&t,u=!n&&f(t=l.selector||t);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(o=s[0]).type&&9===e.nodeType&&S&&b.relative[s[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(rt,c),e)||[])[0]))return i;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=Q.needsContext.test(t)?0:s.length;r--&&(o=s[r],!b.relative[a=o.type]);)if((h=b.find[a])&&(n=h(o.matches[0].replace(rt,c),nt.test(s[0].type)&&mt(e.parentNode)||e))){if(s.splice(r,1),!(t=n.length&&_t(s)))return F.apply(i,n),i;break}}return(l||m(t,u))(n,e,!S,i,!e||nt.test(t)&&mt(e.parentNode)||e),i},d.sortStable=A.split("").sort(I).join("")===A,d.detectDuplicates=!!l,T(),d.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ct("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ct("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ct(G,function(t,e,i){if(!i)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),at}(T);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains,S.escapeSelector=p.escape;function d(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&S(t).is(i))break;n.push(t)}return n}function x(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}var A=S.expr.match.needsContext;function w(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function C(t,i,n){return m(i)?S.grep(t,function(t,e){return!!i.call(t,e,t)!==n}):i.nodeType?S.grep(t,function(t){return t===i!==n}):"string"!=typeof i?S.grep(t,function(t){return-1<r.call(i,t)!==n}):S.filter(i,t,n)}S.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?S.find.matchesSelector(n,t)?[n]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<n;e++)if(S.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)S.find(t,r[e],i);return 1<n?S.uniqueSort(i):i},filter:function(t){return this.pushStack(C(this,t||[],!1))},not:function(t){return this.pushStack(C(this,t||[],!0))},is:function(t){return!!C(this,"string"==typeof t&&A.test(t)?S(t):t||[],!1).length}});var R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,i){if(!t)return this;if(i=i||O,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(S):S.makeArray(t,this);if(!(n="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:R.exec(t))||!n[1]&&e)return(!e||e.jquery?e||i:this.constructor(e)).find(t);if(n[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:E,!0)),P.test(n[1])&&S.isPlainObject(e))for(var n in e)m(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(t=E.getElementById(n[2]))&&(this[0]=t,this.length=1),this}).prototype=S.fn;var O=S(E),M=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,s=[],o="string"!=typeof t&&S(t);if(!A.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&S.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(1<s.length?S.uniqueSort(s):s)},index:function(t){return t?"string"==typeof t?r.call(S(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return d(t,"parentNode")},parentsUntil:function(t,e,i){return d(t,"parentNode",i)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return d(t,"nextSibling")},prevAll:function(t){return d(t,"previousSibling")},nextUntil:function(t,e,i){return d(t,"nextSibling",i)},prevUntil:function(t,e,i){return d(t,"previousSibling",i)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(w(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(n,r){S.fn[n]=function(t,e){var i=S.map(this,r,t);return(e="Until"!==n.slice(-5)?t:e)&&"string"==typeof e&&(i=S.filter(e,i)),1<this.length&&(I[n]||S.uniqueSort(i),M.test(n)&&i.reverse()),this.pushStack(i)}});var k=/[^\x20\t\r\n\f]+/g;function N(t){return t}function F(t){throw t}function L(t,e,i,n){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(i):t&&m(r=t.then)?r.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}S.Callbacks=function(n){var t,i;n="string"==typeof n?(t=n,i={},S.each(t.match(k)||[],function(t,e){i[e]=!0}),i):S.extend({},n);function r(){for(a=a||n.once,o=s=!0;l.length;u=-1)for(e=l.shift();++u<h.length;)!1===h[u].apply(e[0],e[1])&&n.stopOnFalse&&(u=h.length,e=!1);n.memory||(e=!1),s=!1,a&&(h=e?[]:"")}var s,e,o,a,h=[],l=[],u=-1,c={add:function(){return h&&(e&&!s&&(u=h.length-1,l.push(e)),function i(t){S.each(t,function(t,e){m(e)?n.unique&&c.has(e)||h.push(e):e&&e.length&&"string"!==f(e)&&i(e)})}(arguments),e&&!s&&r()),this},remove:function(){return S.each(arguments,function(t,e){for(var i;-1<(i=S.inArray(e,h,i));)h.splice(i,1),i<=u&&u--}),this},has:function(t){return t?-1<S.inArray(t,h):0<h.length},empty:function(){return h=h&&[],this},disable:function(){return a=l=[],h=e="",this},disabled:function(){return!h},lock:function(){return a=l=[],e||s||(h=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),s||r()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!o}};return c},S.extend({Deferred:function(t){var s=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var r=arguments;return S.Deferred(function(n){S.each(s,function(t,e){var i=m(r[e[4]])&&r[e[4]];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[e[0]+"With"](this,i?[t]:arguments)})}),r=null}).promise()},then:function(e,i,n){var h=0;function l(r,s,o,a){return function(){function t(){var t,e;if(!(r<h)){if((t=o.apply(i,n))===s.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,m(e)?a?e.call(t,l(h,s,N,a),l(h,s,F,a)):(h++,e.call(t,l(h,s,N,a),l(h,s,F,a),l(h,s,N,s.notifyWith))):(o!==N&&(i=void 0,n=[t]),(a||s.resolveWith)(i,n))}}var i=this,n=arguments,e=a?t:function(){try{t()}catch(t){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(t,e.stackTrace),h<=r+1&&(o!==F&&(i=void 0,n=[t]),s.rejectWith(i,n))}};r?e():(S.Deferred.getStackHook&&(e.stackTrace=S.Deferred.getStackHook()),T.setTimeout(e))}}return S.Deferred(function(t){s[0][3].add(l(0,t,m(n)?n:N,t.notifyWith)),s[1][3].add(l(0,t,m(e)?e:N)),s[2][3].add(l(0,t,m(i)?i:F))}).promise()},promise:function(t){return null!=t?S.extend(t,o):o}},a={};return S.each(s,function(t,e){var i=e[2],n=e[5];o[e[1]]=i.add,n&&i.add(function(){r=n},s[3-t][2].disable,s[3-t][3].disable,s[0][2].lock,s[0][3].lock),i.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=i.fireWith}),o.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){r[e]=this,s[e]=1<arguments.length?a.call(arguments):t,--i||o.resolveWith(r,s)}}var i=arguments.length,n=i,r=Array(n),s=a.call(arguments),o=S.Deferred();if(i<=1&&(L(t,o.done(e(n)).resolve,o.reject,!i),"pending"===o.state()||m(s[n]&&s[n].then)))return o.then();for(;n--;)L(s[n],e(n),o.reject);return o.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){T.console&&T.console.warn&&t&&B.test(t.name)&&T.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){T.setTimeout(function(){throw t})};var G=S.Deferred();function U(){E.removeEventListener("DOMContentLoaded",U),T.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return G.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||(S.isReady=!0)!==t&&0<--S.readyWait||G.resolveWith(E,[S])}}),S.ready.then=G.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?T.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",U),T.addEventListener("load",U));function V(t,e,i,n,r,s,o){var a=0,h=t.length,l=null==i;if("object"===f(i))for(a in r=!0,i)V(t,e,a,i[a],!0,s,o);else if(void 0!==n&&(r=!0,m(n)||(o=!0),e=l?o?(e.call(t,n),null):(l=e,function(t,e,i){return l.call(S(t),i)}):e))for(;a<h;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):s}var j=/^-ms-/,H=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function z(t){return t.replace(j,"ms-").replace(H,X)}function q(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function Y(){this.expando=S.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(t){var e=t[this.expando];return e||(e={},q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[z(e)]=i;else for(n in e)r[z(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][z(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(z):(e=z(e))in n?[e]:e.match(k)||[]).length;for(;i--;)delete n[e[i]]}void 0!==e&&!S.isEmptyObject(n)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var W=new Y,$=new Y,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function K(t,e,i){var n,r;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:Z.test(r)?JSON.parse(r):r)}catch(t){}$.set(t,e,i)}else i=void 0;return i}S.extend({hasData:function(t){return $.hasData(t)||W.hasData(t)},data:function(t,e,i){return $.access(t,e,i)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,i){return W.access(t,e,i)},_removeData:function(t,e){W.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,n,r,s=this[0],o=s&&s.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){$.set(this,i)}):V(this,function(t){var e;return s&&void 0===t?void 0!==(e=$.get(s,i))||void 0!==(e=K(s,i))?e:void 0:void this.each(function(){$.set(this,i,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(r=$.get(s),1===s.nodeType&&!W.get(s,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(n=o[e].name).indexOf("data-")&&(n=z(n.slice(5)),K(s,n,r[n]));W.set(s,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),S.extend({queue:function(t,e,i){var n;if(t)return n=W.get(t,e=(e||"fx")+"queue"),i&&(!n||Array.isArray(i)?n=W.access(t,e,S.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=S.queue(t,e),n=i.length,r=i.shift(),s=S._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,function(){S.dequeue(t,e)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return W.get(t,i)||W.access(t,i,{empty:S.Callbacks("once memory").add(function(){W.remove(t,[e+"queue",i])})})}}),S.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===i?this:this.each(function(){var t=S.queue(this,e,i);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function i(){--r||s.resolveWith(o,[o])}var n,r=1,s=S.Deferred(),o=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=W.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),s.promise(e)}});var J=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tt=new RegExp("^(?:([+-])=|)("+J+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],it=E.documentElement,nt=function(t){return S.contains(t.ownerDocument,t)},rt={composed:!0};it.getRootNode&&(nt=function(t){return S.contains(t.ownerDocument,t)||t.getRootNode(rt)===t.ownerDocument});function st(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&nt(t)&&"none"===S.css(t,"display")}function ot(t,e,i,n){var r,s,o=20,a=n?function(){return n.cur()}:function(){return S.css(t,e,"")},h=a(),l=i&&i[3]||(S.cssNumber[e]?"":"px"),u=t.nodeType&&(S.cssNumber[e]||"px"!==l&&+h)&&tt.exec(S.css(t,e));if(u&&u[3]!==l){for(l=l||u[3],u=+(h/=2)||1;o--;)S.style(t,e,u+l),(1-s)*(1-(s=a()/h||.5))<=0&&(o=0),u/=s;S.style(t,e,(u*=2)+l),i=i||[]}return i&&(u=+u||+h||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=l,n.start=u,n.end=r)),r}var at={};function ht(t,e){for(var i,n,r,s,o,a=[],h=0,l=t.length;h<l;h++)(n=t[h]).style&&(i=n.style.display,e?("none"===i&&(a[h]=W.get(n,"display")||null,a[h]||(n.style.display="")),""===n.style.display&&st(n)&&(a[h]=(o=s=void 0,s=(r=n).ownerDocument,o=r.nodeName,(r=at[o])||(s=s.body.appendChild(s.createElement(o)),r=S.css(s,"display"),s.parentNode.removeChild(s),at[o]=r="none"===r?"block":r)))):"none"!==i&&(a[h]="none",W.set(n,"display",i)));for(h=0;h<l;h++)null!=a[h]&&(t[h].style.display=a[h]);return t}S.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){st(this)?S(this).show():S(this).hide()})}});var lt=/^(?:checkbox|radio)$/i,ut=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ct=/^$|^module$|\/(?:java|ecma)script/i;Ye=E.createDocumentFragment().appendChild(E.createElement("div")),(p=E.createElement("input")).setAttribute("type","radio"),p.setAttribute("checked","checked"),p.setAttribute("name","t"),Ye.appendChild(p),v.checkClone=Ye.cloneNode(!0).cloneNode(!0).lastChild.checked,Ye.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ye.cloneNode(!0).lastChild.defaultValue,Ye.innerHTML="<option></option>",v.option=!!Ye.lastChild;var pt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&w(t,e)?S.merge([t],i):i}function ft(t,e){for(var i=0,n=t.length;i<n;i++)W.set(t[i],"globalEval",!e||W.get(e[i],"globalEval"))}pt.tbody=pt.tfoot=pt.colgroup=pt.caption=pt.thead,pt.th=pt.td,v.option||(pt.optgroup=pt.option=[1,"<select multiple='multiple'>","</select>"]);var mt=/<|&#?\w+;/;function gt(t,e,i,n,r){for(var s,o,a,h,l,u=e.createDocumentFragment(),c=[],p=0,d=t.length;p<d;p++)if((s=t[p])||0===s)if("object"===f(s))S.merge(c,s.nodeType?[s]:s);else if(mt.test(s)){for(o=o||u.appendChild(e.createElement("div")),a=(ut.exec(s)||["",""])[1].toLowerCase(),a=pt[a]||pt._default,o.innerHTML=a[1]+S.htmlPrefilter(s)+a[2],l=a[0];l--;)o=o.lastChild;S.merge(c,o.childNodes),(o=u.firstChild).textContent=""}else c.push(e.createTextNode(s));for(u.textContent="",p=0;s=c[p++];)if(n&&-1<S.inArray(s,n))r&&r.push(s);else if(h=nt(s),o=dt(u.appendChild(s),"script"),h&&ft(o),i)for(l=0;s=o[l++];)ct.test(s.type||"")&&i.push(s);return u}var _t=/^([^.]*)(?:\.(.+)|)/;function yt(){return!0}function vt(){return!1}function bt(t,e){return t===function(){try{return E.activeElement}catch(t){}}()==("focus"===e)}function xt(t,e,i,n,r,s){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)xt(t,a,i,n,e[a],s);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=vt;else if(!r)return t;return 1===s&&(o=r,(r=function(t){return S().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=S.guid++)),t.each(function(){S.event.add(this,e,r,n,i)})}function Tt(t,r,s){s?(W.set(t,r,!1),S.event.add(t,r,{namespace:!1,handler:function(t){var e,i,n=W.get(this,r);if(1&t.isTrigger&&this[r]){if(n.length)(S.event.special[r]||{}).delegateType&&t.stopPropagation();else if(n=a.call(arguments),W.set(this,r,n),e=s(this,r),this[r](),n!==(i=W.get(this,r))||e?W.set(this,r,!1):i={},n!==i)return t.stopImmediatePropagation(),t.preventDefault(),i&&i.value}else n.length&&(W.set(this,r,{value:S.event.trigger(S.extend(n[0],S.Event.prototype),n.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===W.get(t,r)&&S.event.add(t,r,yt)}S.event={global:{},add:function(e,t,i,n,r){var s,o,a,h,l,u,c,p,d,f=W.get(e);if(q(e))for(i.handler&&(i=(s=i).handler,r=s.selector),r&&S.find.matchesSelector(it,r),i.guid||(i.guid=S.guid++),(a=f.events)||(a=f.events=Object.create(null)),(o=f.handle)||(o=f.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(k)||[""]).length;h--;)c=d=(l=_t.exec(t[h])||[])[1],p=(l[2]||"").split(".").sort(),c&&(u=S.event.special[c]||{},c=(r?u.delegateType:u.bindType)||c,u=S.event.special[c]||{},l=S.extend({type:c,origType:d,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=a[c])||((d=a[c]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,n,p,o)||e.addEventListener&&e.addEventListener(c,o)),u.add&&(u.add.call(e,l),l.handler.guid||(l.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,l):d.push(l),S.event.global[c]=!0)},remove:function(t,e,i,n,r){var s,o,a,h,l,u,c,p,d,f,m,g=W.hasData(t)&&W.get(t);if(g&&(h=g.events)){for(l=(e=(e||"").match(k)||[""]).length;l--;)if(d=m=(a=_t.exec(e[l])||[])[1],f=(a[2]||"").split(".").sort(),d){for(c=S.event.special[d]||{},p=h[d=(n?c.delegateType:c.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=p.length;s--;)u=p[s],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(s,1),u.selector&&p.delegateCount--,c.remove&&c.remove.call(t,u));o&&!p.length&&(c.teardown&&!1!==c.teardown.call(t,f,g.handle)||S.removeEvent(t,d,g.handle),delete h[d])}else for(d in h)S.event.remove(t,d+e[l],i,n,!0);S.isEmptyObject(h)&&W.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,s,o=new Array(arguments.length),a=S.event.fix(t),h=(W.get(this,"events")||Object.create(null))[a.type]||[],t=S.event.special[a.type]||{};for(o[0]=a,e=1;e<arguments.length;e++)o[e]=arguments[e];if(a.delegateTarget=this,!t.preDispatch||!1!==t.preDispatch.call(this,a)){for(s=S.event.handlers.call(this,a,h),e=0;(n=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==r.namespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(r=((S.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,o))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return t.postDispatch&&t.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,s,o,a=[],h=e.delegateCount,l=t.target;if(h&&l.nodeType&&!("click"===t.type&&1<=t.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(s=[],o={},i=0;i<h;i++)void 0===o[r=(n=e[i]).selector+" "]&&(o[r]=n.needsContext?-1<S(r,this).index(l):S.find(r,this,null,[l]).length),o[r]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return l=this,h<e.length&&a.push({elem:l,handlers:e.slice(h)}),a},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return lt.test(t.type)&&t.click&&w(t,"input")&&Tt(t,"click",yt),!1},trigger:function(t){t=this||t;return lt.test(t.type)&&t.click&&w(t,"input")&&Tt(t,"click"),!0},_default:function(t){t=t.target;return lt.test(t.type)&&t.click&&w(t,"input")&&W.get(t,"click")||w(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?yt:vt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:vt,isPropagationStopped:vt,isImmediatePropagationStopped:vt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=yt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=yt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=yt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Tt(this,t,bt),!1},trigger:function(){return Tt(this,t),!0},_default:function(){return!0},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){S.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,i=t.relatedTarget,n=t.handleObj;return i&&(i===this||S.contains(this,i))||(t.type=n.origType,e=n.handler.apply(this,arguments),t.type=r),e}}}),S.fn.extend({on:function(t,e,i,n){return xt(this,t,e,i,n)},one:function(t,e,i,n){return xt(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,S(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=vt),this.each(function(){S.event.remove(this,t,i,e)});for(r in t)this.off(r,e,t[r]);return this}});var Et=/<script|<style|<link/i,St=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function wt(t,e){return w(t,"table")&&w(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ct(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var i,n,r,s;if(1===e.nodeType){if(W.hasData(t)&&(s=W.get(t).events))for(r in W.remove(e,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)S.event.add(e,r,s[r][i]);$.hasData(t)&&(t=$.access(t),t=S.extend({},t),$.set(e,t))}}function Ot(i,n,r,s){n=_(n);var t,e,o,a,h,l,u=0,c=i.length,p=c-1,d=n[0],f=m(d);if(f||1<c&&"string"==typeof d&&!v.checkClone&&St.test(d))return i.each(function(t){var e=i.eq(t);f&&(n[0]=d.call(this,t,e.html())),Ot(e,n,r,s)});if(c&&(e=(t=gt(n,i[0].ownerDocument,!1,i,s)).firstChild,1===t.childNodes.length&&(t=e),e||s)){for(a=(o=S.map(dt(t,"script"),Pt)).length;u<c;u++)h=t,u!==p&&(h=S.clone(h,!0,!0),a&&S.merge(o,dt(h,"script"))),r.call(i[u],h,u);if(a)for(l=o[o.length-1].ownerDocument,S.map(o,Ct),u=0;u<a;u++)h=o[u],ct.test(h.type||"")&&!W.access(h,"globalEval")&&S.contains(l,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?S._evalUrl&&!h.noModule&&S._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},l):b(h.textContent.replace(At,""),h,l))}return i}function Mt(t,e,i){for(var n,r=e?S.filter(e,t):t,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||S.cleanData(dt(n)),n.parentNode&&(i&&nt(n)&&ft(dt(n,"script")),n.parentNode.removeChild(n));return t}S.extend({htmlPrefilter:function(t){return t},clone:function(t,e,i){var n,r,s,o,a,h,l,u=t.cloneNode(!0),c=nt(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(o=dt(u),n=0,r=(s=dt(t)).length;n<r;n++)a=s[n],h=o[n],l=void 0,"input"===(l=h.nodeName.toLowerCase())&&lt.test(a.type)?h.checked=a.checked:"input"!==l&&"textarea"!==l||(h.defaultValue=a.defaultValue);if(e)if(i)for(s=s||dt(t),o=o||dt(u),n=0,r=s.length;n<r;n++)Rt(s[n],o[n]);else Rt(t,u);return 0<(o=dt(u,"script")).length&&ft(o,!c&&dt(t,"script")),u},cleanData:function(t){for(var e,i,n,r=S.event.special,s=0;void 0!==(i=t[s]);s++)if(q(i)){if(e=i[W.expando]){if(e.events)for(n in e.events)r[n]?S.event.remove(i,n):S.removeEvent(i,n,e.handle);i[W.expando]=void 0}i[$.expando]&&(i[$.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Mt(this,t,!0)},remove:function(t){return Mt(this,t)},text:function(t){return V(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Ot(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||wt(this,t).appendChild(t)})},prepend:function(){return Ot(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=wt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Ot(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return V(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!pt[(ut.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(S.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Ot(this,arguments,function(t){var e=this.parentNode;S.inArray(this,i)<0&&(S.cleanData(dt(this)),e&&e.replaceChild(t,this))},i)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){S.fn[t]=function(t){for(var e,i=[],n=S(t),r=n.length-1,s=0;s<=r;s++)e=s===r?this:this.clone(!0),S(n[s])[o](e),h.apply(i,e.get());return this.pushStack(i)}});function It(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?T:e).getComputedStyle(t)}function Dt(t,e,i){var n,r={};for(n in e)r[n]=t.style[n],t.style[n]=e[n];for(n in i=i.call(t),e)t.style[n]=r[n];return i}var kt,Nt,Ft,Lt,Bt,Gt,Ut,Vt,jt=new RegExp("^("+J+")(?!px)[a-z%]+$","i"),Ht=new RegExp(et.join("|"),"i");function Xt(){var t;Vt&&(Ut.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Vt.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(Ut).appendChild(Vt),t=T.getComputedStyle(Vt),kt="1%"!==t.top,Gt=12===zt(t.marginLeft),Vt.style.right="60%",Lt=36===zt(t.right),Nt=36===zt(t.width),Vt.style.position="absolute",Ft=12===zt(Vt.offsetWidth/3),it.removeChild(Ut),Vt=null)}function zt(t){return Math.round(parseFloat(t))}function qt(t,e,i){var n,r,s=t.style;return(i=i||It(t))&&(""!==(r=i.getPropertyValue(e)||i[e])||nt(t)||(r=S.style(t,e)),!v.pixelBoxStyles()&&jt.test(r)&&Ht.test(e)&&(n=s.width,t=s.minWidth,e=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=n,s.minWidth=t,s.maxWidth=e)),void 0!==r?r+"":r}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Ut=E.createElement("div"),(Vt=E.createElement("div")).style&&(Vt.style.backgroundClip="content-box",Vt.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Vt.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return Xt(),Nt},pixelBoxStyles:function(){return Xt(),Lt},pixelPosition:function(){return Xt(),kt},reliableMarginLeft:function(){return Xt(),Gt},scrollboxSize:function(){return Xt(),Ft},reliableTrDimensions:function(){var t,e,i;return null==Bt&&(t=E.createElement("table"),e=E.createElement("tr"),i=E.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",i.style.height="9px",i.style.display="block",it.appendChild(t).appendChild(e).appendChild(i),i=T.getComputedStyle(e),Bt=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,it.removeChild(t)),Bt}}));var Wt=["Webkit","Moz","ms"],$t=E.createElement("div").style,Zt={};function Qt(t){var e=S.cssProps[t]||Zt[t];return e||(t in $t?t:Zt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),i=Wt.length;i--;)if((t=Wt[i]+e)in $t)return t}(t)||t)}var Kt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ie(t,e,i){var n=tt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function ne(t,e,i,n,r,s){var o="width"===e?1:0,a=0,h=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(h+=S.css(t,i+et[o],!0,r)),n?("content"===i&&(h-=S.css(t,"padding"+et[o],!0,r)),"margin"!==i&&(h-=S.css(t,"border"+et[o]+"Width",!0,r))):(h+=S.css(t,"padding"+et[o],!0,r),"padding"!==i?h+=S.css(t,"border"+et[o]+"Width",!0,r):a+=S.css(t,"border"+et[o]+"Width",!0,r));return!n&&0<=s&&(h+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-s-h-a-.5))||0),h}function re(t,e,i){var n=It(t),r=(!v.boxSizingReliable()||i)&&"border-box"===S.css(t,"boxSizing",!1,n),s=r,o=qt(t,e,n),a="offset"+e[0].toUpperCase()+e.slice(1);if(jt.test(o)){if(!i)return o;o="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&w(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===S.css(t,"display",!1,n))&&t.getClientRects().length&&(r="border-box"===S.css(t,"boxSizing",!1,n),(s=a in t)&&(o=t[a])),(o=parseFloat(o)||0)+ne(t,e,i||(r?"border":"content"),s,n,o)+"px"}function se(t,e,i,n,r){return new se.prototype.init(t,e,i,n,r)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=qt(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=z(e),h=Jt.test(e),l=t.style;if(h||(e=Qt(a)),o=S.cssHooks[e]||S.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:l[e];"string"===(s=typeof i)&&(r=tt.exec(i))&&r[1]&&(i=ot(t,e,r),s="number"),null!=i&&i==i&&("number"!==s||h||(i+=r&&r[3]||(S.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(h?l.setProperty(e,i):l[e]=i))}},css:function(t,e,i,n){var r,s=z(e);return Jt.test(e)||(e=Qt(s)),"normal"===(r=void 0===(r=(s=S.cssHooks[e]||S.cssHooks[s])&&"get"in s?s.get(t,!0,i):r)?qt(t,e,n):r)&&e in ee&&(r=ee[e]),""===i||i?(e=parseFloat(r),!0===i||isFinite(e)?e||0:r):r}}),S.each(["height","width"],function(t,a){S.cssHooks[a]={get:function(t,e,i){if(e)return!Kt.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,a,i):Dt(t,te,function(){return re(t,a,i)})},set:function(t,e,i){var n,r=It(t),s=!v.scrollboxSize()&&"absolute"===r.position,o=(s||i)&&"border-box"===S.css(t,"boxSizing",!1,r),i=i?ne(t,a,i,o,r):0;return o&&s&&(i-=Math.ceil(t["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(r[a])-ne(t,a,"border",!1,r)-.5)),i&&(n=tt.exec(e))&&"px"!==(n[3]||"px")&&(t.style[a]=e,e=S.css(t,a)),ie(0,e,i)}}}),S.cssHooks.marginLeft=Yt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-Dt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(r,s){S.cssHooks[r+s]={expand:function(t){for(var e=0,i={},n="string"==typeof t?t.split(" "):[t];e<4;e++)i[r+et[e]+s]=n[e]||n[e-2]||n[0];return i}},"margin"!==r&&(S.cssHooks[r+s].set=ie)}),S.fn.extend({css:function(t,e){return V(this,function(t,e,i){var n,r,s={},o=0;if(Array.isArray(e)){for(n=It(t),r=e.length;o<r;o++)s[e[o]]=S.css(t,e[o],!1,n);return s}return void 0!==i?S.style(t,e,i):S.css(t,e)},t,e,1<arguments.length)}}),((S.Tween=se).prototype={constructor:se,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(S.cssNumber[i]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return(t&&t.get?t:se.propHooks._default).get(this)},run:function(t){var e,i=se.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(i&&i.set?i:se.propHooks._default).set(this),this}}).init.prototype=se.prototype,(se.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=S.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||!S.cssHooks[t.prop]&&null==t.elem.style[Qt(t.prop)]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=se.prototype.init,S.fx.step={};var oe,ae,he=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function ue(){ae&&(!1===E.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(ue):T.setTimeout(ue,S.fx.interval),S.fx.tick())}function ce(){return T.setTimeout(function(){oe=void 0}),oe=Date.now()}function pe(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=et[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,i){for(var n,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),s=0,o=r.length;s<o;s++)if(n=r[s].call(i,e,t))return n}function fe(r,t,e){var i,s,n=0,o=fe.prefilters.length,a=S.Deferred().always(function(){delete h.elem}),h=function(){if(s)return!1;for(var t=oe||ce(),t=Math.max(0,l.startTime+l.duration-t),e=1-(t/l.duration||0),i=0,n=l.tweens.length;i<n;i++)l.tweens[i].run(e);return a.notifyWith(r,[l,e,t]),e<1&&n?t:(n||a.notifyWith(r,[l,1,0]),a.resolveWith(r,[l]),!1)},l=a.promise({elem:r,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:oe||ce(),duration:e.duration,tweens:[],createTween:function(t,e){t=S.Tween(r,l.opts,t,e,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(t),t},stop:function(t){var e=0,i=t?l.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)l.tweens[e].run(1);return t?(a.notifyWith(r,[l,1,0]),a.resolveWith(r,[l,t])):a.rejectWith(r,[l,t]),this}}),u=l.props;for(!function(t,e){var i,n,r,s,o;for(i in t)if(r=e[n=z(i)],s=t[i],Array.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),(o=S.cssHooks[n])&&"expand"in o)for(i in s=o.expand(s),delete t[n],s)i in t||(t[i]=s[i],e[i]=r);else e[n]=r}(u,l.opts.specialEasing);n<o;n++)if(i=fe.prefilters[n].call(l,r,u,l.opts))return m(i.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=i.stop.bind(i)),i;return S.map(u,de,l),m(l.opts.start)&&l.opts.start.call(r,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(h,{elem:r,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(fe,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return ot(i.elem,t,tt.exec(e),i),i}]},tweener:function(t,e){for(var i,n=0,r=(t=m(t)?(e=t,["*"]):t.match(k)).length;n<r;n++)i=t[n],fe.tweeners[i]=fe.tweeners[i]||[],fe.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,r,s,o,a,h,l,u="width"in e||"height"in e,c=this,p={},d=t.style,f=t.nodeType&&st(t),m=W.get(t,"fxshow");for(n in i.queue||(null==(o=S._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,S.queue(t,"fx").length||o.empty.fire()})})),e)if(r=e[n],he.test(r)){if(delete e[n],s=s||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;f=!0}p[n]=m&&m[n]||S.style(t,n)}if((h=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(n in u&&1===t.nodeType&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],null==(l=m&&m.display)&&(l=W.get(t,"display")),"none"===(u=S.css(t,"display"))&&(l?u=l:(ht([t],!0),l=t.style.display||l,u=S.css(t,"display"),ht([t]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===S.css(t,"float")&&(h||(c.done(function(){d.display=l}),null==l&&(u=d.display,l="none"===u?"":u)),d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),h=!1,p)h||(m?"hidden"in m&&(f=m.hidden):m=W.access(t,"fxshow",{display:l}),s&&(m.hidden=!f),f&&ht([t],!0),c.done(function(){for(n in f||ht([t]),W.remove(t,"fxshow"),p)S.style(t,n,p[n])})),h=de(f?m[n]:0,n,c),n in m||(m[n]=h.start,f&&(h.end=h.start,h.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),S.speed=function(t,e,i){var n=t&&"object"==typeof t?S.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return S.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in S.fx.speeds?n.duration=S.fx.speeds[n.duration]:n.duration=S.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&S.dequeue(this,n.queue)},n},S.fn.extend({fadeTo:function(t,e,i,n){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(e,t,i,n){var r=S.isEmptyObject(e),s=S.speed(t,i,n),n=function(){var t=fe(this,S.extend({},e),s);(r||W.get(this,"finish"))&&t.stop(!0)};return n.finish=n,r||!1===s.queue?this.each(n):this.queue(s.queue,n)},stop:function(r,t,s){function o(t){var e=t.stop;delete t.stop,e(s)}return"string"!=typeof r&&(s=t,t=r,r=void 0),t&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",i=S.timers,n=W.get(this);if(e)n[e]&&n[e].stop&&o(n[e]);else for(e in n)n[e]&&n[e].stop&&le.test(e)&&o(n[e]);for(e=i.length;e--;)i[e].elem!==this||null!=r&&i[e].queue!==r||(i[e].anim.stop(s),t=!1,i.splice(e,1));!t&&s||S.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=W.get(this),i=e[o+"queue"],n=e[o+"queueHooks"],r=S.timers,s=i?i.length:0;for(e.finish=!0,S.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===o&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,n){var r=S.fn[n];S.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(pe(n,!0),t,e,i)}}),S.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,n){S.fn[t]=function(t,e,i){return this.animate(n,t,e,i)}}),S.timers=[],S.fx.tick=function(){var t,e=0,i=S.timers;for(oe=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||S.fx.stop(),oe=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ae||(ae=!0,ue())},S.fx.stop=function(){ae=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(n,t){return n=S.fx&&S.fx.speeds[n]||n,this.queue(t=t||"fx",function(t,e){var i=T.setTimeout(t,n);e.stop=function(){T.clearTimeout(i)}})},Ye=E.createElement("input"),J=E.createElement("select").appendChild(E.createElement("option")),Ye.type="checkbox",v.checkOn=""!==Ye.value,v.optSelected=J.selected,(Ye=E.createElement("input")).value="t",Ye.type="radio",v.radioValue="t"===Ye.value;var me,ge=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return V(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===t.getAttribute?S.prop(t,e,i):(1===s&&S.isXMLDoc(t)||(r=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?me:void 0)),void 0!==i?null===i?void S.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):!(r&&"get"in r&&null!==(n=r.get(t,e)))&&null==(n=S.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&w(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(k);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),me={set:function(t,e,i){return!1===e?S.removeAttr(t,i):t.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ge[e]||S.find.attr;ge[e]=function(t,e,i){var n,r,s=e.toLowerCase();return i||(r=ge[s],ge[s]=n,n=null!=o(t,e,i)?s:null,ge[s]=r),n}});var _e=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function ve(t){return(t.match(k)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(k)||[]}S.fn.extend({prop:function(t,e){return V(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,i){var n,r,s=t.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&S.isXMLDoc(t)||(e=S.propFix[e]||e,r=S.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(S.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,i,n,r,s,o,a=0;if(m(e))return this.each(function(t){S(this).addClass(e.call(this,t,be(this)))});if((t=xe(e)).length)for(;i=this[a++];)if(o=be(i),n=1===i.nodeType&&" "+ve(o)+" "){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(o=ve(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,r,s,o,a=0;if(m(e))return this.each(function(t){S(this).removeClass(e.call(this,t,be(this)))});if(!arguments.length)return this.attr("class","");if((t=xe(e)).length)for(;i=this[a++];)if(o=be(i),n=1===i.nodeType&&" "+ve(o)+" "){for(s=0;r=t[s++];)for(;-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");o!==(o=ve(n))&&i.setAttribute("class",o)}return this},toggleClass:function(r,e){var s=typeof r,o="string"==s||Array.isArray(r);return"boolean"==typeof e&&o?e?this.addClass(r):this.removeClass(r):m(r)?this.each(function(t){S(this).toggleClass(r.call(this,t,be(this),e),e)}):this.each(function(){var t,e,i,n;if(o)for(e=0,i=S(this),n=xe(r);t=n[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==r&&"boolean"!=s||((t=be(this))&&W.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&W.get(this,"__className__")||""))})},hasClass:function(t){for(var e,i=0,n=" "+t+" ";e=this[i++];)if(1===e.nodeType&&-1<(" "+ve(be(e))+" ").indexOf(n))return!0;return!1}});var Te=/\r/g;S.fn.extend({val:function(e){var i,t,n,r=this[0];return arguments.length?(n=m(e),this.each(function(t){1===this.nodeType&&(null==(t=n?e.call(this,t,S(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(t){return null==t?"":t+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):r?(i=S.valHooks[r.type]||S.valHooks[r.nodeName.toLowerCase()])&&"get"in i&&void 0!==(t=i.get(r,"value"))?t:"string"==typeof(t=r.value)?t.replace(Te,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:ve(S.text(t))}},select:{get:function(t){for(var e,i=t.options,n=t.selectedIndex,r="select-one"===t.type,s=r?null:[],o=r?n+1:i.length,a=n<0?o:r?n:0;a<o;a++)if(((e=i[a]).selected||a===n)&&!e.disabled&&(!e.parentNode.disabled||!w(e.parentNode,"optgroup"))){if(e=S(e).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,s=S.makeArray(e),o=r.length;o--;)((n=r[o]).selected=-1<S.inArray(S.valHooks.option.get(n),s))&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},v.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in T;function Ee(t){t.stopPropagation()}var Se=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(t,e,i,n){var r,s,o,a,h,l,u,c=[i||E],p=y.call(t,"type")?t.type:t,d=y.call(t,"namespace")?t.namespace.split("."):[],f=u=s=i=i||E;if(3!==i.nodeType&&8!==i.nodeType&&!Se.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),a=p.indexOf(":")<0&&"on"+p,(t=t[S.expando]?t:new S.Event(p,"object"==typeof t&&t)).isTrigger=n?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),l=S.event.special[p]||{},n||!l.trigger||!1!==l.trigger.apply(i,e))){if(!n&&!l.noBubble&&!g(i)){for(o=l.delegateType||p,Se.test(o+p)||(f=f.parentNode);f;f=f.parentNode)c.push(f),s=f;s===(i.ownerDocument||E)&&c.push(s.defaultView||s.parentWindow||T)}for(r=0;(f=c[r++])&&!t.isPropagationStopped();)u=f,t.type=1<r?o:l.bindType||p,(h=(W.get(f,"events")||Object.create(null))[t.type]&&W.get(f,"handle"))&&h.apply(f,e),(h=a&&f[a])&&h.apply&&q(f)&&(t.result=h.apply(f,e),!1===t.result&&t.preventDefault());return t.type=p,n||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(c.pop(),e)||!q(i)||a&&m(i[p])&&!g(i)&&((s=i[a])&&(i[a]=null),S.event.triggered=p,t.isPropagationStopped()&&u.addEventListener(p,Ee),i[p](),t.isPropagationStopped()&&u.removeEventListener(p,Ee),S.event.triggered=void 0,s&&(i[a]=s)),t.result}},simulate:function(t,e,i){t=S.extend(new S.Event,i,{type:t,isSimulated:!0});S.event.trigger(t,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return S.event.trigger(t,e,i,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(i,n){function r(t){S.event.simulate(n,t.target,S.event.fix(t))}S.event.special[n]={setup:function(){var t=this.ownerDocument||this.document||this,e=W.access(t,n);e||t.addEventListener(i,r,!0),W.access(t,n,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=W.access(t,n)-1;e?W.access(t,n,e):(t.removeEventListener(i,r,!0),W.remove(t,n))}}});var Ae=T.location,we={guid:Date.now()},Pe=/\?/;S.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{e=(new T.DOMParser).parseFromString(t,"text/xml")}catch(t){}return i=e&&e.getElementsByTagName("parsererror")[0],e&&!i||S.error("Invalid XML: "+(i?S.map(i.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var Ce=/\[\]$/,Re=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;S.param=function(t,e){function i(t,e){e=m(e)?e():e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var n,r=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){i(this.name,this.value)});else for(n in t)!function i(n,t,r,s){if(Array.isArray(t))S.each(t,function(t,e){r||Ce.test(n)?s(n,e):i(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,s)});else if(r||"object"!==f(t))s(n,t);else for(var e in t)i(n+"["+e+"]",t[e],r,s)}(n,t[n],e,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Me.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!lt.test(t))}).map(function(t,e){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(t){return{name:e.name,value:t.replace(Re,"\r\n")}}):{name:e.name,value:i.replace(Re,"\r\n")}}).get()}});var Ie=/%20/g,De=/#.*$/,ke=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)$/gm,Fe=/^(?:GET|HEAD)$/,Le=/^\/\//,Be={},Ge={},Ue="*/".concat("*"),Ve=E.createElement("a");function je(s){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,n=0,r=t.toLowerCase().match(k)||[];if(m(e))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(e)):(s[i]=s[i]||[]).push(e)}}function He(e,n,r,s){var o={},a=e===Ge;function h(t){var i;return o[t]=!0,S.each(e[t]||[],function(t,e){e=e(n,r,s);return"string"!=typeof e||a||o[e]?a?!(i=e):void 0:(n.dataTypes.unshift(e),h(e),!1)}),i}return h(n.dataTypes[0])||!o["*"]&&h("*")}function Xe(t,e){var i,n,r=S.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n=n||{})[i]=e[i]);return n&&S.extend(!0,t,n),t}Ve.href=Ae.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Xe(Xe(t,S.ajaxSettings),e):Xe(S.ajaxSettings,t)},ajaxPrefilter:je(Be),ajaxTransport:je(Ge),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var h,l,u,i,c,p,d,n,r,f=S.ajaxSetup({},e=e||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?S(m):S.event,_=S.Deferred(),y=S.Callbacks("once memory"),v=f.statusCode||{},s={},o={},a="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(p){if(!i)for(i={};e=Ne.exec(u);)i[e[1].toLowerCase()+" "]=(i[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=i[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return p?u:null},setRequestHeader:function(t,e){return null==p&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==p&&(f.mimeType=t),this},statusCode:function(t){if(t)if(p)b.always(t[b.status]);else for(var e in t)v[e]=[v[e],t[e]];return this},abort:function(t){t=t||a;return h&&h.abort(t),x(0,t),this}};if(_.promise(b),f.url=((t||f.url||Ae.href)+"").replace(Le,Ae.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(k)||[""],null==f.crossDomain){r=E.createElement("a");try{r.href=f.url,r.href=r.href,f.crossDomain=Ve.protocol+"//"+Ve.host!=r.protocol+"//"+r.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=S.param(f.data,f.traditional)),He(Be,f,e,b),p)return b;for(n in(d=S.event&&f.global)&&0==S.active++&&S.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Fe.test(f.type),l=f.url.replace(De,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ie,"+")):(r=f.url.slice(l.length),f.data&&(f.processData||"string"==typeof f.data)&&(l+=(Pe.test(l)?"&":"?")+f.data,delete f.data),!1===f.cache&&(l=l.replace(ke,"$1"),r=(Pe.test(l)?"&":"?")+"_="+we.guid+++r),f.url=l+r),f.ifModified&&(S.lastModified[l]&&b.setRequestHeader("If-Modified-Since",S.lastModified[l]),S.etag[l]&&b.setRequestHeader("If-None-Match",S.etag[l])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ue+"; q=0.01":""):f.accepts["*"]),f.headers)b.setRequestHeader(n,f.headers[n]);if(f.beforeSend&&(!1===f.beforeSend.call(m,b,f)||p))return b.abort();if(a="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),h=He(Ge,f,e,b)){if(b.readyState=1,d&&g.trigger("ajaxSend",[b,f]),p)return b;f.async&&0<f.timeout&&(c=T.setTimeout(function(){b.abort("timeout")},f.timeout));try{p=!1,h.send(s,x)}catch(t){if(p)throw t;x(-1,t)}}else x(-1,"No Transport");function x(t,e,i,n){var r,s,o,a=e;p||(p=!0,c&&T.clearTimeout(c),h=void 0,u=n||"",b.readyState=0<t?4:0,n=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var n,r,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)s=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){s=r;break}o=o||r}s=s||o}if(s)return s!==h[0]&&h.unshift(s),i[s]}(f,b,i)),!n&&-1<S.inArray("script",f.dataTypes)&&S.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),o=function(t,e,i,n){var r,s,o,a,h,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=u.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(!(o=l[h+" "+s]||l["* "+s]))for(r in l)if((a=r.split(" "))[1]===s&&(o=l[h+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[r]:!0!==l[r]&&(s=a[0],u.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}(f,o,b,n),n?(f.ifModified&&((i=b.getResponseHeader("Last-Modified"))&&(S.lastModified[l]=i),(i=b.getResponseHeader("etag"))&&(S.etag[l]=i)),204===t||"HEAD"===f.type?a="nocontent":304===t?a="notmodified":(a=o.state,r=o.data,n=!(s=o.error))):(s=a,!t&&a||(a="error",t<0&&(t=0))),b.status=t,b.statusText=(e||a)+"",n?_.resolveWith(m,[r,a,b]):_.rejectWith(m,[b,a,s]),b.statusCode(v),v=void 0,d&&g.trigger(n?"ajaxSuccess":"ajaxError",[b,f,n?r:s]),y.fireWith(m,[b,a]),d&&(g.trigger("ajaxComplete",[b,f]),--S.active||S.event.trigger("ajaxStop")))}return b},getJSON:function(t,e,i){return S.get(t,e,i,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,r){S[r]=function(t,e,i,n){return m(e)&&(n=n||i,i=e,e=void 0),S.ajax(S.extend({url:t,type:r,dataType:n,data:e,success:i},S.isPlainObject(t)&&t))}}),S.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),S._evalUrl=function(t,e,i){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){S.globalEval(t,e,i)}})},S.fn.extend({wrapAll:function(t){return this[0]&&(m(t)&&(t=t.call(this[0])),t=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return m(i)?this.each(function(t){S(this).wrapInner(i.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=m(e);return this.each(function(t){S(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},qe=S.ajaxSettings.xhr();v.cors=!!qe&&"withCredentials"in qe,v.ajax=qe=!!qe,S.ajaxTransport(function(r){var s,o;if(v.cors||qe&&!r.crossDomain)return{send:function(t,e){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)n.setRequestHeader(i,t[i]);s=function(t){return function(){s&&(s=o=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===t?n.abort():"error"===t?"number"!=typeof n.status?e(0,"error"):e(n.status,n.statusText):e(ze[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=s(),o=n.onerror=n.ontimeout=s("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&T.setTimeout(function(){s&&o()})},s=s("abort");try{n.send(r.hasContent&&r.data||null)}catch(t){if(s)throw t}},abort:function(){s&&s()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(i){var n,r;if(i.crossDomain||i.scriptAttrs)return{send:function(t,e){n=S("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(t){n.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),E.head.appendChild(n[0])},abort:function(){r&&r()}}});var Ye,We=[],$e=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||S.expando+"_"+we.guid++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,i){var n,r,s,o=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace($e,"$1"+n):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return s||S.error(n+" was not called"),s[0]},t.dataTypes[0]="json",r=T[n],T[n]=function(){s=arguments},i.always(function(){void 0===r?S(T).removeProp(n):T[n]=r,t[n]&&(t.jsonpCallback=e.jsonpCallback,We.push(n)),s&&m(r)&&r(s[0]),s=r=void 0}),"script"}),v.createHTMLDocument=((Ye=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ye.childNodes.length),S.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(v.createHTMLDocument?((n=(e=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,e.head.appendChild(n)):e=E),n=!i&&[],(i=P.exec(t))?[e.createElement(i[1])]:(i=gt([t],e,n),n&&n.length&&S(n).remove(),S.merge([],i.childNodes)));var n},S.fn.load=function(t,e,i){var n,r,s,o=this,a=t.indexOf(" ");return-1<a&&(n=ve(t.slice(a)),t=t.slice(0,a)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<o.length&&S.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?S("<div>").append(S.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,s||[t.responseText,e,t])})}),this},S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,i){var n,r,s,o,a=S.css(t,"position"),h=S(t),l={};"static"===a&&(t.style.position="relative"),s=h.offset(),n=S.css(t,"top"),o=S.css(t,"left"),o=("absolute"===a||"fixed"===a)&&-1<(n+o).indexOf("auto")?(r=(a=h.position()).top,a.left):(r=parseFloat(n)||0,parseFloat(o)||0),null!=(e=m(e)?e.call(t,i,S.extend({},s)):e).top&&(l.top=e.top-s.top+r),null!=e.left&&(l.left=e.left-s.left+o),"using"in e?e.using.call(t,l):h.css(l)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),i=i.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],r={top:0,left:0};if("fixed"===S.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((r=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),r.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-S.css(n,"marginTop",!0),left:e.left-r.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||it})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var s="pageYOffset"===r;S.fn[e]=function(t){return V(this,function(t,e,i){var n;return g(t)?n=t:9===t.nodeType&&(n=t.defaultView),void 0===i?n?n[r]:t[e]:void(n?n.scrollTo(s?n.pageXOffset:i,s?i:n.pageYOffset):t[e]=i)},e,t,arguments.length)}}),S.each(["top","left"],function(t,i){S.cssHooks[i]=Yt(v.pixelPosition,function(t,e){if(e)return e=qt(t,i),jt.test(e)?S(t).position()[i]+"px":e})}),S.each({Height:"height",Width:"width"},function(o,a){S.each({padding:"inner"+o,content:a,"":"outer"+o},function(n,s){S.fn[s]=function(t,e){var i=arguments.length&&(n||"boolean"!=typeof t),r=n||(!0===t||!0===e?"margin":"border");return V(this,function(t,e,i){var n;return g(t)?0===s.indexOf("outer")?t["inner"+o]:t.document.documentElement["client"+o]:9===t.nodeType?(n=t.documentElement,Math.max(t.body["scroll"+o],n["scroll"+o],t.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?S.css(t,e,r):S.style(t,e,i,r)},a,i?t:void 0,i)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){S.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}});var Ze=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(t,e){var i,n;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=a.call(arguments,2),(n=function(){return t.apply(e||this,i.concat(a.call(arguments)))}).guid=t.guid=t.guid||S.guid++,n},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=w,S.isFunction=m,S.isWindow=g,S.camelCase=z,S.type=f,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},S.trim=function(t){return null==t?"":(t+"").replace(Ze,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Qe=T.jQuery,Ke=T.$;return S.noConflict=function(t){return T.$===S&&(T.$=Ke),t&&T.jQuery===S&&(T.jQuery=Qe),S},void 0===t&&(T.jQuery=T.$=S),S})},{}],52:[function(t,e,i){"use strict";var n;function g(t,e){return t.b===e.b&&t.a===e.a}function _(t,e){return t.b<e.b||t.b===e.b&&t.a<=e.a}function y(t,e,i){var n=e.b-t.b,r=i.b-e.b;return 0<n+r?n<r?e.a-t.a+n/(n+r)*(t.a-i.a):e.a-i.a+r/(n+r)*(i.a-t.a):0}function v(t,e,i){var n=e.b-t.b,r=i.b-e.b;return 0<n+r?(e.a-i.a)*n+(e.a-t.a)*r:0}function b(t,e){return t.a<e.a||t.a===e.a&&t.b<=e.b}function x(t,e,i){var n=e.a-t.a,r=i.a-e.a;return 0<n+r?n<r?e.b-t.b+n/(n+r)*(t.b-i.b):e.b-i.b+r/(n+r)*(i.b-t.b):0}function T(t,e,i){var n=e.a-t.a,r=i.a-e.a;return 0<n+r?(e.b-i.b)*n+(e.b-t.b)*r:0}function E(t,e,i,n){return(t=t<0?0:t)<=(i=i<0?0:i)?0===i?(e+n)/2:e+t/(t+i)*(n-e):n+i/(t+i)*(e-n)}function o(t){var e=s(t.b);return r(e,t.c),r(e.b,t.c),a(e,t.a),e}function S(t,e){var i=!1,n=!1;t!==e&&(e.a!==t.a&&(n=!0,m(e.a,t.a)),e.d!==t.d&&(i=!0,h(e.d,t.d)),d(e,t),n||(r(e,t.a),t.a.c=t),i||(a(e,t.d),t.d.a=t))}function c(t){var e=t.b,i=!1;t.d!==t.b.d&&(i=!0,h(t.d,t.b.d)),t.c===t?m(t.a,null):(t.b.d.a=t.b.e,t.a.c=t.c,d(t,t.b.e),i||a(t,t.d)),e.c===e?(m(e.a,null),h(e.d,null)):(t.d.a=e.b.e,e.a.c=e.c,d(e,e.b.e)),f(t)}function A(t){var e=s(t),i=e.b;return d(e,t.e),e.a=t.b.a,r(i,e.a),e.d=i.d=t.d,e=e.b,d(t.b,t.b.b.e),d(t.b,e),t.b.a=e.a,e.b.a.c=e.b,e.b.d=t.b.d,e.f=t.f,e.b.f=t.b.f,e}function p(t,e){var i=!1,n=s(t),r=n.b;return e.d!==t.d&&(i=!0,h(e.d,t.d)),d(n,t.e),d(r,e),n.a=t.b.a,r.a=e.a,n.d=r.d=t.d,t.d.a=r,i||a(n,t.d),n}function s(t){var e=new $,i=new $,n=t.b.h;return(((i.h=n).b.h=e).h=t).b.h=i,e.b=i,((e.c=e).e=i).b=e,(i.c=i).e=e}function d(t,e){var i=t.c,n=e.c;i.b.e=e,(n.b.e=t).c=n,e.c=i}function r(t,e){var i=e.f,n=new Q(e,i);for(i.e=n,i=(e.f=n).c=t;i.a=n,(i=i.c)!==t;);}function a(t,e){var i=e.d,n=new W(e,i);for(i.b=n,(e.d=n).a=t,n.c=e.c,i=t;i.d=n,(i=i.e)!==t;);}function f(t){var e=t.h;t=t.b.h,(e.b.h=t).b.h=e}function m(t,e){for(var i=t.c,n=i;n.a=e,(n=n.c)!==i;);i=t.f,((n=t.e).f=i).e=n}function h(t,e){for(var i=t.a,n=i;n.d=e,(n=n.e)!==i;);i=t.d,((n=t.b).d=i).b=n}function w(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),e=Math.abs(t[2])>Math.abs(t[e])?2:e}function P(t,e){t.f+=e.f,t.b.f+=e.b.f}function l(t,e,i){return t=t.a,e=e.a,i=i.a,e.b.a===t?i.b.a===t?_(e.a,i.a)?v(i.b.a,e.a,i.a)<=0:0<=v(e.b.a,i.a,e.a):v(i.b.a,t,i.a)<=0:i.b.a===t?0<=v(e.b.a,t,e.a):(e=y(e.b.a,t,e.a),(t=y(i.b.a,t,i.a))<=e)}function C(t){t.a.i=null;var e=t.e;e.a.c=e.c,e.c.a=e.a,t.e=null}function R(t,e){c(t.a),t.c=!1,(t.a=e).i=t}function O(t){for(var e=t.a.a;(t=lt(t)).a.a===e;);return t.c&&(R(t,e=p(ht(t).a.b,t.a.e)),t=lt(t)),t}function M(t,e,i){var n=new at;return n.a=i,n.e=H(t.f,e.e,n),i.i=n}function I(t,e){switch(t.s){case 100130:return 0!=(1&e);case 100131:return 0!==e;case 100132:return 0<e;case 100133:return e<0;case 100134:return 2<=e||e<=-2}return!1}function u(t){var e=t.a,i=e.d;i.c=t.d,i.a=e,C(t)}function D(t,e,i){for(e=(t=e).a;t!==i;){t.c=!1;var n=ht(t),r=n.a;if(r.a!==e.a){if(!n.c){u(t);break}R(n,r=p(e.c.b,r.b))}e.c!==r&&(S(r.b.e,r),S(e,r)),u(t),e=n.a,t=n}return e}function k(t,e,i,n,r,s){for(var o=!0;M(t,e,i.b),(i=i.c)!==n;);for(null===r&&(r=ht(e).a.b.c);(i=(n=ht(e)).a.b).a===r.a;)i.c!==r&&(S(i.b.e,i),S(r.b.e,i)),n.f=e.f-i.f,n.d=I(t,n.f),e.b=!0,!o&&B(t,e)&&(P(i,r),C(e),c(r)),o=!1,e=n,r=i;e.b=!0,s&&U(t,e)}function N(t,e,i,n,r){var s=[e.g[0],e.g[1],e.g[2]];e.d=null,e.d=t.o&&t.o(s,i,n,t.c)||null,null===e.d&&(r?t.n||(Y(t,100156),t.n=!0):e.d=i[0])}function F(t,e,i){var n=[null,null,null,null];n[0]=e.a.d,n[1]=i.a.d,N(t,e.a,n,[.5,.5,0,0],!1),S(e,i)}function L(t,e,i,n,r){var s=Math.abs(e.b-t.b)+Math.abs(e.a-t.a),o=Math.abs(i.b-t.b)+Math.abs(i.a-t.a),a=r+1;n[r]=.5*o/(s+o),n[a]=.5*s/(s+o),t.g[0]+=n[r]*e.g[0]+n[a]*i.g[0],t.g[1]+=n[r]*e.g[1]+n[a]*i.g[1],t.g[2]+=n[r]*e.g[2]+n[a]*i.g[2]}function B(t,e){var i=ht(e),n=e.a,r=i.a;if(_(n.a,r.a)){if(0<v(r.b.a,n.a,r.a))return;if(g(n.a,r.a)){if(n.a!==r.a){var i=t.e,s=n.a.h;if(0<=s){var o=(i=i.b).d,a=i.e,h=i.c,l=h[s];o[l]=o[i.a],(h[o[l]]=l)<=--i.a&&(l<=1||_(a[o[l>>1]],a[o[l]])?st:ot)(i,l),a[s]=null,h[s]=i.b,i.b=s}else for(i.c[-(s+1)]=null;0<i.a&&null===i.c[i.d[i.a-1]];)--i.a;F(t,r.b.e,n)}}else A(r.b),S(n,r.b.e),e.b=i.b=!0}else{if(v(n.b.a,r.a,n.a)<0)return;lt(e).b=e.b=!0,A(n.b),S(r.b.e,n)}return 1}function G(t,e){var i=ht(e),n=e.a,r=i.a,s=n.a,o=r.a,a=n.b.a,h=r.b.a,l=new Q;if(v(a,t.a,s),v(h,t.a,o),!(s===o||Math.min(s.a,a.a)>Math.max(o.a,h.a))){if(_(s,o)){if(0<v(h,s,o))return}else if(v(a,o,s)<0)return;var u,c,p=a,d=s,f=h,m=o;if(_(p,d)||(u=p,p=d,d=u),_(f,m)||(u=f,f=m,m=u),_(p,f)||(u=p,p=f,f=u,u=d,d=m,m=u),_(f,d)?_(d,m)?((u=y(p,f,d))+(c=y(f,d,m))<0&&(u=-u,c=-c),l.b=E(u,f.b,c,d.b)):((u=v(p,f,d))+(c=-v(p,m,d))<0&&(u=-u,c=-c),l.b=E(u,f.b,c,m.b)):l.b=(f.b+d.b)/2,b(p,d)||(u=p,p=d,d=u),b(f,m)||(u=f,f=m,m=u),b(p,f)||(u=p,p=f,f=u,u=d,d=m,m=u),b(f,d)?b(d,m)?((u=x(p,f,d))+(c=x(f,d,m))<0&&(u=-u,c=-c),l.a=E(u,f.a,c,d.a)):((u=T(p,f,d))+(c=-T(p,m,d))<0&&(u=-u,c=-c),l.a=E(u,f.a,c,m.a)):l.a=(f.a+d.a)/2,_(l,t.a)&&(l.b=t.a.b,l.a=t.a.a),p=_(s,o)?s:o,_(p,l)&&(l.b=p.b,l.a=p.a),g(l,s)||g(l,o))return B(t,e),0;if(!g(a,t.a)&&0<=v(a,t.a,l)||!g(h,t.a)&&v(h,t.a,l)<=0){if(h===t.a)return A(n.b),S(r.b,n),n=ht(e=O(e)).a,D(t,ht(e),i),k(t,e,n.b.e,n,n,!0),1;if(a!==t.a)return 0<=v(a,t.a,l)&&(lt(e).b=e.b=!0,A(n.b),n.a.b=t.a.b,n.a.a=t.a.a),void(v(h,t.a,l)<=0&&(e.b=i.b=!0,A(r.b),r.a.b=t.a.b,r.a.a=t.a.a));for(A(r.b),S(n.e,r.b.e),o=(s=i=e).a.b.a;(s=lt(s)).a.b.a===o;);return s=ht(e=s).a.b.c,i.a=r.b.e,k(t,e,(r=D(t,i,null)).c,n.b.c,s,!0),1}A(n.b),A(r.b),S(r.b.e,n),n.a.b=l.b,n.a.a=l.a,n.a.h=J(t.e,n.a),n=n.a,r=[0,0,0,0],l=[s.d,a.d,o.d,h.d],n.g[0]=n.g[1]=n.g[2]=0,L(n,s,a,r,0),L(n,o,h,r,2),N(t,n,l,r,!0),lt(e).b=e.b=i.b=!0}}function U(t,e){for(var i=ht(e);;){for(;i.b;)i=ht(e=i);if(!e.b&&(null===(e=lt(i=e))||!e.b))break;e.b=!1;var n=e.a,r=i.a;if(s=n.b.a!==r.b.a)t:{var s,o=ht(s=e),a=s.a,h=o.a,l=void 0;if(_(a.b.a,h.b.a)){if(v(a.b.a,h.b.a,a.a)<0){s=!1;break t}lt(s).b=s.b=!0,l=A(a),S(h.b,l),l.d.c=s.d}else{if(0<v(h.b.a,a.b.a,h.a)){s=!1;break t}s.b=o.b=!0,l=A(h),S(a.e,h.b),l.b.d.c=s.d}s=!0}if(s&&(i.c?(C(i),c(r),r=(i=ht(e)).a):e.c&&(C(e),c(n),n=(e=lt(i)).a)),n.a!==r.a)if(n.b.a===r.b.a||e.c||i.c||n.b.a!==t.a&&r.b.a!==t.a)B(t,e);else if(G(t,e))break;n.a===r.a&&n.b.a===r.b.a&&(P(r,n),C(e),c(n),e=lt(i))}}function V(t,e){var i=new at,n=o(t.b);n.a.b=4e150,n.a.a=e,n.b.a.b=-4e150,n.b.a.a=e,t.a=n.b.a,i.a=n,i.f=0,i.d=!1,i.c=!1,i.h=!0,i.b=!1,n=H(n=t.f,n.a,i),i.e=n}function j(t){this.a=new X,this.b=t,this.c=l}function H(t,e,i){for(;null!==(e=e.c).b&&!t.c(t.b,e.b,i););return t=new X(i,e.a,e),e.a.c=t,e.a=t}function X(t,e,i){this.b=t||null,this.a=e||this,this.c=i||this}function z(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function q(t,e){if(t.d!==e)for(;t.d!==e;)if(t.d<e)switch(t.d){case 0:Y(t,100151),t.u(null);break;case 1:Y(t,100152),t.t()}else switch(t.d){case 2:Y(t,100154),t.v();break;case 1:Y(t,100153),t.w()}}function Y(t,e){t.p&&t.p(e,t.c)}function W(t,e){this.b=t||this,this.d=e||this,this.a=null,this.c=!1}function $(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Z(){this.c=new Q,this.a=new W,this.b=new $,this.d=new $,this.b.b=this.d,this.d.b=this.b}function Q(t,e){this.e=t||this,this.f=e||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function K(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new et}function J(t,e){if(t.e){var i,n=t.b,r=++n.a;return 2*r>n.f&&(n.f*=2,n.c=it(n.c,n.f+1)),0===n.b?i=r:(i=n.b,n.b=n.c[n.b]),n.e[i]=e,n.c[i]=r,n.d[r]=i,n.h&&ot(n,r),i}return n=t.a++,t.c[n]=e,-(n+1)}function tt(t){if(0===t.a)return rt(t.b);var e=t.c[t.d[t.a-1]];if(0!==t.b.a&&_(nt(t.b),e))return rt(t.b);for(;--t.a,0<t.a&&null===t.c[t.d[t.a-1]];);return e}function et(){this.d=it([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function it(t,e){for(var i=Array(e),n=0;n<t.length;n++)i[n]=t[n];for(;n<e;n++)i[n]=0;return i}function nt(t){return t.e[t.d[1]]}function rt(t){var e=t.d,i=t.e,n=t.c,r=e[1],s=i[r];return 0<t.a&&(e[1]=e[t.a],n[e[1]]=1,i[r]=null,n[r]=t.b,t.b=r,0<--t.a&&st(t,1)),s}function st(t,e){for(var i=t.d,n=t.e,r=t.c,s=e,o=i[s];;){var a=s<<1;a<t.a&&_(n[i[a+1]],n[i[a]])&&(a+=1);var h=i[a];if(a>t.a||_(n[o],n[h])){r[i[s]=o]=s;break}r[i[s]=h]=s,s=a}}function ot(t,e){for(var i=t.d,n=t.e,r=t.c,s=e,o=i[s];;){var a=s>>1,h=i[a];if(0==a||_(n[h],n[o])){r[i[s]=o]=s;break}r[i[s]=h]=s,s=a}}function at(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function ht(t){return t.e.c.b}function lt(t){return t.e.a.b}(n=z.prototype).x=function(){q(this,0)},n.B=function(t,e){switch(t){case 100142:return;case 100140:switch(e){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=e)}break;case 100141:return void(this.m=!!e);default:return void Y(this,100900)}Y(this,100901)},n.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Y(this,100900)}return!1},n.A=function(t,e,i){this.j[0]=t,this.j[1]=e,this.j[2]=i},n.z=function(t,e){var i=e||null;switch(t){case 100100:case 100106:this.h=i;break;case 100104:case 100110:this.l=i;break;case 100101:case 100107:this.k=i;break;case 100102:case 100108:this.i=i;break;case 100103:case 100109:this.p=i;break;case 100105:case 100111:this.o=i;break;case 100112:this.r=i;break;default:Y(this,100900)}},n.C=function(t,e){var i=!1,n=[0,0,0];q(this,2);for(var r=0;r<3;++r){var s=t[r];s<-1e150&&(s=-1e150,i=!0),1e150<s&&(s=1e150,i=!0),n[r]=s}i&&Y(this,100155),null===(i=this.q)?S(i=o(this.b),i.b):(A(i),i=i.e),i.a.d=e,i.a.g[0]=n[0],i.a.g[1]=n[1],i.a.g[2]=n[2],i.f=1,i.b.f=-1,this.q=i},n.u=function(t){q(this,0),this.d=1,this.b=new Z,this.c=t},n.t=function(){q(this,1),this.d=2,this.q=null},n.v=function(){q(this,2),this.d=1},n.w=function(){q(this,1),this.d=0;var t,e,i=!1,n=[h=this.j[0],r=this.j[1],o=this.j[2]];if(0===h&&0===r&&0===o){for(var r=[-2e150,-2e150,-2e150],s=[2e150,2e150,2e150],o=[],a=[],h=(i=this.b.c).e;h!==i;h=h.e)for(var l=0;l<3;++l){var u=h.g[l];u<s[l]&&(s[l]=u,a[l]=h),u>r[l]&&(r[l]=u,o[l]=h)}if(r[1]-s[1]>r[h=0]-s[0]&&(h=1),s[h=r[2]-s[2]>r[h]-s[h]?2:h]>=r[h])n[0]=0,n[1]=0,n[2]=1;else{for(s=a[h],o=o[h],a=[r=0,0,0],s=[s.g[0]-o.g[0],s.g[1]-o.g[1],s.g[2]-o.g[2]],l=[0,0,0],h=i.e;h!==i;h=h.e)l[0]=h.g[0]-o.g[0],l[1]=h.g[1]-o.g[1],l[2]=h.g[2]-o.g[2],a[0]=s[1]*l[2]-s[2]*l[1],a[1]=s[2]*l[0]-s[0]*l[2],a[2]=s[0]*l[1]-s[1]*l[0],r<(u=a[0]*a[0]+a[1]*a[1]+a[2]*a[2])&&(r=u,n[0]=a[0],n[1]=a[1],n[2]=a[2]);r<=0&&(n[0]=n[1]=n[2]=0,n[w(s)]=1)}i=!0}for(a=w(n),h=this.b.c,r=(a+1)%3,o=(a+2)%3,a=0<n[a]?1:-1,n=h.e;n!==h;n=n.e)n.b=n.g[r],n.a=a*n.g[o];if(i){for(n=0,h=(i=this.b.a).b;h!==i;h=h.b)if(!((r=h.a).f<=0))for(;n+=(r.a.b-r.b.a.b)*(r.a.a+r.b.a.a),(r=r.e)!==h.a;);if(n<0)for(i=(n=this.b.c).e;i!==n;i=i.e)i.a=-i.a}for(this.n=!1,h=(n=this.b.b).h;h!==n;h=i)i=h.h,r=h.e,g(h.a,h.b.a)&&h.e.e!==h&&(F(this,r,h),c(h),r=(h=r).e),r.e===h&&(r!==h&&(r!==i&&r!==i.b||(i=i.h),c(r)),h!==i&&h!==i.b||(i=i.h),c(h));for(this.e=n=new K,h=(i=this.b.c).e;h!==i;h=h.e)h.h=J(n,h);for(!function(t){t.d=[];for(var e=0;e<t.a;e++)t.d[e]=e;t.d.sort(function(i){return function(t,e){return _(i[t],i[e])?1:-1}}(t.c)),t.e=!0,function(t){for(var e=t.a;1<=e;--e)st(t,e);t.h=!0}(t.b)}(n),this.f=new j(this),V(this,-4e150),V(this,4e150);null!==(n=tt(this.e));){for(;;){t:if(h=this.e,0===h.a)i=nt(h.b);else if(i=h.c[h.d[h.a-1]],0!==h.b.a&&(h=nt(h.b),_(h,i))){i=h;break t}if(null===i||!g(i,n))break;i=tt(this.e),F(this,n.c,i.c)}!function t(e,i){for(var n,r=(e.a=i).c;null===r.i;)if((r=r.c)===i.c){var r=e,s=i;(u=new at).a=s.c.b;for(var o=(a=r.f).a;null!==(o=o.a).b&&!a.c(a.b,u,o.b););var a,h,l=ht(a=o.b),u=a.a,o=l.a;return void(0===v(u.b.a,s,u.a)?g((u=a.a).a,s)||g(u.b.a,s)||(A(u.b),a.c&&(c(u.c),a.c=!1),S(s.c,u),t(r,s)):(h=_(o.b.a,u.b.a)?a:l,l=void 0,a.d||h.c?(l=h===a?p(s.c.b,u.e):p(o.b.c.b,s.c).b,h.c?R(h,l):((a=M(u=r,a,l)).f=lt(a).f+a.a.f,a.d=I(u,a.f)),t(r,s)):k(r,a,s.c,s.c,null,!0)))}a=(u=ht(r=O(r.i))).a,(u=D(e,u,null)).c===a?(u=(a=u).c,o=ht(r),l=r.a,h=o.a,n=!1,l.b.a!==h.b.a&&G(e,r),g(l.a,e.a)&&(S(u.b.e,l),u=ht(r=O(r)).a,D(e,ht(r),o),n=!0),g(h.a,e.a)&&(S(a,h.b.e),a=D(e,o,null),n=!0),n?k(e,r,a.c,u,u,!0):(s=_(h.a,l.a)?h.b.e:l,k(e,r,s=p(a.c.b,s),s.c,s.c,!1),s.b.i.c=!0,U(e,r))):k(e,r,u.c,a,a,!0)}(this,n)}for(this.a=this.f.a.a.b.a.a,n=0;null!==(i=this.f.a.a.b);)i.h||++n,C(i);for(this.f=null,(n=this.e).b=null,n.d=null,this.e=n.c=null,h=(n=this.b).a.b;h!==n.a;h=i)i=h.b,(h=h.a).e.e===h&&(P(h.c,h),c(h));if(!this.n){if(n=this.b,this.m)for(h=n.b.h;h!==n.b;h=i)i=h.h,h.b.d.c!==h.d.c?h.f=h.d.c?1:-1:c(h);else for(h=n.a.b;h!==n.a;h=i)if(i=h.b,h.c){for(h=h.a;_(h.b.a,h.a);h=h.c.b);for(;_(h.a,h.b.a);h=h.e);for(r=h.c.b,o=void 0;h.e!==r;)if(_(h.b.a,r.a)){for(;r.e!==h&&(_((e=r.e).b.a,e.a)||v(r.a,r.b.a,r.e.b.a)<=0);)r=(o=p(r.e,r)).b;r=r.c.b}else{for(;r.e!==h&&(_((t=h.c.b).a,t.b.a)||0<=v(h.b.a,h.a,h.c.b.a));)h=(o=p(h,h.c.b)).b;h=h.e}for(;r.e.e!==h;)r=(o=p(r.e,r)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(i=(n=this.b).a.b;i!==n.a;i=i.b)if(i.c){for(this.h&&this.h(2,this.c),h=i.a;this.k&&this.k(h.a.d,this.c),(h=h.e)!==i.a;);this.i&&this.i(this.c)}}else{for(n=this.b,i=!!this.l,h=!1,r=-1,o=n.a.d;o!==n.a;o=o.d)if(o.c)for(h||(this.h&&this.h(4,this.c),h=!0),a=o.a;i&&(r!==(s=a.b.d.c?0:1)&&(r=s,this.l&&this.l(!!r,this.c))),this.k&&this.k(a.a.d,this.c),(a=a.e)!==o.a;);h&&this.i&&this.i(this.c)}if(this.r){for(h=(n=this.b).a.b;h!==n.a;h=i)if(i=h.b,!h.c){for(o=(r=h.a).e,a=void 0;o=(a=o).e,(a.d=null)===a.b.d&&(a.c===a?m(a.a,null):(a.a.c=a.c,d(a,a.b.e)),(s=a.b).c===s?m(s.a,null):(s.a.c=s.c,d(s,s.b.e)),f(a)),a!==r;);r=h.d,((h=h.b).d=r).b=h}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:z,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},z.prototype.gluDeleteTess=z.prototype.x,z.prototype.gluTessProperty=z.prototype.B,z.prototype.gluGetTessProperty=z.prototype.y,z.prototype.gluTessNormal=z.prototype.A,z.prototype.gluTessCallback=z.prototype.z,z.prototype.gluTessVertex=z.prototype.C,z.prototype.gluTessBeginPolygon=z.prototype.u,z.prototype.gluTessBeginContour=z.prototype.t,z.prototype.gluTessEndContour=z.prototype.v,z.prototype.gluTessEndPolygon=z.prototype.w,void 0!==e&&(e.exports=this.libtess)},{}],53:[function(require,module,exports){var Cpb,Dpb;"undefined"!=typeof navigator&&(Cpb=window||{},Dpb=function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,_useWebWorker=!1,subframeEnabled=!0,idPrefix="",expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bmRnd,bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};function ProjectInterface(){return{}}!function(){for(var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e=t.length,i=0;i<e;i+=1)BMMath[t[i]]=Math[t[i]]}(),BMMath.random=Math.random,BMMath.abs=function(t){if("object"==typeof t&&t.length){for(var e=createSizedArray(t.length),i=t.length,n=0;n<i;n+=1)e[n]=Math.abs(t[n]);return e}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(t){bmRnd=t?Math.round:function(t){return t}}function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,e,i,n){this.type=t,this.currentTime=e,this.totalTime=i,this.direction=n<0?-1:1}function BMCompleteEvent(t,e){this.type=t,this.direction=e<0?-1:1}function BMCompleteLoopEvent(t,e,i,n){this.type=t,this.currentLoop=i,this.totalLoops=e,this.direction=n<0?-1:1}function BMSegmentStartEvent(t,e,i){this.type=t,this.firstFrame=e,this.totalFrames=i}function BMDestroyEvent(t,e){this.type=t,this.target=e}function BMRenderFrameErrorEvent(t,e){this.type="renderFrameError",this.nativeError=t,this.currentTime=e}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}function BMAnimationConfigErrorEvent(t,e){this.type=t,this.nativeError=e}roundValues(!1);var createElementID=(hqb=0,function(){return idPrefix+"__lottie_element_"+(hqb+=1)}),hqb;function HSVtoRGB(t,e,i){var n,r,s,o=Math.floor(6*t),t=6*t-o,a=i*(1-e),h=i*(1-t*e),l=i*(1-(1-t)*e);switch(o%6){case 0:n=i,r=l,s=a;break;case 1:n=h,r=i,s=a;break;case 2:n=a,r=i,s=l;break;case 3:n=a,r=h,s=i;break;case 4:n=l,r=a,s=i;break;case 5:n=i,r=a,s=h}return[n,r,s]}function RGBtoHSV(t,e,i){var n,r=Math.max(t,e,i),s=Math.min(t,e,i),o=r-s,a=0===r?0:o/r,h=r/255;switch(r){case s:n=0;break;case t:n=e-i+o*(e<i?6:0),n/=6*o;break;case e:n=i-t+2*o,n/=6*o;break;case i:n=t-e+4*o,n/=6*o}return[n,a,h]}function addSaturationToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[1]+=e,1<t[1]?t[1]=1:t[1]<=0&&(t[1]=0),HSVtoRGB(t[0],t[1],t[2])}function addBrightnessToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[2]+=e,1<t[2]?t[2]=1:t[2]<0&&(t[2]=0),HSVtoRGB(t[0],t[1],t[2])}function addHueToRGB(t,e){t=RGBtoHSV(255*t[0],255*t[1],255*t[2]);return t[0]+=e/360,1<t[0]?--t[0]:t[0]<0&&(t[0]+=1),HSVtoRGB(t[0],t[1],t[2])}var rgbToHex=function(){for(var t,n=[],e=0;e<256;e+=1)t=e.toString(16),n[e]=1===t.length?"0"+t:t;return function(t,e,i){return"#"+n[t=t<0?0:t]+n[e=e<0?0:e]+n[i=i<0?0:i]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(t,e){if(this._cbs[t])for(var i=this._cbs[t],n=0;n<i.length;n+=1)i[n](e)},addEventListener:function(t,e){return this._cbs[t]||(this._cbs[t]=[]),this._cbs[t].push(e),function(){this.removeEventListener(t,e)}.bind(this)},removeEventListener:function(t,e){if(e){if(this._cbs[t]){for(var i=0,n=this._cbs[t].length;i<n;)this._cbs[t][i]===e&&(this._cbs[t].splice(i,1),--i,--n),i+=1;this._cbs[t].length||(this._cbs[t]=null)}}else this._cbs[t]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,e){return"float32"===t?new Float32Array(e):"int16"===t?new Int16Array(e):"uint8c"===t?new Uint8ClampedArray(e):arb(t,e)}:arb;function arb(t,e){var i,n=0,r=[];switch(t){case"int16":case"uint8c":i=1;break;default:i=1.1}for(n=0;n<e;n+=1)r.push(i);return r}function createSizedArray(t){return Array.apply(null,{length:t})}function createNS(t){return document.createElementNS(svgNS,t)}function createTag(t){return document.createElement(t)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&(this.dynamicProperties.push(t),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;for(var t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(t){this.container=t,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(qrb={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(t){return qrb[t]||""}),qrb,lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"},Matrix=(srb=Math.cos,trb=Math.sin,urb=Math.tan,vrb=Math.round,function(){this.reset=wrb,this.rotate=xrb,this.rotateX=yrb,this.rotateY=zrb,this.rotateZ=Arb,this.skew=Crb,this.skewFromAxis=Drb,this.shear=Brb,this.scale=Erb,this.setTransform=Frb,this.translate=Grb,this.transform=Hrb,this.applyToPoint=Mrb,this.applyToX=Nrb,this.applyToY=Orb,this.applyToZ=Prb,this.applyToPointArray=Urb,this.applyToTriplePoints=Trb,this.applyToPointStringified=Vrb,this.toCSS=Wrb,this.to2dCSS=Yrb,this.clone=Krb,this.cloneFromProps=Lrb,this.equals=Jrb,this.inversePoints=Srb,this.inversePoint=Rrb,this.getInverseMatrix=Qrb,this._t=this.transform,this.isIdentity=Irb,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}),srb,trb,urb,vrb;function wrb(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function xrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function yrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(1,0,0,0,0,e,-t,0,0,t,e,0,0,0,0,1)}function zrb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,0,t,0,0,1,0,0,-t,0,e,0,0,0,0,1)}function Arb(t){if(0===t)return this;var e=srb(t),t=trb(t);return this._t(e,-t,0,0,t,e,0,0,0,0,1,0,0,0,0,1)}function Brb(t,e){return this._t(1,e,t,1,0,0)}function Crb(t,e){return this.shear(urb(t),urb(e))}function Drb(t,e){var i=srb(e),e=trb(e);return this._t(i,e,0,0,-e,i,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,urb(t),1,0,0,0,0,1,0,0,0,0,1)._t(i,-e,0,0,e,i,0,0,0,0,1,0,0,0,0,1)}function Erb(t,e,i){return i||0===i||(i=1),1===t&&1===e&&1===i?this:this._t(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1)}function Frb(t,e,i,n,r,s,o,a,h,l,u,c,p,d,f,m){return this.props[0]=t,this.props[1]=e,this.props[2]=i,this.props[3]=n,this.props[4]=r,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=h,this.props[9]=l,this.props[10]=u,this.props[11]=c,this.props[12]=p,this.props[13]=d,this.props[14]=f,this.props[15]=m,this}function Grb(t,e,i){return i=i||0,0!==t||0!==e||0!==i?this._t(1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1):this}function Hrb(t,e,i,n,r,s,o,a,h,l,u,c,p,d,f,m){var g=this.props;if(1===t&&0===e&&0===i&&0===n&&0===r&&1===s&&0===o&&0===a&&0===h&&0===l&&1===u&&0===c)return g[12]=g[12]*t+g[15]*p,g[13]=g[13]*s+g[15]*d,g[14]=g[14]*u+g[15]*f,g[15]*=m,this._identityCalculated=!1,this;var _=g[0],y=g[1],v=g[2],b=g[3],x=g[4],T=g[5],E=g[6],S=g[7],A=g[8],w=g[9],P=g[10],C=g[11],R=g[12],O=g[13],M=g[14],I=g[15];return g[0]=_*t+y*r+v*h+b*p,g[1]=_*e+y*s+v*l+b*d,g[2]=_*i+y*o+v*u+b*f,g[3]=_*n+y*a+v*c+b*m,g[4]=x*t+T*r+E*h+S*p,g[5]=x*e+T*s+E*l+S*d,g[6]=x*i+T*o+E*u+S*f,g[7]=x*n+T*a+E*c+S*m,g[8]=A*t+w*r+P*h+C*p,g[9]=A*e+w*s+P*l+C*d,g[10]=A*i+w*o+P*u+C*f,g[11]=A*n+w*a+P*c+C*m,g[12]=R*t+O*r+M*h+I*p,g[13]=R*e+O*s+M*l+I*d,g[14]=R*i+O*o+M*u+I*f,g[15]=R*n+O*a+M*c+I*m,this._identityCalculated=!1,this}function Irb(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function Jrb(t){for(var e=0;e<16;){if(t.props[e]!==this.props[e])return!1;e+=1}return!0}function Krb(t){for(var e=0;e<16;e+=1)t.props[e]=this.props[e];return t}function Lrb(t){for(var e=0;e<16;e+=1)this.props[e]=t[e]}function Mrb(t,e,i){return{x:t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],y:t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],z:t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}}function Nrb(t,e,i){return t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12]}function Orb(t,e,i){return t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13]}function Prb(t,e,i){return t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]}function Qrb(){var t=this.props[0]*this.props[5]-this.props[1]*this.props[4],e=this.props[5]/t,i=-this.props[1]/t,n=-this.props[4]/t,r=this.props[0]/t,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/t,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/t,t=new Matrix;return t.props[0]=e,t.props[1]=i,t.props[4]=n,t.props[5]=r,t.props[12]=s,t.props[13]=o,t}function Rrb(t){return this.getInverseMatrix().applyToPointArray(t[0],t[1],t[2]||0)}function Srb(t){for(var e=t.length,i=[],n=0;n<e;n+=1)i[n]=Rrb(t[n]);return i}function Trb(t,e,i){var n,r,s,o,a,h,l=createTypedArray("float32",6);return this.isIdentity()?(l[0]=t[0],l[1]=t[1],l[2]=e[0],l[3]=e[1],l[4]=i[0],l[5]=i[1]):(n=this.props[0],r=this.props[1],s=this.props[4],o=this.props[5],a=this.props[12],h=this.props[13],l[0]=t[0]*n+t[1]*s+a,l[1]=t[0]*r+t[1]*o+h,l[2]=e[0]*n+e[1]*s+a,l[3]=e[0]*r+e[1]*o+h,l[4]=i[0]*n+i[1]*s+a,l[5]=i[0]*r+i[1]*o+h),l}function Urb(t,e,i){i=this.isIdentity()?[t,e,i]:[t*this.props[0]+e*this.props[4]+i*this.props[8]+this.props[12],t*this.props[1]+e*this.props[5]+i*this.props[9]+this.props[13],t*this.props[2]+e*this.props[6]+i*this.props[10]+this.props[14]];return i}function Vrb(t,e){if(this.isIdentity())return t+","+e;var i=this.props;return Math.round(100*(t*i[0]+e*i[4]+i[12]))/100+","+Math.round(100*(t*i[1]+e*i[5]+i[13]))/100}function Wrb(){for(var t=0,e=this.props,i="matrix3d(";t<16;)i+=vrb(1e4*e[t])/1e4,i+=15===t?")":",",t+=1;return i}function Xrb(t){return t<1e-6&&0<t||-1e-6<t&&t<0?vrb(1e4*t)/1e4:t}function Yrb(){var t=this.props;return"matrix("+Xrb(t[0])+","+Xrb(t[1])+","+Xrb(t[4])+","+Xrb(t[5])+","+Xrb(t[12])+","+Xrb(t[13])+")"}!function(s,o){var a,h=this,l=256,u=6,c="random",p=o.pow(l,u),d=o.pow(2,52),f=2*d,m=l-1;function g(t){var e,i=t.length,o=this,n=0,r=o.i=o.j=0,s=o.S=[];for(i||(t=[i++]);n<l;)s[n]=n++;for(n=0;n<l;n++)s[n]=s[r=m&r+t[n%i]+(e=s[n])],s[r]=e;o.g=function(t){for(var e,i=0,n=o.i,r=o.j,s=o.S;t--;)e=s[n=m&n+1],i=i*l+s[m&(s[n]=s[r=m&r+e])+(s[r]=e)];return o.i=n,o.j=r,i}}function _(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var i,n=t+"",r=0;r<n.length;)e[m&r]=m&(i^=19*e[m&r])+n.charCodeAt(r++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}o["seed"+c]=function(t,e,i){var n=[],t=y(function t(e,i){var n,r=[],s=typeof e;if(i&&"object"==s)for(n in e)try{r.push(t(e[n],i-1))}catch(t){}return r.length?r:"string"==s?e:e+"\0"}((e=!0===e?{entropy:!0}:e||{}).entropy?[t,v(s)]:null===t?function(){try{if(a)return v(a.randomBytes(l));var e=new Uint8Array(l);return(h.crypto||h.msCrypto).getRandomValues(e),v(e)}catch(t){e=h.navigator,e=e&&e.plugins;return[+new Date,h,e,h.screen,v(s)]}}():t,3),n),r=new g(n);return(n=function(){for(var t=r.g(u),e=p,i=0;t<d;)t=(t+i)*l,e*=l,i=r.g(1);for(;f<=t;)t/=2,e/=2,i>>>=1;return(t+i)/e}).int32=function(){return 0|r.g(4)},n.quick=function(){return r.g(4)/4294967296},n.double=n,y(v(r.S),s),(e.pass||i||function(t,e,i,n){return n&&(n.S&&_(n,r),t.state=function(){return _(r,{})}),i?(o[c]=t,e):t})(n,t,"global"in e?e.global:this==o,e.state)},y(o.random(),s)}([],BMMath);var BezierFactory=(Lvb={getBezierEasing:function(t,e,i,n,r){r=r||("bez_"+t+"_"+e+"_"+i+"_"+n).replace(/\./g,"p");if(Mvb[r])return Mvb[r];n=new awb([t,e,i,n]);return Mvb[r]=n}},Mvb={},Svb=11,Tvb=1/(Svb-1),Uvb="function"==typeof Float32Array,awb.prototype={get:function(t){var e=this._p[0],i=this._p[1],n=this._p[2],r=this._p[3];return this._precomputed||this._precompute(),e===i&&n===r?t:0===t?0:1===t?1:Yvb(this._getTForX(t),i,r)},_precompute:function(){var t=this._p[0],e=this._p[1],i=this._p[2],n=this._p[3];this._precomputed=!0,t===e&&i===n||this._calcSampleValues()},_calcSampleValues:function(){for(var t=this._p[0],e=this._p[2],i=0;i<Svb;++i)this._mSampleValues[i]=Yvb(i*Tvb,t,e)},_getTForX:function(t){for(var e=this._p[0],i=this._p[2],n=this._mSampleValues,r=0,s=1,o=Svb-1;s!==o&&n[s]<=t;++s)r+=Tvb;var a=r+(t-n[--s])/(n[s+1]-n[s])*Tvb,h=Zvb(a,e,i);return.001<=h?function(t,e,i,n){for(var r=0;r<4;++r){var s=Zvb(e,i,n);if(0===s)return e;e-=(Yvb(e,i,n)-t)/s}return e}(t,a,e,i):0===h?a:function(t,e,i,n,r){for(var s,o,a=0;0<(s=Yvb(o=e+(i-e)/2,n,r)-t)?i=o:e=o,1e-7<Math.abs(s)&&++a<10;);return o}(t,r,r+Tvb,e,i)}},Lvb),Lvb,Mvb,Svb,Tvb,Uvb;function Vvb(t,e){return 1-3*e+3*t}function Yvb(t,e,i){return((Vvb(e,i)*t+(3*i-6*e))*t+3*e)*t}function Zvb(t,e,i){return 3*Vvb(e,i)*t*t+2*(3*i-6*e)*t+3*e}function awb(t){this._p=t,this._mSampleValues=new(Uvb?Float32Array:Array)(Svb),this._precomputed=!1,this.get=this.get.bind(this)}function extendPrototype(t,e){for(var i,n=t.length,r=0;r<n;r+=1)for(var s in i=t[r].prototype)Object.prototype.hasOwnProperty.call(i,s)&&(e.prototype[s]=i[s])}function getDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)}function createProxyFunction(t){function e(){}return e.prototype=t,e}function bezFunction(){var w=Math;function g(t,e,i,n,r,s){e=t*n+e*r+i*s-r*n-s*t-i*e;return-.001<e&&e<.001}var u=function(t,e,i,n){for(var r,s,o,a,h=defaultCurveSegments,l=0,u=[],c=[],p=bezierLengthPool.newElement(),d=i.length,f=0;f<h;f+=1){for(o=f/(h-1),r=a=0;r<d;r+=1)s=bmPow(1-o,3)*t[r]+3*bmPow(1-o,2)*o*i[r]+3*(1-o)*bmPow(o,2)*n[r]+bmPow(o,3)*e[r],u[r]=s,null!==c[r]&&(a+=bmPow(u[r]-c[r],2)),c[r]=u[r];a&&(l+=a=bmSqrt(a)),p.percents[f]=o,p.lengths[f]=l}return p.addedLength=l,p};function _(t){this.segmentLength=0,this.points=new Array(t)}function y(t,e){this.partialLength=t,this.point=e}var v,t=(v={},function(t,e,i,n){var r=(t[0]+"_"+t[1]+"_"+e[0]+"_"+e[1]+"_"+i[0]+"_"+i[1]+"_"+n[0]+"_"+n[1]).replace(/\./g,"p");if(!v[r]){for(var s,o,a,h,l,u=defaultCurveSegments,c=0,p=null,d=new _(u=2===t.length&&(t[0]!==e[0]||t[1]!==e[1])&&g(t[0],t[1],e[0],e[1],t[0]+i[0],t[1]+i[1])&&g(t[0],t[1],e[0],e[1],e[0]+n[0],e[1]+n[1])?2:u),f=i.length,m=0;m<u;m+=1){for(l=createSizedArray(f),a=m/(u-1),s=h=0;s<f;s+=1)o=bmPow(1-a,3)*t[s]+3*bmPow(1-a,2)*a*(t[s]+i[s])+3*(1-a)*bmPow(a,2)*(e[s]+n[s])+bmPow(a,3)*e[s],l[s]=o,null!==p&&(h+=bmPow(l[s]-p[s],2));c+=h=bmSqrt(h),d.points[m]=new y(h,l),p=l}d.segmentLength=c,v[r]=d}return v[r]});function P(t,e){var i=e.percents,n=e.lengths,r=i.length,s=bmFloor((r-1)*t),o=t*e.addedLength,a=0;if(s===r-1||0===s||o===n[s])return i[s];for(var h=n[s]>o?-1:1,l=!0;l;)if(n[s]<=o&&n[s+1]>o?(a=(o-n[s])/(n[s+1]-n[s]),l=!1):s+=h,s<0||r-1<=s){if(s===r-1)return i[s];l=!1}return i[s]+(i[s+1]-i[s])*a}var C=createTypedArray("float32",8);return{getSegmentsLength:function(t){for(var e=segmentsLengthPool.newElement(),i=t.c,n=t.v,r=t.o,s=t.i,o=t._length,a=e.lengths,h=0,l=0;l<o-1;l+=1)a[l]=u(n[l],n[l+1],r[l],s[l+1]),h+=a[l].addedLength;return i&&o&&(a[l]=u(n[l],n[0],r[l],s[0]),h+=a[l].addedLength),e.totalLength=h,e},getNewSegment:function(t,e,i,n,r,s,o){r<0?r=0:1<r&&(r=1);for(var a=P(r,o),r=P(s=1<s?1:s,o),h=t.length,l=(s=1-a)*s*s,u=a*s*s*3,c=a*a*s*3,p=a*a*a,d=s*s*(o=1-r),f=a*s*o+s*a*o+s*s*r,m=a*a*o+s*a*r+a*s*r,g=a*a*r,_=s*o*o,y=a*o*o+s*r*o+s*o*r,v=a*r*o+s*r*r+a*o*r,b=a*r*r,x=o*o*o,T=r*o*o+o*r*o+o*o*r,E=r*r*o+o*r*r+r*o*r,S=r*r*r,A=0;A<h;A+=1)C[4*A]=w.round(1e3*(l*t[A]+u*i[A]+c*n[A]+p*e[A]))/1e3,C[4*A+1]=w.round(1e3*(d*t[A]+f*i[A]+m*n[A]+g*e[A]))/1e3,C[4*A+2]=w.round(1e3*(_*t[A]+y*i[A]+v*n[A]+b*e[A]))/1e3,C[4*A+3]=w.round(1e3*(x*t[A]+T*i[A]+E*n[A]+S*e[A]))/1e3;return C},getPointInSegment:function(t,e,i,n,r,s){return r=P(r,s),s=1-r,[w.round(1e3*(s*s*s*t[0]+(r*s*s+s*r*s+s*s*r)*i[0]+(r*r*s+s*r*r+r*s*r)*n[0]+r*r*r*e[0]))/1e3,w.round(1e3*(s*s*s*t[1]+(r*s*s+s*r*s+s*s*r)*i[1]+(r*r*s+s*r*r+r*s*r)*n[1]+r*r*r*e[1]))/1e3]},buildBezierData:t,pointOnLine2D:g,pointOnLine3D:function(t,e,i,n,r,s,o,a,h){if(0===i&&0===s&&0===h)return g(t,e,n,r,o,a);var l=w.sqrt(w.pow(n-t,2)+w.pow(r-e,2)+w.pow(s-i,2)),i=w.sqrt(w.pow(o-t,2)+w.pow(a-e,2)+w.pow(h-i,2)),s=w.sqrt(w.pow(o-n,2)+w.pow(a-r,2)+w.pow(h-s,2));return-1e-4<(s=i<l?s<l?l-i-s:s-i-l:i<s?s-i-l:i-l-s)&&s<1e-4}}}!function(){for(var r=0,t=["ms","moz","webkit","o"],e=0;e<t.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[t[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[e]+"CancelAnimationFrame"]||window[t[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-r)),n=setTimeout(function(){t(e+i)},i);return r=e+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var bez=bezFunction(),dataManager=(Nzb=1,Ozb=[],Rzb={onmessage:function(){},postMessage:function(t){Pzb({data:t})}},Szb={postMessage:function(t){Rzb.onmessage({data:t})}},{loadAnimation:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"loadAnimation",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},loadData:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"loadData",path:t,fullPath:window.location.origin+window.location.pathname,id:i})},completeAnimation:function(t,e,i){Uzb(),i=Vzb(e,i),Qzb.postMessage({type:"complete",animation:t,id:i})}}),Pzb,Qzb,Nzb,Ozb,Rzb,Szb;function Uzb(){Qzb||((Qzb=function(t){if(window.Worker&&window.Blob&&_useWebWorker){var e=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),e=URL.createObjectURL(e);return new Worker(e)}return Pzb=t,Rzb}(function(e){function t(){function u(t,e){for(var i,n,r,s=t.length,o=0;o<s;o+=1)if("ks"in(r=t[o])&&!r.completed){if(r.completed=!0,r.tt&&(t[o-1].td=r.tt),r.hasMask)for(var a=r.masksProperties,h=a.length,l=0;l<h;l+=1)if(a[l].pt.k.i)c(a[l].pt.k);else for(n=a[l].pt.k.length,i=0;i<n;i+=1)a[l].pt.k[i].s&&c(a[l].pt.k[i].s[0]),a[l].pt.k[i].e&&c(a[l].pt.k[i].e[0]);0===r.ty?(r.layers=function(t,e){var i=0,n=e.length;for(;i<n;){if(e[i].id===t)return e[i].layers.__used?JSON.parse(JSON.stringify(e[i].layers)):(e[i].layers.__used=!0,e[i].layers);i+=1}return null}(r.refId,e),u(r.layers,e)):4===r.ty?function t(e){var i;var n=e.length;var r;var s;for(i=n-1;0<=i;--i)if("sh"===e[i].ty)if(e[i].ks.k.i)c(e[i].ks.k);else for(s=e[i].ks.k.length,r=0;r<s;r+=1)e[i].ks.k[r].s&&c(e[i].ks.k[r].s[0]),e[i].ks.k[r].e&&c(e[i].ks.k[r].e[0]);else"gr"===e[i].ty&&t(e[i].it)}(r.shapes):5===r.ty&&(0!==(r=r).t.a.length||"m"in r.t.p||(r.singleShape=!0))}}function c(t){for(var e=t.i.length,i=0;i<e;i+=1)t.i[i][0]+=t.v[i][0],t.i[i][1]+=t.v[i][1],t.o[i][0]+=t.v[i][0],t.o[i][1]+=t.v[i][1]}function a(t,e){e=e?e.split("."):[100,100,100];return t[0]>e[0]||!(e[0]>t[0])&&(t[1]>e[1]||!(e[1]>t[1])&&(t[2]>e[2]||(e[2],void t[2])))}var n,e=(n=[4,4,14],function(t){if(a(n,t.v)&&(r(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&r(t.assets[i].layers)});function r(t){for(var e,i,n=t.length,r=0;r<n;r+=1)5===t[r].ty&&(e=t[r],i=void 0,i=e.t.d,e.t.d={k:[{s:i,t:0}]})}var h,s,i=(h=[4,7,99],function(t){if(t.chars&&!a(h,t.v))for(var e,i,n,r,s=t.chars.length,o=0;o<s;o+=1)if(t.chars[o].data&&t.chars[o].data.shapes)for(i=(r=t.chars[o].data.shapes[0].it).length,e=0;e<i;e+=1)(n=r[e].ks.k).__converted||(c(r[e].ks.k),n.__converted=!0)}),o=(s=[5,7,15],function(t){if(a(s,t.v)&&(l(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&l(t.assets[i].layers)});function l(t){for(var e,i=t.length,n=0;n<i;n+=1)5===t[n].ty&&("number"==typeof(e=(e=t[n]).t.p).a&&(e.a={a:0,k:e.a}),"number"==typeof e.p&&(e.p={a:0,k:e.p}),"number"==typeof e.r&&(e.r={a:0,k:e.r}))}var p,d=(p=[4,1,9],function(t){if(a(p,t.v)&&(f(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&f(t.assets[i].layers)});function f(t){for(var e=t.length,i=0;i<e;i+=1)4===t[i].ty&&!function t(e){for(var i,n,r=e.length,s=0;s<r;s+=1)if("gr"===e[s].ty)t(e[s].it);else if("fl"===e[s].ty||"st"===e[s].ty)if(e[s].c.k&&e[s].c.k[0].i)for(n=e[s].c.k.length,i=0;i<n;i+=1)e[s].c.k[i].s&&(e[s].c.k[i].s[0]/=255,e[s].c.k[i].s[1]/=255,e[s].c.k[i].s[2]/=255,e[s].c.k[i].s[3]/=255),e[s].c.k[i].e&&(e[s].c.k[i].e[0]/=255,e[s].c.k[i].e[1]/=255,e[s].c.k[i].e[2]/=255,e[s].c.k[i].e[3]/=255);else e[s].c.k[0]/=255,e[s].c.k[1]/=255,e[s].c.k[2]/=255,e[s].c.k[3]/=255}(t[i].shapes)}var m,g=(m=[4,4,18],function(t){if(a(m,t.v)&&(_(t.layers),t.assets))for(var e=t.assets.length,i=0;i<e;i+=1)t.assets[i].layers&&_(t.assets[i].layers)});function _(t){for(var e,i,n,r=t.length,s=0;s<r;s+=1){if((e=t[s]).hasMask)for(var o=e.masksProperties,a=o.length,h=0;h<a;h+=1)if(o[h].pt.k.i)o[h].pt.k.c=o[h].cl;else for(n=o[h].pt.k.length,i=0;i<n;i+=1)o[h].pt.k[i].s&&(o[h].pt.k[i].s[0].c=o[h].cl),o[h].pt.k[i].e&&(o[h].pt.k[i].e[0].c=o[h].cl);4===e.ty&&!function t(e){for(var i,n,r=e.length-1;0<=r;--r)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(n=e[r].ks.k.length,i=0;i<n;i+=1)e[r].ks.k[i].s&&(e[r].ks.k[i].s[0].c=e[r].closed),e[r].ks.k[i].e&&(e[r].ks.k[i].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}(e.shapes)}}var t={completeData:function(t){t.__complete||(d(t),e(t),i(t),o(t),g(t),u(t.layers,t.assets),t.__complete=!0)}};return t.checkColors=d,t.checkChars=i,t.checkPathProperties=o,t.checkShapes=g,t.completeLayers=u,t}function o(t){var e=t.getResponseHeader("content-type");return e&&"json"===t.responseType&&-1!==e.indexOf("json")||t.response&&"object"==typeof t.response?t.response:t.response&&"string"==typeof t.response?JSON.parse(t.response):t.responseText?JSON.parse(t.responseText):null}var i;Szb.dataManager||(Szb.dataManager=t()),Szb.assetLoader||(Szb.assetLoader={load:function(e,i,t,n){var r,s=new XMLHttpRequest;try{s.responseType="json"}catch(t){}s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)r=o(s),t(r);else try{r=o(s),t(r)}catch(t){n&&n(t)}};try{s.open("GET",e,!0)}catch(t){s.open("GET",i+"/"+e,!0)}s.send()}}),"loadAnimation"===e.data.type?Szb.assetLoader.load(e.data.path,e.data.fullPath,function(t){Szb.dataManager.completeData(t),Szb.postMessage({id:e.data.id,payload:t,status:"success"})},function(){Szb.postMessage({id:e.data.id,status:"error"})}):"complete"===e.data.type?(i=e.data.animation,Szb.dataManager.completeData(i),Szb.postMessage({id:e.data.id,payload:i,status:"success"})):"loadData"===e.data.type&&Szb.assetLoader.load(e.data.path,e.data.fullPath,function(t){Szb.postMessage({id:e.data.id,payload:t,status:"success"})},function(){Szb.postMessage({id:e.data.id,status:"error"})})})).onmessage=function(t){var e=t.data,i=e.id,t=Ozb[i];Ozb[i]=null,"success"===e.status?t.onComplete(e.payload):t.onError&&t.onError()})}function Vzb(t,e){var i="processId_"+(Nzb+=1);return Ozb[i]={onComplete:t,onError:e},i}function getFontProperties(t){for(var e=t.fStyle?t.fStyle.split(" "):[],i="normal",n="normal",r=e.length,s=0;s<r;s+=1)switch(e[s].toLowerCase()){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:t.fWeight||i}}var FontManager=(SCb={w:0,size:0,shapes:[]},TCb=(TCb=[]).concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]),UCb=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],VCb=[65039,8205],hDb.isModifier=function(t,e){return e=t.toString(16)+e.toString(16),-1!==UCb.indexOf(e)},hDb.isZeroWidthJoiner=function(t,e){return e?t===VCb[0]&&e===VCb[1]:t===VCb[1]},hDb.isCombinedCharacter=function(t){return-1!==TCb.indexOf(t)},hDb.prototype={addChars:function(t){if(t){this.chars||(this.chars=[]);for(var e,i,n=t.length,r=this.chars.length,s=0;s<n;s+=1){for(e=0,i=!1;e<r;)this.chars[e].style===t[s].style&&this.chars[e].fFamily===t[s].fFamily&&this.chars[e].ch===t[s].ch&&(i=!0),e+=1;i||(this.chars.push(t[s]),r+=1)}}},addFonts:function(t,e){if(t){if(this.chars)return this.isLoaded=!0,void(this.fonts=t.list);for(var i=t.list,n=i.length,r=n,s=0;s<n;s+=1){var o,a,h,l,u=!0;if(i[s].loaded=!1,i[s].monoCase=XCb(i[s].fFamily,"monospace"),i[s].sansCase=XCb(i[s].fFamily,"sans-serif"),i[s].fPath){if("p"===i[s].fOrigin||3===i[s].origin)(u=0<(h=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[s].fFamily+'"], style[f-origin="3"][f-family="'+i[s].fFamily+'"]')).length?!1:u)&&((a=createTag("style")).setAttribute("f-forigin",i[s].fOrigin),a.setAttribute("f-origin",i[s].origin),a.setAttribute("f-family",i[s].fFamily),a.type="text/css",a.innerText="@font-face {font-family: "+i[s].fFamily+"; font-style: normal; src: url('"+i[s].fPath+"');}",e.appendChild(a));else if("g"===i[s].fOrigin||1===i[s].origin){for(h=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),o=0;o<h.length;o+=1)-1!==h[o].href.indexOf(i[s].fPath)&&(u=!1);u&&((l=createTag("link")).setAttribute("f-forigin",i[s].fOrigin),l.setAttribute("f-origin",i[s].origin),l.type="text/css",l.rel="stylesheet",l.href=i[s].fPath,document.body.appendChild(l))}else if("t"===i[s].fOrigin||2===i[s].origin){for(h=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),o=0;o<h.length;o+=1)i[s].fPath===h[o].src&&(u=!1);u&&((l=createTag("link")).setAttribute("f-forigin",i[s].fOrigin),l.setAttribute("f-origin",i[s].origin),l.setAttribute("rel","stylesheet"),l.setAttribute("href",i[s].fPath),e.appendChild(l))}}else i[s].loaded=!0,--r;i[s].helper=function(t,e){var i=createNS("text");i.style.fontSize="100px";var n=getFontProperties(e);return i.setAttribute("font-family",e.fFamily),i.setAttribute("font-style",n.style),i.setAttribute("font-weight",n.weight),i.textContent="1",e.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",e.fClass)):i.style.fontFamily=e.fFamily,t.appendChild(i),createTag("canvas").getContext("2d").font=e.fWeight+" "+e.fStyle+" 100px "+e.fFamily,i}(e,i[s]),i[s].cache={},this.fonts.push(i[s])}0===r?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,e,i){for(var n=0,r=this.chars.length;n<r;){if(this.chars[n].ch===t&&this.chars[n].style===e&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,e,i)),SCb},getFontByName:function(t){for(var e=0,i=this.fonts.length;e<i;){if(this.fonts[e].fName===t)return this.fonts[e];e+=1}return this.fonts[0]},measureText:function(t,e,i){var n,r,s=this.getFontByName(e),o=t.charCodeAt(0);return s.cache[o+1]||(n=s.helper," "===t?(n.textContent="|"+t+"|",r=n.getComputedTextLength(),n.textContent="||",e=n.getComputedTextLength(),s.cache[o+1]=(r-e)/100):(n.textContent=t,s.cache[o+1]=n.getComputedTextLength()/100)),s.cache[o+1]*i},checkLoadedFonts:function(){for(var t,e,i=this.fonts.length,n=i,r=0;r<i;r+=1)this.fonts[r].loaded?--n:"n"===this.fonts[r].fOrigin||0===this.fonts[r].origin?this.fonts[r].loaded=!0:(t=this.fonts[r].monoCase.node,e=this.fonts[r].monoCase.w,t.offsetWidth!==e?(--n,this.fonts[r].loaded=!0):(t=this.fonts[r].sansCase.node,e=this.fonts[r].sansCase.w,t.offsetWidth!==e&&(--n,this.fonts[r].loaded=!0)),this.fonts[r].loaded&&(this.fonts[r].sansCase.parent.parentNode.removeChild(this.fonts[r].sansCase.parent),this.fonts[r].monoCase.parent.parentNode.removeChild(this.fonts[r].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},hDb),SCb,TCb,UCb,VCb;function XCb(t,e){var i=createTag("span");i.setAttribute("aria-hidden",!0),i.style.fontFamily=e;var n=createTag("span");n.innerText="giItT1WQy@!-/#",i.style.position="absolute",i.style.left="-10000px",i.style.top="-10000px",i.style.fontSize="300px",i.style.fontVariant="normal",i.style.fontStyle="normal",i.style.fontWeight="normal",i.style.letterSpacing="0",i.appendChild(n),document.body.appendChild(i);var r=n.offsetWidth;return n.style.fontFamily=function(t){for(var e=t.split(","),i=e.length,n=[],r=0;r<i;r+=1)"sans-serif"!==e[r]&&"monospace"!==e[r]&&n.push(e[r]);return n.join(",")}(t)+", "+e,{node:n,w:r,parent:i}}function hDb(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)}var PropertyFactory=(pEb=initialDefaultFrame,qEb=Math.abs,{getProp:function(t,e,i,n,r){var s;if(e.k.length)if("number"==typeof e.k[0])s=new AEb(t,e,n,r);else switch(i){case 0:s=new BEb(t,e,n,r);break;case 1:s=new CEb(t,e,n,r)}else s=new zEb(t,e,n,r);return s.effectsSequence.length&&r.addDynamicProperty(s),s}}),pEb,qEb;function rEb(t,e){var i,n=this.offsetTime;"multidimensional"===this.propType&&(i=createTypedArray("float32",this.pv.length));for(var r,s,o,a=e.lastIndex,h=a,l=this.keyframes.length-1,u=!0;u;){if(r=this.keyframes[h],s=this.keyframes[h+1],h===l-1&&t>=s.t-n){r.h&&(r=s),a=0;break}if(s.t-n>t){a=h;break}h<l-1?h+=1:(a=0,u=!1)}var c,p,d,f,m,g=this.keyframesMetadata[h]||{},_=s.t-n,y=r.t-n;if(r.to){g.bezierData||(g.bezierData=bez.buildBezierData(r.s,s.s||r.e,r.to,r.ti));var v=g.bezierData;if(_<=t||t<y)for(var b=_<=t?v.points.length-1:0,x=v.points[b].point.length,T=0;T<x;T+=1)i[T]=v.points[b].point[T];else{g.__fnct?o=g.__fnct:(o=BezierFactory.getBezierEasing(r.o.x,r.o.y,r.i.x,r.i.y,r.n).get,g.__fnct=o);for(var E,S=o((t-y)/(_-y)),A=v.segmentLength*S,w=e.lastFrame<t&&e._lastKeyframeIndex===h?e._lastAddedLength:0,P=e.lastFrame<t&&e._lastKeyframeIndex===h?e._lastPoint:0,u=!0,C=v.points.length;u;){if(w+=v.points[P].partialLength,0==A||0===S||P===v.points.length-1){for(x=v.points[P].point.length,T=0;T<x;T+=1)i[T]=v.points[P].point[T];break}if(w<=A&&A<w+v.points[P+1].partialLength){for(E=(A-w)/v.points[P+1].partialLength,x=v.points[P].point.length,T=0;T<x;T+=1)i[T]=v.points[P].point[T]+(v.points[P+1].point[T]-v.points[P].point[T])*E;break}P<C-1?P+=1:u=!1}e._lastPoint=P,e._lastAddedLength=w-v.points[P].partialLength,e._lastKeyframeIndex=h}}else{var R,O,M,I,D,k,N,l=r.s.length,F=s.s||r.e;if(this.sh&&1!==r.h)_<=t?(i[0]=F[0],i[1]=F[1],i[2]=F[2]):t<=y?(i[0]=r.s[0],i[1]=r.s[1],i[2]=r.s[2]):(k=uEb(r.s),N=uEb(F),c=i,p=function(t,e,i){var n,r=[],s=t[0],o=t[1],a=t[2],h=t[3],l=e[0],u=e[1],c=e[2],p=e[3];(t=s*l+o*u+a*c+h*p)<0&&(t=-t,l=-l,u=-u,c=-c,p=-p);i=1e-6<1-t?(e=Math.acos(t),t=Math.sin(e),n=Math.sin((1-i)*e)/t,Math.sin(i*e)/t):(n=1-i,i);return r[0]=n*s+i*l,r[1]=n*o+i*u,r[2]=n*a+i*c,r[3]=n*h+i*p,r}(k,N,(t-y)/(_-y)),d=p[0],f=p[1],m=p[2],k=p[3],N=Math.atan2(2*f*k-2*d*m,1-2*f*f-2*m*m),p=Math.asin(2*d*f+2*m*k),m=Math.atan2(2*d*k-2*f*m,1-2*d*d-2*m*m),c[0]=N/degToRads,c[1]=p/degToRads,c[2]=m/degToRads);else for(h=0;h<l;h+=1)1!==r.h&&(S=_<=t?1:t<y?0:(r.o.x.constructor===Array?(g.__fnct||(g.__fnct=[]),g.__fnct[h]?o=g.__fnct[h]:(R=void 0===r.o.x[h]?r.o.x[0]:r.o.x[h],O=void 0===r.o.y[h]?r.o.y[0]:r.o.y[h],M=void 0===r.i.x[h]?r.i.x[0]:r.i.x[h],I=void 0===r.i.y[h]?r.i.y[0]:r.i.y[h],o=BezierFactory.getBezierEasing(R,O,M,I).get,g.__fnct[h]=o)):g.__fnct?o=g.__fnct:(R=r.o.x,O=r.o.y,M=r.i.x,I=r.i.y,o=BezierFactory.getBezierEasing(R,O,M,I).get,r.keyframeMetadata=o),o((t-y)/(_-y)))),F=s.s||r.e,D=1===r.h?r.s[h]:r.s[h]+(F[h]-r.s[h])*S,"multidimensional"===this.propType?i[h]=D:i=D}return e.lastIndex=a,i}function uEb(t){var e=t[0]*degToRads,i=t[1]*degToRads,n=t[2]*degToRads,r=Math.cos(e/2),s=Math.cos(i/2),t=Math.cos(n/2),e=Math.sin(e/2),i=Math.sin(i/2),n=Math.sin(n/2);return[e*i*t+r*s*n,e*s*t+r*i*n,r*i*t-e*s*n,r*s*t-e*i*n]}function vEb(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime;return t===this._caching.lastFrame||this._caching.lastFrame!==pEb&&(this._caching.lastFrame>=i&&i<=t||this._caching.lastFrame<e&&t<e)||(this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0),e=this.interpolateValue(t,this._caching),this.pv=e),this._caching.lastFrame=t,this.pv}function wEb(t){var e;if("unidimensional"===this.propType)e=t*this.mult,1e-5<qEb(this.v-e)&&(this.v=e,this._mdf=!0);else for(var i=0,n=this.v.length;i<n;)e=t[i]*this.mult,1e-5<qEb(this.v[i]-e)&&(this.v[i]=e,this._mdf=!0),i+=1}function xEb(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;for(var t=this.effectsSequence.length,e=this.kf?this.pv:this.data.k,i=0;i<t;i+=1)e=this.effectsSequence[i](e);this.setVValue(e),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function yEb(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function zEb(t,e,i,n){this.propType="unidimensional",this.mult=i||1,this.data=e,this.v=i?e.k*i:e.k,this.pv=e.k,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=xEb,this.setVValue=wEb,this.addEffect=yEb}function AEb(t,e,i,n){var r;this.propType="multidimensional",this.mult=i||1,this.data=e,this._mdf=!1,this.elem=t,this.container=n,this.comp=t.comp,this.k=!1,this.kf=!1,this.frameId=-1;var s=e.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),r=0;r<s;r+=1)this.v[r]=e.k[r]*this.mult,this.pv[r]=e.k[r];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=xEb,this.setVValue=wEb,this.addEffect=yEb}function BEb(t,e,i,n){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.frameId=-1,this._caching={lastFrame:pEb,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.v=pEb,this.pv=pEb,this._isFirstFrame=!0,this.getValue=xEb,this.setVValue=wEb,this.interpolateValue=rEb,this.effectsSequence=[vEb.bind(this)],this.addEffect=yEb}function CEb(t,e,i,n){this.propType="multidimensional";for(var r,s,o,a,h=e.k.length,l=0;l<h-1;l+=1)e.k[l].to&&e.k[l].s&&e.k[l+1]&&e.k[l+1].s&&(r=e.k[l].s,s=e.k[l+1].s,o=e.k[l].to,a=e.k[l].ti,(2===r.length&&(r[0]!==s[0]||r[1]!==s[1])&&bez.pointOnLine2D(r[0],r[1],s[0],s[1],r[0]+o[0],r[1]+o[1])&&bez.pointOnLine2D(r[0],r[1],s[0],s[1],s[0]+a[0],s[1]+a[1])||3===r.length&&(r[0]!==s[0]||r[1]!==s[1]||r[2]!==s[2])&&bez.pointOnLine3D(r[0],r[1],r[2],s[0],s[1],s[2],r[0]+o[0],r[1]+o[1],r[2]+o[2])&&bez.pointOnLine3D(r[0],r[1],r[2],s[0],s[1],s[2],s[0]+a[0],s[1]+a[1],s[2]+a[2]))&&(e.k[l].to=null,e.k[l].ti=null),r[0]===s[0]&&r[1]===s[1]&&0===o[0]&&0===o[1]&&0===a[0]&&0===a[1]&&(2===r.length||r[2]===s[2]&&0===o[2]&&0===a[2])&&(e.k[l].to=null,e.k[l].ti=null));this.effectsSequence=[vEb.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=t.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=i||1,this.elem=t,this.container=n,this.comp=t.comp,this.getValue=xEb,this.setVValue=wEb,this.interpolateValue=rEb,this.frameId=-1;var u=e.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),l=0;l<u;l+=1)this.v[l]=pEb,this.pv[l]=pEb;this._caching={lastFrame:pEb,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=yEb}var TransformPropertyFactory=(NGb=[0,0],TGb.prototype={applyToMatrix:function(t){var e=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||e,this.a&&t.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&t.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&t.skewFromAxis(-this.sk.v,this.sa.v),this.r?t.rotate(-this.r.v):t.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?t.translate(this.px.v,this.py.v,-this.pz.v):t.translate(this.px.v,this.py.v,0):t.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){var e,i,n,r;this.elem.globalData.frameId!==this.frameId&&(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),(this._mdf||t)&&(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime?i=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(e=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime)):this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime?(e=[],i=[],n=this.px,t=this.py,n._caching.lastFrame+n.offsetTime<=n.keyframes[0].t?(e[0]=n.getValueAtTime((n.keyframes[0].t+.01)/r,0),e[1]=t.getValueAtTime((t.keyframes[0].t+.01)/r,0),i[0]=n.getValueAtTime(n.keyframes[0].t/r,0),i[1]=t.getValueAtTime(t.keyframes[0].t/r,0)):n._caching.lastFrame+n.offsetTime>=n.keyframes[n.keyframes.length-1].t?(e[0]=n.getValueAtTime(n.keyframes[n.keyframes.length-1].t/r,0),e[1]=t.getValueAtTime(t.keyframes[t.keyframes.length-1].t/r,0),i[0]=n.getValueAtTime((n.keyframes[n.keyframes.length-1].t-.01)/r,0),i[1]=t.getValueAtTime((t.keyframes[t.keyframes.length-1].t-.01)/r,0)):(e=[n.pv,t.pv],i[0]=n.getValueAtTime((n._caching.lastFrame+n.offsetTime-.01)/r,n.offsetTime),i[1]=t.getValueAtTime((t._caching.lastFrame+t.offsetTime-.01)/r,t.offsetTime))):e=i=NGb,this.v.rotate(-Math.atan2(e[1]-i[1],e[0]-i[0]))),this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),this.frameId=this.elem.globalData.frameId)},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],TGb),TGb.prototype.addDynamicProperty=function(t){this._addDynamicProperty(t),this.elem.addDynamicProperty(t),this._isDirty=!0},TGb.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(t,e,i){return new TGb(t,e,i)}}),NGb;function TGb(t,e,i){if(this.elem=t,this.frameId=-1,this.propType="transform",this.data=e,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(i||t),e.p&&e.p.s?(this.px=PropertyFactory.getProp(t,e.p.x,0,0,this),this.py=PropertyFactory.getProp(t,e.p.y,0,0,this),e.p.z&&(this.pz=PropertyFactory.getProp(t,e.p.z,0,0,this))):this.p=PropertyFactory.getProp(t,e.p||{k:[0,0,0]},1,0,this),e.rx){if(this.rx=PropertyFactory.getProp(t,e.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(t,e.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(t,e.rz,0,degToRads,this),e.or.k[0].ti)for(var n=e.or.k.length,r=0;r<n;r+=1)e.or.k[r].to=null,e.or.k[r].ti=null;this.or=PropertyFactory.getProp(t,e.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(t,e.r||{k:0},0,degToRads,this);e.sk&&(this.sk=PropertyFactory.getProp(t,e.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(t,e.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(t,e.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(t,e.s||{k:[100,100,100]},1,.01,this),e.o?this.o=PropertyFactory.getProp(t,e.o,0,.01,t):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,e){this.c=t,this.setLength(e);for(var i=0;i<e;)this.v[i]=pointPool.newElement(),this.o[i]=pointPool.newElement(),this.i[i]=pointPool.newElement(),i+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,e,i,n,r){var s;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),i){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}s[n]&&(!s[n]||r)||(s[n]=pointPool.newElement()),s[n][0]=t,s[n][1]=e},ShapePath.prototype.setTripleAt=function(t,e,i,n,r,s,o,a){this.setXYAt(t,e,"v",o,a),this.setXYAt(i,n,"o",o,a),this.setXYAt(r,s,"i",o,a)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var e=this.v,i=this.o,n=this.i,r=0;this.c&&(t.setTripleAt(e[0][0],e[0][1],n[0][0],n[0][1],i[0][0],i[0][1],0,!1),r=1);for(var s=this._length-1,o=this._length,a=r;a<o;a+=1)t.setTripleAt(e[s][0],e[s][1],n[s][0],n[s][1],i[s][0],i[s][1],a,!1),--s;return t};var ShapePropertyFactory=function(){var r=-999999;function t(t,e,i){var n,r,s,o,a,h,l,u=i.lastIndex,c=this.keyframes;if(t<c[0].t-this.offsetTime)n=c[0].s[0],r=!0,u=0;else if(t>=c[c.length-1].t-this.offsetTime)n=(c[c.length-1].s?c[c.length-1].s:c[c.length-2].e)[0],r=!0;else{for(var p,d,f,m,g,_,y=u,v=c.length-1,b=!0;b&&(p=c[y],!((d=c[y+1]).t-this.offsetTime>t));)y<v-1?y+=1:b=!1;f=this.keyframesMetadata[y]||{},u=y,(r=1===p.h)||(g=t>=d.t-this.offsetTime?1:t<p.t-this.offsetTime?0:(f.__fnct?m=f.__fnct:(m=BezierFactory.getBezierEasing(p.o.x,p.o.y,p.i.x,p.i.y).get,f.__fnct=m),m((t-(p.t-this.offsetTime))/(d.t-this.offsetTime-(p.t-this.offsetTime)))),_=(d.s||p.e)[0]),n=p.s[0]}for(a=e._length,h=n.i[0].length,i.lastIndex=u,s=0;s<a;s+=1)for(o=0;o<h;o+=1)l=r?n.i[s][o]:n.i[s][o]+(_.i[s][o]-n.i[s][o])*g,e.i[s][o]=l,l=r?n.o[s][o]:n.o[s][o]+(_.o[s][o]-n.o[s][o])*g,e.o[s][o]=l,l=r?n.v[s][o]:n.v[s][o]+(_.v[s][o]-n.v[s][o])*g,e.v[s][o]=l}function n(){this.paths=this.localShapeCollection}function e(t){!function(t,e){if(t._length===e._length&&t.c===e.c){for(var i=t._length,n=0;n<i;n+=1)if(t.v[n][0]!==e.v[n][0]||t.v[n][1]!==e.v[n][1]||t.o[n][0]!==e.o[n][0]||t.o[n][1]!==e.o[n][1]||t.i[n][0]!==e.i[n][0]||t.i[n][1]!==e.i[n][1])return;return 1}}(this.v,t)&&(this.v=shapePool.clone(t),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function i(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;for(var t=this.kf?this.pv:(this.data.ks||this.data.pt).k,e=this.effectsSequence.length,i=0;i<e;i+=1)t=this.effectsSequence[i](t);this.setVValue(t),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function s(t,e,i){this.propType="shape",this.comp=t.comp,this.container=t,this.elem=t,this.data=e,this.k=!1,this.kf=!1,this._mdf=!1;e=(3===i?e.pt:e.ks).k;this.v=shapePool.clone(e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=n,this.effectsSequence=[]}function o(t){this.effectsSequence.push(t),this.container.addDynamicProperty(this)}function a(t,e,i){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=(3===i?e.pt:e.ks).k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;e=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,e),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=r,this.reset=n,this._caching={lastFrame:r,lastIndex:0},this.effectsSequence=[function(){var t=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==r&&(n<e&&t<e||i<n&&i<t)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}.bind(this)]}s.prototype.interpolateShape=t,s.prototype.getValue=i,s.prototype.setVValue=e,s.prototype.addEffect=o,a.prototype.getValue=i,a.prototype.interpolateShape=t,a.prototype.setVValue=e,a.prototype.addEffect=o;var h,l=(h=roundCorner,u.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=3!==this.d,s=this.v;s.v[0][0]=t,s.v[0][1]=e-n,s.v[1][0]=r?t+i:t-i,s.v[1][1]=e,s.v[2][0]=t,s.v[2][1]=e+n,s.v[3][0]=r?t-i:t+i,s.v[3][1]=e,s.i[0][0]=r?t-i*h:t+i*h,s.i[0][1]=e-n,s.i[1][0]=r?t+i:t-i,s.i[1][1]=e-n*h,s.i[2][0]=r?t+i*h:t-i*h,s.i[2][1]=e+n,s.i[3][0]=r?t-i:t+i,s.i[3][1]=e+n*h,s.o[0][0]=r?t+i*h:t-i*h,s.o[0][1]=e-n,s.o[1][0]=r?t+i:t-i,s.o[1][1]=e+n*h,s.o[2][0]=r?t-i*h:t+i*h,s.o[2][1]=e+n,s.o[3][0]=r?t-i:t+i,s.o[3][1]=e-n*h}},extendPrototype([DynamicPropertyContainer],u),u);function u(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=e.d,this.elem=t,this.comp=t.comp,this.frameId=-1,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}var c=(p.prototype={reset:n,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var t=2*Math.floor(this.pt.v),e=2*Math.PI/t,i=!0,n=this.or.v,r=this.ir.v,s=this.os.v,o=this.is.v,a=2*Math.PI*n/(2*t),h=2*Math.PI*r/(2*t),l=-Math.PI/2;l+=this.r.v;for(var u=3===this.data.d?-1:1,c=this.v._length=0;c<t;c+=1){var p=i?s:o,d=i?a:h,f=(_=i?n:r)*Math.cos(l),m=_*Math.sin(l),g=0===f&&0===m?0:m/Math.sqrt(f*f+m*m),_=0===f&&0===m?0:-f/Math.sqrt(f*f+m*m);f+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(f,m,f-g*d*p*u,m-_*d*p*u,f+g*d*p*u,m+_*d*p*u,c,!0),i=!i,l+=e*u}},convertPolygonToPath:function(){var t,e=Math.floor(this.pt.v),i=2*Math.PI/e,n=this.or.v,r=this.os.v,s=2*Math.PI*n/(4*e),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,t=this.v._length=0;t<e;t+=1){var h=n*Math.cos(o),l=n*Math.sin(o),u=0===h&&0===l?0:l/Math.sqrt(h*h+l*l),c=0===h&&0===l?0:-h/Math.sqrt(h*h+l*l);h+=+this.p.v[0],l+=+this.p.v[1],this.v.setTripleAt(h,l,h-u*s*r*a,l-c*s*r*a,h+u*s*r*a,l+c*s*r*a,t,!0),o+=i*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],p),p);function p(t,e){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=t,this.comp=t.comp,this.data=e,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),1===e.sy?(this.ir=PropertyFactory.getProp(t,e.ir,0,0,this),this.is=PropertyFactory.getProp(t,e.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(t,e.pt,0,0,this),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,degToRads,this),this.or=PropertyFactory.getProp(t,e.or,0,0,this),this.os=PropertyFactory.getProp(t,e.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}var d=(f.prototype={convertRectToPath:function(){var t=this.p.v[0],e=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,r=bmMin(i,n,this.r.v),s=r*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+r,t+i,e-n+s,0,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-s,t+i,e+n-r,1,!0),0!==r?(this.v.setTripleAt(t+i-r,e+n,t+i-r,e+n,t+i-s,e+n,2,!0),this.v.setTripleAt(t-i+r,e+n,t-i+s,e+n,t-i+r,e+n,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-r,t-i,e+n-s,4,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+s,t-i,e-n+r,5,!0),this.v.setTripleAt(t-i+r,e-n,t-i+r,e-n,t-i+s,e-n,6,!0),this.v.setTripleAt(t+i-r,e-n,t+i-s,e-n,t+i-r,e-n,7,!0)):(this.v.setTripleAt(t-i,e+n,t-i+s,e+n,t-i,e+n,2),this.v.setTripleAt(t-i,e-n,t-i,e-n+s,t-i,e-n,3))):(this.v.setTripleAt(t+i,e-n+r,t+i,e-n+s,t+i,e-n+r,0,!0),0!==r?(this.v.setTripleAt(t+i-r,e-n,t+i-r,e-n,t+i-s,e-n,1,!0),this.v.setTripleAt(t-i+r,e-n,t-i+s,e-n,t-i+r,e-n,2,!0),this.v.setTripleAt(t-i,e-n+r,t-i,e-n+r,t-i,e-n+s,3,!0),this.v.setTripleAt(t-i,e+n-r,t-i,e+n-s,t-i,e+n-r,4,!0),this.v.setTripleAt(t-i+r,e+n,t-i+r,e+n,t-i+s,e+n,5,!0),this.v.setTripleAt(t+i-r,e+n,t+i-s,e+n,t+i-r,e+n,6,!0),this.v.setTripleAt(t+i,e+n-r,t+i,e+n-r,t+i,e+n-s,7,!0)):(this.v.setTripleAt(t-i,e-n,t-i+s,e-n,t-i,e-n,1,!0),this.v.setTripleAt(t-i,e+n,t-i,e+n-s,t-i,e+n,2,!0),this.v.setTripleAt(t+i,e+n,t+i-s,e+n,t+i,e+n,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:n},extendPrototype([DynamicPropertyContainer],f),f);function f(t,e){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=t,this.comp=t.comp,this.frameId=-1,this.d=e.d,this.initDynamicPropertyContainer(t),this.p=PropertyFactory.getProp(t,e.p,1,0,this),this.s=PropertyFactory.getProp(t,e.s,1,0,this),this.r=PropertyFactory.getProp(t,e.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}var m={getShapeProp:function(t,e,i){var n;return 3===i||4===i?n=new((3===i?e.pt:e.ks).k.length?a:s)(t,e,i):5===i?n=new d(t,e):6===i?n=new l(t,e):7===i&&(n=new c(t,e)),n.k&&t.addDynamicProperty(n),n},getConstructorFunction:function(){return s},getKeyframedConstructorFunction:function(){return a}};return m}(),ShapeModifiers=(UJb={},VJb={},UJb.registerModifier=function(t,e){VJb[t]||(VJb[t]=e)},UJb.getModifier=function(t,e,i){return new VJb[t](e,i)},UJb),UJb,VJb;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function PuckerAndBloatModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(t,e,i,n){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=i,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);for(var r,s=e.length||0,o=0;o<s;o+=1)r=PropertyFactory.getProp(t,e[o].v,0,0,this),this.k=r.k||this.k,this.dataProps[o]={n:e[o].n,p:r};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(t,e,i){this.data=e,this.c=createTypedArray("uint8c",4*e.p);var n=e.k.k[0].s?e.k.k[0].s.length-4*e.p:e.k.k.length-4*e.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(i),this.prop=PropertyFactory.getProp(t,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){var e;this.closed||(t.sh.container.addDynamicProperty(t.sh),e={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()},this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&t.setAsAnimated())},ShapeModifier.prototype.init=function(t,e){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,e){this.s=PropertyFactory.getProp(t,e.s,0,.01,this),this.e=PropertyFactory.getProp(t,e.e,0,.01,this),this.o=PropertyFactory.getProp(t,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,e,i,n,r){var s=[];e<=1?s.push({s:t,e:e}):1<=t?s.push({s:t-1,e:e-1}):(s.push({s:t,e:1}),s.push({s:0,e:e-1}));for(var o,a,h=[],l=s.length,u=0;u<l;u+=1)(a=s[u]).e*r<n||a.s*r>n+i||(o=a.s*r<=n?0:(a.s*r-n)/i,a=a.e*r>=n+i?1:(a.e*r-n)/i,h.push([o,a]));return h.length||h.push([0,0]),h},TrimModifier.prototype.releasePathsData=function(t){for(var e=t.length,i=0;i<e;i+=1)segmentsLengthPool.release(t[i]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var e,i,n,r;this._mdf||t?((e=this.o.v%360/360)<0&&(e+=1),i=1<this.s.v?1+e:this.s.v<0?0+e:this.s.v+e,(n=1<this.e.v?1+e:this.e.v<0?0+e:this.e.v+e)<i&&(e=i,i=n,n=e),i=1e-4*Math.round(1e4*i),n=1e-4*Math.round(1e4*n),this.sValue=i,this.eValue=n):(i=this.sValue,n=this.eValue);var s,o,a,h,l,u=this.shapes.length,c=0;if(n===i)for(m=0;m<u;m+=1)this.shapes[m].localShapeCollection.releaseShapes(),this.shapes[m].shape._mdf=!0,this.shapes[m].shape.paths=this.shapes[m].localShapeCollection,this._mdf&&(this.shapes[m].pathsData.length=0);else if(1===n&&0===i||0===n&&1===i){if(this._mdf)for(m=0;m<u;m+=1)this.shapes[m].pathsData.length=0,this.shapes[m].shape._mdf=!0}else{for(var p,d,f=[],m=0;m<u;m+=1)if((p=this.shapes[m]).shape._mdf||this._mdf||t||2===this.m){if(o=(r=p.shape.paths)._length,l=0,!p.shape._mdf&&p.pathsData.length)l=p.totalShapeLength;else{for(a=this.releasePathsData(p.pathsData),s=0;s<o;s+=1)h=bez.getSegmentsLength(r.shapes[s]),a.push(h),l+=h.totalLength;p.totalShapeLength=l,p.pathsData=a}c+=l,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var g,_=i,y=n,v=0;for(m=u-1;0<=m;--m)if((p=this.shapes[m]).shape._mdf){for((d=p.localShapeCollection).releaseShapes(),2===this.m&&1<u?(g=this.calculateShapeEdges(i,n,p.totalShapeLength,v,c),v+=p.totalShapeLength):g=[[_,y]],o=g.length,s=0;s<o;s+=1){_=g[s][0],y=g[s][1],f.length=0,y<=1?f.push({s:p.totalShapeLength*_,e:p.totalShapeLength*y}):1<=_?f.push({s:p.totalShapeLength*(_-1),e:p.totalShapeLength*(y-1)}):(f.push({s:p.totalShapeLength*_,e:p.totalShapeLength}),f.push({s:0,e:p.totalShapeLength*(y-1)}));var b,x=this.addShapes(p,f[0]);f[0].s!==f[0].e&&(1<f.length&&(x=p.shape.paths.shapes[p.shape.paths._length-1].c?(b=x.pop(),this.addPaths(x,d),this.addShapes(p,f[1],b)):(this.addPaths(x,d),this.addShapes(p,f[1]))),this.addPaths(x,d))}p.shape.paths=d}}},TrimModifier.prototype.addPaths=function(t,e){for(var i=t.length,n=0;n<i;n+=1)e.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,e,i,n,r,s,o){r.setXYAt(e[0],e[1],"o",s),r.setXYAt(i[0],i[1],"i",s+1),o&&r.setXYAt(t[0],t[1],"v",s),r.setXYAt(n[0],n[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(t,e,i,n){e.setXYAt(t[1],t[5],"o",i),e.setXYAt(t[2],t[6],"i",i+1),n&&e.setXYAt(t[0],t[4],"v",i),e.setXYAt(t[3],t[7],"v",i+1)},TrimModifier.prototype.addShapes=function(t,e,i){var n,r,s,o,a,h,l,u,c=t.pathsData,p=t.shape.paths.shapes,d=t.shape.paths._length,f=0,m=[],g=!0,_=i?(o=i._length,i._length):(i=shapePool.newElement(),o=0);for(m.push(i),n=0;n<d;n+=1){for(a=c[n].lengths,i.c=p[n].c,s=p[n].c?a.length:a.length+1,r=1;r<s;r+=1)if(f+(u=a[r-1]).addedLength<e.s)f+=u.addedLength,i.c=!1;else{if(f>e.e){i.c=!1;break}e.s<=f&&e.e>=f+u.addedLength?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[r],p[n].v[r],i,o,g),g=!1):(h=bez.getNewSegment(p[n].v[r-1],p[n].v[r],p[n].o[r-1],p[n].i[r],(e.s-f)/u.addedLength,(e.e-f)/u.addedLength,a[r-1]),this.addSegmentFromArray(h,i,o,g),i.c=g=!1),f+=u.addedLength,o+=1}if(p[n].c&&a.length&&(u=a[r-1],f<=e.e?(l=a[r-1].addedLength,e.s<=f&&e.e>=f+l?(this.addSegment(p[n].v[r-1],p[n].o[r-1],p[n].i[0],p[n].v[0],i,o,g),g=!1):(h=bez.getNewSegment(p[n].v[r-1],p[n].v[0],p[n].o[r-1],p[n].i[0],(e.s-f)/l,(e.e-f)/l,a[r-1]),this.addSegmentFromArray(h,i,o,g),i.c=g=!1)):i.c=!1,f+=u.addedLength,o+=1),i._length&&(i.setXYAt(i.v[_][0],i.v[_][1],"i",_),i.setXYAt(i.v[i._length-1][0],i.v[i._length-1][1],"o",i._length-1)),f>e.e)break;n<d-1&&(i=shapePool.newElement(),g=!0,m.push(i),o=0)}return m},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,e){var i=shapePool.newElement();i.c=t.c;for(var n,r,s,o,a,h,l,u,c,p,d=t._length,f=0,m=0;m<d;m+=1)n=t.v[m],s=t.o[m],r=t.i[m],n[0]===s[0]&&n[1]===s[1]&&n[0]===r[0]&&n[1]===r[1]?0!==m&&m!==d-1||t.c?(o=0===m?t.v[d-1]:t.v[m-1],h=(a=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(a/2,e)/a:0,c=n[0]+(o[0]-n[0])*h,p=n[1]-(n[1]-o[1])*h,l=c-(c-n[0])*roundCorner,u=p-(p-n[1])*roundCorner,i.setTripleAt(c,p,l,u,c,p,f),f+=1,o=m===d-1?t.v[0]:t.v[m+1],h=(a=Math.sqrt(Math.pow(n[0]-o[0],2)+Math.pow(n[1]-o[1],2)))?Math.min(a/2,e)/a:0,l=n[0]+(o[0]-n[0])*h,u=n[1]+(o[1]-n[1])*h,c=l-(l-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,i.setTripleAt(l,u,l,u,c,p,f)):i.setTripleAt(n[0],n[1],s[0],s[1],r[0],r[1],f):i.setTripleAt(t.v[m][0],t.v[m][1],t.o[m][0],t.o[m][1],t.i[m][0],t.i[m][1],f),f+=1;return i},RoundCornersModifier.prototype.processShapes=function(t){var e,i,n,r=this.shapes.length,s=this.rd.v;if(0!==s)for(var o,a,h=0;h<r;h+=1){if(a=(o=this.shapes[h]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],s));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,e){for(var i=e/100,n=[0,0],r=t._length,s=0,s=0;s<r;s+=1)n[0]+=t.v[s][0],n[1]+=t.v[s][1];n[0]/=r,n[1]/=r;var o,a,h,l,u,c,p=shapePool.newElement();for(p.c=t.c,s=0;s<r;s+=1)o=t.v[s][0]+(n[0]-t.v[s][0])*i,a=t.v[s][1]+(n[1]-t.v[s][1])*i,h=t.o[s][0]+(n[0]-t.o[s][0])*-i,l=t.o[s][1]+(n[1]-t.o[s][1])*-i,u=t.i[s][0]+(n[0]-t.i[s][0])*-i,c=t.i[s][1]+(n[1]-t.i[s][1])*-i,p.setTripleAt(o,a,h,l,u,c,s);return p},PuckerAndBloatModifier.prototype.processShapes=function(t){var e,i,n,r=this.shapes.length,s=this.amount.v;if(0!==s)for(var o,a,h=0;h<r;h+=1){if(a=(o=this.shapes[h]).localShapeCollection,o.shape._mdf||this._mdf||t)for(a.releaseShapes(),o.shape._mdf=!0,e=o.shape.paths.shapes,n=o.shape.paths._length,i=0;i<n;i+=1)a.addShape(this.processPath(e[i],s));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,e.c,0,null,this),this.o=PropertyFactory.getProp(t,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,e.tr,this),this.so=PropertyFactory.getProp(t,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,e,i,n,r,s){var o=s?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-r),h=n.s.v[1]+(1-n.s.v[1])*(1-r);t.translate(n.p.v[0]*o*r,n.p.v[1]*o*r,n.p.v[2]),e.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),e.rotate(-n.r.v*o*r),e.translate(n.a.v[0],n.a.v[1],n.a.v[2]),i.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),i.scale(s?1/a:a,s?1/h:h),i.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(t,e,i,n){for(this.elem=t,this.arr=e,this.pos=i,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,e[i]);0<i;)this._elements.unshift(e[--i]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i]._processed=!1,"gr"===t[i].ty&&this.resetElements(t[i].it)},RepeaterModifier.prototype.cloneElements=function(t){t=JSON.parse(JSON.stringify(t));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(t,e){for(var i=t.length,n=0;n<i;n+=1)t[n]._render=e,"gr"===t[n].ty&&this.changeGroupRender(t[n].it,e)},RepeaterModifier.prototype.processShapes=function(t){var e,i,n,r,s,o=!1;if(this._mdf||t){var a,h=Math.ceil(this.c.v);if(this._groups.length<h){for(;this._groups.length<h;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(n=s=0;n<=this._groups.length-1;n+=1)this._groups[n]._render=a=s<h,this.changeGroupRender(this._groups[n].it,a),a||(0!==(a=(a=this.elemsData[n].it)[a.length-1]).transform.op.v?(a.transform.op._mdf=!0,a.transform.op.v=0):a.transform.op._mdf=!1),s+=1;this._currentCopies=h;var u=this.o.v,t=u%1,c=0<u?Math.floor(u):Math.ceil(u),p=this.pMatrix.props,d=this.rMatrix.props,f=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var m,g,_=0;if(0<u){for(;_<c;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),_+=1;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,t,!1),_+=t)}else if(u<0){for(;c<_;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),--_;t&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-t,!0),_-=t)}for(n=1===this.data.m?0:this._currentCopies-1,r=1===this.data.m?1:-1,s=this._currentCopies;s;){if(g=(i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props).length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==_){for((0!==n&&1===r||n!==this._currentCopies-1&&-1===r)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),m=0;m<g;m+=1)i[m]=this.matrix.props[m];this.matrix.reset()}else for(this.matrix.reset(),m=0;m<g;m+=1)i[m]=this.matrix.props[m];_+=1,--s,n+=r}}else for(s=this._currentCopies,n=0,r=1;s;)i=(e=this.elemsData[n].it)[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,--s,n+=r;return o},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){for(var t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0},DashProperty.prototype.getValue=function(t){if((this.elem.globalData.frameId!==this.frameId||t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var e=0,i=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),e=0;e<i;e+=1)"o"!==this.dataProps[e].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(t,e){for(var i=0,n=this.o.length/2;i<n;){if(.01<Math.abs(t[4*i]-t[4*e+2*i]))return!1;i+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,e=this.data.k.k.length;t<e;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){for(var e,i,n=4*this.data.p,r=0;r<n;r+=1)e=r%4==0?100:255,i=Math.round(this.prop.v[r]*e),this.c[r]!==i&&(this.c[r]=i,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,r=4*this.data.p;r<n;r+=1)e=r%2==0?100:1,i=r%2==0?Math.round(100*this.prop.v[r]):this.prop.v[r],this.o[r-4*this.data.p]!==i&&(this.o[r-4*this.data.p]=i,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(t,e,i,n){if(0===e)return"";for(var r=t.o,s=t.i,o=t.v,a=" M"+n.applyToPointStringified(o[0][0],o[0][1]),h=1;h<e;h+=1)a+=" C"+n.applyToPointStringified(r[h-1][0],r[h-1][1])+" "+n.applyToPointStringified(s[h][0],s[h][1])+" "+n.applyToPointStringified(o[h][0],o[h][1]);return i&&e&&(a+=" C"+n.applyToPointStringified(r[h-1][0],r[h-1][1])+" "+n.applyToPointStringified(s[0][0],s[0][1])+" "+n.applyToPointStringified(o[0][0],o[0][1]),a+="z"),a},audioControllerFactory=(_Nb.prototype={addAudio:function(t){this.audios.push(t)},pause:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(t){for(var e=this.audios.length,i=0;i<e;i+=1)this.audios[i].setRate(t)},createAudio:function(t){return this.audioFactory?this.audioFactory(t):Howl?new Howl({src:[t]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(t){this.audioFactory=t},setVolume:function(t){this._volume=t,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){for(var t=this.audios.length,e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new _Nb});function _Nb(t){this.audios=[],this.audioFactory=t,this._volume=1,this._isMuted=!1}var ImagePreloader=(oOb=function(){var t=createTag("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),t}(),EOb.prototype={loadAssets:function(t,e){this.imagesLoadedCb=e;for(var i=t.length,n=0;n<i;n+=1)t[n].layers||(t[n].t&&"seq"!==t[n].t?3===t[n].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(t[n]))):(this.totalImages+=1,this.images.push(this._createImageData(t[n]))))},setAssetsPath:function(t){this.assetsPath=t||""},setPath:function(t){this.path=t||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(t){for(var e=0,i=this.images.length;e<i;){if(this.images[e].assetData===t)return this.images[e].img;e+=1}return null},createImgData:function(t){var e=rOb(t,this.assetsPath,this.path),i=createTag("img");i.crossOrigin="anonymous",i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=oOb,this._imageLoaded()}.bind(this),!1),i.src=e;var n={img:i,assetData:t};return n},createImageData:function(t){var e=rOb(t,this.assetsPath,this.path),i=createNS("image");isSafari?this.testImageLoaded(i):i.addEventListener("load",this._imageLoaded,!1),i.addEventListener("error",function(){n.img=oOb,this._imageLoaded()}.bind(this),!1),i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this._elementHelper.append?this._elementHelper.append(i):this._elementHelper.appendChild(i);var n={img:i,assetData:t};return n},imageLoaded:pOb,footageLoaded:qOb,setCacheType:function(t,e){"svg"===t?(this._elementHelper=e,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},EOb),oOb;function pOb(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function qOb(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rOb(t,e,i){var n="";return t.e?n=t.p:e?n=e+(e=-1!==(e=t.p).indexOf("images/")?e.split("/")[1]:e):(n=i,n+=t.u||"",n+=t.p),n}function EOb(){this._imageLoaded=pOb.bind(this),this._footageLoaded=qOb.bind(this),this.testImageLoaded=function(t){var e=0,i=setInterval(function(){(t.getBBox().width||500<e)&&(this._imageLoaded(),clearInterval(i)),e+=1}.bind(this),50)}.bind(this),this.createFootageData=function(t){var e={assetData:t},t=rOb(t,this.assetsPath,this.path);return dataManager.loadData(t,function(t){e.img=t,this._footageLoaded()}.bind(this),function(){e.img={},this._footageLoaded()}.bind(this)),e}.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}var featureSupport=(lPb={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(lPb.maskType=!1),lPb),lPb,filtersFactory=(mPb={},mPb.createFilter=function(t,e){var i=createNS("filter");i.setAttribute("id",t),!0!==e&&(i.setAttribute("filterUnits","objectBoundingBox"),i.setAttribute("x","0%"),i.setAttribute("y","0%"),i.setAttribute("width","100%"),i.setAttribute("height","100%"));return i},mPb.createAlphaToLuminanceFilter=function(){var t=createNS("feColorMatrix");return t.setAttribute("type","matrix"),t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),t},mPb),mPb;function TextAnimatorProperty(t,e,i){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=e,this._elem=i,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(i)}function TextAnimatorDataProperty(t,e,i){var n={propType:!1},r=PropertyFactory.getProp,s=e.a;this.a={r:s.r?r(t,s.r,0,degToRads,i):n,rx:s.rx?r(t,s.rx,0,degToRads,i):n,ry:s.ry?r(t,s.ry,0,degToRads,i):n,sk:s.sk?r(t,s.sk,0,degToRads,i):n,sa:s.sa?r(t,s.sa,0,degToRads,i):n,s:s.s?r(t,s.s,1,.01,i):n,a:s.a?r(t,s.a,1,0,i):n,o:s.o?r(t,s.o,0,.01,i):n,p:s.p?r(t,s.p,1,0,i):n,sw:s.sw?r(t,s.sw,0,0,i):n,sc:s.sc?r(t,s.sc,1,0,i):n,fc:s.fc?r(t,s.fc,1,0,i):n,fh:s.fh?r(t,s.fh,0,0,i):n,fs:s.fs?r(t,s.fs,0,.01,i):n,fb:s.fb?r(t,s.fb,0,.01,i):n,t:s.t?r(t,s.t,0,0,i):n},this.s=TextSelectorProp.getTextSelectorProp(t,e.s,i),this.s.t=e.s.t}function LetterProps(t,e,i,n,r,s){this.o=t,this.sw=e,this.sc=i,this.fc=n,this.m=r,this.p=s,this._mdf={o:!0,sw:!!e,sc:!!i,fc:!!n,m:!0,p:!0}}function TextProperty(t,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=e,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){for(var t,e=this._textData.a.length,i=PropertyFactory.getProp,n=0;n<e;n+=1)t=this._textData.a[n],this._animatorsData[n]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,e){if(this.lettersChangedFlag=e,this._mdf||this._isFirstFrame||e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var i,n,r,s,o,a,h,l,u,c,p,d,f,m=this._moreOptions.alignment.v,g=this._animatorsData,_=this._textData,y=this.mHelper,v=this._renderType,b=this.renderedLetters.length,x=t.l;if(this._hasMaskedPath){if(f=this._pathData.m,!this._pathData.n||this._pathData._mdf){for(var T,E=f.v,S={tLength:0,segments:[]},A=(E=this._pathData.r.v?E.reverse():E)._length-1,w=p=0;w<A;w+=1)T=bez.buildBezierData(E.v[w],E.v[w+1],[E.o[w][0]-E.v[w][0],E.o[w][1]-E.v[w][1]],[E.i[w+1][0]-E.v[w+1][0],E.i[w+1][1]-E.v[w+1][1]]),S.tLength+=T.segmentLength,S.segments.push(T),p+=T.segmentLength;w=A,f.v.c&&(T=bez.buildBezierData(E.v[w],E.v[0],[E.o[w][0]-E.v[w][0],E.o[w][1]-E.v[w][1]],[E.i[0][0]-E.v[0][0],E.i[0][1]-E.v[0][1]]),S.tLength+=T.segmentLength,S.segments.push(T),p+=T.segmentLength),this._pathData.pi=S}if(S=this._pathData.pi,i=this._pathData.f.v,o=1,s=!(r=a=0),u=S.segments,i<0&&f.v.c)for(S.tLength<Math.abs(i)&&(i=-Math.abs(i)%S.tLength),o=(l=u[a=u.length-1].points).length-1;i<0;)i+=l[o].partialLength,--o<0&&(o=(l=u[--a].points).length-1);h=(l=u[a].points)[o-1],c=(n=l[o]).partialLength}A=x.length;var P,C,R,O,M,I,D,k,N,F,L,B,G,U,V,j,H=0,X=0,z=1.2*t.finalSize*.714,q=!0,Y=g.length,W=-1,$=i,Z=a,Q=o,K=-1,J="",tt=this.defaultPropsArray;if(2===t.j||1===t.j){var et=0,it=0,nt=2===t.j?-.5:-1,rt=0,st=!0;for(w=0;w<A;w+=1)if(x[w].n){for(et&&(et+=it);rt<w;)x[rt].animatorJustifyOffset=et,rt+=1;st=!(et=0)}else{for(at=0;at<Y;at+=1)(P=g[at].a).t.propType&&(st&&2===t.j&&(it+=P.t.v*nt),(R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars)).length?et+=P.t.v*R[0]*nt:et+=P.t.v*R*nt);st=!1}for(et&&(et+=it);rt<w;)x[rt].animatorJustifyOffset=et,rt+=1}for(w=0;w<A;w+=1){if(y.reset(),D=1,x[w].n)H=0,X+=t.yOffset,X+=q?1:0,i=$,q=!1,this._hasMaskedPath&&(h=(l=u[a=Z].points)[(o=Q)-1],c=(n=l[o]).partialLength,r=0),V=B=U=J="",tt=this.defaultPropsArray;else{if(this._hasMaskedPath){if(K!==x[w].line){switch(t.j){case 1:i+=p-t.lineWidths[x[w].line];break;case 2:i+=(p-t.lineWidths[x[w].line])/2}K=x[w].line}W!==x[w].ind&&(x[W]&&(i+=x[W].extra),i+=x[w].an/2,W=x[w].ind),i+=m[0]*x[w].an*.005;for(var ot=0,at=0;at<Y;at+=1)(P=g[at].a).p.propType&&((R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars)).length?ot+=P.p.v[0]*R[0]:ot+=P.p.v[0]*R),P.a.propType&&((R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars)).length?ot+=P.a.v[0]*R[0]:ot+=P.a.v[0]*R);for(s=!0,this._pathData.a.v&&(i=.5*x[0].an+(p-this._pathData.f.v-.5*x[0].an-.5*x[x.length-1].an)*W/(A-1),i+=this._pathData.f.v);s;)i+ot<=r+c||!l?(d=(i+ot-r)/n.partialLength,M=h.point[0]+(n.point[0]-h.point[0])*d,I=h.point[1]+(n.point[1]-h.point[1])*d,y.translate(-m[0]*x[w].an*.005,-m[1]*z*.01),s=!1):l&&(r+=n.partialLength,(o+=1)>=l.length&&(o=0,l=u[a+=1]?u[a].points:f.v.c?u[a=o=0].points:(r-=n.partialLength,null)),l&&(h=n,c=(n=l[o]).partialLength));O=x[w].an/2-x[w].add,y.translate(-O,0,0)}else O=x[w].an/2-x[w].add,y.translate(-O,0,0),y.translate(-m[0]*x[w].an*.005,-m[1]*z*.01,0);for(at=0;at<Y;at+=1)(P=g[at].a).t.propType&&(R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars),0===H&&0===t.j||(this._hasMaskedPath?R.length?i+=P.t.v*R[0]:i+=P.t.v*R:R.length?H+=P.t.v*R[0]:H+=P.t.v*R));for(t.strokeWidthAnim&&(N=t.sw||0),t.strokeColorAnim&&(k=t.sc?[t.sc[0],t.sc[1],t.sc[2]]:[0,0,0]),t.fillColorAnim&&t.fc&&(F=[t.fc[0],t.fc[1],t.fc[2]]),at=0;at<Y;at+=1)(P=g[at].a).a.propType&&((R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars)).length?y.translate(-P.a.v[0]*R[0],-P.a.v[1]*R[1],P.a.v[2]*R[2]):y.translate(-P.a.v[0]*R,-P.a.v[1]*R,P.a.v[2]*R));for(at=0;at<Y;at+=1)(P=g[at].a).s.propType&&((R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars)).length?y.scale(1+(P.s.v[0]-1)*R[0],1+(P.s.v[1]-1)*R[1],1):y.scale(1+(P.s.v[0]-1)*R,1+(P.s.v[1]-1)*R,1));for(at=0;at<Y;at+=1){if(P=g[at].a,R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars),P.sk.propType&&(R.length?y.skewFromAxis(-P.sk.v*R[0],P.sa.v*R[1]):y.skewFromAxis(-P.sk.v*R,P.sa.v*R)),P.r.propType&&(R.length?y.rotateZ(-P.r.v*R[2]):y.rotateZ(-P.r.v*R)),P.ry.propType&&(R.length?y.rotateY(P.ry.v*R[1]):y.rotateY(P.ry.v*R)),P.rx.propType&&(R.length?y.rotateX(P.rx.v*R[0]):y.rotateX(P.rx.v*R)),P.o.propType&&(R.length?D+=(P.o.v*R[0]-D)*R[0]:D+=(P.o.v*R-D)*R),t.strokeWidthAnim&&P.sw.propType&&(R.length?N+=P.sw.v*R[0]:N+=P.sw.v*R),t.strokeColorAnim&&P.sc.propType)for(L=0;L<3;L+=1)R.length?k[L]+=(P.sc.v[L]-k[L])*R[0]:k[L]+=(P.sc.v[L]-k[L])*R;if(t.fillColorAnim&&t.fc){if(P.fc.propType)for(L=0;L<3;L+=1)R.length?F[L]+=(P.fc.v[L]-F[L])*R[0]:F[L]+=(P.fc.v[L]-F[L])*R;P.fh.propType&&(F=R.length?addHueToRGB(F,P.fh.v*R[0]):addHueToRGB(F,P.fh.v*R)),P.fs.propType&&(F=R.length?addSaturationToRGB(F,P.fs.v*R[0]):addSaturationToRGB(F,P.fs.v*R)),P.fb.propType&&(F=R.length?addBrightnessToRGB(F,P.fb.v*R[0]):addBrightnessToRGB(F,P.fb.v*R))}}for(at=0;at<Y;at+=1)(P=g[at].a).p.propType&&(R=g[at].s.getMult(x[w].anIndexes[at],_.a[at].s.totalChars),this._hasMaskedPath?R.length?y.translate(0,P.p.v[1]*R[0],-P.p.v[2]*R[1]):y.translate(0,P.p.v[1]*R,-P.p.v[2]*R):R.length?y.translate(P.p.v[0]*R[0],P.p.v[1]*R[1],-P.p.v[2]*R[2]):y.translate(P.p.v[0]*R,P.p.v[1]*R,-P.p.v[2]*R));if(t.strokeWidthAnim&&(B=N<0?0:N),t.strokeColorAnim&&(G="rgb("+Math.round(255*k[0])+","+Math.round(255*k[1])+","+Math.round(255*k[2])+")"),t.fillColorAnim&&t.fc&&(U="rgb("+Math.round(255*F[0])+","+Math.round(255*F[1])+","+Math.round(255*F[2])+")"),this._hasMaskedPath)y.translate(0,-t.ls),y.translate(0,m[1]*z*.01+X,0),this._pathData.p.v&&(j=(n.point[1]-h.point[1])/(n.point[0]-h.point[0]),j=180*Math.atan(j)/Math.PI,n.point[0]<h.point[0]&&(j+=180),y.rotate(-j*Math.PI/180)),y.translate(M,I,0),i-=m[0]*x[w].an*.005,x[w+1]&&W!==x[w+1].ind&&(i+=x[w].an/2,i+=.001*t.tr*t.finalSize);else{switch(y.translate(H,X,0),t.ps&&y.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:y.translate(x[w].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[x[w].line]),0,0);break;case 2:y.translate(x[w].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[x[w].line])/2,0,0)}y.translate(0,-t.ls),y.translate(O,0,0),y.translate(m[0]*x[w].an*.005,m[1]*z*.01,0),H+=x[w].l+.001*t.tr*t.finalSize}"html"===v?J=y.toCSS():"svg"===v?J=y.to2dCSS():tt=[y.props[0],y.props[1],y.props[2],y.props[3],y.props[4],y.props[5],y.props[6],y.props[7],y.props[8],y.props[9],y.props[10],y.props[11],y.props[12],y.props[13],y.props[14],y.props[15]],V=D}b<=w?(C=new LetterProps(V,B,G,U,J,tt),this.renderedLetters.push(C),b+=1,this.lettersChangedFlag=!0):(C=this.renderedLetters[w],this.lettersChangedFlag=C.update(V,B,G,U,J,tt)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(t,e,i,n,r,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var o=this._mdf.p=!1;return this.o!==t&&(this.o=t,o=this._mdf.o=!0),this.sw!==e&&(this.sw=e,o=this._mdf.sw=!0),this.sc!==i&&(this.sc=i,o=this._mdf.sc=!0),this.fc!==n&&(this.fc=n,o=this._mdf.fc=!0),this.m!==r&&(this.m=r,o=this._mdf.m=!0),!s.length||this.p[0]===s[0]&&this.p[1]===s[1]&&this.p[4]===s[4]&&this.p[5]===s[5]&&this.p[12]===s[12]&&this.p[13]===s[13]||(this.p=s,o=this._mdf.p=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||t){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,i=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;for(var n=this.effectsSequence.length,r=t||this.data.d.k[this.keysIndex].s,s=0;s<n;s+=1)r=i!==this.keysIndex?this.effectsSequence[s](r,r.t):this.effectsSequence[s](this.currentData,r.t);e!==r&&this.setCurrentData(r),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,e=this.elem.comp.renderedFrame,i=0,n=t.length;i<=n-1&&!(i===n-1||t[i+1].t>e);)i+=1;return this.keysIndex!==i&&(this.keysIndex=i),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var e,i,n=[],r=0,s=t.length,o=!1;r<s;)e=t.charCodeAt(r),FontManager.isCombinedCharacter(e)?n[n.length-1]+=t.charAt(r):55296<=e&&e<=56319?56320<=(i=t.charCodeAt(r+1))&&i<=57343?(o||FontManager.isModifier(e,i)?(n[n.length-1]+=t.substr(r,2),o=!1):n.push(t.substr(r,2)),r+=1):n.push(t.charAt(r)):56319<e?(i=t.charCodeAt(r+1),FontManager.isZeroWidthJoiner(e,i)?(o=!0,n[n.length-1]+=t.substr(r,2),r+=1):n.push(t.charAt(r))):FontManager.isZeroWidthJoiner(e)?(n[n.length-1]+=t.charAt(r),o=!0):n.push(t.charAt(r)),r+=1;return n},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var e,i,n,r=this.elem.globalData.fontManager,s=this.data,o=[],a=0,h=s.m.g,l=0,u=0,c=0,p=[],d=0,f=0,m=r.getFontByName(t.f),g=0,_=getFontProperties(m);t.fWeight=_.weight,t.fStyle=_.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),A=t.finalText.length,t.finalLineHeight=t.lh;var y,v=t.tr/1e3*t.finalSize;if(t.sz)for(var b=!0,x=t.sz[0],T=t.sz[1];b;){for(var E,S=0,d=0,A=(E=this.buildFinalText(t.t)).length,v=t.tr/1e3*t.finalSize,w=-1,P=0;P<A;P+=1)y=E[P].charCodeAt(0),e=!1," "===E[P]?w=P:13!==y&&3!==y||(e=!(d=0),S+=t.finalLineHeight||1.2*t.finalSize),x<d+(g=r.chars?(n=r.getCharData(E[P],m.fStyle,m.fFamily),e?0:n.w*t.finalSize/100):r.measureText(E[P],t.f,t.finalSize))&&" "!==E[P]?(-1===w?A+=1:P=w,S+=t.finalLineHeight||1.2*t.finalSize,E.splice(P,w===P?1:0,"\r"),w=-1,d=0):(d+=g,d+=v);S+=m.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&T<S?(--t.finalSize,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=E,A=t.finalText.length,b=!1)}d=-v;var C,g=0,R=0;for(P=0;P<A;P+=1)if(e=!1,13===(y=(C=t.finalText[P]).charCodeAt(0))||3===y?(R=0,p.push(d),f=f<d?d:f,d=-2*v,e=!(i=""),c+=1):i=C,g=r.chars?(n=r.getCharData(C,m.fStyle,r.getFontByName(t.f).fFamily),e?0:n.w*t.finalSize/100):r.measureText(i,t.f,t.finalSize)," "===C?R+=g+v:(d+=g+v+R,R=0),o.push({l:g,an:g,add:l,n:e,anIndexes:[],val:i,line:c,animatorJustifyOffset:0}),2==h){if(l+=g,""===i||" "===i||P===A-1){for(""!==i&&" "!==i||(l-=g);u<=P;)o[u].an=l,o[u].ind=a,o[u].extra=g,u+=1;a+=1,l=0}}else if(3==h){if(l+=g,""===i||P===A-1){for(""===i&&(l-=g);u<=P;)o[u].an=l,o[u].ind=a,o[u].extra=g,u+=1;l=0,a+=1}}else o[a].ind=a,o[a].extra=0,a+=1;if(t.l=o,f=f<d?d:f,p.push(d),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=f,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=p;for(var O,M,I,D,k=s.a,N=k.length,F=[],L=0;L<N;L+=1){for((O=k[L]).a.sc&&(t.strokeColorAnim=!0),O.a.sw&&(t.strokeWidthAnim=!0),(O.a.fc||O.a.fh||O.a.fs||O.a.fb)&&(t.fillColorAnim=!0),I=O.s.b,P=D=0;P<A;P+=1)(M=o[P]).anIndexes[L]=D,(1==I&&""!==M.val||2==I&&""!==M.val&&" "!==M.val||3==I&&(M.n||" "==M.val||P==A-1)||4==I&&(M.n||P==A-1))&&(1===O.s.rn&&F.push(D),D+=1);s.a[L].s.totalChars=D;var B,G=-1;if(1===O.s.rn)for(P=0;P<A;P+=1)G!=(M=o[P]).anIndexes[L]&&(G=M.anIndexes[L],B=F.splice(Math.floor(Math.random()*F.length),1)[0]),M.anIndexes[L]=B}t.yOffset=t.finalLineHeight||1.2*t.finalSize,t.ls=t.ls||0,t.ascent=m.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,e){e=void 0===e?this.keysIndex:e;var i=this.copyData({},this.data.d.k[e].s),i=this.copyData(i,t);this.data.d.k[e].s=i,this.recalculate(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){t=this.data.d.k[t].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(sSb=Math.max,tSb=Math.min,uSb=Math.floor,vSb.prototype={getMult:function(t){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var e=0,i=0,n=1,r=1;0<this.ne.v?e=this.ne.v/100:i=-this.ne.v/100,0<this.xe.v?n=1-this.xe.v/100:r=1+this.xe.v/100;var s=BezierFactory.getBezierEasing(e,i,n,r).get,o=0,e=this.finalS,i=this.finalE,n=this.data.sh;return o=2===n?s(o=i===e?i<=t?1:0:sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1))):3===n?s(o=i===e?i<=t?0:1:1-sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1))):4===n?(i===e?o=0:(o=sSb(0,tSb(.5/(i-e)+(t-e)/(i-e),1)))<.5?o*=2:o=1-2*(o-.5),s(o)):s(o=5===n?i===e?0:(s=-(r=i-e)/2+(t=tSb(sSb(0,t+.5-e),i-e)),r=r/2,Math.sqrt(1-s*s/(r*r))):6===n?i===e?0:(t=tSb(sSb(0,t+.5-e),i-e),(1+Math.cos(Math.PI+2*Math.PI*t/(i-e)))/2):t>=uSb(e)?sSb(0,tSb(t-e<0?tSb(i,1)-(e-t):i-t,1)):o),100!==this.sm.v&&(o<(t=.5-.5*(i=0===(i=.01*this.sm.v)?1e-8:i))?o=0:1<(o=(o-t)/i)&&(o=1)),o*this.a.v},getValue:function(t){this.iterateDynamicProperties(),this._mdf=t||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,t&&2===this.data.r&&(this.e.v=this._currentTextLength);var e=2===this.data.r?1:100/this.data.totalChars,i=this.o.v/e,t=this.s.v/e+i,e=this.e.v/e+i;e<t&&(i=t,t=e,e=i),this.finalS=t,this.finalE=e}},extendPrototype([DynamicPropertyContainer],vSb),{getTextSelectorProp:function(t,e,i){return new vSb(t,e)}}),sSb,tSb,uSb;function vSb(t,e){this._currentTextLength=-1,this.k=!1,this.data=e,this.elem=t,this.comp=t.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(t),this.s=PropertyFactory.getProp(t,e.s||{k:0},0,0,this),"e"in e?this.e=PropertyFactory.getProp(t,e.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(t,e.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(t,e.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(t,e.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(t,e.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(t,e.a,0,.01,this),this.dynamicProperties.length||this.getValue()}var poolFactory=function(t,e,i){var n=0,r=t,s=createSizedArray(r);return{newElement:function(){var t;t=n?s[--n]:e();return t},release:function(t){n===r&&(s=pooling.double(s),r*=2);i&&i(t);s[n]=t,n+=1}}},pooling={double:function(t){return t.concat(createSizedArray(t.length))}},pointPool=poolFactory(8,function(){return createTypedArray("float32",2)}),shapePool=(mTb=poolFactory(4,function(){return new ShapePath},function(t){for(var e=t._length,i=0;i<e;i+=1)pointPool.release(t.v[i]),pointPool.release(t.i[i]),pointPool.release(t.o[i]),t.v[i]=null,t.i[i]=null,t.o[i]=null;t._length=0,t.c=!1}),mTb.clone=function(t){var e,i=mTb.newElement(),n=void 0===t._length?t.v.length:t._length;for(i.setLength(n),i.c=t.c,e=0;e<n;e+=1)i.setTripleAt(t.v[e][0],t.v[e][1],t.o[e][0],t.o[e][1],t.i[e][0],t.i[e][1],e);return i},mTb),mTb,shapeCollectionPool=(uTb={newShapeCollection:function(){var t;t=vTb?xTb[--vTb]:new ShapeCollection;return t},release:function(t){var e,i=t._length;for(e=0;e<i;e+=1)shapePool.release(t.shapes[e]);t._length=0,vTb===wTb&&(xTb=pooling.double(xTb),wTb*=2);xTb[vTb]=t,vTb+=1}},vTb=0,wTb=4,xTb=createSizedArray(wTb),uTb),uTb,vTb,wTb,xTb,segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(t){for(var e=t.lengths.length,i=0;i<e;i+=1)bezierLengthPool.release(t.lengths[i]);t.lengths.length=0}),bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),markerParser=function(e){for(var t=[],i=0;i<e.length;i+=1){var n=e[i],n={time:n.tm,duration:n.dr};try{n.payload=JSON.parse(e[i].cm)}catch(t){try{n.payload=function(t){for(var e,i=t.split("\r\n"),n={},r=0,s=0;s<i.length;s+=1)2===(e=i[s].split(":")).length&&(n[e[0]]=e[1].trim(),r+=1);if(0===r)throw new Error;return n}(e[i].cm)}catch(t){n.payload={name:e[i]}}}t.push(n)}return t};function BaseRenderer(){}function SVGRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var i,n="";e&&e.title&&(t=createNS("title"),i=createElementID(),t.setAttribute("id",i),t.textContent=e.title,this.svgElement.appendChild(t),n+=i),e&&e.description&&(i=createNS("desc"),r=createElementID(),i.setAttribute("id",r),i.textContent=e.description,this.svgElement.appendChild(i),n+=" "+r),n&&this.svgElement.setAttribute("aria-labelledby",n);var r=createNS("defs");this.svgElement.appendChild(r);n=createNS("g");this.svgElement.appendChild(n),this.layerElement=n,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&!1===e.hideOnTransparent),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:r,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(t,e){this.animationItem=t,this.renderConfig={clearCanvas:!e||void 0===e.clearCanvas||e.clearCanvas,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||""},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(t,e){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&!1===e.hideOnTransparent),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(t,e,i){this.data=t,this.element=e,this.globalData=i,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n,r=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";for(var o,a,h,l,u=this.masksProperties,c=0,p=[],d=createElementID(),f="clipPath",m="clip-path",g=0;g<s;g+=1)if(("a"!==u[g].mode&&"n"!==u[g].mode||u[g].inv||100!==u[g].o.k||u[g].o.x)&&(m=f="mask"),"s"!==u[g].mode&&"i"!==u[g].mode||0!==c?o=null:((o=createNS("rect")).setAttribute("fill","#ffffff"),o.setAttribute("width",this.element.comp.data.w||0),o.setAttribute("height",this.element.comp.data.h||0),p.push(o)),n=createNS("path"),"n"===u[g].mode)this.viewData[g]={op:PropertyFactory.getProp(this.element,u[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[g],3),elem:n,lastPath:""},r.appendChild(n);else{if(c+=1,n.setAttribute("fill","s"===u[g].mode?"#000000":"#ffffff"),n.setAttribute("clip-rule","nonzero"),0!==u[g].x.k?(m=f="mask",h=PropertyFactory.getProp(this.element,u[g].x,0,null,this.element),l=createElementID(),(b=createNS("filter")).setAttribute("id",l),(a=createNS("feMorphology")).setAttribute("operator","erode"),a.setAttribute("in","SourceGraphic"),a.setAttribute("radius","0"),b.appendChild(a),r.appendChild(b),n.setAttribute("stroke","s"===u[g].mode?"#000000":"#ffffff")):h=a=null,this.storedData[g]={elem:n,x:h,expan:a,lastPath:"",lastOperator:"",filterId:l,lastRadius:0},"i"===u[g].mode){for(var _=p.length,y=createNS("g"),v=0;v<_;v+=1)y.appendChild(p[v]);var b=createNS("mask");b.setAttribute("mask-type","alpha"),b.setAttribute("id",d+"_"+c),b.appendChild(n),r.appendChild(b),y.setAttribute("mask","url("+locationHref+"#"+d+"_"+c+")"),p.length=0,p.push(y)}else p.push(n);u[g].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[g]={elem:n,lastPath:"",op:PropertyFactory.getProp(this.element,u[g].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,u[g],3),invRect:o},this.viewData[g].prop.k||this.drawPath(u[g],this.viewData[g].prop.v,this.viewData[g])}for(this.maskElement=createNS(f),s=p.length,g=0;g<s;g+=1)this.maskElement.appendChild(p[g]);0<c&&(this.maskElement.setAttribute("id",d),this.element.maskedElement.setAttribute(m,"url("+locationHref+"#"+d+")"),r.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(t,e){this.elem=t,this.pos=e}function SVGStyleData(t,e){this.data=t,this.type=t.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=!0===t.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(t,e,i){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=i,this.lvl=e,this._isAnimated=!!i.k;for(var n=0,r=t.length;n<r;){if(t[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(t,e,i){this.transform={mProps:t,op:e,container:i},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.c=PropertyFactory.getProp(t,e.c,1,255,this),this.style=i}function SVGGradientFillStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,e,i)}function SVGGradientStrokeStyleData(t,e,i){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,e.w,0,null,this),this.d=new DashProperty(t,e.d||{},"svg",this),this.initGradientData(t,e,i),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(t){var e,i,n=this.layers.length;for(this.completeLayers=!0,e=n-1;0<=e;--e)this.elements[e]||(i=this.layers[e]).ip-i.st<=t-this.layers[e].st&&i.op-i.st>t-this.layers[e].st&&this.buildItem(e),this.completeLayers=!!this.elements[e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;for(var e,i=t.length,n=this.layers.length,r=0;r<i;r+=1)for(e=0;e<n;){if(this.layers[e].id===t[r].id){this.layers[e]=t[r];break}e+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,e,i){for(var n=this.elements,r=this.layers,s=0,o=r.length;s<o;)r[s].ind==e&&(n[s]&&!0!==n[s]?(i.push(n[s]),n[s].setAsParent(),void 0!==r[s].parent?this.buildElementParenting(t,r[s].parent,i):t.setHierarchy(i)):(this.buildItem(s),this.addPendingElement(t))),s+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,n=0;n<i;n+=1)t[n].xt&&((e=this.createComp(t[n])).initExpressions(),this.globalData.projectInterface.registerComposition(e))},BaseRenderer.prototype.setupGlobalData=function(t,e){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRenderer.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRenderer.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRenderer.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)},SVGRenderer.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(t,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var i=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",t.w),n.setAttribute("height",t.h),n.setAttribute("x",0),n.setAttribute("y",0);var r=createElementID();i.setAttribute("id",r),i.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+r+")"),e.appendChild(i),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99===this.layers[t].ty||(i[t]=!0,e=this.createItem(this.layers[t]),i[t]=e,expressionsPlugin&&(0===this.layers[t].ty&&this.globalData.projectInterface.registerComposition(e),e.initExpressions()),this.appendElementInPos(e,t),this.layers[t].tt&&(this.elements[t-1]&&!0!==this.elements[t-1]?e.setMatte(i[t-1].layerId):(this.buildItem(t-1),this.addPendingElement(e))))},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var e=0,i=this.elements.length;e<i;){if(this.elements[e]===t){t.setMatte(this.elements[e-1].layerId);break}e+=1}}},SVGRenderer.prototype.renderFrame=function(t){if(this.renderedFrame!==t&&!this.destroyed){var e;null===t?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var i=this.layers.length;for(this.completeLayers||this.checkLayers(t),e=i-1;0<=e;--e)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(t-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<i;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(t,e){t=t.getBaseElement();if(t){for(var i,n=0;n<e;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRenderer.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRenderer.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(t){var e;1===t[0]&&0===t[1]&&0===t[4]&&1===t[5]&&0===t[12]&&0===t[13]||(this.renderConfig.clearCanvas?(this.transformMat.cloneFromProps(t),e=this.contextData.cTr.props,this.transformMat.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props),e=this.contextData.cTr.props,this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13])):this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]))},CanvasRenderer.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=t<0?0:t,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(t){if(this.renderConfig.clearCanvas){t&&this.canvasContext.save();var e=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();for(var i=this.contextData.saved[this.contextData.cArrPos],n=0;n<16;n+=1)i[n]=e[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(t){if(this.renderConfig.clearCanvas){t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),--this.contextData.cArrPos;for(var e=this.contextData.saved[this.contextData.cArrPos],i=this.contextData.cTr.props,n=0;n<16;n+=1)i[n]=e[n];this.canvasContext.setTransform(e[0],e[1],e[4],e[5],e[12],e[13]),e=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=e,this.globalData.currentGlobalAlpha!==e&&(this.canvasContext.globalAlpha=e,this.globalData.currentGlobalAlpha=e)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(t){var e,i;this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),(e=this.animationItem.container.style).width="100%",e.height="100%",e.transformOrigin=i="0px 0px 0px",e.mozTransformOrigin=i,e.webkitTransformOrigin=i,e["-webkit-transform"]=i,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var t,e,i,n,r,s,o;this.reset(),this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",e*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,e=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")?(i=(s=this.renderConfig.preserveAspectRatio.split(" "))[1]||"meet",n=(o=s[0]||"xMidYMid").substr(0,4),r=o.substr(4),(s=t/e)<(o=this.transformCanvas.w/this.transformCanvas.h)&&"meet"===i||o<s&&"slice"===i?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=e/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===n&&(o<s&&"meet"===i||s<o&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===n&&(o<s&&"meet"===i||s<o&&"slice"===i)?(t-this.transformCanvas.w*(e/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===r&&(s<o&&"meet"===i||o<s&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===r&&(s<o&&"meet"===i||o<s&&"slice"===i)?(e-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:0):("none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=e/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0),this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");for(var t=(this.layers?this.layers.length:0)-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(t,e){if((this.renderedFrame!==t||!0!==this.renderConfig.clearCanvas||e)&&!this.destroyed&&-1!==t){var i;this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=t;var n=this.layers.length;for(this.completeLayers||this.checkLayers(t),i=0;i<n;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(t-this.layers[i].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),i=n-1;0<=i;--i)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(t){var e,i=this.elements;i[t]||99===this.layers[t].ty||(e=this.createItem(this.layers[t],this,this.globalData),(i[t]=e).initExpressions())},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(t,e){var i=t.getBaseElement();if(i){t=this.layers[e];if(t.ddd&&this.supports3d)this.addTo3dContainer(i,e);else if(this.threeDElements)this.addTo3dContainer(i,e);else{for(var n,r,s=0;s<e;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s],n=(this.layers[s].ddd?this.getThreeDContainerByPos(s):r.getBaseElement())||n),s+=1;n?t.ddd&&this.supports3d||this.layerElement.insertBefore(i,n):t.ddd&&this.supports3d||this.layerElement.appendChild(i)}}},HybridRenderer.prototype.createShape=function(t){return new(this.supports3d?HShapeElement:SVGShapeElement)(t,this.globalData,this)},HybridRenderer.prototype.createText=function(t){return new(this.supports3d?HTextElement:SVGTextLottieElement)(t,this.globalData,this)},HybridRenderer.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(t){return new(this.supports3d?HImageElement:IImageElement)(t,this.globalData,this)},HybridRenderer.prototype.createComp=function(t){return new(this.supports3d?HCompElement:SVGCompElement)(t,this.globalData,this)},HybridRenderer.prototype.createSolid=function(t){return new(this.supports3d?HSolidElement:ISolidElement)(t,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(t){for(var e=0,i=this.threeDElements.length;e<i;){if(this.threeDElements[e].startPos<=t&&this.threeDElements[e].endPos>=t)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRenderer.prototype.createThreeDContainer=function(t,e){var i=createTag("div");styleDiv(i);var n,r,s=createTag("div");styleDiv(s),"3d"===e&&((n=i.style).width=this.globalData.compSize.w+"px",n.height=this.globalData.compSize.h+"px",n.webkitTransformOrigin=r="50% 50%",n.mozTransformOrigin=r,n.transformOrigin=r,(n=s.style).transform=r="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",n.webkitTransform=r),i.appendChild(s);e={container:s,perspectiveElem:i,startPos:t,endPos:t,type:e};return this.threeDElements.push(e),e},HybridRenderer.prototype.build3dContainers=function(){for(var t,e=this.layers.length,i="",n=0;n<e;n+=1)this.layers[n].ddd&&3!==this.layers[n].ty?(t="3d"!==i?this.createThreeDContainer(n,i="3d"):t).endPos=Math.max(t.endPos,n):(t="2d"!==i?this.createThreeDContainer(n,i="2d"):t).endPos=Math.max(t.endPos,n);for(n=(e=this.threeDElements.length)-1;0<=n;--n)this.resizerElem.appendChild(this.threeDElements[n].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(t,e){for(var i=0,n=this.threeDElements.length;i<n;){if(e<=this.threeDElements[i].endPos){for(var r,s=this.threeDElements[i].startPos;s<e;)this.elements[s]&&this.elements[s].getBaseElement&&(r=this.elements[s].getBaseElement()),s+=1;r?this.threeDElements[i].container.insertBefore(t,r):this.threeDElements[i].container.appendChild(t);break}i+=1}},HybridRenderer.prototype.configAnimation=function(t){var e=createTag("div"),i=this.animationItem.wrapper,n=e.style;n.width=t.w+"px",n.height=t.h+"px",styleDiv(this.resizerElem=e),n.transformStyle="flat",n.mozTransformStyle="flat",n.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),i.appendChild(e),n.overflow="hidden";e=createNS("svg");e.setAttribute("width","1"),e.setAttribute("height","1"),styleDiv(e),this.resizerElem.appendChild(e);n=createNS("defs");e.appendChild(n),this.data=t,this.setupGlobalData(t,e),this.globalData.defs=n,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;for(var t=this.layers?this.layers.length:0,e=0;e<t;e+=1)this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var t,e,i,n=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight,n=n/r<this.globalData.compSize.w/this.globalData.compSize.h?(t=n/this.globalData.compSize.w,e=n/this.globalData.compSize.w,i=0,(r-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(t=r/this.globalData.compSize.h,e=r/this.globalData.compSize.h,i=(n-this.globalData.compSize.w*(r/this.globalData.compSize.h))/2,0),r=this.resizerElem.style;r.webkitTransform="matrix3d("+t+",0,0,0,0,"+e+",0,0,0,0,1,0,"+i+","+n+",0,1)",r.transform=r.webkitTransform},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else for(var t=this.globalData.compSize.w,e=this.globalData.compSize.h,i=this.threeDElements.length,n=0;n<i;n+=1){var r=this.threeDElements[n].perspectiveElem.style;r.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(e,2))+"px",r.perspective=r.webkitPerspective}},HybridRenderer.prototype.searchExtraCompositions=function(t){for(var e,i=t.length,n=createTag("div"),r=0;r<i;r+=1)t[r].xt&&((e=this.createComp(t[r],n,this.globalData.comp,null)).initExpressions(),this.globalData.projectInterface.registerComposition(e))},MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){for(var e,i=this.element.finalTransform.mat,n=this.masksProperties.length,r=0;r<n;r+=1)(this.viewData[r].prop._mdf||t)&&this.drawPath(this.masksProperties[r],this.viewData[r].prop.v,this.viewData[r]),(this.viewData[r].op._mdf||t)&&this.viewData[r].elem.setAttribute("fill-opacity",this.viewData[r].op.v),"n"!==this.masksProperties[r].mode&&(this.viewData[r].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[r].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[r].x&&(this.storedData[r].x._mdf||t)&&(e=this.storedData[r].expan,this.storedData[r].x.v<0?("erode"!==this.storedData[r].lastOperator&&(this.storedData[r].lastOperator="erode",this.storedData[r].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[r].filterId+")")),e.setAttribute("radius",-this.storedData[r].x.v)):("dilate"!==this.storedData[r].lastOperator&&(this.storedData[r].lastOperator="dilate",this.storedData[r].elem.setAttribute("filter",null)),this.storedData[r].elem.setAttribute("stroke-width",2*this.storedData[r].x.v))))},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(t,e,i){for(var n,r=" M"+e.v[0][0]+","+e.v[0][1],s=e._length,o=1;o<s;o+=1)r+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[o][0]+","+e.i[o][1]+" "+e.v[o][0]+","+e.v[o][1];e.c&&1<s&&(r+=" C"+e.o[o-1][0]+","+e.o[o-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),i.lastPath!==r&&(n="",i.elem&&(e.c&&(n=t.inv?this.solidPath+r:r),i.elem.setAttribute("d",n)),i.lastPath=r)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(t){this.hierarchy=t},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(t,e){for(var i=this.dynamicProperties.length,n=0;n<i;n+=1)(e||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(t){-1===this.dynamicProperties.indexOf(t)&&this.dynamicProperties.push(t)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var t,e=this.finalTransform.mat,i=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;i<n;){if(this.hierarchy[i].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}i+=1}if(this.finalTransform._matMdf)for(t=this.finalTransform.mProp.v.props,e.cloneFromProps(t),i=0;i<n;i+=1)t=this.hierarchy[i].finalTransform.mProp.v.props,e.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}},globalToLocal:function(t){var e=[];e.push(this.finalTransform);for(var i=!0,n=this.comp;i;)n.finalTransform?(n.data.hasMask&&e.splice(0,0,n.finalTransform),n=n.comp):i=!1;for(var r,s=e.length,o=0;o<s;o+=1)r=e[o].mat.applyToPointArray(0,0,0),t=[t[0]-r[0],t[1]-r[1],0];return t},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(t){-1===this.renderableComponents.indexOf(t)&&this.renderableComponents.push(t)},removeRenderableComponent:function(t){-1!==this.renderableComponents.indexOf(t)&&this.renderableComponents.splice(this.renderableComponents.indexOf(t),1)},prepareRenderableFrame:function(t){this.checkLayerLimits(t)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(t){this.data.ip-this.data.st<=t&&this.data.op-this.data.st>t?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){for(var t=this.renderableComponents.length,e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(t,e,i){this.o=PropertyFactory.getProp(t,e.o,0,.01,this),this.s=PropertyFactory.getProp(t,e.s,1,null,this),this.e=PropertyFactory.getProp(t,e.e,1,null,this),this.h=PropertyFactory.getProp(t,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,e.g,this),this.style=i,this.stops=[],this.setGradientData(i.pElem,e),this.setGradientOpacity(e,i),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,e){var i=createElementID(),n=createNS(1===e.t?"linearGradient":"radialGradient");n.setAttribute("id",i),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");for(var r,s=[],o=4*e.g.p,a=0;a<o;a+=4)r=createNS("stop"),n.appendChild(r),s.push(r);t.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+i+")"),this.gf=n,this.cst=s},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,e){if(this.g._hasOpacity&&!this.g._collapsable){var i,n=createNS("mask"),r=createNS("path");n.appendChild(r);var s=createElementID(),o=createElementID();n.setAttribute("id",o);var a=createNS(1===t.t?"linearGradient":"radialGradient");a.setAttribute("id",s),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");for(var h=(t.g.k.k[0].s||t.g.k.k).length,l=this.stops,u=4*t.g.p;u<h;u+=2)(i=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),a.appendChild(i),l.push(i);r.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),"gs"===t.ty&&(r.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),r.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),1===t.lj&&r.setAttribute("stroke-miterlimit",t.ml)),this.of=a,this.ms=n,this.ost=l,this.maskId=o,e.msElem=r}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=(kZb=new Matrix,lZb=new Matrix,{createRenderFunction:function(t){switch(t.ty){case"fl":return qZb;case"gf":return sZb;case"gs":return rZb;case"st":return tZb;case"sh":case"el":case"rc":case"sr":return pZb;case"tr":return oZb;default:return null}}}),kZb,lZb;function oZb(t,e,i){(i||e.transform.op._mdf)&&e.transform.container.setAttribute("opacity",e.transform.op.v),(i||e.transform.mProps._mdf)&&e.transform.container.setAttribute("transform",e.transform.mProps.v.to2dCSS())}function pZb(t,e,i){for(var n,r,s,o,a,h,l,u,c,p,d=e.styles.length,f=e.lvl,m=0;m<d;m+=1){if(o=e.sh._mdf||i,e.styles[m].lvl<f){for(l=lZb.reset(),c=f-e.styles[m].lvl,p=e.transformers.length-1;!o&&0<c;)o=e.transformers[p].mProps._mdf||o,--c,--p;if(o)for(c=f-e.styles[m].lvl,p=e.transformers.length-1;0<c;)u=e.transformers[p].mProps.v.props,l.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),--c,--p}else l=kZb;if(r=(h=e.sh.paths)._length,o){for(s="",n=0;n<r;n+=1)(a=h.shapes[n])&&a._length&&(s+=buildShapeString(a,a._length,a.c,l));e.caches[m]=s}else s=e.caches[m];e.styles[m].d+=!0===t.hd?"":s,e.styles[m]._mdf=o||e.styles[m]._mdf}}function qZb(t,e,i){var n=e.style;(e.c._mdf||i)&&n.pElem.setAttribute("fill","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("fill-opacity",e.o.v)}function rZb(t,e,i){sZb(t,e,i),tZb(0,e,i)}function sZb(t,e,i){var n,r,s,o,a=e.gf,h=e.g._hasOpacity,l=e.s.v,u=e.e.v;if((e.o._mdf||i)&&(r="gf"===t.ty?"fill-opacity":"stroke-opacity",e.style.pElem.setAttribute(r,e.o.v)),(e.s._mdf||i)&&(r="x1"==(n=1===t.t?"x1":"cx")?"y1":"cy",a.setAttribute(n,l[0]),a.setAttribute(r,l[1]),h&&!e.g._collapsable&&(e.of.setAttribute(n,l[0]),e.of.setAttribute(r,l[1]))),e.g._cmdf||i)for(var c=e.cst,p=e.g.c,d=c.length,f=0;f<d;f+=1)(s=c[f]).setAttribute("offset",p[4*f]+"%"),s.setAttribute("stop-color","rgb("+p[4*f+1]+","+p[4*f+2]+","+p[4*f+3]+")");if(h&&(e.g._omdf||i)){var m=e.g.o;for(d=(c=e.g._collapsable?e.cst:e.ost).length,f=0;f<d;f+=1)s=c[f],e.g._collapsable||s.setAttribute("offset",m[2*f]+"%"),s.setAttribute("stop-opacity",m[2*f+1])}1===t.t?(e.e._mdf||i)&&(a.setAttribute("x2",u[0]),a.setAttribute("y2",u[1]),h&&!e.g._collapsable&&(e.of.setAttribute("x2",u[0]),e.of.setAttribute("y2",u[1]))):((e.s._mdf||e.e._mdf||i)&&(o=Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)),a.setAttribute("r",o),h&&!e.g._collapsable&&e.of.setAttribute("r",o)),(e.e._mdf||e.h._mdf||e.a._mdf||i)&&(o=o||Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)),i=Math.atan2(u[1]-l[1],u[0]-l[0]),1<=(u=e.h.v)?u=.99:u<=-1&&(u=-.99),o=o*u,u=Math.cos(i+e.a.v)*o+l[0],l=Math.sin(i+e.a.v)*o+l[1],a.setAttribute("fx",u),a.setAttribute("fy",l),h&&!e.g._collapsable&&(e.of.setAttribute("fx",u),e.of.setAttribute("fy",l))))}function tZb(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||i)&&r.dashStr&&(n.pElem.setAttribute("stroke-dasharray",r.dashStr),n.pElem.setAttribute("stroke-dashoffset",r.dashoffset[0])),e.c&&(e.c._mdf||i)&&n.pElem.setAttribute("stroke","rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i)&&n.pElem.setAttribute("stroke-opacity",e.o.v),(e.w._mdf||i)&&(n.pElem.setAttribute("stroke-width",e.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",e.w.v))}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(t,e,i,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var r=4;"rc"===e.ty?r=5:"el"===e.ty?r=6:"sr"===e.ty&&(r=7),this.sh=ShapePropertyFactory.getShapeProp(t,e,r,t);for(var s,o=i.length,a=0;a<o;a+=1)i[a].closed||(s={transforms:n.addTransformSequence(i[a].transforms),trNodes:[]},this.styledShapes.push(s),i[a].elements.push(s))}function BaseElement(){}function NullElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initFrame(),this.initTransform(t,e,i),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(t,e,i){this.initElement(t,e,i)}function AudioElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.initBaseData(t,e,i),this._isPlaying=!1,this._canPlay=!1;i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function FootageElement(t,e,i){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(t.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(t,e,i)}function SVGCompElement(t,e,i){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function SVGTextLottieElement(t,e,i){this.textSpans=[],this.renderType="svg",this.initElement(t,e,i)}function SVGShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,e,i),this.prevViewData=[]}function SVGTintFilter(t,e){this.filterManager=e;var i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),t.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),t.appendChild(i),this.matrixFilter=i,100===e.effectElements[2].p.v&&!e.effectElements[2].p.k||(e=createNS("feMerge"),t.appendChild(e),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","f2"),e.appendChild(t))}function SVGFillFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(e),this.matrixFilter=e}function SVGGaussianBlurEffect(t,e){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=e;e=createNS("feGaussianBlur");t.appendChild(e),this.feGaussianBlur=e}function SVGStrokeEffect(t,e){this.initialized=!1,this.filterManager=e,this.elem=t,this.paths=[]}function SVGTritoneFilter(t,e){this.filterManager=e;e=createNS("feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","linearRGB"),e.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.setAttribute("result","f1"),t.appendChild(e);e=createNS("feComponentTransfer");e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.matrixFilter=e;t=createNS("feFuncR");t.setAttribute("type","table"),e.appendChild(t),this.feFuncR=t;t=createNS("feFuncG");t.setAttribute("type","table"),e.appendChild(t),this.feFuncG=t;t=createNS("feFuncB");t.setAttribute("type","table"),e.appendChild(t),this.feFuncB=t}function SVGProLevelsFilter(t,e){this.filterManager=e;var i=this.filterManager.effectElements,e=createNS("feComponentTransfer");(i[10].p.k||0!==i[10].p.v||i[11].p.k||1!==i[11].p.v||i[12].p.k||1!==i[12].p.v||i[13].p.k||0!==i[13].p.v||i[14].p.k||1!==i[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",e)),(i[17].p.k||0!==i[17].p.v||i[18].p.k||1!==i[18].p.v||i[19].p.k||1!==i[19].p.v||i[20].p.k||0!==i[20].p.v||i[21].p.k||1!==i[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",e)),(i[24].p.k||0!==i[24].p.v||i[25].p.k||1!==i[25].p.v||i[26].p.k||1!==i[26].p.v||i[27].p.k||0!==i[27].p.v||i[28].p.k||1!==i[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",e)),(i[31].p.k||0!==i[31].p.v||i[32].p.k||1!==i[32].p.v||i[33].p.k||1!==i[33].p.v||i[34].p.k||0!==i[34].p.v||i[35].p.k||1!==i[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",e)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),e=createNS("feComponentTransfer")),(i[3].p.k||0!==i[3].p.v||i[4].p.k||1!==i[4].p.v||i[5].p.k||1!==i[5].p.v||i[6].p.k||0!==i[6].p.v||i[7].p.k||1!==i[7].p.v)&&(e.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(e),this.feFuncRComposed=this.createFeFunc("feFuncR",e),this.feFuncGComposed=this.createFeFunc("feFuncG",e),this.feFuncBComposed=this.createFeFunc("feFuncB",e))}function SVGDropShadowEffect(t,e){var i=e.container.globalData.renderConfig.filterSize;t.setAttribute("x",i.x),t.setAttribute("y",i.y),t.setAttribute("width",i.width),t.setAttribute("height",i.height),this.filterManager=e;e=createNS("feGaussianBlur");e.setAttribute("in","SourceAlpha"),e.setAttribute("result","drop_shadow_1"),e.setAttribute("stdDeviation","0"),this.feGaussianBlur=e,t.appendChild(e);e=createNS("feOffset");e.setAttribute("dx","25"),e.setAttribute("dy","0"),e.setAttribute("in","drop_shadow_1"),e.setAttribute("result","drop_shadow_2"),this.feOffset=e,t.appendChild(e);e=createNS("feFlood");e.setAttribute("flood-color","#00ff00"),e.setAttribute("flood-opacity","1"),e.setAttribute("result","drop_shadow_3"),this.feFlood=e,t.appendChild(e);e=createNS("feComposite");e.setAttribute("in","drop_shadow_3"),e.setAttribute("in2","drop_shadow_2"),e.setAttribute("operator","in"),e.setAttribute("result","drop_shadow_4"),t.appendChild(e);e=createNS("feMerge");t.appendChild(e),t=createNS("feMergeNode"),e.appendChild(t),(t=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=t,this.feMerge=e,this.originalNodeAdded=!1,e.appendChild(t)}ShapeTransformManager.prototype={addTransformSequence:function(t){for(var e=t.length,i="_",n=0;n<e;n+=1)i+=t[n].transform.key+"_";var r=this.sequences[i];return r||(r={transforms:[].concat(t),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=r,this.sequenceList.push(r)),r},processSequence:function(t,e){for(var i,n=0,r=t.transforms.length,s=e;n<r&&!e;){if(t.transforms[n].transform.mProps._mdf){s=!0;break}n+=1}if(s)for(t.finalTransform.reset(),n=r-1;0<=n;--n)i=t.transforms[n].transform.mProps.v.props,t.finalTransform.transform(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8],i[9],i[10],i[11],i[12],i[13],i[14],i[15]);t._mdf=s},processSequences:function(t){for(var e=this.sequenceList.length,i=0;i<e;i+=1)this.processSequence(this.sequenceList[i],t)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var t=0,e=this.data.masksProperties.length;t<e;){if("n"!==this.data.masksProperties[t].mode&&!1!==this.data.masksProperties[t].cl)return!0;t+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var t=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(t),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var t=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=t},initBaseData:function(t,e,i){this.globalData=e,this.comp=i,this.data=t,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var t,e,i,n,r,s,o,a=null;this.data.td?3==this.data.td||1==this.data.td?((n=createNS("mask")).setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),this.globalData.defs.appendChild(a=n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),t=createElementID(),e=filtersFactory.createFilter(t),this.globalData.defs.appendChild(e),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),a=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+t+")"))):2==this.data.td&&((s=createNS("mask")).setAttribute("id",this.layerId),s.setAttribute("mask-type","alpha"),o=createNS("g"),s.appendChild(o),t=createElementID(),e=filtersFactory.createFilter(t),(i=createNS("feComponentTransfer")).setAttribute("in","SourceGraphic"),e.appendChild(i),(n=createNS("feFuncA")).setAttribute("type","table"),n.setAttribute("tableValues","1.0 0.0"),i.appendChild(n),this.globalData.defs.appendChild(e),(n=createNS("rect")).setAttribute("width",this.comp.data.w),n.setAttribute("height",this.comp.data.h),n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("fill","#ffffff"),n.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+t+")"),o.appendChild(n),o.appendChild(this.layerElement),a=o,featureSupport.maskType||(s.setAttribute("mask-type","luminance"),e.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),o.appendChild(n),r.appendChild(this.layerElement),a=r,o.appendChild(r)),this.globalData.defs.appendChild(s)):this.data.tt?(this.matteElement.appendChild(this.layerElement),a=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.ty||this.data.hd||(o=createNS("clipPath"),(r=createNS("path")).setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z"),s=createElementID(),o.setAttribute("id",s),o.appendChild(r),this.globalData.defs.appendChild(o),this.checkMasks()?((o=createNS("g")).setAttribute("clip-path","url("+locationHref+"#"+s+")"),o.appendChild(this.layerElement),this.transformedElement=o,a?a.appendChild(this.transformedElement):this.baseElement=this.transformedElement):this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+s+")")),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(t){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+t+")")}},IShapeElement.prototype={addShapeToModifiers:function(t){for(var e=this.shapeModifiers.length,i=0;i<e;i+=1)this.shapeModifiers[i].addShape(t)},isShapeInAnimatedModifiers:function(t){for(var e=this.shapeModifiers.length;0<e;)if(this.shapeModifiers[0].isAnimatedWithShape(t))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){for(var t=this.shapes.length,e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;0<=e&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);--e);}},searchProcessedElement:function(t){for(var e=this.processedElements,i=0,n=e.length;i<n;){if(e[i].elem===t)return e[i].pos;i+=1}return 0},addProcessedElement:function(t,e){for(var i=this.processedElements,n=i.length;n;)if(i[--n].elem===t)return void(i[n].pos=e);i.push(new ProcessedElement(t,e))},prepareFrame:function(t){this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange)}},ITextElement.prototype.initElement=function(t,e,i){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,e,i),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,e,i),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,e){for(var i,n=e.length,r="",s=0;s<n;s+=1)i=e[s].ks.k,r+=buildShapeString(i,i.i.length,!0,t);return r},ITextElement.prototype.updateDocumentData=function(t,e){this.textProperty.updateDocumentData(t,e)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,e,i,n,r){switch(t.ps&&e.translate(t.ps[0],t.ps[1]+t.ascent,0),e.translate(0,-t.ls,0),t.j){case 1:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i]),0,0);break;case 2:e.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[i])/2,0,0)}e.translate(n,r,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(255*t[0])+","+Math.round(255*t[1])+","+Math.round(255*t[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initTransform(t,e,i),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),this.isInRange||this.data.xt){var e;this.tm._placeholder?this.renderedFrame=t/this.data.sr:((i=this.tm.v)===this.data.op&&(i=this.data.op-1),this.renderedFrame=i);var i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),e=i-1;0<=e;--e)(this.completeLayers||this.elements[e])&&(this.elements[e].prepareFrame(this.renderedFrame-this.layers[e].st),this.elements[e]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){for(var t=this.layers.length,e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){for(var t=this.layers.length,e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)},AudioElement.prototype.prepareFrame=function(t){this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder?this._currentTime=t/this.data.sr:(t=this.tm.v,this._currentTime=t)},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||.1<Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek()))&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var e=0,i=t.length,n=[],r="";e<i;)t[e]===String.fromCharCode(13)||t[e]===String.fromCharCode(3)?(n.push(r),r=""):r+=t[e],e+=1;return n.push(r),n},SVGTextLottieElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t?t.l.length:0),t.fc?this.layerElement.setAttribute("fill",this.buildColor(t.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),t.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(t.sc)),this.layerElement.setAttribute("stroke-width",t.sw)),this.layerElement.setAttribute("font-size",t.finalSize);var e,i,n=this.globalData.fontManager.getFontByName(t.f);n.fClass?this.layerElement.setAttribute("class",n.fClass):(this.layerElement.setAttribute("font-family",n.fFamily),e=t.fWeight,i=t.fStyle,this.layerElement.setAttribute("font-style",i),this.layerElement.setAttribute("font-weight",e)),this.layerElement.setAttribute("aria-label",t.t);var r,s=t.l||[],o=!!this.globalData.fontManager.chars;v=s.length;var a=this.mHelper,h="",l=this.data.singleShape,u=0,c=0,p=!0,d=.001*t.tr*t.finalSize;if(!l||o||t.sz){var f,m=this.textSpans.length;for(b=0;b<v;b+=1)o&&l&&0!==b||(r=b<m?this.textSpans[b]:createNS(o?"path":"text"),m<=b&&(r.setAttribute("stroke-linecap","butt"),r.setAttribute("stroke-linejoin","round"),r.setAttribute("stroke-miterlimit","4"),this.textSpans[b]=r,this.layerElement.appendChild(r)),r.style.display="inherit"),a.reset(),a.scale(t.finalSize/100,t.finalSize/100),l&&(s[b].n&&(u=-d,c+=t.yOffset,c+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(t,a,s[b].line,u,c),u+=s[b].l||0,u+=d),o?(f=(f=(f=this.globalData.fontManager.getCharData(t.finalText[b],n.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&f.data||{}).shapes?f.shapes[0].it:[],l?h+=this.createPathShape(a,f):r.setAttribute("d",this.createPathShape(a,f))):(l&&r.setAttribute("transform","translate("+a.props[12]+","+a.props[13]+")"),r.textContent=s[b].val,r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));l&&r&&r.setAttribute("d",h)}else{var g=this.textContainer,_="start";switch(t.j){case 1:_="end";break;case 2:_="middle";break;default:_="start"}g.setAttribute("text-anchor",_),g.setAttribute("letter-spacing",d);for(var y=this.buildTextContents(t.finalText),v=y.length,c=t.ps?t.ps[1]+t.ascent:0,b=0;b<v;b+=1)(r=this.textSpans[b]||createNS("tspan")).textContent=y[b],r.setAttribute("x",0),r.setAttribute("y",c),r.style.display="inherit",g.appendChild(r),this.textSpans[b]=r,c+=t.finalLineHeight;this.layerElement.appendChild(g)}for(;b<this.textSpans.length;)this.textSpans[b].style.display="none",b+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){var t;return this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged&&(this._sizeChanged=!1,t=this.layerElement.getBBox(),this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}),this.bbox},SVGTextLottieElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;for(var t,e,i=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l,r=n.length,s=0;s<r;s+=1)n[s].n||(t=i[s],e=this.textSpans[s],t._mdf.m&&e.setAttribute("transform",t.m),t._mdf.o&&e.setAttribute("opacity",t.o),t._mdf.sw&&e.setAttribute("stroke-width",t.sw),t._mdf.sc&&e.setAttribute("stroke",t.sc),t._mdf.fc&&e.setAttribute("fill",t.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){for(var t,e,i,n=this.shapes.length,r=this.stylesList.length,s=[],o=!1,a=0;a<r;a+=1){for(i=this.stylesList[a],o=!1,t=s.length=0;t<n;t+=1)-1!==(e=this.shapes[t]).styles.indexOf(i)&&(s.push(e),o=e._isAnimated||o);1<s.length&&o&&this.setShapesAsAnimated(s)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,e){var i,n=new SVGStyleData(t,e),e=n.pElem;return"st"===t.ty?i=new SVGStrokeStyleData(this,t,n):"fl"===t.ty?i=new SVGFillStyleData(this,t,n):"gf"!==t.ty&&"gs"!==t.ty||(i=new("gf"===t.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,t,n),this.globalData.defs.appendChild(i.gf),i.maskId&&(this.globalData.defs.appendChild(i.ms),this.globalData.defs.appendChild(i.of),e.setAttribute("mask","url("+locationHref+"#"+i.maskId+")"))),"st"!==t.ty&&"gs"!==t.ty||(e.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),e.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),e.setAttribute("fill-opacity","0"),1===t.lj&&e.setAttribute("stroke-miterlimit",t.ml)),2===t.r&&e.setAttribute("fill-rule","evenodd"),t.ln&&e.setAttribute("id",t.ln),t.cl&&e.setAttribute("class",t.cl),t.bm&&(e.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(n),this.addToAnimatedContents(t,i),i},SVGShapeElement.prototype.createGroupElement=function(t){var e=new ShapeGroupData;return t.ln&&e.gr.setAttribute("id",t.ln),t.cl&&e.gr.setAttribute("class",t.cl),t.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),e},SVGShapeElement.prototype.createTransformElement=function(t,e){var i=TransformPropertyFactory.getTransformProperty(this,t,this),e=new SVGTransformData(i,i.o,e);return this.addToAnimatedContents(t,e),e},SVGShapeElement.prototype.createShapeElement=function(t,e,i){var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7);n=new SVGShapeData(e,i,ShapePropertyFactory.getShapeProp(this,t,n,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(t,e){for(var i=0,n=this.animatedContents.length;i<n;){if(this.animatedContents[i].element===e)return;i+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:e,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){for(var e=t.styles,i=this.stylesList.length,n=0;n<i;n+=1)this.stylesList[n].closed||e.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,e,i,n,r,s,o){for(var a,h,l,u,c,p=[].concat(s),d=t.length-1,f=[],m=[],g=d;0<=g;--g){if((c=this.searchProcessedElement(t[g]))?e[g]=i[c-1]:t[g]._render=o,"fl"===t[g].ty||"st"===t[g].ty||"gf"===t[g].ty||"gs"===t[g].ty)c?e[g].style.closed=!1:e[g]=this.createStyleElement(t[g],r),t[g]._render&&e[g].style.pElem.parentNode!==n&&n.appendChild(e[g].style.pElem),f.push(e[g].style);else if("gr"===t[g].ty){if(c)for(h=e[g].it.length,a=0;a<h;a+=1)e[g].prevViewData[a]=e[g].it[a];else e[g]=this.createGroupElement(t[g]);this.searchShapes(t[g].it,e[g].it,e[g].prevViewData,e[g].gr,r+1,p,o),t[g]._render&&e[g].gr.parentNode!==n&&n.appendChild(e[g].gr)}else"tr"===t[g].ty?(c||(e[g]=this.createTransformElement(t[g],n)),l=e[g].transform,p.push(l)):"sh"===t[g].ty||"rc"===t[g].ty||"el"===t[g].ty||"sr"===t[g].ty?(c||(e[g]=this.createShapeElement(t[g],p,r)),this.setElementStyles(e[g])):"tm"===t[g].ty||"rd"===t[g].ty||"ms"===t[g].ty||"pb"===t[g].ty?(c?(u=e[g]).closed=!1:((u=ShapeModifiers.getModifier(t[g].ty)).init(this,t[g]),e[g]=u,this.shapeModifiers.push(u)),m.push(u)):"rp"===t[g].ty&&(c?(u=e[g]).closed=!0:(u=ShapeModifiers.getModifier(t[g].ty),(e[g]=u).init(this,t,g,e),this.shapeModifiers.push(u),o=!1),m.push(u));this.addProcessedElement(t[g],g+1)}for(d=f.length,g=0;g<d;g+=1)f[g].closed=!0;for(d=m.length,g=0;g<d;g+=1)m[g].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){for(var t,e=this.animatedContents.length,i=0;i<e;i+=1)t=this.animatedContents[i],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[0].p.v,i=this.filterManager.effectElements[1].p.v,t=this.filterManager.effectElements[2].p.v/100,this.matrixFilter.setAttribute("values",i[0]-e[0]+" 0 0 0 "+e[0]+" "+(i[1]-e[1])+" 0 0 0 "+e[1]+" "+(i[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGFillFilter.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=this.filterManager.effectElements[2].p.v,t=this.filterManager.effectElements[6].p.v,this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+t+" 0"))},SVGGaussianBlurEffect.prototype.renderFrame=function(t){var e;(t||this.filterManager._mdf)&&(e=.3*this.filterManager.effectElements[0].p.v,t=this.filterManager.effectElements[1].p.v,this.feGaussianBlur.setAttribute("stdDeviation",(3==t?0:e)+" "+(2==t?0:e)),e=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate",this.feGaussianBlur.setAttribute("edgeMode",e))},SVGStrokeEffect.prototype.initialize=function(){var t,e,i,n,r=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,i=0):n=(i=this.filterManager.effectElements[0].p.v-1)+1,(e=createNS("g")).setAttribute("fill","none"),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-dashoffset",1);i<n;i+=1)t=createNS("path"),e.appendChild(t),this.paths.push({p:t,m:i});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(e),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+o+")");r[0];)a.appendChild(r[0]);this.elem.layerElement.appendChild(a),this.masker=s,e.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(r=this.elem.layerElement.children||this.elem.layerElement.childNodes;r.length;)this.elem.layerElement.removeChild(r[0]);this.elem.layerElement.appendChild(e),this.elem.layerElement.removeAttribute("mask"),e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=e},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();for(var e,i,n=this.paths.length,r=0;r<n;r+=1)if(-1!==this.paths[r].m&&(l=this.elem.maskManager.viewData[this.paths[r].m],e=this.paths[r].p,(t||this.filterManager._mdf||l.prop._mdf)&&e.setAttribute("d",l.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||l.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){for(var s=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),o=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=e.getTotalLength(),h="0 0 0 "+a*s+" ",l=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,u=Math.floor(a*(o-s)/l),c=0;c<u;c+=1)h+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+10*a+" 0 0"}else h="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;e.setAttribute("stroke-dasharray",h)}(t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),1!==this.filterManager.effectElements[10].p.v&&2!==this.filterManager.effectElements[10].p.v||(t||this.filterManager.effectElements[3].p._mdf)&&(i=this.filterManager.effectElements[3].p.v,this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*i[0])+","+bmFloor(255*i[1])+","+bmFloor(255*i[2])+")"))},SVGTritoneFilter.prototype.renderFrame=function(t){var e,i,n,r;(t||this.filterManager._mdf)&&(r=this.filterManager.effectElements[0].p.v,e=this.filterManager.effectElements[1].p.v,n=(i=this.filterManager.effectElements[2].p.v)[0]+" "+e[0]+" "+r[0],t=i[1]+" "+e[1]+" "+r[1],r=i[2]+" "+e[2]+" "+r[2],this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",t),this.feFuncB.setAttribute("tableValues",r))},SVGProLevelsFilter.prototype.createFeFunc=function(t,e){t=createNS(t);return t.setAttribute("type","table"),e.appendChild(t),t},SVGProLevelsFilter.prototype.getTableValue=function(t,e,i,n,r){for(var s,o=0,a=Math.min(t,e),h=Math.max(t,e),l=Array.call(null,{length:256}),u=0,c=r-n,p=e-t;o<=256;)s=(s=o/256)<=a?p<0?r:n:h<=s?p<0?n:r:n+c*Math.pow((s-t)/p,1/i),l[u]=s,u+=1,o+=256/255;return l.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&(i=this.filterManager.effectElements,this.feFuncRComposed&&(t||i[3].p._mdf||i[4].p._mdf||i[5].p._mdf||i[6].p._mdf||i[7].p._mdf)&&(e=this.getTableValue(i[3].p.v,i[4].p.v,i[5].p.v,i[6].p.v,i[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(t||i[10].p._mdf||i[11].p._mdf||i[12].p._mdf||i[13].p._mdf||i[14].p._mdf)&&(e=this.getTableValue(i[10].p.v,i[11].p.v,i[12].p.v,i[13].p.v,i[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(t||i[17].p._mdf||i[18].p._mdf||i[19].p._mdf||i[20].p._mdf||i[21].p._mdf)&&(e=this.getTableValue(i[17].p.v,i[18].p.v,i[19].p.v,i[20].p.v,i[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(t||i[24].p._mdf||i[25].p._mdf||i[26].p._mdf||i[27].p._mdf||i[28].p._mdf)&&(e=this.getTableValue(i[24].p.v,i[25].p.v,i[26].p.v,i[27].p.v,i[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(t||i[31].p._mdf||i[32].p._mdf||i[33].p._mdf||i[34].p._mdf||i[35].p._mdf)&&(e=this.getTableValue(i[31].p.v,i[32].p.v,i[33].p.v,i[34].p.v,i[35].p.v),this.feFuncA.setAttribute("tableValues",e)))},SVGDropShadowEffect.prototype.renderFrame=function(t){var e,i;(t||this.filterManager._mdf)&&((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),(t||this.filterManager.effectElements[0].p._mdf)&&(i=this.filterManager.effectElements[0].p.v,this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*i[0]),Math.round(255*i[1]),Math.round(255*i[2])))),(t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),(t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf)&&(e=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,t=e*Math.cos(i),i=e*Math.sin(i),this.feOffset.setAttribute("dx",t),this.feOffset.setAttribute("dy",i)))};var _svgMatteSymbols=[];function SVGMatte3Effect(t,e,i){this.initialized=!1,this.filterManager=e,this.filterElem=t,(this.elem=i).matteElement=createNS("g"),i.matteElement.appendChild(i.layerElement),i.matteElement.appendChild(i.transformedElement),i.baseElement=i.matteElement}function SVGEffects(t){var e,i,n=t.data.ef?t.data.ef.length:0,r=createElementID(),s=filtersFactory.createFilter(r,!0),o=0;for(this.filters=[],e=0;e<n;e+=1)i=null,20===t.data.ef[e].ty?(o+=1,i=new SVGTintFilter(s,t.effectsManager.effectElements[e])):21===t.data.ef[e].ty?(o+=1,i=new SVGFillFilter(s,t.effectsManager.effectElements[e])):22===t.data.ef[e].ty?i=new SVGStrokeEffect(t,t.effectsManager.effectElements[e]):23===t.data.ef[e].ty?(o+=1,i=new SVGTritoneFilter(s,t.effectsManager.effectElements[e])):24===t.data.ef[e].ty?(o+=1,i=new SVGProLevelsFilter(s,t.effectsManager.effectElements[e])):25===t.data.ef[e].ty?(o+=1,i=new SVGDropShadowEffect(s,t.effectsManager.effectElements[e])):28===t.data.ef[e].ty?i=new SVGMatte3Effect(s,t.effectsManager.effectElements[e],t):29===t.data.ef[e].ty&&(o+=1,i=new SVGGaussianBlurEffect(s,t.effectsManager.effectElements[e])),i&&this.filters.push(i);o&&(t.globalData.defs.appendChild(s),t.layerElement.setAttribute("filter","url("+locationHref+"#"+r+")")),this.filters.length&&t.addRenderableComponent(this)}function CVContextData(){var t;this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;for(this.savedOp=createTypedArray("float32",15),t=0;t<15;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(t,e,i)}function CVCompElement(t,e,i){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function CVMaskElement(t,e){this.data=t,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);for(var i=this.masksProperties.length,n=!1,r=0;r<i;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);(this.hasMasks=n)&&this.element.addRenderableComponent(this)}function CVShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,e,i)}function CVSolidElement(t,e,i){this.initElement(t,e,i)}function CVTextElement(t,e,i){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,e,i)}function CVEffects(){}function HBaseElement(){}function HSolidElement(t,e,i){this.initElement(t,e,i)}function HCompElement(t,e,i){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,e,i),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,e.frameRate,this):{_placeholder:!0}}function HShapeElement(t,e,i){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,e,i),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(t,e,i){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,e,i)}function HImageElement(t,e,i){this.assetData=e.getAssetData(t.refId),this.initElement(t,e,i)}function HCameraElement(t,e,i){this.initFrame(),this.initBaseData(t,e,i),this.initHierarchy();i=PropertyFactory.getProp;if(this.pe=i(this,t.pe,0,0,this),t.ks.p.s?(this.px=i(this,t.ks.p.x,1,0,this),this.py=i(this,t.ks.p.y,1,0,this),this.pz=i(this,t.ks.p.z,1,0,this)):this.p=i(this,t.ks.p,1,0,this),t.ks.a&&(this.a=i(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to)for(var n=t.ks.or.k.length,r=0;r<n;r+=1)t.ks.or.k[r].to=null,t.ks.or.k[r].ti=null;this.or=i(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,t.ks.rx,0,degToRads,this),this.ry=i(this,t.ks.ry,0,degToRads,this),this.rz=i(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(t){for(var e=0,i=_svgMatteSymbols.length;e<i;){if(_svgMatteSymbols[e]===t)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,e){var i=t.layerElement.parentNode;if(i){for(var n,r=i.children,s=0,o=r.length;s<o&&r[s]!==t.layerElement;)s+=1;s<=o-2&&(n=r[s+1]);var a=createNS("use");a.setAttribute("href","#"+e),n?i.insertBefore(a,n):i.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,e){var i,n,r,s;this.findSymbol(e)||(i=createElementID(),(n=createNS("mask")).setAttribute("id",e.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e),(r=t.globalData.defs).appendChild(n),(s=createNS("symbol")).setAttribute("id",i),this.replaceInParent(e,i),s.appendChild(e.layerElement),r.appendChild(s),(s=createNS("use")).setAttribute("href","#"+i),n.appendChild(s),e.data.hd=!1,e.show()),t.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,i=0,n=e.length;i<n;)e[i]&&e[i].data.ind===t&&this.setElementAsMask(this.elem,e[i]),i+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(t){for(var e=this.filters.length,i=0;i<e;i+=1)this.filters[i].renderFrame(t)},CVContextData.prototype.duplicate=function(){var t=2*this._length,e=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(e);for(var i=0,i=this._length;i<t;i+=1)this.saved[i]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var t,e=this.globalData;e.blendMode!==this.data.bm&&(e.blendMode=this.data.bm,t=getBlendMode(this.data.bm),e.canvasContext.globalCompositeOperation=t)},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){var t;this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),t=0===this.data.ty,this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(t),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){var t,e,i,n,r,s,o,a,h;!this.img.width||this.assetData.w===this.img.width&&this.assetData.h===this.img.height||((t=createTag("canvas")).width=this.assetData.w,t.height=this.assetData.h,e=t.getContext("2d"),i=this.img.width,n=this.img.height,s=this.assetData.w/this.assetData.h,h=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio,s<(r=i/n)&&"xMidYMid slice"===h||r<s&&"xMidYMid slice"!==h?o=(a=n)*s:a=(o=i)/s,e.drawImage(this.img,(i-o)/2,(n-a)/2,o,a,0,0,this.assetData.w,this.assetData.h),this.img=t)},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();for(var e=this.layers.length-1;0<=e;--e)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){for(var t=this.layers.length-1;0<=t;--t)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var t,e,i,n,r=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),t=0;t<o;t+=1)if("n"!==this.masksProperties[t].mode){this.masksProperties[t].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),n=this.viewData[t].v,e=r.applyToPointArray(n.v[0][0],n.v[0][1],0),s.moveTo(e[0],e[1]);for(var a=n._length,h=1;h<a;h+=1)i=r.applyToTriplePoints(n.o[h-1],n.i[h],n.v[h]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);i=r.applyToTriplePoints(n.o[h-1],n.i[0],n.v[0]),s.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,e){var i={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:!0===t.hd},n={};return"fl"===t.ty||"st"===t.ty?(n.c=PropertyFactory.getProp(this,t.c,1,255,this),n.c.k||(i.co="rgb("+bmFloor(n.c.v[0])+","+bmFloor(n.c.v[1])+","+bmFloor(n.c.v[2])+")")):"gf"!==t.ty&&"gs"!==t.ty||(n.s=PropertyFactory.getProp(this,t.s,1,null,this),n.e=PropertyFactory.getProp(this,t.e,1,null,this),n.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),n.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),n.g=new GradientProperty(this,t.g,this)),n.o=PropertyFactory.getProp(this,t.o,0,.01,this),"st"===t.ty||"gs"===t.ty?(i.lc=lineCapEnum[t.lc||2],i.lj=lineJoinEnum[t.lj||2],1==t.lj&&(i.ml=t.ml),n.w=PropertyFactory.getProp(this,t.w,0,null,this),n.w.k||(i.wi=n.w.v),t.d&&(e=new DashProperty(this,t.d,"canvas",this),n.d=e,n.d.k||(i.da=n.d.dashArray,i.do=n.d.dashoffset[0]))):i.r=2===t.r?"evenodd":"nonzero",this.stylesList.push(i),n.style=i,n},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(t){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}}},CVShapeElement.prototype.createShapeElement=function(t){t=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var t=this.itemsData.length,e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){for(var e=this.stylesList.length,i=0;i<e;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){for(var t=this.stylesList.length,e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){for(var e=t.length,i=0;i<e;i+=1)t[i].closed=!0},CVShapeElement.prototype.searchShapes=function(t,e,i,n,r){for(var s,o,a,h,l,u=t.length-1,c=[],p=[],d=[].concat(r),f=u;0<=f;--f){if((a=this.searchProcessedElement(t[f]))?e[f]=i[a-1]:t[f]._shouldRender=n,"fl"===t[f].ty||"st"===t[f].ty||"gf"===t[f].ty||"gs"===t[f].ty)a?e[f].style.closed=!1:e[f]=this.createStyleElement(t[f],d),c.push(e[f].style);else if("gr"===t[f].ty){if(a)for(o=e[f].it.length,s=0;s<o;s+=1)e[f].prevViewData[s]=e[f].it[s];else e[f]=this.createGroupElement(t[f]);this.searchShapes(t[f].it,e[f].it,e[f].prevViewData,n,d)}else"tr"===t[f].ty?(a||(l=this.createTransformElement(t[f]),e[f]=l),d.push(e[f]),this.addTransformToStyleList(e[f])):"sh"===t[f].ty||"rc"===t[f].ty||"el"===t[f].ty||"sr"===t[f].ty?a||(e[f]=this.createShapeElement(t[f])):"tm"===t[f].ty||"rd"===t[f].ty||"pb"===t[f].ty?(a?(h=e[f]).closed=!1:((h=ShapeModifiers.getModifier(t[f].ty)).init(this,t[f]),e[f]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"===t[f].ty&&(a?(h=e[f]).closed=!0:(h=ShapeModifiers.getModifier(t[f].ty),(e[f]=h).init(this,t,f,e),this.shapeModifiers.push(h),n=!1),p.push(h));this.addProcessedElement(t[f],f+1)}for(this.removeTransformFromStyleList(),this.closeStyles(c),u=p.length,f=0;f<u;f+=1)p[f].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,e){(t._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=t.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){for(var t,e,i,n,r,s,o,a,h=this.stylesList.length,l=this.globalData.renderer,u=this.globalData.canvasContext,c=0;c<h;c+=1)if(("st"!==(o=(a=this.stylesList[c]).type)&&"gs"!==o||0!==a.wi)&&a.data._shouldRender&&0!==a.coOp&&0!==this.globalData.currentGlobalAlpha){for(l.save(),r=a.elements,"st"===o||"gs"===o?(u.strokeStyle="st"===o?a.co:a.grd,u.lineWidth=a.wi,u.lineCap=a.lc,u.lineJoin=a.lj,u.miterLimit=a.ml||0):u.fillStyle="fl"===o?a.co:a.grd,l.ctxOpacity(a.coOp),"st"!==o&&"gs"!==o&&u.beginPath(),l.ctxTransform(a.preTransforms.finalTransform.props),e=r.length,t=0;t<e;t+=1){for("st"!==o&&"gs"!==o||(u.beginPath(),a.da&&(u.setLineDash(a.da),u.lineDashOffset=a.do)),n=(s=r[t].trNodes).length,i=0;i<n;i+=1)"m"===s[i].t?u.moveTo(s[i].p[0],s[i].p[1]):"c"===s[i].t?u.bezierCurveTo(s[i].pts[0],s[i].pts[1],s[i].pts[2],s[i].pts[3],s[i].pts[4],s[i].pts[5]):u.closePath();"st"!==o&&"gs"!==o||(u.stroke(),a.da&&u.setLineDash(this.dashResetter))}"st"!==o&&"gs"!==o&&u.fill(a.r),l.restore()}},CVShapeElement.prototype.renderShape=function(t,e,i,n){for(var r=t,s=e.length-1;0<=s;--s)"tr"===e[s].ty?(r=i[s].transform,this.renderShapeTransform(t,r)):"sh"===e[s].ty||"el"===e[s].ty||"rc"===e[s].ty||"sr"===e[s].ty?this.renderPath(e[s],i[s]):"fl"===e[s].ty?this.renderFill(e[s],i[s],r):"st"===e[s].ty?this.renderStroke(e[s],i[s],r):"gf"===e[s].ty||"gs"===e[s].ty?this.renderGradientFill(e[s],i[s],r):"gr"===e[s].ty?this.renderShape(r,e[s].it,i[s].it):e[s].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,e){if(this._isFirstFrame||e._mdf||t.transforms._mdf){var i,n,r=t.trNodes,s=e.paths,o=s._length;r.length=0;for(var a=t.transforms.finalTransform,h=0;h<o;h+=1){var l=s.shapes[h];if(l&&l.v){for(n=l._length,i=1;i<n;i+=1)1===i&&r.push({t:"m",p:a.applyToPointArray(l.v[0][0],l.v[0][1],0)}),r.push({t:"c",pts:a.applyToTriplePoints(l.o[i-1],l.i[i],l.v[i])});1===n&&r.push({t:"m",p:a.applyToPointArray(l.v[0][0],l.v[0][1],0)}),l.c&&n&&(r.push({t:"c",pts:a.applyToTriplePoints(l.o[i-1],l.i[0],l.v[0])}),r.push({t:"z"}))}}t.trNodes=r}},CVShapeElement.prototype.renderPath=function(t,e){if(!0!==t.hd&&t._shouldRender)for(var i=e.styledShapes.length,n=0;n<i;n+=1)this.renderStyledShape(e.styledShapes[n],e.sh)},CVShapeElement.prototype.renderFill=function(t,e,i){var n=e.style;(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,e,i){var n=e.style;if(!n.grd||e.g._mdf||e.s._mdf||e.e._mdf||1!==t.t&&(e.h._mdf||e.a._mdf)){var r,s,o,a,h=this.globalData.canvasContext,l=e.s.v,u=e.e.v;a=1===t.t?h.createLinearGradient(l[0],l[1],u[0],u[1]):(r=Math.sqrt(Math.pow(l[0]-u[0],2)+Math.pow(l[1]-u[1],2)),s=Math.atan2(u[1]-l[1],u[0]-l[0]),1<=(o=e.h.v)?o=.99:o<=-1&&(o=-.99),u=r*o,o=Math.cos(s+e.a.v)*u+l[0],u=Math.sin(s+e.a.v)*u+l[1],h.createRadialGradient(o,u,0,l[0],l[1],r));for(var c=t.g.p,p=e.g.c,d=1,f=0;f<c;f+=1)e.g._hasOpacity&&e.g._collapsable&&(d=e.g.o[2*f+1]),a.addColorStop(p[4*f]/100,"rgba("+p[4*f+1]+","+p[4*f+2]+","+p[4*f+3]+","+d+")");n.grd=a}n.coOp=e.o.v*i.opacity},CVShapeElement.prototype.renderStroke=function(t,e,i){var n=e.style,r=e.d;r&&(r._mdf||this._isFirstFrame)&&(n.da=r.dashArray,n.do=r.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||i._opMdf||this._isFirstFrame)&&(n.coOp=e.o.v*i.opacity),(e.w._mdf||this._isFirstFrame)&&(n.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=!1;t.fc?(e=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;e=!1;t.sc&&(e=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var i,n,r,s,o,a,h,l,u,c=this.globalData.fontManager.getFontByName(t.f),p=t.l,d=this.mHelper;this.stroke=e,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily;for(var f=t.finalText.length,m=this.data.singleShape,g=.001*t.tr*t.finalSize,_=0,y=0,v=!0,b=0,x=0;x<f;x+=1){for(i=(i=this.globalData.fontManager.getCharData(t.finalText[x],c.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))&&i.data||{},d.reset(),m&&p[x].n&&(_=-g,y+=t.yOffset,y+=v?1:0,v=!1),a=(s=i.shapes?i.shapes[0].it:[]).length,d.scale(t.finalSize/100,t.finalSize/100),m&&this.applyTextPropertiesToMatrix(t,d,p[x].line,_,y),l=createSizedArray(a),o=0;o<a;o+=1){for(r=s[o].ks.k.i.length,h=s[o].ks.k,u=[],n=1;n<r;n+=1)1===n&&u.push(d.applyToX(h.v[0][0],h.v[0][1],0),d.applyToY(h.v[0][0],h.v[0][1],0)),u.push(d.applyToX(h.o[n-1][0],h.o[n-1][1],0),d.applyToY(h.o[n-1][0],h.o[n-1][1],0),d.applyToX(h.i[n][0],h.i[n][1],0),d.applyToY(h.i[n][0],h.i[n][1],0),d.applyToX(h.v[n][0],h.v[n][1],0),d.applyToY(h.v[n][0],h.v[n][1],0));u.push(d.applyToX(h.o[n-1][0],h.o[n-1][1],0),d.applyToY(h.o[n-1][0],h.o[n-1][1],0),d.applyToX(h.i[0][0],h.i[0][1],0),d.applyToY(h.i[0][0],h.i[0][1],0),d.applyToX(h.v[0][0],h.v[0][1],0),d.applyToY(h.v[0][0],h.v[0][1],0)),l[o]=u}m&&(_+=p[x].l,_+=g),this.textSpans[b]?this.textSpans[b].elem=l:this.textSpans[b]={elem:l},b+=1}},CVTextElement.prototype.renderInnerContent=function(){var t,e,i,n,r=this.canvasContext;r.font=this.values.fValue,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);for(var s,o,a,h=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l,u=l.length,c=null,p=null,d=null,f=0;f<u;f+=1)if(!l[f].n){if((s=h[f])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(s.p),this.globalData.renderer.ctxOpacity(s.o)),this.fill){for(s&&s.fc?c!==s.fc&&(c=s.fc,r.fillStyle=s.fc):c!==this.values.fill&&(c=this.values.fill,r.fillStyle=this.values.fill),e=(o=this.textSpans[f].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(n=(a=o[t]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),i=2;i<n;i+=6)this.globalData.canvasContext.bezierCurveTo(a[i],a[i+1],a[i+2],a[i+3],a[i+4],a[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(s&&s.sw?d!==s.sw&&(d=s.sw,r.lineWidth=s.sw):d!==this.values.sWidth&&(d=this.values.sWidth,r.lineWidth=this.values.sWidth),s&&s.sc?p!==s.sc&&(p=s.sc,r.strokeStyle=s.sc):p!==this.values.stroke&&(p=this.values.stroke,r.strokeStyle=this.values.stroke),e=(o=this.textSpans[f].elem).length,this.globalData.canvasContext.beginPath(),t=0;t<e;t+=1)for(n=(a=o[t]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),i=2;i<n;i+=6)this.globalData.canvasContext.bezierCurveTo(a[i],a[i+1],a[i+2],a[i+3],a[i+4],a[i+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}s&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var t,e=this.transformedElement?this.transformedElement.style:{};this.finalTransform._matMdf&&(t=this.finalTransform.mat.toCSS(),e.transform=t,e.webkitTransform=t),this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?((t=createNS("rect")).setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((t=createTag("div")).style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,e){for(var i,n=0;n<e;)this.elements[n]&&this.elements[n].getBaseElement&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(t,i):this.layerElement.appendChild(t)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t,e;this.baseElement.style.fontSize=0,this.data.hasMask?(this.layerElement.appendChild(this.shapesContainer),t=this.svgElement):(t=createNS("svg"),e=this.comp.data||this.globalData.compSize,t.setAttribute("width",e.w),t.setAttribute("height",e.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,e){for(var i=t.length,n=0;n<i;n+=1)e=t[n].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(t,e){var i,n,r,s,o,a=t.sh.v,h=t.transformers,l=a._length;if(!(l<=1)){for(i=0;i<l-1;i+=1)n=this.getTransformedPoint(h,a.v[i]),r=this.getTransformedPoint(h,a.o[i]),s=this.getTransformedPoint(h,a.i[i+1]),o=this.getTransformedPoint(h,a.v[i+1]),this.checkBounds(n,r,s,o,e);a.c&&(n=this.getTransformedPoint(h,a.v[i]),r=this.getTransformedPoint(h,a.o[i]),s=this.getTransformedPoint(h,a.i[0]),o=this.getTransformedPoint(h,a.v[0]),this.checkBounds(n,r,s,o,e))}},HShapeElement.prototype.checkBounds=function(t,e,i,n,r){this.getBoundsOfCurve(t,e,i,n);n=this.shapeBoundingBox;r.x=bmMin(n.left,r.x),r.xMax=bmMax(n.right,r.xMax),r.y=bmMin(n.top,r.y),r.yMax=bmMax(n.bottom,r.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,e,i,n){for(var r,s,o,a,h=[[t[0],n[0]],[t[1],n[1]]],l=0;l<2;++l)r=6*t[l]-12*e[l]+6*i[l],a=-3*t[l]+9*e[l]-9*i[l]+3*n[l],o=3*e[l]-3*t[l],r|=0,o|=0,0==(a|=0)&&0==r||(0==a?0<(s=-o/r)&&s<1&&h[l].push(this.calculateF(s,t,e,i,n,l)):0<=(s=r*r-4*o*a)&&(0<(o=(-r+bmSqrt(s))/(2*a))&&o<1&&h[l].push(this.calculateF(o,t,e,i,n,l)),0<(a=(-r-bmSqrt(s))/(2*a))&&a<1&&h[l].push(this.calculateF(a,t,e,i,n,l))));this.shapeBoundingBox.left=bmMin.apply(null,h[0]),this.shapeBoundingBox.top=bmMin.apply(null,h[1]),this.shapeBoundingBox.right=bmMax.apply(null,h[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,h[1])},HShapeElement.prototype.calculateF=function(t,e,i,n,r,s){return bmPow(1-t,3)*e[s]+3*bmPow(1-t,2)*t*i[s]+3*(1-t)*bmPow(t,2)*n[s]+bmPow(t,3)*r[s]},HShapeElement.prototype.calculateBoundingBox=function(t,e){for(var i=t.length,n=0;n<i;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],e):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,e)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){var t,e;this._renderShapeFrame(),this.hidden||!this._isFirstFrame&&!this._mdf||((e=this.tempBoundingBox).x=t=999999,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e)||(t=!1,this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),t=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),t=!0),!t&&this.currentBBox.x===e.x&&this.currentBBox.y===e.y||(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.shapeCont.style,e="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)",t.transform=e,t.webkitTransform=e)))},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){var t;this.isMasked=this.checkMasks(),this.isMasked?(this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH),t=createNS("g"),this.maskedElement.appendChild(t),this.innerElem=t):(this.renderType="html",this.innerElem=this.layerElement),this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var e=this.innerElem.style,i=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";e.fill=i,e.color=i,t.sc&&(e.stroke=this.buildColor(t.sc),e.strokeWidth=t.sw+"px");var n,r=this.globalData.fontManager.getFontByName(t.f);this.globalData.fontManager.chars||(e.fontSize=t.finalSize+"px",e.lineHeight=t.finalSize+"px",r.fClass?this.innerElem.className=r.fClass:(e.fontFamily=r.fFamily,n=t.fWeight,i=t.fStyle,e.fontStyle=i,e.fontWeight=n));for(var s,o,a,h,l,u,c,p,d=t.l,f=d.length,m=this.mHelper,g=0,_=0;_<f;_+=1)this.globalData.fontManager.chars?(this.textPaths[g]?s=this.textPaths[g]:((s=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),s.setAttribute("stroke-linejoin",lineJoinEnum[2]),s.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[g]?a=(o=this.textSpans[g]).children[0]:((o=createTag("div")).style.lineHeight=0,(a=createNS("svg")).appendChild(s),styleDiv(o)))):this.isMasked?s=this.textPaths[g]||createNS("text"):this.textSpans[g]?(o=this.textSpans[g],s=this.textPaths[g]):(styleDiv(o=createTag("span")),styleDiv(s=createTag("span")),o.appendChild(s)),this.globalData.fontManager.chars?(u=(l=this.globalData.fontManager.getCharData(t.finalText[_],r.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily))?l.data:null,m.reset(),u&&u.shapes&&(l=u.shapes[0].it,m.scale(t.finalSize/100,t.finalSize/100),h=this.createPathShape(m,l),s.setAttribute("d",h)),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(o),u&&u.shapes?(document.body.appendChild(a),p=a.getBBox(),a.setAttribute("width",p.width+2),a.setAttribute("height",p.height+2),a.setAttribute("viewBox",p.x-1+" "+(p.y-1)+" "+(p.width+2)+" "+(p.height+2)),u=a.style,c="translate("+(p.x-1)+"px,"+(p.y-1)+"px)",u.transform=c,u.webkitTransform=c,d[_].yOffset=p.y-1):(a.setAttribute("width",1),a.setAttribute("height",1)),o.appendChild(a))):(s.textContent=d[_].val,s.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(s):(this.innerElem.appendChild(o),c=s.style,p="translate3d(0,"+-t.finalSize/1.2+"px,0)",c.transform=p,c.webkitTransform=p)),this.isMasked?this.textSpans[g]=s:this.textSpans[g]=o,this.textSpans[g].style.display="block",this.textPaths[g]=s,g+=1;for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style,r="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)",t.transform=r,t.webkitTransform=r)}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){for(var e,i,n,r,s=0,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l,h=a.length,l=0;l<h;l+=1)a[l].n?s+=1:(i=this.textSpans[l],n=this.textPaths[l],e=o[s],s+=1,e._mdf.m&&(this.isMasked?i.setAttribute("transform",e.m):(i.style.webkitTransform=e.m,i.style.transform=e.m)),i.style.opacity=e.o,e.sw&&e._mdf.sw&&n.setAttribute("stroke-width",e.sw),e.sc&&e._mdf.sc&&n.setAttribute("stroke",e.sc),e.fc&&e._mdf.fc&&(n.setAttribute("fill",e.fc),n.style.color=e.fc));this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)&&(r=this.innerElem.getBBox(),this.currentBBox.w!==r.width&&(this.currentBBox.w=r.width,this.svgElement.setAttribute("width",r.width)),this.currentBBox.h!==r.height&&(this.currentBBox.h=r.height,this.svgElement.setAttribute("height",r.height)),this.currentBBox.w===r.width+2&&this.currentBBox.h===r.height+2&&this.currentBBox.x===r.x-1&&this.currentBBox.y===r.y-1||(this.currentBBox.w=r.width+2,this.currentBBox.h=r.height+2,this.currentBBox.x=r.x-1,this.currentBBox.y=r.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style,r="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)",t.transform=r,t.webkitTransform=r))}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){for(var t,e,i,n,r,s=this.comp.threeDElements.length,o=0;o<s;o+=1)"3d"===(r=this.comp.threeDElements[o]).type&&(t=r.perspectiveElem.style,e=r.container.style,i=this.pe.v+"px",n="0px 0px 0px",r="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",t.perspective=i,t.webkitPerspective=i,e.transformOrigin=n,e.mozTransformOrigin=n,e.webkitTransformOrigin=n,t.transform=r,t.webkitTransform=r)},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t,e,i=this._isFirstFrame;if(this.hierarchy)for(h=this.hierarchy.length,l=0;l<h;l+=1)i=this.hierarchy[l].finalTransform.mProp._mdf||i;if(i||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(l=h=this.hierarchy.length-1;0<=l;--l){var n=this.hierarchy[l].finalTransform.mProp;this.mat.translate(-n.p.v[0],-n.p.v[1],n.p.v[2]),this.mat.rotateX(-n.or.v[0]).rotateY(-n.or.v[1]).rotateZ(n.or.v[2]),this.mat.rotateX(-n.rx.v).rotateY(-n.ry.v).rotateZ(n.rz.v),this.mat.scale(1/n.s.v[0],1/n.s.v[1],1/n.s.v[2]),this.mat.translate(n.a.v[0],n.a.v[1],n.a.v[2])}this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a&&(e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),e=[e[0]/t,e[1]/t,e[2]/t],t=Math.sqrt(e[2]*e[2]+e[0]*e[0]),t=Math.atan2(e[1],t),e=Math.atan2(e[0],-e[2]),this.mat.rotateY(e).rotateX(-t)),this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var r=!this._prevMat.equals(this.mat);if((r||this.pe._mdf)&&this.comp.threeDElements){for(var s,o,a,h=this.comp.threeDElements.length,l=0;l<h;l+=1)"3d"===(a=this.comp.threeDElements[l]).type&&(r&&(s=this.mat.toCSS(),(o=a.container.style).transform=s,o.webkitTransform=s),this.pe._mdf&&((a=a.perspectiveElem.style).perspective=this.pe.v+"px",a.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=(j51={},k51=[],l51=0,m51=0,n51=0,o51=!0,p51=!1,j51.registerAnimation=r51,j51.loadAnimation=function(t){var e=new AnimationItem;return v51(e,null),e.setParams(t),e},j51.setSpeed=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setSpeed(t,e)},j51.setDirection=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setDirection(t,e)},j51.play=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.play(t)},j51.pause=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.pause(t)},j51.stop=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.stop(t)},j51.togglePause=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.togglePause(t)},j51.searchAnimations=function(t,e,i){for(var n,r=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=r.length,o=0;o<s;o+=1)i&&r[o].setAttribute("data-bm-type",i),r51(r[o],t);e&&0===s&&(i=i||"svg",(n=document.getElementsByTagName("body")[0]).innerText="",(e=createTag("div")).style.width="100%",e.style.height="100%",e.setAttribute("data-bm-type",i),n.appendChild(e),r51(e,t))},j51.resize=function(){for(var t=0;t<m51;t+=1)k51[t].animation.resize()},j51.goToAndStop=function(t,e,i){for(var n=0;n<m51;n+=1)k51[n].animation.goToAndStop(t,e,i)},j51.destroy=function(t){for(var e=m51-1;0<=e;--e)k51[e].animation.destroy(t)},j51.freeze=function(){p51=!0},j51.unfreeze=function(){p51=!1,J51()},j51.setVolume=function(t,e){for(var i=0;i<m51;i+=1)k51[i].animation.setVolume(t,e)},j51.mute=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.mute(t)},j51.unmute=function(t){for(var e=0;e<m51;e+=1)k51[e].animation.unmute(t)},j51.getRegisteredAnimations=function(){for(var t=k51.length,e=[],i=0;i<t;i+=1)e.push(k51[i].animation);return e},j51),j51,k51,l51,m51,n51,o51,p51;function q51(t){for(var e=0,i=t.target;e<m51;)k51[e].animation===i&&(k51.splice(e,1),--e,--m51,i.isPaused||u51()),e+=1}function r51(t,e){if(!t)return null;for(var i=0;i<m51;){if(k51[i].elem===t&&null!==k51[i].elem)return k51[i].animation;i+=1}var n=new AnimationItem;return v51(n,t),n.setData(t,e),n}function t51(){n51+=1,J51()}function u51(){--n51}function v51(t,e){t.addEventListener("destroy",q51),t.addEventListener("_active",t51),t.addEventListener("_idle",u51),k51.push({elem:e,animation:t}),m51+=1}function A51(t){for(var e=t-l51,i=0;i<m51;i+=1)k51[i].animation.advanceTime(e);l51=t,n51&&!p51?window.requestAnimationFrame(A51):o51=!0}function B51(t){l51=t,window.requestAnimationFrame(A51)}function J51(){!p51&&n51&&o51&&(window.requestAnimationFrame(B51),o51=!1)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var e="svg";switch(t.animType?e=t.animType:t.renderer&&(e=t.renderer),e){case"canvas":this.renderer=new CanvasRenderer(this,t.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,t.rendererSettings);break;default:this.renderer=new HybridRenderer(this,t.rendererSettings)}this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,""===t.loop||null===t.loop||void 0===t.loop||!0===t.loop?this.loop=!0:!1===t.loop?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay=!("autoplay"in t)||t.autoplay,this.name=t.name||"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(t,"autoloadSegments")||t.autoloadSegments,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(-1!==t.path.lastIndexOf("\\")?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,e){var i={wrapper:t,animationData:e=e&&"object"!=typeof e?JSON.parse(e):e},e=t.attributes;i.path=e.getNamedItem("data-animation-path")?e.getNamedItem("data-animation-path").value:e.getNamedItem("data-bm-path")?e.getNamedItem("data-bm-path").value:e.getNamedItem("bm-path")?e.getNamedItem("bm-path").value:"",i.animType=e.getNamedItem("data-anim-type")?e.getNamedItem("data-anim-type").value:e.getNamedItem("data-bm-type")?e.getNamedItem("data-bm-type").value:e.getNamedItem("bm-type")?e.getNamedItem("bm-type").value:e.getNamedItem("data-bm-renderer")?e.getNamedItem("data-bm-renderer").value:e.getNamedItem("bm-renderer")?e.getNamedItem("bm-renderer").value:"canvas";t=e.getNamedItem("data-anim-loop")?e.getNamedItem("data-anim-loop").value:e.getNamedItem("data-bm-loop")?e.getNamedItem("data-bm-loop").value:e.getNamedItem("bm-loop")?e.getNamedItem("bm-loop").value:"";"false"===t?i.loop=!1:"true"===t?i.loop=!0:""!==t&&(i.loop=parseInt(t,10));t=e.getNamedItem("data-anim-autoplay")?e.getNamedItem("data-anim-autoplay").value:e.getNamedItem("data-bm-autoplay")?e.getNamedItem("data-bm-autoplay").value:!e.getNamedItem("bm-autoplay")||e.getNamedItem("bm-autoplay").value;i.autoplay="false"!==t,i.name=e.getNamedItem("data-name")?e.getNamedItem("data-name").value:e.getNamedItem("data-bm-name")?e.getNamedItem("data-bm-name").value:e.getNamedItem("bm-name")?e.getNamedItem("bm-name").value:"","false"===(e.getNamedItem("data-anim-prerender")?e.getNamedItem("data-anim-prerender").value:e.getNamedItem("data-bm-prerender")?e.getNamedItem("data-bm-prerender").value:e.getNamedItem("bm-prerender")?e.getNamedItem("bm-prerender").value:"")&&(i.prerender=!1),this.setParams(i)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));for(var e,i=this.animationData.layers,n=i.length,r=t.layers,s=r.length,o=0;o<s;o+=1)for(e=0;e<n;){if(i[e].id===r[o].id){i[e]=r[o];break}e+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(n=t.assets.length,e=0;e<n;e+=1)this.animationData.assets.push(t.assets[e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||0===t.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);t=t.shift();this.timeCompleted=t.time*this.frameRate;t=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(t,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(t){this.triggerConfigError(t)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()&&(this.isLoaded=!0,expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||!0===this.isPaused&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var e,i=0;i<this.markers.length;i+=1)if((e=this.markers[i]).payload&&e.payload.name===t)return e;return null},AnimationItem.prototype.goToAndStop=function(t,e,i){i&&this.name!==i||(i=Number(t),isNaN(i)?(i=this.getMarkerData(t))&&this.goToAndStop(i.time,!0):e?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(t,e,i){var n;i&&this.name!==i||(n=Number(t),isNaN(n)?(t=this.getMarkerData(t))&&(t.duration?this.playSegments([t.time,t.time+t.duration],!0):this.goToAndStop(t.time,!0)):this.goToAndStop(n,e,i),this.play())},AnimationItem.prototype.advanceTime=function(t){var e;!0!==this.isPaused&&!1!==this.isLoaded&&(e=!1,(t=this.currentRawFrame+t*this.frameModifier)>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(e=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(e=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),e&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete")))},AnimationItem.prototype.adjustSegment=function(t,e){this.playCount=0,t[1]<t[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,e){var i=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?i=t:this.currentRawFrame+this.firstFrame>e&&(i=e-t)),this.firstFrame=t,this.totalFrames=e-t,this.timeCompleted=this.totalFrames,-1!==i&&this.goToAndStop(i,!0)},AnimationItem.prototype.playSegments=function(t,e){if(e&&(this.segments.length=0),"object"==typeof t[0])for(var i=t.length,n=0;n<i;n+=1)this.segments.push(t[n]);else this.segments.push(t);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),t),!0)},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,e){e&&this.name!==e||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var e,i="";return t.e?i=t.p:this.assetsPath?(-1!==(e=t.p).indexOf("images/")&&(e=e.split("/")[1]),i=this.assetsPath+e):(i=this.path,i+=t.u||"",i+=t.p),i},AnimationItem.prototype.getAssetData=function(t){for(var e=0,i=this.assets.length;e<i;){if(t===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":case"drawnFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}"enterFrame"===t&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===t&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),"complete"===t&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),"segmentStart"===t&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),"destroy"===t&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){t=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(t){t=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=(kh1={},kh1.initExpressions=function(t){var e=0,i=[];t.renderer.compInterface=CompExpressionInterface(t.renderer),t.renderer.globalData.projectInterface.registerComposition(t.renderer),t.renderer.globalData.pushExpression=function(){e+=1},t.renderer.globalData.popExpression=function(){0===--e&&function(){var t,e=i.length;for(t=0;t<e;t+=1)i[t].release();i.length=0}()},t.renderer.globalData.registerExpressionProperty=function(t){-1===i.indexOf(t)&&i.push(t)}},kh1),kh1,expressionsPlugin=Expressions,ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null;function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,e){return"number"===t||"boolean"===t||"string"===t||e instanceof Number}function $bm_neg(t){var e=typeof t;if("number"==e||"boolean"==e||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){for(var i=t.length,n=[],r=0;r<i;r+=1)n[r]=-t[r];return n}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,e){var i=typeof t,n=typeof e;if("string"==i||"string"==n)return t+e;if(isNumerable(i,t)&&isNumerable(n,e))return t+e;if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]+=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t+e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?a[r]=t[r]+e[r]:a[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}var add=sum;function sub(t,e){var i=typeof t,n=typeof e;if(isNumerable(i,t)&&isNumerable(n,e))return(t="string"==i?parseInt(t,10):t)-(e="string"==n?parseInt(e,10):e);if($bm_isInstanceOfArray(t)&&isNumerable(n,e))return(t=t.slice(0))[0]-=e,t;if(isNumerable(i,t)&&$bm_isInstanceOfArray(e))return(e=e.slice(0))[0]=t-e[0],e;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(e)){for(var r=0,s=t.length,o=e.length,a=[];r<s||r<o;)("number"==typeof t[r]||t[r]instanceof Number)&&("number"==typeof e[r]||e[r]instanceof Number)?a[r]=t[r]-e[r]:a[r]=void 0===e[r]?t[r]:t[r]||e[r],r+=1;return a}return 0}function mul(t,e){var i,n,r,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t*e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]*e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t*e[n];return i}return 0}function div(t,e){var i,n,r,s=typeof t,o=typeof e;if(isNumerable(s,t)&&isNumerable(o,e))return t/e;if($bm_isInstanceOfArray(t)&&isNumerable(o,e)){for(r=t.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t[n]/e;return i}if(isNumerable(s,t)&&$bm_isInstanceOfArray(e)){for(r=e.length,i=createTypedArray("float32",r),n=0;n<r;n+=1)i[n]=t/e[n];return i}return 0}function mod(t,e){return(t="string"==typeof t?parseInt(t,10):t)%(e="string"==typeof e?parseInt(e,10):e)}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,e,i){var n;return i<e&&(n=i,i=e,e=n),Math.min(Math.max(t,e),i)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,e){if("number"==typeof t||t instanceof Number)return Math.abs(t-(e=e||0));for(var i=Math.min(t.length,(e=e||helperLengthArray).length),n=0,r=0;r<i;r+=1)n+=Math.pow(e[r]-t[r],2);return Math.sqrt(n)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var e=t[0],i=t[1],n=t[2],r=Math.max(e,i,n),s=Math.min(e,i,n);if(r===s)0;else{switch(r){case e:0;break;case i:0;break;case n:0}0}return t[3],1}function hue2rgb(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function hslToRgb(t){var e=t[0],i=t[1],n=t[2];return 0===i?0:(hue2rgb(i=2*n-(n=n<.5?n*(1+i):n+i-n*i),n,e+1/3),hue2rgb(i,n,e),hue2rgb(i,n,e-1/3)),t[3],1}function linear(t,e,i,n,r){var s;if(void 0!==n&&void 0!==r||(n=e,r=i,e=0,i=1),i<e&&(s=i,i=e,e=s),t<=e)return n;if(i<=t)return r;var o=i===e?0:(t-e)/(i-e);if(!n.length)return n+(r-n)*o;for(var a=n.length,h=createTypedArray("float32",a),l=0;l<a;l+=1)h[l]=n[l]+(r[l]-n[l])*o;return h}function random(t,e){if(void 0===e&&(void 0===t?(t=0,e=1):(e=t,t=void 0)),e.length){var i=e.length;t=t||createTypedArray("float32",i);for(var n=createTypedArray("float32",i),r=BMMath.random(),s=0;s<i;s+=1)n[s]=t[s]+r*(e[s]-t[s]);return n}return(t=void 0===t?0:t)+BMMath.random()*(e-t)}function createPath(t,e,i,n){var r=t.length,s=shapePool.newElement();s.setPathData(!!n,r);for(var o,a,h=[0,0],l=0;l<r;l+=1)o=e&&e[l]?e[l]:h,a=i&&i[l]?i[l]:h,s.setTripleAt(t[l][0],t[l][1],a[0]+t[l][0],a[1]+t[l][1],o[0]+t[l][0],o[1]+t[l][1],l,!0);return s}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw||0,height=elem.data.sh||0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(t,e){for(var i=this.pv.length||1,n=createTypedArray("float32",i),r=Math.floor(5*time),s=0,o=0;s<r;){for(o=0;o<i;o+=1)n[o]+=-e+2*e*BMMath.random();s+=1}var a=5*time,h=a-Math.floor(a),l=createTypedArray("float32",i);if(1<i){for(o=0;o<i;o+=1)l[o]=this.pv[o]+n[o]+(-e+2*e*BMMath.random())*h;return l}return this.pv+n[0]+(-e+2*e*BMMath.random())*h}.bind(this);function loopInDuration(t,e){return loopIn(t,e,!0)}function loopOutDuration(t,e){return loopOut(t,e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(t,e){t=[e[0]-t[0],e[1]-t[1],e[2]-t[2]],Math.atan2(t[0],Math.sqrt(t[1]*t[1]+t[2]*t[2])),Math.atan2(t[1],t[2]);return 1}function easeOut(t,e,i,n,r){return applyEase(easeOutBez,t,e,i,n,r)}function easeIn(t,e,i,n,r){return applyEase(easeInBez,t,e,i,n,r)}function ease(t,e,i,n,r){return applyEase(easeInOutBez,t,e,i,n,r)}function applyEase(t,e,i,n,r,s){void 0===r?(r=i,s=n):e=(e-i)/(n-i),1<e?e=1:e<0&&(e=0);var o=t(e);if($bm_isInstanceOfArray(r)){for(var a=r.length,h=createTypedArray("float32",a),l=0;l<a;l+=1)h[l]=(s[l]-r[l])*o+r[l];return h}return(s-r)*o+r}function nearestKey(t){var e,i,n,r=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(i=-1,(t*=elem.comp.globalData.frameRate)<data.k[0].t)i=1,n=data.k[0].t;else{for(e=0;e<r-1;e+=1){if(t===data.k[e].t){i=e+1,n=data.k[e].t;break}if(t>data.k[e].t&&t<data.k[e+1].t){n=t-data.k[e].t>data.k[e+1].t-t?(i=e+2,data.k[e+1].t):(i=e+1,data.k[e].t);break}}-1===i&&(i=e+1,n=data.k[e].t)}else n=i=0;var s={};return s.index=i,s.time=n/elem.comp.globalData.frameRate,s}function key(t){if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+t);for(var e={time:data.k[--t].t/elem.comp.globalData.frameRate,value:[]},i=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e,n=i.length,r=0;r<n;r+=1)e[r]=i[r],e.value[r]=i[r];return e}function framesToTime(t,e){return t/(e=e||elem.comp.globalData.frameRate)}function timeToFrames(t,e){return(t=!t&&0!==t?time:t)*(e=e||elem.comp.globalData.frameRate)}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,e){return"string"==typeof value&&(void 0===e?value.substring(t):value.substring(t,e))}function substr(t,e){return"string"==typeof value&&(void 0===e?value.substr(t):value.substr(t,e))}function posterizeTime(t){time=0===t?0:Math.floor(time*t)/t,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect=effect||thisLayer(4),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt="shape"===scoped_bm_rt.propType?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(t,e,i){e.x&&(i.k=!0,i.x=!0,i.initiateExpression=ExpressionManager.initiateExpression,i.effectsSequence.push(i.initiateExpression(t,e,i).bind(i)))},getSpeedAtTime:function(t){var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.01),n=0;if(e.length){for(var r=0;r<e.length;r+=1)n+=Math.pow(i[r]-e[r],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(t){if(void 0!==this.vel)return this.vel;var e=this.getValueAtTime(t),i=this.getValueAtTime(t+-.001);if(e.length)for(var n=createTypedArray("float32",e.length),r=0;r<e.length;r+=1)n[r]=(i[r]-e[r])/-.001;else n=(i-e)/-.001;return n},getValueAtTime:function(t){return t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<t?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(t,this._cachingAtTime),this._cachingAtTime.lastFrame=t),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(t){this.propertyGroup=t}};!function(){function o(t,e,i){if(!this.k||!this.keyframes)return this.pv;t=t?t.toLowerCase():"";var n,r,s,o,a,h=this.comp.renderedFrame,l=this.keyframes,u=l[l.length-1].t;if(h<=u)return this.pv;if(i?r=u-(n=e?Math.abs(u-this.elem.comp.globalData.frameRate*e):Math.max(0,u-this.elem.data.ip)):((!e||e>l.length-1)&&(e=l.length-1),n=u-(r=l[l.length-1-e].t)),"pingpong"===t){if(Math.floor((h-r)/n)%2!=0)return this.getValueAtTime((n-(h-r)%n+r)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(r/this.comp.globalData.frameRate,0),p=this.getValueAtTime(u/this.comp.globalData.frameRate,0),d=this.getValueAtTime(((h-r)%n+r)/this.comp.globalData.frameRate,0),f=Math.floor((h-r)/n);if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=(p[s]-c[s])*f+d[s];return a}return(p-c)*f+d}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*((h-u)/this.comp.globalData.frameRate)/5e-4;return a}return m+(h-u)/.001*(m-g)}}return this.getValueAtTime(((h-r)%n+r)/this.comp.globalData.frameRate,0)}function a(t,e,i){if(!this.k)return this.pv;t=t?t.toLowerCase():"";var n,r,s,o,a,h=this.comp.renderedFrame,l=this.keyframes,u=l[0].t;if(u<=h)return this.pv;if(i?r=u+(n=e?Math.abs(this.elem.comp.globalData.frameRate*e):Math.max(0,this.elem.data.op-u)):n=(r=l[e=!e||e>l.length-1?l.length-1:e].t)-u,"pingpong"===t){if(Math.floor((u-h)/n)%2==0)return this.getValueAtTime(((u-h)%n+u)/this.comp.globalData.frameRate,0)}else{if("offset"===t){var c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(r/this.comp.globalData.frameRate,0),d=this.getValueAtTime((n-(u-h)%n+u)/this.comp.globalData.frameRate,0),f=Math.floor((u-h)/n)+1;if(this.pv.length){for(o=(a=new Array(c.length)).length,s=0;s<o;s+=1)a[s]=d[s]-(p[s]-c[s])*f;return a}return d-(p-c)*f}if("continue"===t){var m=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(m.length)).length,s=0;s<o;s+=1)a[s]=m[s]+(m[s]-g[s])*(u-h)/.001;return a}return m+(m-g)*(u-h)/.001}}return this.getValueAtTime((n-((u-h)%n+u))/this.comp.globalData.frameRate,0)}function h(t,e){if(!this.k)return this.pv;if(t=.5*(t||.4),(e=Math.floor(e||5))<=1)return this.pv;for(var i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,r=n-t,s=1<e?(n+t-r)/(e-1):1,o=0,a=0,h=this.pv.length?createTypedArray("float32",this.pv.length):0;o<e;){if(i=this.getValueAtTime(r+o*s),this.pv.length)for(a=0;a<this.pv.length;a+=1)h[a]+=i[a];else h+=i;o+=1}if(this.pv.length)for(a=0;a<this.pv.length;a+=1)h[a]/=e;else h/=e;return h}var n=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(t,e,i){i=n(t,e,i);return i.dynamicProperties.length?i.getValueAtTime=function(t){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var e,i,n,r,s,o,a=this._transformCachingAtTime.v;return a.cloneFromProps(this.pre.props),this.appliedTransformations<1&&(e=this.a.getValueAtTime(t),a.translate(-e[0]*this.a.mult,-e[1]*this.a.mult,e[2]*this.a.mult)),this.appliedTransformations<2&&(i=this.s.getValueAtTime(t),a.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)),this.sk&&this.appliedTransformations<3&&(e=this.sk.getValueAtTime(t),i=this.sa.getValueAtTime(t),a.skewFromAxis(-e*this.sk.mult,i*this.sa.mult)),this.r&&this.appliedTransformations<4?(n=this.r.getValueAtTime(t),a.rotate(-n*this.r.mult)):!this.r&&this.appliedTransformations<4&&(n=this.rz.getValueAtTime(t),r=this.ry.getValueAtTime(t),s=this.rx.getValueAtTime(t),o=this.or.getValueAtTime(t),a.rotateZ(-n*this.rz.mult).rotateY(r*this.ry.mult).rotateX(s*this.rx.mult).rotateZ(-o[2]*this.or.mult).rotateY(o[1]*this.or.mult).rotateX(o[0]*this.or.mult)),this.data.p&&this.data.p.s?(r=this.px.getValueAtTime(t),s=this.py.getValueAtTime(t),this.data.p.z?(o=this.pz.getValueAtTime(t),a.translate(r*this.px.mult,s*this.py.mult,-o*this.pz.mult)):a.translate(r*this.px.mult,s*this.py.mult,0)):(t=this.p.getValueAtTime(t),a.translate(t[0]*this.p.mult,t[1]*this.p.mult,-t[2]*this.p.mult)),a}.bind(i):i.getValueAtTime=function(){return this.v.clone(new Matrix)}.bind(i),i.setGroupProperty=expressionHelpers.setGroupProperty,i};var l=PropertyFactory.getProp;PropertyFactory.getProp=function(t,e,i,n,r){var s=l(t,e,i,n,r);s.kf?s.getValueAtTime=expressionHelpers.getValueAtTime.bind(s):s.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(s),s.setGroupProperty=expressionHelpers.setGroupProperty,s.loopOut=o,s.loopIn=a,s.smooth=h,s.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(s),s.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(s),s.numKeys=1===e.a?e.k.length:0,s.propertyIndex=e.ix;n=0;return 0!==i&&(n=createTypedArray("float32",(1===e.a?e.k[0].s:e.k).length)),s._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:n},expressionHelpers.searchExpressions(t,e,s),s.k&&r.addDynamicProperty(s),s};var t=ShapePropertyFactory.getConstructorFunction(),e=ShapePropertyFactory.getKeyframedConstructorFunction();function i(){}i.prototype={vertices:function(t,e){this.k&&this.getValue();for(var i=this.v,n=(i=void 0!==e?this.getValueAtTime(e,0):i)._length,r=i[t],s=i.v,o=createSizedArray(n),a=0;a<n;a+=1)o[a]="i"===t||"o"===t?[r[a][0]-s[a][0],r[a][1]-s[a][1]]:[r[a][0],r[a][1]];return o},points:function(t){return this.vertices("v",t)},inTangents:function(t){return this.vertices("i",t)},outTangents:function(t){return this.vertices("o",t)},isClosed:function(){return this.v.c},pointOnPath:function(t,e){var i=this.v;void 0!==e&&(i=this.getValueAtTime(e,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(i));for(var e=this._segmentsLength,n=e.lengths,r=e.totalLength*t,s=0,o=n.length,a=0;s<o;){if(a+n[s].addedLength>r){var h=s,l=i.c&&s===o-1?0:s+1,u=(r-a)/n[s].addedLength,c=bez.getPointInSegment(i.v[h],i.v[l],i.o[h],i.i[l],u,n[s]);break}a+=n[s].addedLength,s+=1}return c=c||(i.c?[i.v[0][0],i.v[0][1]]:[i.v[i._length-1][0],i.v[i._length-1][1]])},vectorOnPath:function(t,e,i){1==t?t=this.v.c:0==t&&(t=.999);var n=this.pointOnPath(t,e),t=this.pointOnPath(t+.001,e),e=t[0]-n[0],t=t[1]-n[1],n=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));return 0===n?[0,0]:"tangent"===i?[e/n,t/n]:[-t/n,e/n]},tangentOnPath:function(t,e){return this.vectorOnPath(t,e,"tangent")},normalOnPath:function(t,e){return this.vectorOnPath(t,e,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([i],t),extendPrototype([i],e),e.prototype.getValueAtTime=function(t){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),t*=this.elem.globalData.frameRate,(t-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<t?this._caching.lastIndex:0,this._cachingAtTime.lastTime=t,this.interpolateShape(t,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},e.prototype.initiateExpression=ExpressionManager.initiateExpression;var s=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(t,e,i,n,r){r=s(t,e,i,n,r);return r.propertyIndex=e.ix,r.lock=!1,3===i?expressionHelpers.searchExpressions(t,e.pt,r):4===i&&expressionHelpers.searchExpressions(t,e.ks,r),r.k&&t.addDynamicProperty(r),r}}(),TextProperty.prototype.getExpressionValue=function(t,e){var i=this.calculateExpression(e);if(t.t===i)return t;e={};return this.copyData(e,t),e.t=i.toString(),e.__complete=!1,e},TextProperty.prototype.searchProperty=function(){var t=this.searchKeyframes(),e=this.searchExpressions();return this.kf=t||e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null};var ShapePathInterface=function(t,e,i){var n=e.sh;function r(t){return"Shape"===t||"shape"===t||"Path"===t||"path"===t||"ADBE Vector Shape"===t||2===t?r.path:null}e=propertyGroupFactory(r,i);return n.setGroupProperty(PropertyInterface("Path",e)),Object.defineProperties(r,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:t.nm},ix:{value:t.ix},propertyIndex:{value:t.ix},mn:{value:t.mn},propertyGroup:{value:i}}),r},propertyGroupFactory=function(e,i){return function(t){return(t=void 0===t?1:t)<=0?e:i(t-1)}},PropertyInterface=function(t,e){var i={_name:t};return function(t){return(t=void 0===t?1:t)<=0?i:e(t-1)}},ShapeExpressionInterface=function(t,e,n){var r;function i(t){if("number"==typeof t)return 0===(t=void 0===t?1:t)?n:r[t-1];for(var e=0,i=r.length;e<i;){if(r[e]._name===t)return r[e];e+=1}return null}return i.propertyGroup=propertyGroupFactory(i,function(){return n}),r=Qk1(t,e,i.propertyGroup),i.numProperties=r.length,i._name="Contents",i};function Qk1(t,e,i){for(var n=[],r=t?t.length:0,s=0;s<r;s+=1)"gr"===t[s].ty?n.push(function(t,e,i){function n(t){switch(t){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}}n.propertyGroup=propertyGroupFactory(n,i);i=function(t,e,i){function n(t){for(var e=0,i=r.length;e<i;){if(r[e]._name===t||r[e].mn===t||r[e].propertyIndex===t||r[e].ix===t||r[e].ind===t)return r[e];e+=1}return"number"==typeof t?r[t-1]:null}var r;n.propertyGroup=propertyGroupFactory(n,i),r=Qk1(t.it,e.it,n.propertyGroup),n.numProperties=r.length;e=Yk1(t.it[t.it.length-1],e.it[e.it.length-1],n.propertyGroup);return n.transform=e,n.propertyIndex=t.cix,n._name=t.nm,n}(t,e,n.propertyGroup),e=Yk1(t.it[t.it.length-1],e.it[e.it.length-1],n.propertyGroup);return n.content=i,n.transform=e,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}(t[s],e[s],i)):"fl"===t[s].ty?n.push(function(t,e,i){function n(t){return"Color"===t||"color"===t?n.color:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{color:{get:ExpressionPropertyInterface(e.c)},opacity:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm},mn:{value:t.mn}}),e.c.setGroupProperty(PropertyInterface("Color",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}(t[s],e[s],i)):"st"===t[s].ty?n.push(function(e,i,t){var n,t=propertyGroupFactory(a,t),r=propertyGroupFactory(void 0,t);var s=e.d?e.d.length:0,o={};for(n=0;n<s;n+=1)!function(t){Object.defineProperty(o,e.d[t].nm,{get:ExpressionPropertyInterface(i.d.dataProps[t].p)})}(n),i.d.dataProps[n].p.setGroupProperty(r);function a(t){return"Color"===t||"color"===t?a.color:"Opacity"===t||"opacity"===t?a.opacity:"Stroke Width"===t||"stroke width"===t?a.strokeWidth:null}return Object.defineProperties(a,{color:{get:ExpressionPropertyInterface(i.c)},opacity:{get:ExpressionPropertyInterface(i.o)},strokeWidth:{get:ExpressionPropertyInterface(i.w)},dash:{get:function(){return o}},_name:{value:e.nm},mn:{value:e.mn}}),i.c.setGroupProperty(PropertyInterface("Color",t)),i.o.setGroupProperty(PropertyInterface("Opacity",t)),i.w.setGroupProperty(PropertyInterface("Stroke Width",t)),a}(t[s],e[s],i)):"tm"===t[s].ty?n.push(function(e,t,i){function n(t){return t===e.e.ix||"End"===t||"end"===t?n.end:t===e.s.ix?n.start:t===e.o.ix?n.offset:null}var r=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",r)),t.e.setGroupProperty(PropertyInterface("End",r)),t.o.setGroupProperty(PropertyInterface("Offset",r)),n.propertyIndex=e.ix,n.propertyGroup=i,Object.defineProperties(n,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"tr"===t[s].ty||("el"===t[s].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.s.ix===t?n.size:null}i=propertyGroupFactory(n,i);n.propertyIndex=e.ix;t="tm"===t.sh.ty?t.sh.prop:t.sh;return t.s.setGroupProperty(PropertyInterface("Size",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),Object.defineProperties(n,{size:{get:ExpressionPropertyInterface(t.s)},position:{get:ExpressionPropertyInterface(t.p)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"sr"===t[s].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.rotation:e.pt.ix===t?n.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?n.outerRadius:e.os.ix===t?n.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?n.innerRoundness:null:n.innerRadius}i=propertyGroupFactory(n,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;n.propertyIndex=e.ix,t.or.setGroupProperty(PropertyInterface("Outer Radius",i)),t.os.setGroupProperty(PropertyInterface("Outer Roundness",i)),t.pt.setGroupProperty(PropertyInterface("Points",i)),t.p.setGroupProperty(PropertyInterface("Position",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),e.ir&&(t.ir.setGroupProperty(PropertyInterface("Inner Radius",i)),t.is.setGroupProperty(PropertyInterface("Inner Roundness",i)));return Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(t.p)},rotation:{get:ExpressionPropertyInterface(t.r)},points:{get:ExpressionPropertyInterface(t.pt)},outerRadius:{get:ExpressionPropertyInterface(t.or)},outerRoundness:{get:ExpressionPropertyInterface(t.os)},innerRadius:{get:ExpressionPropertyInterface(t.ir)},innerRoundness:{get:ExpressionPropertyInterface(t.is)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"sh"===t[s].ty?n.push(ShapePathInterface(t[s],e[s],i)):"rc"===t[s].ty?n.push(function(e,t,i){function n(t){return e.p.ix===t?n.position:e.r.ix===t?n.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?n.size:null}i=propertyGroupFactory(n,i),t="tm"===t.sh.ty?t.sh.prop:t.sh;return n.propertyIndex=e.ix,t.p.setGroupProperty(PropertyInterface("Position",i)),t.s.setGroupProperty(PropertyInterface("Size",i)),t.r.setGroupProperty(PropertyInterface("Rotation",i)),Object.defineProperties(n,{position:{get:ExpressionPropertyInterface(t.p)},roundness:{get:ExpressionPropertyInterface(t.r)},size:{get:ExpressionPropertyInterface(t.s)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"rd"===t[s].ty?n.push(function(e,t,i){function n(t){return e.r.ix===t||"Round Corners 1"===t?n.radius:null}i=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.rd.setGroupProperty(PropertyInterface("Radius",i)),Object.defineProperties(n,{radius:{get:ExpressionPropertyInterface(t.rd)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"rp"===t[s].ty?n.push(function(e,t,i){function n(t){return e.c.ix===t||"Copies"===t?n.copies:e.o.ix===t||"Offset"===t?n.offset:null}i=propertyGroupFactory(n,i);return n.propertyIndex=e.ix,t.c.setGroupProperty(PropertyInterface("Copies",i)),t.o.setGroupProperty(PropertyInterface("Offset",i)),Object.defineProperties(n,{copies:{get:ExpressionPropertyInterface(t.c)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),n.mn=e.mn,n}(t[s],e[s],i)):"gf"===t[s].ty?n.push(function(t,e,i){function n(t){return"Start Point"===t||"start point"===t?n.startPoint:"End Point"===t||"end point"===t?n.endPoint:"Opacity"===t||"opacity"===t?n.opacity:null}return Object.defineProperties(n,{startPoint:{get:ExpressionPropertyInterface(e.s)},endPoint:{get:ExpressionPropertyInterface(e.e)},opacity:{get:ExpressionPropertyInterface(e.o)},type:{get:function(){return"a"}},_name:{value:t.nm},mn:{value:t.mn}}),e.s.setGroupProperty(PropertyInterface("Start Point",i)),e.e.setGroupProperty(PropertyInterface("End Point",i)),e.o.setGroupProperty(PropertyInterface("Opacity",i)),n}(t[s],e[s],i)):n.push((t[s],e[s],function(){return null})));return n}function Yk1(e,t,i){function n(t){return e.a.ix===t||"Anchor Point"===t?n.anchorPoint:e.o.ix===t||"Opacity"===t?n.opacity:e.p.ix===t||"Position"===t?n.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?n.rotation:e.s.ix===t||"Scale"===t?n.scale:e.sk&&e.sk.ix===t||"Skew"===t?n.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?n.skewAxis:null}var r=propertyGroupFactory(n,i);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",r)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",r)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",r)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",r)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",r)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",r)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",r))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",r)),Object.defineProperties(n,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),n.ty="tr",n.mn=e.mn,n.propertyGroup=i,n}var TextExpressionInterface=function(e){var i;function n(t){return"ADBE Text Document"!==t?null:n.sourceText}return Object.defineProperty(n,"sourceText",{get:function(){e.textProperty.getValue();var t=e.textProperty.currentData.t;return void 0!==t&&(e.textProperty.currentData.t=void 0,(i=new String(t)).value=t||new String(t)),i}}),n},LayerExpressionInterface=function(e){function i(t){switch(t){case"ADBE Root Vectors Group":case"Contents":case 2:return i.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return n;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return i.effect;case"ADBE Text Properties":return i.textInterface;default:return null}}i.getMatrix=dn1,i.invertPoint=jn1,i.applyPoint=in1,i.toWorld=fn1,i.toWorldVec=en1,i.fromWorld=hn1,i.fromWorldVec=gn1,i.toComp=fn1,i.fromComp=kn1,i.sampleImage=ln1,i.sourceRectAtTime=e.sourceRectAtTime.bind(e);var n,t=getDescriptor(n=TransformExpressionInterface((i._elem=e).finalTransform.mProp),"anchorPoint");return Object.defineProperties(i,{hasParent:{get:function(){return e.hierarchy.length}},parent:{get:function(){return e.hierarchy[0].layerInterface}},rotation:getDescriptor(n,"rotation"),scale:getDescriptor(n,"scale"),position:getDescriptor(n,"position"),opacity:getDescriptor(n,"opacity"),anchorPoint:t,anchor_point:t,transform:{get:function(){return n}},active:{get:function(){return e.isInRange}}}),i.startTime=e.data.st,i.index=e.data.ind,i.source=e.data.refId,i.height=0===e.data.ty?e.data.h:100,i.width=0===e.data.ty?e.data.w:100,i.inPoint=e.data.ip/e.comp.globalData.frameRate,i.outPoint=e.data.op/e.comp.globalData.frameRate,i._name=e.data.nm,i.registerMaskInterface=function(t){i.mask=new MaskManagerInterface(t,e)},i.registerEffectsInterface=function(t){i.effect=t},i};function dn1(t){var e=new Matrix;return void 0!==t?this._elem.finalTransform.mProp.getValueAtTime(t).clone(e):this._elem.finalTransform.mProp.applyToMatrix(e),e}function en1(t,e){e=this.getMatrix(e);return e.props[12]=0,e.props[13]=0,e.props[14]=0,this.applyPoint(e,t)}function fn1(t,e){e=this.getMatrix(e);return this.applyPoint(e,t)}function gn1(t,e){e=this.getMatrix(e);return e.props[12]=0,e.props[13]=0,e.props[14]=0,this.invertPoint(e,t)}function hn1(t,e){e=this.getMatrix(e);return this.invertPoint(e,t)}function in1(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.applyToPointArray(e[0],e[1],e[2]||0)}function jn1(t,e){if(this._elem.hierarchy&&this._elem.hierarchy.length)for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}function kn1(t){var e=new Matrix;if(e.reset(),this._elem.finalTransform.mProp.applyToMatrix(e),this._elem.hierarchy&&this._elem.hierarchy.length){for(var i=this._elem.hierarchy.length,n=0;n<i;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(e);return e.inversePoint(t)}return e.inversePoint(t)}function ln1(){return[1,1,1,1]}var FootageInterface=function(t){function e(t){return"Data"===t?e.dataInterface:null}return e._name="Data",e.dataInterface=Yn1(t),e};function Yn1(t){function e(t){return"Outline"===t?e.outlineInterface():null}function i(t){if(s[t])return"object"==typeof(s=s[r=t])?i:s;var e=t.indexOf(r);if(-1===e)return"";e=parseInt(t.substr(e+r.length),10);return"object"==typeof(s=s[e])?i:s}var n,r,s;return e._name="Outline",e.outlineInterface=(r="",s=(n=t).getFootageData(),function(){return r="",s=n.getFootageData(),i}),e}var CompExpressionInterface=function(n){function t(t){for(var e=0,i=n.layers.length;e<i;){if(n.layers[e].nm===t||n.layers[e].ind===t)return n.elements[e].layerInterface;e+=1}return null}return Object.defineProperty(t,"_name",{value:n.data.nm}),(t.layer=t).pixelAspect=1,t.height=n.data.h||n.globalData.compSize.h,t.width=n.data.w||n.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/n.globalData.frameRate,t.displayStartTime=0,t.numLayers=n.layers.length,t},TransformExpressionInterface=function(t){function e(t){switch(t){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}var i,n,r,s;return Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(t.s)}),t.p?s=ExpressionPropertyInterface(t.p):(i=ExpressionPropertyInterface(t.px),n=ExpressionPropertyInterface(t.py),t.pz&&(r=ExpressionPropertyInterface(t.pz))),Object.defineProperty(e,"position",{get:function(){return t.p?s():[i(),n(),r?r():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(t.or)}),e},ProjectInterface=function(){function t(t){for(var e=0,i=this.compositions.length;e<i;){if(this.compositions[e].data&&this.compositions[e].data.nm===t)return this.compositions[e].prepareFrame&&this.compositions[e].data.xt&&this.compositions[e].prepareFrame(this.currentFrame),this.compositions[e].compInterface;e+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=xo1,t};function xo1(t){this.compositions.push(t)}var EffectsExpressionInterface={createEffectsInterface:function(t,e){if(t.effectsManager){var i,n=[],r=t.data.ef,s=t.effectsManager.effectElements.length;for(i=0;i<s;i+=1)n.push(function t(r,e,i,n){function s(t){for(var e=r.ef,i=0,n=e.length;i<n;){if(t===e[i].nm||t===e[i].mn||t===e[i].ix)return 5===e[i].ty?a[i]:a[i]();i+=1}throw new Error}var o=propertyGroupFactory(s,i);var a=[];var h;var l=r.ef.length;for(h=0;h<l;h+=1)5===r.ef[h].ty?a.push(t(r.ef[h],e.effectElements[h],e.effectElements[h].propertyGroup,n)):a.push(Go1(e.effectElements[h],r.ef[h].ty,n,o));"ADBE Color Control"===r.mn&&Object.defineProperty(s,"color",{get:function(){return a[0]()}});Object.defineProperties(s,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:o}});s.enabled=0!==r.en;s.active=s.enabled;return s}(r[i],t.effectsManager.effectElements[i],e,t));var o=t.data.ef||[],a=function(t){for(i=0,s=o.length;i<s;){if(t===o[i].nm||t===o[i].mn||t===o[i].ix)return n[i];i+=1}return null};return Object.defineProperty(a,"numProperties",{get:function(){return o.length}}),a}return null}};function Go1(t,e,i,n){var r=ExpressionPropertyInterface(t.p);return t.p.setGroupProperty&&t.p.setGroupProperty(PropertyInterface("",n)),function(){return 10===e?i.comp.compInterface(t.p.v):r()}}var MaskManagerInterface=function(){function t(t,e){this._mask=t,this._data=e}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}});return function(e){for(var i=createSizedArray(e.viewData.length),n=e.viewData.length,r=0;r<n;r+=1)i[r]=new t(e.viewData[r],e.masksProperties[r]);return function(t){for(r=0;r<n;){if(e.masksProperties[r].nm===t)return i[r];r+=1}return null}}}(),ExpressionPropertyInterface=(rp1={pv:0,v:0,mult:1},sp1={pv:[0,0,0],v:[0,0,0],mult:1},function(t){return t?"unidimensional"===t.propType?(i=1/(e=!((e=t)&&"pv"in e)?rp1:e).mult,n=e.pv*i,(r=new Number(n)).value=n,tp1(r,e,"unidimensional"),function(){return e.k&&e.getValue(),n=e.v*i,r.value!==n&&((r=new Number(n)).value=n,tp1(r,e,"unidimensional")),r}):(o=1/(s=!((s=t)&&"pv"in s)?sp1:s).mult,a=s.data&&s.data.l||s.pv.length,h=createTypedArray("float32",a),l=createTypedArray("float32",a),h.value=l,tp1(h,s,"multidimensional"),function(){s.k&&s.getValue();for(var t=0;t<a;t+=1)l[t]=s.v[t]*o,h[t]=l[t];return h}):wp1;var e,i,n,r,s,o,a,h,l}),rp1,sp1;function tp1(n,r,s){Object.defineProperty(n,"velocity",{get:function(){return r.getVelocityAtTime(r.comp.currentFrame)}}),n.numKeys=r.keyframes?r.keyframes.length:0,n.key=function(t){if(!n.numKeys)return 0;var e="",e="s"in r.keyframes[t-1]?r.keyframes[t-1].s:"e"in r.keyframes[t-2]?r.keyframes[t-2].e:r.keyframes[t-2].s,i="unidimensional"===s?new Number(e):Object.assign({},e);return i.time=r.keyframes[t-1].t/r.elem.comp.globalData.frameRate,i.value="unidimensional"===s?e[0]:e,i},n.valueAtTime=r.getValueAtTime,n.speedAtTime=r.getSpeedAtTime,n.velocityAtTime=r.getVelocityAtTime,n.propertyGroup=r.propertyGroup}function wp1(){return rp1}var TextExpressionSelectorPropFactory=function(t,e){this.pv=1,this.comp=t.comp,this.elem=t,this.mult=.01,this.propType="textSelector",this.textTotal=e.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(t,e,this),this.getMult=Op1,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty};function Op1(t,e){return this.textIndex=t+1,this.textTotal=e,this.v=this.getValue()*this.mult,this.v}var propertyGetTextProp=TextSelectorProp.getTextSelectorProp;function SliderEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function AngleEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function ColorEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function PointEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,1,0,i)}function LayerIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function MaskIndexEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function CheckboxEffect(t,e,i){this.p=PropertyFactory.getProp(e,t.v,0,0,i)}function NoValueEffect(){this.p={}}function EffectsManager(t,e){var i=t.ef||[];this.effectElements=[];for(var n,r=i.length,s=0;s<r;s+=1)n=new GroupEffect(i[s],e),this.effectElements.push(n)}function GroupEffect(t,e){this.init(t,e)}TextSelectorProp.getTextSelectorProp=function(t,e,i){return 1===e.t?new TextExpressionSelectorPropFactory(t,e,i):propertyGetTextProp(t,e,i)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,e){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(e);for(var i,n=this.data.ef.length,r=this.data.ef,s=0;s<n;s+=1){switch(i=null,r[s].ty){case 0:i=new SliderEffect(r[s],e,this);break;case 1:i=new AngleEffect(r[s],e,this);break;case 2:i=new ColorEffect(r[s],e,this);break;case 3:i=new PointEffect(r[s],e,this);break;case 4:case 7:i=new CheckboxEffect(r[s],e,this);break;case 10:i=new LayerIndexEffect(r[s],e,this);break;case 11:i=new MaskIndexEffect(r[s],e,this);break;case 5:i=new EffectsManager(r[s],e,this);break;default:i=new NoValueEffect(r[s],e,this)}i&&this.effectElements.push(i)}};var lottie={};function setLocationHref(t){locationHref=t}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(t){subframeEnabled=t}function setIDPrefix(t){idPrefix=t}function loadAnimation(t){return!0===standalone&&(t.animationData=JSON.parse(animationData)),animationManager.loadAnimation(t)}function setQuality(t){if("string"==typeof t)switch(t){case"high":defaultCurveSegments=200;break;default:case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(t)&&1<t&&(defaultCurveSegments=t);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(t,e){"expressions"===t&&(expressionsPlugin=e)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var e=queryString.split("&"),i=0;i<e.length;i+=1){var n=e[i].split("=");if(decodeURIComponent(n[0])==t)return decodeURIComponent(n[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=function(t){_useWebWorker=t},lottie.setIDPrefix=setIDPrefix,lottie.__getFactory=getFactory,lottie.version="5.8.0";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",queryString,scripts,index,myScript,queryString,renderer;standalone&&(scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer"));var readyStateCheckInterval=setInterval(checkReady,100);return lottie},"function"==typeof define&&define.amd?define(function(){return Dpb(Cpb)}):"object"==typeof module&&module.exports?module.exports=Dpb(Cpb):(Cpb.lottie=Dpb(Cpb),Cpb.bodymovin=Cpb.lottie))},{}],54:[function(t,e,i){"use strict";var h=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(t){return}}()?Object.assign:function(t,e){for(var i,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),r=1;r<arguments.length;r++){for(var s in i=Object(arguments[r]))l.call(i,s)&&(n[s]=i[s]);if(h)for(var o=h(i),a=0;a<o.length;a++)u.call(i,o[a])&&(n[o[a]]=i[o[a]])}return n}},{}],55:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("@pixi/polyfill");var n=t("@pixi/utils"),r=t("@pixi/accessibility"),s=t("@pixi/interaction"),o=t("@pixi/app"),a=t("@pixi/core"),h=t("@pixi/extract"),l=t("@pixi/loaders"),u=t("@pixi/compressed-textures"),c=t("@pixi/particle-container"),p=t("@pixi/prepare"),d=t("@pixi/spritesheet"),f=t("@pixi/sprite-tiling"),m=t("@pixi/text-bitmap"),g=t("@pixi/ticker"),_=t("@pixi/filter-alpha"),y=t("@pixi/filter-blur"),v=t("@pixi/filter-color-matrix"),b=t("@pixi/filter-displacement"),x=t("@pixi/filter-fxaa"),T=t("@pixi/filter-noise");t("@pixi/mixin-cache-as-bitmap"),t("@pixi/mixin-get-child-by-name"),t("@pixi/mixin-get-global-position");var E=t("@pixi/constants"),S=t("@pixi/display"),A=t("@pixi/graphics"),w=t("@pixi/math"),P=t("@pixi/mesh"),C=t("@pixi/mesh-extras"),R=t("@pixi/runner"),O=t("@pixi/sprite"),M=t("@pixi/sprite-animated"),I=t("@pixi/text"),D=t("@pixi/settings");a.Renderer.registerPlugin("accessibility",r.AccessibilityManager),a.Renderer.registerPlugin("extract",h.Extract),a.Renderer.registerPlugin("interaction",s.InteractionManager),a.Renderer.registerPlugin("particle",c.ParticleRenderer),a.Renderer.registerPlugin("prepare",p.Prepare),a.Renderer.registerPlugin("batch",a.BatchRenderer),a.Renderer.registerPlugin("tilingSprite",f.TilingSpriteRenderer),l.Loader.registerPlugin(m.BitmapFontLoader),l.Loader.registerPlugin(u.CompressedTextureLoader),l.Loader.registerPlugin(u.DDSLoader),l.Loader.registerPlugin(u.KTXLoader),l.Loader.registerPlugin(d.SpritesheetLoader),o.Application.registerPlugin(g.TickerPlugin),o.Application.registerPlugin(l.AppLoaderPlugin);T={AlphaFilter:_.AlphaFilter,BlurFilter:y.BlurFilter,BlurFilterPass:y.BlurFilterPass,ColorMatrixFilter:v.ColorMatrixFilter,DisplacementFilter:b.DisplacementFilter,FXAAFilter:x.FXAAFilter,NoiseFilter:T.NoiseFilter};Object.keys(r).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return r[t]}})}),Object.keys(s).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})}),Object.keys(o).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})}),Object.keys(a).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return a[t]}})}),Object.keys(h).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return h[t]}})}),Object.keys(l).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return l[t]}})}),Object.keys(u).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return u[t]}})}),Object.keys(c).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(p).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return p[t]}})}),Object.keys(d).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return d[t]}})}),Object.keys(f).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return f[t]}})}),Object.keys(m).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return m[t]}})}),Object.keys(g).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return g[t]}})}),Object.keys(E).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return E[t]}})}),Object.keys(S).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return S[t]}})}),Object.keys(A).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return A[t]}})}),Object.keys(w).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return w[t]}})}),Object.keys(P).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return P[t]}})}),Object.keys(C).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return C[t]}})}),Object.keys(R).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return R[t]}})}),Object.keys(O).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return O[t]}})}),Object.keys(M).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return M[t]}})}),Object.keys(I).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return I[t]}})}),Object.keys(D).forEach(function(t){"default"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return D[t]}})}),i.utils=n,i.VERSION="6.2.0",i.filters=T},{"@pixi/accessibility":6,"@pixi/app":7,"@pixi/compressed-textures":8,"@pixi/constants":9,"@pixi/core":10,"@pixi/display":11,"@pixi/extract":12,"@pixi/filter-alpha":13,"@pixi/filter-blur":14,"@pixi/filter-color-matrix":15,"@pixi/filter-displacement":16,"@pixi/filter-fxaa":17,"@pixi/filter-noise":18,"@pixi/graphics":19,"@pixi/interaction":20,"@pixi/loaders":21,"@pixi/math":23,"@pixi/mesh":25,"@pixi/mesh-extras":24,"@pixi/mixin-cache-as-bitmap":26,"@pixi/mixin-get-child-by-name":27,"@pixi/mixin-get-global-position":28,"@pixi/particle-container":29,"@pixi/polyfill":30,"@pixi/prepare":31,"@pixi/runner":32,"@pixi/settings":33,"@pixi/sprite":36,"@pixi/sprite-animated":34,"@pixi/sprite-tiling":35,"@pixi/spritesheet":37,"@pixi/text":39,"@pixi/text-bitmap":38,"@pixi/ticker":40,"@pixi/utils":41}],56:[function(t,e,i){var n,r,e=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var h,l=[],u=!1,c=-1;function p(){u&&h&&(u=!1,h.length?l=h.concat(l):c=-1,l.length&&d())}function d(){if(!u){var t=a(p);u=!0;for(var e=l.length;e;){for(h=l,l=[];++c<e;)h&&h[c].run();c=-1,e=l.length}h=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}e.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.push(new f(t,e)),1!==l.length||u||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=m,e.addListener=m,e.once=m,e.off=m,e.removeListener=m,e.removeAllListeners=m,e.emit=m,e.prependListener=m,e.prependOnceListener=m,e.listeners=function(t){return[]},e.binding=function(t){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(t){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},{}],57:[function(t,p,e){!function(t){!function(){"use strict";var e=setTimeout,i=void 0!==t?t:null;function h(t){return Boolean(t&&void 0!==t.length)}function n(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function r(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,s._immediateFn(function(){var t,e=1===i._state?n.onFulfilled:n.onRejected;if(null!==e){try{t=e(i._value)}catch(t){return void a(n.promise,t)}o(n.promise,t)}else(1===i._state?o:a)(n.promise,i._value)})):i._deferreds.push(n)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof s)return e._state=3,e._value=t,void l(e);if("function"==typeof i)return void c((n=i,r=t,function(){n.apply(r,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){a(e,t)}var n,r}function a(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&s._immediateFn(function(){t._handled||s._unhandledRejectionFn(t._value)});for(var e=0,i=t._deferreds.length;e<i;e++)r(t,t._deferreds[e]);t._deferreds=null}function u(t,e,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=i}function c(t,e){var i=!1;try{t(function(t){i||(i=!0,o(e,t))},function(t){i||(i=!0,a(e,t))})}catch(t){if(i)return;i=!0,a(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var i=new this.constructor(n);return r(this,new u(t,e,i)),i},s.prototype.finally=function(e){var i=this.constructor;return this.then(function(t){return i.resolve(e()).then(function(){return t})},function(t){return i.resolve(e()).then(function(){return i.reject(t)})})},s.all=function(e){return new s(function(r,s){if(!h(e))return s(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return r([]);var a=o.length;for(var t=0;t<o.length;t++)!function e(i,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){e(i,t)},s)}o[i]=t,0==--a&&r(o)}catch(t){s(t)}}(t,o[t])})},s.allSettled=function(i){return new this(function(r,t){if(!i||void 0===i.length)return t(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var s=Array.prototype.slice.call(i);if(0===s.length)return r([]);var o=s.length;for(var e=0;e<s.length;e++)!function e(i,t){if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){e(i,t)},function(t){s[i]={status:"rejected",reason:t},0==--o&&r(s)})}s[i]={status:"fulfilled",value:t},0==--o&&r(s)}(e,s[e])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(i){return new s(function(t,e){e(i)})},s.race=function(r){return new s(function(t,e){if(!h(r))return e(new TypeError("Promise.race accepts an array"));for(var i=0,n=r.length;i<n;i++)s.resolve(r[i]).then(t,e)})},s._immediateFn="function"==typeof i?function(t){i(t)}:function(t){e(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},p.exports=s}.call(this)}.call(this,t("timers").setImmediate)},{timers:63}],58:[function(t,C,R){!function(P){!function(){!function(t){var e="object"==typeof R&&R&&!R.nodeType&&R,i="object"==typeof C&&C&&!C.nodeType&&C,n="object"==typeof P&&P;n.global!==n&&n.window!==n&&n.self!==n||(t=n);var r,s,g=2147483647,_=36,y=26,o=38,a=700,h=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=_-1,v=Math.floor,b=String.fromCharCode;function x(t){throw new RangeError(c[t])}function d(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function f(t,e){var i=t.split("@"),n="";return 1<i.length&&(n=i[0]+"@",t=i[1]),n+d((t=t.replace(u,".")).split("."),e).join(".")}function T(t){for(var e,i,n=[],r=0,s=t.length;r<s;)55296<=(e=t.charCodeAt(r++))&&e<=56319&&r<s?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}function m(t){return d(t,function(t){var e="";return 65535<t&&(e+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=b(t)}).join("")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,i){var n=0;for(t=i?v(t/a):t>>1,t+=v(t/e);p*y>>1<t;n+=_)t=v(t/p);return v(n+(p+1)*t/(t+o))}function A(t){var e,i,n,r,s,o,a,h=[],l=t.length,u=0,c=128,p=72,d=t.lastIndexOf("-");for(d<0&&(d=0),i=0;i<d;++i)128<=t.charCodeAt(i)&&x("not-basic"),h.push(t.charCodeAt(i));for(n=0<d?d+1:0;n<l;){for(r=u,s=1,o=_;l<=n&&x("invalid-input"),a=t.charCodeAt(n++),(_<=(a=a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:_)||a>v((g-u)/s))&&x("overflow"),u+=a*s,!(a<(a=o<=p?1:p+y<=o?y:o-p));o+=_)s>v(g/(a=_-a))&&x("overflow"),s*=a;p=S(u-r,e=h.length+1,0==r),v(u/e)>g-c&&x("overflow"),c+=v(u/e),u%=e,h.splice(u++,0,c)}return m(h)}function w(t){for(var e,i,n,r,s,o,a,h,l,u,c=[],p=(t=T(t)).length,d=128,f=72,m=e=0;m<p;++m)(a=t[m])<128&&c.push(b(a));for(i=n=c.length,n&&c.push("-");i<p;){for(r=g,m=0;m<p;++m)d<=(a=t[m])&&a<r&&(r=a);for(r-d>v((g-e)/(h=i+1))&&x("overflow"),e+=(r-d)*h,d=r,m=0;m<p;++m)if((a=t[m])<d&&++e>g&&x("overflow"),a==d){for(s=e,o=_;!(s<(l=o<=f?1:f+y<=o?y:o-f));o+=_)c.push(b(E(l+(u=s-l)%(l=_-l),0))),s=v(u/l);c.push(b(E(s,0))),f=S(e,h,i==n),e=0,++i}++e,++d}return c.join("")}if(r={version:"1.4.1",ucs2:{decode:T,encode:m},decode:A,encode:w,toASCII:function(t){return f(t,function(t){return l.test(t)?"xn--"+w(t):t})},toUnicode:function(t){return f(t,function(t){return h.test(t)?A(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(e&&i)if(C.exports==e)i.exports=r;else for(s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);else t.punycode=r}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){i=i||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e=e||"&");e=1e3;n&&"number"==typeof n.maxKeys&&(e=n.maxKeys);var o=t.length;0<e&&e<o&&(o=e);for(var a=0;a<o;++a){var h,l=t[a].replace(s,"%20"),u=l.indexOf(i),u=0<=u?(h=l.substr(0,u),l.substr(u+1)):(h=l,""),l=decodeURIComponent(h),u=decodeURIComponent(u);Object.prototype.hasOwnProperty.call(r,l)?c(r[l])?r[l].push(u):r[l]=[r[l],u]:r[l]=u}return r};var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],60:[function(t,e,i){"use strict";function s(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}}e.exports=function(i,n,r,t){return n=n||"&",r=r||"=","object"==typeof(i=null===i?void 0:i)?a(h(i),function(t){var e=encodeURIComponent(s(t))+r;return o(i[t])?a(i[t],function(t){return e+encodeURIComponent(s(t))}).join(n):e+encodeURIComponent(s(i[t]))}).join(n):t?encodeURIComponent(s(t))+r+encodeURIComponent(s(i)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var h=Object.keys||function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i}},{}],61:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":59,"./encode":60}],62:[function(t,n,e){!function(){"use strict";var o="undefined"!=typeof window&&void 0!==window.document?window.document:{},t=void 0!==n&&n.exports,a=function(){for(var t,e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=e.length,r={};i<n;i++)if((t=e[i])&&t[1]in o){for(i=0;i<t.length;i++)r[e[0][i]]=t[i];return r}return!1}(),i={change:a.fullscreenchange,error:a.fullscreenerror},e={request:function(r,s){return new Promise(function(t,e){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var n=(r=r||o.documentElement)[a.requestFullscreen](s);n instanceof Promise&&n.then(i).catch(e)}.bind(this))},exit:function(){return new Promise(function(t,e){var i,n;this.isFullscreen?(i=function(){this.off("change",i),t()}.bind(this),this.on("change",i),(n=o[a.exitFullscreen]())instanceof Promise&&n.then(i).catch(e)):t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,e){t=i[t];t&&o.addEventListener(t,e,!1)},off:function(t,e){t=i[t];t&&o.removeEventListener(t,e,!1)},raw:a};a?(Object.defineProperties(e,{isFullscreen:{get:function(){return Boolean(o[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return o[a.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(o[a.fullscreenEnabled])}}}),t?n.exports=e:window.screenfull=e):t?n.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},{}],63:[function(h,t,l){!function(i,a){!function(){var n=h("process/browser.js").nextTick,t=Function.prototype.apply,r=Array.prototype.slice,s={},o=0;function e(t,e){this._id=t,this._clearFn=e}l.setTimeout=function(){return new e(t.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new e(t.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(t){t.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},l.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},l._unrefActive=l.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},l.setImmediate="function"==typeof i?i:function(t){var e=o++,i=!(arguments.length<2)&&r.call(arguments,1);return s[e]=!0,n(function(){s[e]&&(i?t.apply(null,i):t.call(null),l.clearImmediate(e))}),e},l.clearImmediate="function"==typeof a?a:function(t){delete s[t]}}.call(this)}.call(this,h("timers").setImmediate,h("timers").clearImmediate)},{"process/browser.js":56,timers:63}],64:[function(t,V,e){!function(h){var l=/^\s+/,u=/\s+$/,n=0,s=h.round,c=h.min,p=h.max,t=h.random;function d(t,e){if(e=e||{},(t=t||"")instanceof d)return t;if(!(this instanceof d))return new d(t,e);var i=function(t){var e={r:0,g:0,b:0},i=1,n=null,r=null,s=null,o=!1,a=!1;"string"==typeof t&&(t=function(t){t=t.replace(l,"").replace(u,"").toLowerCase();var e,i=!1;if(w[t])t=w[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};if(e=G.rgb.exec(t))return{r:e[1],g:e[2],b:e[3]};if(e=G.rgba.exec(t))return{r:e[1],g:e[2],b:e[3],a:e[4]};if(e=G.hsl.exec(t))return{h:e[1],s:e[2],l:e[3]};if(e=G.hsla.exec(t))return{h:e[1],s:e[2],l:e[3],a:e[4]};if(e=G.hsv.exec(t))return{h:e[1],s:e[2],v:e[3]};if(e=G.hsva.exec(t))return{h:e[1],s:e[2],v:e[3],a:e[4]};if(e=G.hex8.exec(t))return{r:M(e[1]),g:M(e[2]),b:M(e[3]),a:N(e[4]),format:i?"name":"hex8"};if(e=G.hex6.exec(t))return{r:M(e[1]),g:M(e[2]),b:M(e[3]),format:i?"name":"hex"};if(e=G.hex4.exec(t))return{r:M(e[1]+""+e[1]),g:M(e[2]+""+e[2]),b:M(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:i?"name":"hex8"};if(e=G.hex3.exec(t))return{r:M(e[1]+""+e[1]),g:M(e[2]+""+e[2]),b:M(e[3]+""+e[3]),format:i?"name":"hex"};return!1}(t));"object"==typeof t&&(U(t.r)&&U(t.g)&&U(t.b)?(e=function(t,e,i){return{r:255*R(t,255),g:255*R(e,255),b:255*R(i,255)}}(t.r,t.g,t.b),o=!0,a="%"===String(t.r).substr(-1)?"prgb":"rgb"):U(t.h)&&U(t.s)&&U(t.v)?(n=D(t.s),r=D(t.v),e=function(t,e,i){t=6*R(t,360),e=R(e,100),i=R(i,100);var n=h.floor(t),r=t-n,s=i*(1-e),t=i*(1-r*e),e=i*(1-(1-r)*e),n=n%6;return{r:255*[i,t,s,s,e,i][n],g:255*[e,i,i,t,s,s][n],b:255*[s,s,e,i,i,t][n]}}(t.h,n,r),o=!0,a="hsv"):U(t.h)&&U(t.s)&&U(t.l)&&(n=D(t.s),s=D(t.l),e=function(t,e,i){var n,r,s;function o(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}t=R(t,360),e=R(e,100),i=R(i,100),0===e?n=r=s=i:(n=o(e=2*i-(i=i<.5?i*(1+e):i+e-i*e),i,t+1/3),r=o(e,i,t),s=o(e,i,t-1/3));return{r:255*n,g:255*r,b:255*s}}(t.h,n,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(i=t.a));return i=C(i),{ok:o,format:t.format||a,r:c(255,p(e.r,0)),g:c(255,p(e.g,0)),b:c(255,p(e.b,0)),a:i}}(t);this._originalInput=t,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=s(100*this._a)/100,this._format=e.format||i.format,this._gradientType=e.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b)),this._ok=i.ok,this._tc_id=n++}function r(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var n,r=p(t,e,i),s=c(t,e,i),o=(r+s)/2;if(r==s)n=h=0;else{var a=r-s,h=.5<o?a/(2-r-s):a/(r+s);switch(r){case t:n=(e-i)/a+(e<i?6:0);break;case e:n=(i-t)/a+2;break;case i:n=(t-e)/a+4}n/=6}return{h:n,s:h,l:o}}function o(t,e,i){t=R(t,255),e=R(e,255),i=R(i,255);var n,r=p(t,e,i),s=c(t,e,i),o=r,a=r-s,h=0===r?0:a/r;if(r==s)n=0;else{switch(r){case t:n=(e-i)/a+(e<i?6:0);break;case e:n=(i-t)/a+2;break;case i:n=(t-e)/a+4}n/=6}return{h:n,s:h,v:o}}function e(t,e,i,n){i=[I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function a(t,e,i,n){return[I(k(n)),I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16))].join("")}function i(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s-=e/100,t.s=O(t.s),d(t)}function f(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.s+=e/100,t.s=O(t.s),d(t)}function m(t){return d(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l+=e/100,t.l=O(t.l),d(t)}function _(t,e){e=0===e?0:e||10;t=d(t).toRgb();return t.r=p(0,c(255,t.r-s(-e/100*255))),t.g=p(0,c(255,t.g-s(-e/100*255))),t.b=p(0,c(255,t.b-s(-e/100*255))),d(t)}function y(t,e){e=0===e?0:e||10;t=d(t).toHsl();return t.l-=e/100,t.l=O(t.l),d(t)}function v(t,e){t=d(t).toHsl(),e=(t.h+e)%360;return t.h=e<0?360+e:e,d(t)}function b(t){t=d(t).toHsl();return t.h=(t.h+180)%360,d(t)}function x(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+120)%360,s:e.s,l:e.l}),d({h:(i+240)%360,s:e.s,l:e.l})]}function T(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+90)%360,s:e.s,l:e.l}),d({h:(i+180)%360,s:e.s,l:e.l}),d({h:(i+270)%360,s:e.s,l:e.l})]}function E(t){var e=d(t).toHsl(),i=e.h;return[d(t),d({h:(i+72)%360,s:e.s,l:e.l}),d({h:(i+216)%360,s:e.s,l:e.l})]}function S(t,e,i){e=e||6,i=i||30;var n=d(t).toHsl(),r=360/i,s=[d(t)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,s.push(d(n));return s}function A(t,e){e=e||6;for(var t=d(t).toHsv(),i=t.h,n=t.s,r=t.v,s=[],o=1/e;e--;)s.push(d({h:i,s:n,v:r})),r=(r+o)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t=this.toRgb(),e=t.r/255,i=t.g/255,t=t.b/255,e=e<=.03928?e/12.92:h.pow((.055+e)/1.055,2.4),i=i<=.03928?i/12.92:h.pow((.055+i)/1.055,2.4),t=t<=.03928?t/12.92:h.pow((.055+t)/1.055,2.4);return.2126*e+.7152*i+.0722*t},setAlpha:function(t){return this._a=C(t),this._roundA=s(100*this._a)/100,this},toHsv:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=o(this._r,this._g,this._b),e=s(360*t.h),i=s(100*t.s),t=s(100*t.v);return 1==this._a?"hsv("+e+", "+i+"%, "+t+"%)":"hsva("+e+", "+i+"%, "+t+"%, "+this._roundA+")"},toHsl:function(){var t=r(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=r(this._r,this._g,this._b),e=s(360*t.h),i=s(100*t.s),t=s(100*t.l);return 1==this._a?"hsl("+e+", "+i+"%, "+t+"%)":"hsla("+e+", "+i+"%, "+t+"%, "+this._roundA+")"},toHex:function(t){return e(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,i,n,r){n=[I(s(t).toString(16)),I(s(e).toString(16)),I(s(i).toString(16)),I(k(n))];if(r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1))return n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0);return n.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*R(this._r,255))+"%",g:s(100*R(this._g,255))+"%",b:s(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%)":"rgba("+s(100*R(this._r,255))+"%, "+s(100*R(this._g,255))+"%, "+s(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&P[e(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+a(this._r,this._g,this._b,this._a),i=e;return"progid:DXImageTransform.Microsoft.gradient("+(this._gradientType?"GradientType = 1, ":"")+"startColorstr="+e+",endColorstr="+(i=t?"#"+a((t=d(t))._r,t._g,t._b,t._a):i)+")"},toString:function(t){var e=!!t;t=t||this._format;var i=!1,n=this._a<1&&0<=this._a;return e||!n||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(i=this.toRgbString()),"prgb"===t&&(i=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(i=this.toHexString()),"hex3"===t&&(i=this.toHexString(!0)),"hex4"===t&&(i=this.toHex8String(!0)),"hex8"===t&&(i=this.toHex8String()),"name"===t&&(i=this.toName()),"hsl"===t&&(i=this.toHslString()),(i="hsv"===t?this.toHsvString():i)||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(t,e){e=t.apply(null,[this].concat([].slice.call(e)));return this._r=e._r,this._g=e._g,this._b=e._b,this.setAlpha(e._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(S,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},d.fromRatio=function(t,e){if("object"==typeof t){var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:D(t[i]));t=n}return d(t,e)},d.equals=function(t,e){return!(!t||!e)&&d(t).toRgbString()==d(e).toRgbString()},d.random=function(){return d.fromRatio({r:t(),g:t(),b:t()})},d.mix=function(t,e,i){i=0===i?0:i||50;t=d(t).toRgb(),e=d(e).toRgb(),i/=100;return d({r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b,a:(e.a-t.a)*i+t.a})},d.readability=function(t,e){t=d(t),e=d(e);return(h.max(t.getLuminance(),e.getLuminance())+.05)/(h.min(t.getLuminance(),e.getLuminance())+.05)},d.isReadable=function(t,e,i){var n=d.readability(t,e),r=!1,i=function(t){var e;e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase(),t=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA");"small"!==t&&"large"!==t&&(t="small");return{level:e,size:t}}(i);switch(i.level+i.size){case"AAsmall":case"AAAlarge":r=4.5<=n;break;case"AAlarge":r=3<=n;break;case"AAAsmall":r=7<=n}return r},d.mostReadable=function(t,e,i){for(var n,r=null,s=0,o=(i=i||{}).includeFallbackColors,a=i.level,h=i.size,l=0;l<e.length;l++)s<(n=d.readability(t,e[l]))&&(s=n,r=d(e[l]));return d.isReadable(t,r,{level:a,size:h})||!o?r:(i.includeFallbackColors=!1,d.mostReadable(t,["#fff","#000"],i))};var w=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},P=d.hexNames=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[t[e]]=e);return i}(w);function C(t){return t=parseFloat(t),t=isNaN(t)||t<0||1<t?1:t}function R(t,e){"string"==typeof(i=t)&&-1!=i.indexOf(".")&&1===parseFloat(i)&&(t="100%");var i,i="string"==typeof(i=t)&&-1!=i.indexOf("%");return t=c(e,p(0,parseFloat(t))),i&&(t=parseInt(t*e,10)/100),h.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function O(t){return c(1,p(0,t))}function M(t){return parseInt(t,16)}function I(t){return 1==t.length?"0"+t:""+t}function D(t){return t=t<=1?100*t+"%":t}function k(t){return h.round(255*parseFloat(t)).toString(16)}function N(t){return M(t)/255}var F,L,B,G=(L="[\\s|\\(]+("+(F="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",B="[\\s|\\(]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")[,|\\s]+("+F+")\\s*\\)?",{CSS_UNIT:new RegExp(F),rgb:new RegExp("rgb"+L),rgba:new RegExp("rgba"+B),hsl:new RegExp("hsl"+L),hsla:new RegExp("hsla"+B),hsv:new RegExp("hsv"+L),hsva:new RegExp("hsva"+B),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function U(t){return G.CSS_UNIT.exec(t)}void 0!==V&&V.exports?V.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):window.tinycolor=d}(Math)},{}],65:[function(t,e,i){var n,r;n="undefined"!=typeof self?self:this,r=function(){return i=[function(t,e,i){!function(t,e,i,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function o(t,e,i){return{endTime:e,insertTime:i,type:"exponentialRampToValue",value:t}}function a(t,e,i){return{endTime:e,insertTime:i,type:"linearRampToValue",value:t}}function h(t,e){return{startTime:e,type:"setValue",value:t}}function l(t,e,i){return{duration:i,startTime:e,type:"setValueCurve",values:t}}function u(t,e,i){var n=i.startTime,r=i.target,i=i.timeConstant;return r+(e-r)*Math.exp((n-t)/i)}function c(t){return"exponentialRampToValue"===t.type}function p(t){return"linearRampToValue"===t.type}function d(t){return c(t)||p(t)}function f(t){return"setValue"===t.type}function m(t){return"setValueCurve"===t.type}function g(t,e,i,n){var r=t[e];return void 0===r?n:d(r)||f(r)?r.value:m(r)?r.values[r.values.length-1]:u(i,g(t,e-1,r.startTime,n),r)}function _(t,e,i,n,r){return void 0===i?[n.insertTime,r]:d(i)?[i.endTime,i.value]:f(i)?[i.startTime,i.value]:m(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,g(t,e-1,i.startTime,r)]}function y(t){return"cancelAndHold"===t.type}function v(t){return"cancelScheduledValues"===t.type}function b(t){return y(t)||v(t)?t.cancelTime:c(t)||p(t)?t.endTime:t.startTime}function x(t,e,i,n){var r=n.endTime,n=n.value;return i===n?n:0<i&&0<n||i<0&&n<0?i*Math.pow(n/i,(t-e)/(r-e)):0}function T(t,e,i,n){return i+(t-e)/(n.endTime-e)*(n.value-i)}function E(t){return"setTarget"===t.type}var S=r(e),s=r(i),n=r(n),n=(n.default(A,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var i=b(e);if(y(e)||v(e)){var t=this._automationEvents.findIndex(function(t){return v(e)&&m(t)?t.startTime+t.duration>=i:b(t)>=i}),n=this._automationEvents[t];if(-1!==t&&(this._automationEvents=this._automationEvents.slice(0,t)),y(e)){var r=this._automationEvents[this._automationEvents.length-1];if(void 0!==n&&d(n)){if(E(r))throw new Error("The internal list is malformed.");var t=m(r)?r.startTime+r.duration:b(r),s=m(r)?r.values[r.values.length-1]:r.value,s=(c(n)?x:T)(i,t,s,n),s=(c(n)?o:a)(s,i,this._currenTime);this._automationEvents.push(s)}void 0!==r&&E(r)&&this._automationEvents.push(h(this.getValue(i),i)),void 0!==r&&m(r)&&r.startTime+r.duration>i&&(this._automationEvents[this._automationEvents.length-1]=l(new Float32Array([6,7]),r.startTime,i-r.startTime))}}else{s=this._automationEvents.findIndex(function(t){return b(t)>i}),r=-1===s?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(void 0!==r&&m(r)&&b(r)+r.duration>i)return!1;r=c(e)?o(e.value,e.endTime,this._currenTime):p(e)?a(e.value,i,this._currenTime):e;if(-1===s)this._automationEvents.push(r);else{if(m(e)&&i+e.duration>b(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,r)}}return!0}},{key:"flush",value:function(e){var t,i,n=this._automationEvents.findIndex(function(t){return b(t)>e});1<n&&(i=(t=this._automationEvents.slice(n-1))[0],E(i)&&t.unshift(h(g(this._automationEvents,n-2,i.startTime,this._defaultValue),i.startTime)),this._automationEvents=t)}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var t,i=this._automationEvents[this._automationEvents.length-1],n=this._automationEvents.findIndex(function(t){return b(t)>e}),r=this._automationEvents[n],s=b(i)<=e?i:this._automationEvents[n-1];if(void 0!==s&&E(s)&&(void 0===r||!d(r)||r.insertTime>e))return u(e,g(this._automationEvents,n-2,s.startTime,this._defaultValue),s);if(void 0!==s&&f(s)&&(void 0===r||!d(r)))return s.value;if(void 0!==s&&m(s)&&(void 0===r||!d(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?(o=e,t=(a=s).duration,i=a.startTime,a=a.values,i=(o-i)/t*((o=a).length-1),t=Math.floor(i),a=Math.ceil(i),t===a?o[t]:(1-(i-t))*o[t]+(1-(a-i))*o[a]):s.values[s.values.length-1];if(void 0!==s&&d(s)&&(void 0===r||!d(r)))return s.value;if(void 0!==r&&c(r)){var o=_(this._automationEvents,n-1,s,r,this._defaultValue),a=S.default(o,2),o=a[0],a=a[1];return x(e,o,a,r)}if(void 0!==r&&p(r)){n=_(this._automationEvents,n-1,s,r,this._defaultValue),s=S.default(n,2),n=s[0],s=s[1];return T(e,n,s,r)}return this._defaultValue}}]),A);function A(t){s.default(this,A),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}t.AutomationEventList=n,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,i){return{startTime:e,target:t,timeConstant:i,type:"setTarget"}},t.createSetValueAutomationEvent=h,t.createSetValueCurveAutomationEvent=l,Object.defineProperty(t,"__esModule",{value:!0})}(e,i(1),i(7),i(8))},function(t,e,i){var n=i(2),r=i(3),s=i(4),o=i(6);t.exports=function(t,e){return n(t)||r(t,e)||s(t,e)||o()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{n||null==a.return||a.return()}finally{if(r)throw s}}return i}}},function(t,e,i){var n=i(5);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}},function(t,e,i){"use strict";i.r(e),i.d(e,"getContext",function(){return Tp}),i.d(e,"setContext",function(){return Ep}),i.d(e,"Clock",function(){return id}),i.d(e,"Context",function(){return fp}),i.d(e,"BaseContext",function(){return dp}),i.d(e,"Delay",function(){return nd}),i.d(e,"Gain",function(){return Wp}),i.d(e,"Offline",function(){return rd}),i.d(e,"OfflineContext",function(){return vp}),i.d(e,"Param",function(){return Hp}),i.d(e,"ToneAudioBuffer",function(){return yp}),i.d(e,"ToneAudioBuffers",function(){return sd}),i.d(e,"ToneAudioNode",function(){return Xp}),i.d(e,"connectSeries",function(){return zp}),i.d(e,"connect",function(){return qp}),i.d(e,"disconnect",function(){return Yp}),i.d(e,"FrequencyClass",function(){return Np}),i.d(e,"Frequency",function(){return Bp}),i.d(e,"MidiClass",function(){return od}),i.d(e,"Midi",function(){return ad}),i.d(e,"TimeClass",function(){return Dp}),i.d(e,"Time",function(){return kp}),i.d(e,"TicksClass",function(){return hd}),i.d(e,"Ticks",function(){return ld}),i.d(e,"TransportTimeClass",function(){return Gp}),i.d(e,"TransportTime",function(){return Up}),i.d(e,"Emitter",function(){return pp}),i.d(e,"IntervalTimeline",function(){return cd}),i.d(e,"StateTimeline",function(){return jp}),i.d(e,"Timeline",function(){return ap}),i.d(e,"isUndef",function(){return Dc}),i.d(e,"isDefined",function(){return kc}),i.d(e,"isFunction",function(){return Nc}),i.d(e,"isNumber",function(){return Fc}),i.d(e,"isObject",function(){return Lc}),i.d(e,"isBoolean",function(){return Bc}),i.d(e,"isArray",function(){return Gc}),i.d(e,"isString",function(){return Uc}),i.d(e,"isNote",function(){return Vc}),i.d(e,"dbToGain",function(){return Ap}),i.d(e,"gainToDb",function(){return wp}),i.d(e,"intervalToFrequencyRatio",function(){return Pp}),i.d(e,"ftom",function(){return Rp}),i.d(e,"mtof",function(){return Mp}),i.d(e,"optionsFromArguments",function(){return Jc}),i.d(e,"defaultArg",function(){return tp}),i.d(e,"Unit",function(){return r}),i.d(e,"debug",function(){return n}),i.d(e,"Noise",function(){return xd}),i.d(e,"UserMedia",function(){return Sd}),i.d(e,"Oscillator",function(){return Pd}),i.d(e,"AMOscillator",function(){return Id}),i.d(e,"FMOscillator",function(){return Dd}),i.d(e,"PulseOscillator",function(){return kd}),i.d(e,"FatOscillator",function(){return Nd}),i.d(e,"PWMOscillator",function(){return Fd}),i.d(e,"OmniOscillator",function(){return Bd}),i.d(e,"ToneOscillatorNode",function(){return wd}),i.d(e,"LFO",function(){return jd}),i.d(e,"ToneBufferSource",function(){return bd}),i.d(e,"Player",function(){return zd}),i.d(e,"Players",function(){return qd}),i.d(e,"GrainPlayer",function(){return Yd}),i.d(e,"Add",function(){return Gd}),i.d(e,"Abs",function(){return Wd}),i.d(e,"AudioToGain",function(){return Od}),i.d(e,"GainToAudio",function(){return $d}),i.d(e,"GreaterThan",function(){return Jd}),i.d(e,"GreaterThanZero",function(){return Kd}),i.d(e,"Multiply",function(){return Md}),i.d(e,"Negate",function(){return Zd}),i.d(e,"Pow",function(){return tf}),i.d(e,"Signal",function(){return Qp}),i.d(e,"connectSignal",function(){return Kp}),i.d(e,"Scale",function(){return Ud}),i.d(e,"ScaleExp",function(){return ef}),i.d(e,"Subtract",function(){return Qd}),i.d(e,"SyncedSignal",function(){return nf}),i.d(e,"WaveShaper",function(){return Rd}),i.d(e,"Zero",function(){return Vd}),i.d(e,"AMSynth",function(){return cf}),i.d(e,"DuoSynth",function(){return gf}),i.d(e,"FMSynth",function(){return _f}),i.d(e,"MetalSynth",function(){return vf}),i.d(e,"MembraneSynth",function(){return bf}),i.d(e,"MonoSynth",function(){return mf}),i.d(e,"NoiseSynth",function(){return xf}),i.d(e,"PluckSynth",function(){return Rf}),i.d(e,"PolySynth",function(){return Of}),i.d(e,"Sampler",function(){return Mf}),i.d(e,"Synth",function(){return lf}),i.d(e,"Loop",function(){return Df}),i.d(e,"Part",function(){return kf}),i.d(e,"Pattern",function(){return Xf}),i.d(e,"Sequence",function(){return zf}),i.d(e,"ToneEvent",function(){return If}),i.d(e,"AutoFilter",function(){return $f}),i.d(e,"AutoPanner",function(){return Qf}),i.d(e,"AutoWah",function(){return Jf}),i.d(e,"BitCrusher",function(){return tm}),i.d(e,"Chebyshev",function(){return im}),i.d(e,"Chorus",function(){return am}),i.d(e,"Distortion",function(){return hm}),i.d(e,"FeedbackDelay",function(){return um}),i.d(e,"FrequencyShifter",function(){return pm}),i.d(e,"Freeverb",function(){return mm}),i.d(e,"JCReverb",function(){return vm}),i.d(e,"PingPongDelay",function(){return xm}),i.d(e,"PitchShift",function(){return Tm}),i.d(e,"Phaser",function(){return Em}),i.d(e,"Reverb",function(){return Sm}),i.d(e,"StereoWidener",function(){return Cm}),i.d(e,"Tremolo",function(){return Rm}),i.d(e,"Vibrato",function(){return Om}),i.d(e,"Analyser",function(){return Mm}),i.d(e,"Meter",function(){return Dm}),i.d(e,"FFT",function(){return km}),i.d(e,"DCMeter",function(){return Nm}),i.d(e,"Waveform",function(){return Fm}),i.d(e,"Follower",function(){return Kf}),i.d(e,"Channel",function(){return Gm}),i.d(e,"CrossFade",function(){return qf}),i.d(e,"Merge",function(){return rm}),i.d(e,"MidSideMerge",function(){return wm}),i.d(e,"MidSideSplit",function(){return Am}),i.d(e,"Mono",function(){return Um}),i.d(e,"MultibandSplit",function(){return Vm}),i.d(e,"Panner",function(){return Zf}),i.d(e,"Panner3D",function(){return Hm}),i.d(e,"PanVol",function(){return Bm}),i.d(e,"Recorder",function(){return Xm}),i.d(e,"Solo",function(){return Lm}),i.d(e,"Split",function(){return nm}),i.d(e,"Volume",function(){return dd}),i.d(e,"Compressor",function(){return zm}),i.d(e,"Gate",function(){return qm}),i.d(e,"Limiter",function(){return Ym}),i.d(e,"MidSideCompressor",function(){return Wm}),i.d(e,"MultibandCompressor",function(){return $m}),i.d(e,"AmplitudeEnvelope",function(){return hf}),i.d(e,"Envelope",function(){return rf}),i.d(e,"FrequencyEnvelope",function(){return ff}),i.d(e,"EQ3",function(){return Zm}),i.d(e,"Filter",function(){return df}),i.d(e,"OnePoleFilter",function(){return Pf}),i.d(e,"FeedbackCombFilter",function(){return wf}),i.d(e,"LowpassCombFilter",function(){return Cf}),i.d(e,"Convolver",function(){return Qm}),i.d(e,"BiquadFilter",function(){return pf}),i.d(e,"version",function(){return s}),i.d(e,"start",function(){return Sp}),i.d(e,"supported",function(){return Ac}),i.d(e,"now",function(){return Km}),i.d(e,"immediate",function(){return Jm}),i.d(e,"Transport",function(){return tg}),i.d(e,"getTransport",function(){return eg}),i.d(e,"Destination",function(){return ig}),i.d(e,"Master",function(){return ng}),i.d(e,"getDestination",function(){return rg}),i.d(e,"Listener",function(){return sg}),i.d(e,"getListener",function(){return og}),i.d(e,"Draw",function(){return ag}),i.d(e,"getDraw",function(){return hg}),i.d(e,"context",function(){return lg}),i.d(e,"loaded",function(){return ug}),i.d(e,"Buffer",function(){return cg}),i.d(e,"Buffers",function(){return pg}),i.d(e,"BufferSource",function(){return dg});var n={};i.r(n),i.d(n,"assert",function(){return wc}),i.d(n,"assertRange",function(){return Pc}),i.d(n,"assertContextRunning",function(){return Cc}),i.d(n,"setLogger",function(){return Oc}),i.d(n,"log",function(){return Mc}),i.d(n,"warn",function(){return Ic});var r={};i.r(r);const s="14.7.77";var o,a,h,l,u,c,p,d,y=i(0);const f=new WeakSet,m=new WeakMap,g=new WeakMap,_=new WeakMap,v=new WeakMap,b=new WeakMap,x=new WeakMap,T=new WeakMap,E=new WeakMap,L=new WeakMap,S={construct:()=>S},A=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,w=(t,e)=>{const i=[];let n=t.replace(/^[\s]+/,""),r=n.match(A);for(;null!==r;){const t=r[1].slice(1,-1),s=r[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());i.push(s),n=n.slice(r[0].length).replace(/^[\s]+/,""),r=n.match(A)}return[i.join(";"),n]},P=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},C=t=>{if(!(t=>{try{new new Proxy(t,S)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},R=(t,e)=>{e=t.get(e);if(void 0===e)throw new Error("A value with the given key could not be found.");return e},O=(t,e)=>{e=Array.from(t).filter(e);if(1<e.length)throw Error("More than one element was found.");if(0===e.length)throw Error("No element was found.");var[e]=e;return t.delete(e),e},M=(t,e,i,n)=>{var r=R(t,e),s=O(r,t=>t[0]===i&&t[1]===n);return 0===r.size&&t.delete(e),s},I=t=>R(x,t),D=t=>{if(f.has(t))throw new Error("The AudioNode is already stored.");f.add(t),I(t).forEach(t=>t(!0))},k=t=>"port"in t,N=t=>{if(!f.has(t))throw new Error("The AudioNode is not stored.");f.delete(t),I(t).forEach(t=>t(!1))},F=(t,e)=>{!k(t)&&e.every(t=>0===t.size)&&N(t)},B={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},G=(t,e)=>t.context===e,U=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},V=()=>new DOMException("","IndexSizeError"),j=e=>{var i;e.getChannelData=(i=e.getChannelData,t=>{try{return i.call(e,t)}catch(t){if(12===t.code)throw V();throw t}})},H={numberOfChannels:1},X=-34028234663852886e22,z=-X,q=t=>f.has(t),Y={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},W=t=>R(m,t),$=t=>R(_,t),Z=(e,i)=>{const t=W(e)["activeInputs"];t.forEach(t=>t.forEach(([t])=>{i.includes(e)||Z(t,[...i,e])}));var n,r,n="playbackRate"in e?[e.playbackRate]:k(e)?Array.from(e.parameters.values()):"frequency"in(r=e)&&"gain"in r?[e.Q,e.detune,e.frequency,e.gain]:"offset"in e?[e.offset]:!("frequency"in(r=e))&&"gain"in r?[e.gain]:"detune"in(n=e)&&"frequency"in n?[e.detune,e.frequency]:"pan"in e?[e.pan]:[];for(const e of n){const t=$(e);void 0!==t&&t.activeInputs.forEach(([t])=>Z(t,i))}q(e)&&N(e)},Q=t=>{Z(t.destination,[])},K=t=>"context"in t,J=t=>K(t[0]),tt=(t,e,i,n)=>{for(const e of t)if(i(e)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},et=(t,e,[i,n],r)=>{tt(t,[e,i,n],t=>t[0]===e&&t[1]===i,r)},it=(t,[e,i,n],r)=>{var s=t.get(e);void 0===s?t.set(e,new Set([[i,n]])):tt(s,[i,n],t=>t[0]===i,r)},nt=t=>"inputs"in t,rt=(t,e,i,n)=>{if(nt(e)){var r=e.inputs[n];return t.connect(r,i,0),[r,i,0]}return t.connect(e,i,n),[e,i,n]},st=(t,e,i)=>{for(const n of t)if(n[0]===e&&n[1]===i)return t.delete(n),n;return null},ot=(t,e)=>{if(!I(t).delete(e))throw new Error("Missing the expected event listener.")},at=(t,e,i)=>{var n=R(t,e),r=O(n,t=>t[0]===i);return 0===n.size&&t.delete(e),r},ht=(t,e,i,n)=>{nt(e)?t.disconnect(e.inputs[n],i,0):t.disconnect(e,i,n)},lt=t=>R(g,t),ut=t=>R(v,t),ct=t=>T.has(t),pt=t=>!f.has(t),dt=o=>new Promise(e=>{const i=o.createScriptProcessor(256,1,1),t=o.createGain(),n=o.createBuffer(1,2,44100),r=n.getChannelData(0);r[0]=1,r[1]=1;const s=o.createBufferSource();s.buffer=n,s.loop=!0,s.connect(i).connect(o.destination),s.connect(t),s.disconnect(t),i.onaudioprocess=t=>{t=t.inputBuffer.getChannelData(0);Array.prototype.some.call(t,t=>1===t)?e(!0):e(!1),s.stop(),i.onaudioprocess=null,s.disconnect(i),i.disconnect(o.destination)},s.start()}),ft=(t,i)=>{const e=new Map;for(const i of t)for(const t of i){const i=e.get(t);e.set(t,void 0===i?1:i+1)}e.forEach((t,e)=>i(e,t))},mt=t=>"context"in t,gt=(s,o,a,h)=>{const{activeInputs:l,passiveInputs:u}=$(o),t=W(s)["outputs"],e=I(s),i=t=>{const e=lt(s),i=ut(o);if(t){const o=at(u,s,a);et(l,s,o,!1),h||ct(s)||e.connect(i,a)}else{const o=(t=l,n=s,r=a,O(t,t=>t[0]===n&&t[1]===r));it(u,o,!1),h||ct(s)||e.disconnect(i,a)}var n,r};return!!tt(t,[o,a],t=>t[0]===o&&t[1]===a,!0)&&(e.add(i),q(s)?et(l,s,[a,i],!0):it(u,[s,a,i],!0),!0)},_t=(t,e,i,n,r)=>{var[s,o]=((t,e,i,n)=>{var{activeInputs:r,passiveInputs:e}=W(e),r=st(r[n],t,i);return null===r?[M(e,t,i,n)[2],!1]:[r[2],!0]})(t,i,n,r);if(null!==s&&(ot(t,s),!o||e||ct(t)||ht(lt(t),lt(i),n,r)),q(i)){const t=W(i)["activeInputs"];F(i,t)}},yt=(t,e,i,n)=>{var[r,s]=((t,e,i)=>{var{activeInputs:n,passiveInputs:e}=$(e),n=st(n,t,i);return null===n?[at(e,t,i)[1],!1]:[n[2],!0]})(t,i,n);null!==r&&(ot(t,r),!s||e||ct(t)||lt(t).disconnect(ut(i),n))};class vt{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(i,n=null){return this._map.forEach((t,e)=>i.call(n,t,e,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const bt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function xt(t,e,i,n,r){if("function"==typeof t.copyFromChannel)0===e[i].byteLength&&(e[i]=new Float32Array(128)),t.copyFromChannel(e[i],n,r);else{const s=t.getChannelData(n);if(0===e[i].byteLength)e[i]=s.slice(r,r+128);else{const t=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[i].set(t)}}}const Tt=(t,e,i,n,r)=>{"function"==typeof t.copyToChannel?0!==e[i].byteLength&&t.copyToChannel(e[i],n,r):0!==e[i].byteLength&&t.getChannelData(n).set(e[i],r)},Et=(e,i)=>{const n=[];for(let t=0;t<e;t+=1){const e=[],r="number"==typeof i?i:i[t];for(let t=0;t<r;t+=1)e.push(new Float32Array(128));n.push(e)}return n},St={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},At={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},wt={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Pt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ct={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Rt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ot=(t,e,i)=>{i=e[i];if(void 0===i)throw t();return i},Mt={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},It={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Dt=()=>new DOMException("","InvalidStateError"),kt=()=>new DOMException("","InvalidAccessError"),Nt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ft=(i,n,r,s,o,a,h,t,l,u,c)=>{var e=u.length;let p=t;for(let t=0;t<e;t+=1){let e=r[0]*u[t];for(let t=1;t<o;t+=1){const s=p-t&l-1;e+=r[t]*a[s],e-=i[t]*h[s]}for(let t=o;t<s;t+=1)e+=r[t]*a[p-t&l-1];for(let t=o;t<n;t+=1)e-=i[t]*h[p-t&l-1];a[p]=u[t],h[p]=e,p=p+1&l-1,c[t]=e}return p},Lt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Bt=t=>{var e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=t.decodeAudioData(e.buffer,()=>{});return void 0!==i&&(i.catch(()=>{}),!0)}catch{}return!1},Gt=(t,e,i)=>{e=e[i];void 0!==e&&e!==t[i]&&(t[i]=e)},Ut=(t,e)=>{Gt(t,e,"channelCount"),Gt(t,e,"channelCountMode"),Gt(t,e,"channelInterpretation")},Vt=t=>"function"==typeof t.getFloatTimeDomainData,jt=(t,e,i)=>{e=e[i];void 0!==e&&e!==t[i].value&&(t[i].value=e)},Ht=n=>{var r;n.start=(r=n.start,(t=0,e=0,i)=>{if("number"==typeof i&&i<0||e<0||t<0)throw new RangeError("The parameters can't be negative.");r.call(n,t,e,i)})},Xt=e=>{var i;e.stop=(i=e.stop,(t=0)=>{if(t<0)throw new RangeError("The parameter can't be negative.");i.call(e,t)})},zt=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),qt=(t,e)=>{t=t.createBiquadFilter();return Ut(t,e),jt(t,e,"Q"),jt(t,e,"detune"),jt(t,e,"frequency"),jt(t,e,"gain"),Gt(t,e,"type"),t},Yt=(t,e)=>{t=t.createChannelSplitter(e.numberOfOutputs);return Ut(t,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw Dt()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw Dt()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw Dt()}})})(t),t},Wt=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),$t=(t,e)=>{t=t.createDelay(e.maxDelayTime);return Ut(t,e),jt(t,e,"delayTime"),t},Zt=(t,e)=>{t=t.createGain();return Ut(t,e),jt(t,e,"gain"),t};function Qt(e,i){let n=[0,0];for(let t=e.length-1;0<=t;--t)n=[(r=n)[0]*i[0]-r[1]*i[1],r[0]*i[1]+r[1]*i[0]],n[0]+=e[t];var r;return n}const Kt=(t,e,i,n)=>t.createScriptProcessor(e,i,n),Jt=()=>new DOMException("","NotSupportedError"),te={numberOfChannels:1},ee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ie={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},ne={disableNormalization:!1},re={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},se=()=>new DOMException("","UnknownError"),oe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ae=t=>{if(null===t)return!1;var e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},he=(t,e,i,n)=>{let r=Object.getPrototypeOf(t);for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);var{get:s,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:i(s),set:n(o)})},le=(e,i,n)=>{try{e.setValueAtTime(i,n)}catch(t){if(9!==t.code)throw t;le(e,i,n+1e-7)}},ue=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},ce=t=>{const e=t.createBuffer(1,1,44100),i=t.createBufferSource();i.buffer=e,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},pe=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},de=()=>{try{new DOMException}catch{return!1}return!0},fe=()=>new Promise(e=>{const t=new ArrayBuffer(0),{port1:i,port2:n}=new MessageChannel;i.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])}),me=(n,t)=>{const r=t.createGain();n.connect(r);const e=(i=n.disconnect,()=>{i.call(n,r),n.removeEventListener("ended",e)});var i;n.addEventListener("ended",e),Wt(n,r),n.stop=(e=>{let i=!1;return(t=0)=>{if(i)try{e.call(n,t)}catch{r.gain.setValueAtTime(0,t)}else e.call(n,t),i=!0}})(n.stop)},ge=(i,n)=>t=>{var e={value:i};return Object.defineProperties(t,{currentTarget:e,target:e}),("function"==typeof n?n:n.handleEvent).call(i,t)},_e=(o=tt,(t,e,[i,n,r],s)=>{o(t[n],[e,i,r],t=>t[0]===e&&t[1]===i,s)}),ye=(l=tt,(t,e,[i,n,r],s)=>{var o=t.get(i);void 0===o?t.set(i,new Set([[n,e,r]])):l(o,[n,e,r],t=>t[0]===n&&t[1]===e,s)}),ve=(h=O,(t,e,i,n)=>h(t[n],t=>t[0]===e&&t[1]===i)),be=new WeakMap,xe=(a=be,t=>{return null!==(t=a.get(t))&&void 0!==t?t:0}),Te=(u=new Map,c=new WeakMap,(e,t)=>{const i=c.get(e);if(void 0!==i)return i;var n=u.get(e);if(void 0!==n)return n;try{const i=t();return i instanceof Promise?(u.set(e,i),i.catch(()=>!1).then(t=>(u.delete(e),c.set(e,t),t))):(c.set(e,i),i)}catch{return c.set(e,!1),!1}}),Ee="undefined"==typeof window?null:window,Se=(p=Te,d=V,(t,e)=>{const i=t.createAnalyser();if(Ut(i,e),!(e.maxDecibels>e.minDecibels))throw d();return Gt(i,e,"fftSize"),Gt(i,e,"maxDecibels"),Gt(i,e,"minDecibels"),Gt(i,e,"smoothingTimeConstant"),p(Vt,()=>Vt(i))||((r=i).getFloatTimeDomainData=e=>{var i=new Uint8Array(e.length);r.getByteTimeDomainData(i);var n=Math.max(i.length,r.fftSize);for(let t=0;t<n;t+=1)e[t]=.0078125*(i[t]-128);return e}),i;var r});var Ae,we,Pe,Ce,Re,Oe,Me,Ie,De,ke=(Ae=W,t=>{t=Ae(t);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return t.renderer}),Ne=(we=W,Pe=ke,Ce=ct,async(o,a,h,t)=>{const e=we(o),l=[...t,o];await Promise.all(e.activeInputs.map((t,s)=>Array.from(t).filter(([t])=>!l.includes(t)).map(async([t,e])=>{const i=Pe(t),n=await i.render(t,a,l),r=o.context.destination;Ce(t)||o===r&&Ce(o)||n.connect(h,e,s)})).reduce((t,e)=>[...t,...e],[]))}),Fe=(Re=Se,Oe=lt,Me=Ne,()=>{const r=new WeakMap;return{render(t,e,i){var n=r.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Oe(t);if(!G(n,e)){const r={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,fftSize:n.fftSize,maxDecibels:n.maxDecibels,minDecibels:n.minDecibels,smoothingTimeConstant:n.smoothingTimeConstant};n=Re(e,r)}return r.set(e,n),await Me(t,e,n,i),n})(t,e,i)}}}),Le=(Ie=b,t=>{t=Ie.get(t);if(void 0===t)throw Dt();return t});const Be=null===(Al=Ee)?null:Al.hasOwnProperty("OfflineAudioContext")?Al.OfflineAudioContext:Al.hasOwnProperty("webkitOfflineAudioContext")?Al.webkitOfflineAudioContext:null,Ge=(De=Be,t=>null!==De&&t instanceof De);var Ue,Ve,je=new WeakMap,He=(Ue=ge,class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,i,n){if(null!==i){let t=this._listeners.get(i);void 0===t&&(t=Ue(this,i),"function"==typeof i&&this._listeners.set(i,t)),this._nativeEventTarget.addEventListener(e,t,n)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,i){e=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===e?null:e,i)}});const Xe=null===(wl=Ee)?null:wl.hasOwnProperty("AudioContext")?wl.AudioContext:wl.hasOwnProperty("webkitAudioContext")?wl.webkitAudioContext:null,ze=(Ve=Xe,t=>null!==Ve&&t instanceof Ve);var qe,Ye,We,$e,Ze,Qe,Ke,Je,ti,ei,ii,ni,ri,si,oi,ai,hi,li,ui,ci,pi,di,fi,mi,gi,_i,yi,vi,bi,xi,Ti,Ei,Si,Ai,wi,Pi,Ci,Ri,Oi,Mi,Ii,Di,ki,Ni,Fi,Li,Bi,Gi,Ui,Vi,ji,Hi,Xi,zi,qi,Yi,Wi,$i,Zi,Qi,Ki,Ji,tn,en,nn,rn,sn,on,an,hn,ln,un,cn,pn,dn,fn,mn,gn,_n,yn,vn,bn,xn,Tn,En,Sn,An,wn,Pn,Cn,Rn,On,Mn,In,Dn,kn,Nn,Fn,Ln,Bn,Gn,Un,Vn,jn,Hn,Xn,zn,qn,Yn,Wn,$n,Zn,Qn,Kn,Jn,tr,er,ir,nr,rr,sr,or,ar,hr,lr,ur,cr,pr,dr,fr,mr,gr,_r,yr,vr,br,xr,Tr,Er,Sr,Ar,wr,Pr,Cr,Rr,Or,Mr,Ir,Dr,kr,Nr,Fr,Lr,Br,Gr,Ur,Vr,jr,Hr,Xr,zr,qr,Yr,Wr,$r,Zr,Qr,Kr,Jr,ts,es,is,ns,rs,ss,os,as,hs,ls,us,cs,ps,ds,fs,ms,gs,_s,ys,vs,bs,xs,Ts,Es,Ss,As,ws,Ps,Cs,Rs,Os,Ms,Is,Ds,ks,Ns,Fs,Ls,Bs,Gs,Us,Vs,js,Hs,Xs,zs,qs,Ys,Ws,$s,Zs,Qs,Ks,Js,to,eo,io,no,ro,so,oo,ao,ho,lo,uo,co,po,fo,mo,go,_o,yo,vo,bo,xo,To,Eo,So,Ao,wo,Po,Co,Ro,Oo,Mo,Io,Do,ko,No,Fo,Lo,Bo,Go,Uo,Vo,jo,Ho,Xo,zo,qo,Yo,Wo,$o,Zo,Qo,Ko,Jo,ta,ea,ia,na,ra,sa,oa,aa,ha,la,ua,ca,pa,da,fa,ma,ga,_a,ya,va,ba,xa,Ta,Ea,Sa,Aa,wa,Pa,Ca,Ra,Oa,Ma,Ia,Da,ka,Na,Fa,La,Ba,Ga,Ua,Va,ja,Ha,Xa,za,qa,Ya,Wa,$a,Za,Qa,Ka,Ja,th,eh,ih,nh,rh,sh,oh,ah,hh,lh,uh,ch,ph,dh,fh,mh,gh,_h,yh,vh,bh,xh,Th,Eh,Sh,Ah,wh,Ph,Ch,Rh,Oh,Mh,Ih,Dh,kh,Nh,Fh,Lh,Bh,Gh,Uh,Vh,jh,Hh,Xh,zh,qh,Yh,Wh,$h,Zh,Qh,Kh,Jh,tl,el=(Li=Ee,t=>null!==Li&&"function"==typeof Li.AudioNode&&t instanceof Li.AudioNode),il=(Fi=Ee,t=>null!==Fi&&"function"==typeof Fi.AudioParam&&t instanceof Fi.AudioParam),nl=(Bi=m,qe=(t,e,i)=>{const n=[];for(let t=0;t<i.numberOfInputs;t+=1)n.push(new Set);Bi.set(t,{activeInputs:n,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},Ei=_e,Si=ye,Ai=rt,wi=ve,Pi=ht,Ci=W,Ri=xe,Oi=I,Mi=lt,Ii=tt,Di=q,ki=ct,Ni=pt,Ye=(n,r,s,o,a)=>{const{activeInputs:h,passiveInputs:l}=Ci(r),t=Ci(n)["outputs"],e=Oi(n),i=t=>{var e=Mi(r),i=Mi(n);if(t){const Si=M(l,n,s,o);Ei(h,n,Si,!1),a||ki(n)||Ai(i,e,s,o),Ni(r)&&D(r)}else{const Ei=wi(h,n,s,o);Si(l,o,Ei,!1),a||ki(n)||Pi(i,e,s,o);const Ai=Ri(r);0===Ai?Di(r)&&F(r,h):setTimeout(()=>{Di(r)&&F(r,h)},1e3*Ai)}};return!!Ii(t,[r,s,o],t=>t[0]===r&&t[1]===s&&t[2]===o,!0)&&(e.add(i),Di(n)?Ei(h,n,[s,o,i],!0):Si(l,o,[n,s,i],!0),!0)},We=Te,_i=T,yi=ht,vi=W,bi=lt,xi=ut,Ti=q,$e=n=>(t,e)=>{var i=_i.get(t);if(void 0===i){if(!n&&Ti(t)){const _i=bi(t),Ti=vi(t)["outputs"];for(const vi of Ti)if(J(vi)){const xi=bi(vi[0]);yi(_i,xi,vi[1],vi[2])}else{const yi=xi(vi[0]);_i.disconnect(yi,vi[1])}}_i.set(t,e)}else _i.set(t,i+e)},Ze=V,Qe=kt,Ke=Jt,li=rt,ui=T,ci=W,pi=lt,di=ut,fi=Le,mi=q,gi=Ge,Je=(t,e)=>{var i=ui.get(t);if(void 0===i)throw new Error("Missing the expected cycle count.");var n=fi(t.context),n=gi(n);if(i===e){if(ui.delete(t),!n&&mi(t)){const ui=pi(t),fi=ci(t)["outputs"];for(const ci of fi)if(J(ci)){const di=pi(ci[0]);li(ui,di,ci[1],ci[2])}else{const li=di(ci[0]);ui.connect(li,ci[1])}}}else ui.set(t,i-e)},oi=je,ai=W,hi=R,ti=function e(i,t){const n=K(t)?t:hi(oi,t);if("delayTime"in n)return[];if(i[0]===n)return[i];if(i.includes(n))return[];var t=ai(n)["outputs"];return Array.from(t).map(t=>e([...i,n],t[0])).reduce((t,e)=>t.concat(e),[])},ii=ze,ni=el,ri=il,class extends He{constructor(t,e,i,n){super(i),this._context=t,this._nativeAudioNode=i;const r=ei(t);ii(r)&&!0!==We(dt,()=>dt(r))&&(r=>{const s=new Map;var o,t;r.connect=(o=r.connect.bind(r),(t,e=0,i=0)=>{const n=mt(t)?o(t,e,i):o(t,e),r=s.get(t);return void 0===r?s.set(t,[{input:i,output:e}]):r.every(t=>t.input!==i||t.output!==e)&&r.push({input:i,output:e}),n}),r.disconnect=(t=r.disconnect,(e,i,n)=>{if(t.apply(r),void 0===e)s.clear();else if("number"==typeof e)for(const[r,t]of s){const i=t.filter(t=>t.output!==e);0===i.length?s.delete(r):s.set(r,i)}else if(s.has(e))if(void 0===i)s.delete(e);else{const r=s.get(e);if(void 0!==r){const t=r.filter(t=>t.output!==i&&(t.input!==n||void 0===n));0===t.length?s.delete(e):s.set(e,t)}}for(const[e,t]of s)t.forEach(t=>{mt(e)?r.connect(e,t.output,t.input):r.connect(e,t.output)})})})(i),g.set(this,i),x.set(this,new Set),"closed"!==t.state&&e&&D(this),qe(this,n,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,e=0,i=0){if(e<0||e>=this._nativeAudioNode.numberOfOutputs)throw Ze();var n=ei(this._context),n=si(n);if(ni(t)||ri(t))throw Qe();if(K(t)){const Ze=lt(t);try{const Ye=rt(this._nativeAudioNode,Ze,e,i),$e=pt(this);(n||$e)&&this._nativeAudioNode.disconnect(...Ye),"closed"!==this.context.state&&!$e&&pt(t)&&D(t)}catch(t){if(12===t.code)throw Qe();throw t}if(Ye(this,t,e,i,n)){const Ye=ti([this],t);ft(Ye,$e(n))}return t}i=ut(t);if("playbackRate"===i.name)throw Ke();try{this._nativeAudioNode.connect(i,e),(n||pt(this))&&this._nativeAudioNode.disconnect(i,e)}catch(t){if(12===t.code)throw Qe();throw t}if(gt(this,t,e,n)){const Ye=ti([this],t);ft(Ye,$e(n))}}disconnect(t,e,i){let n;var r=ei(this._context),r=si(r);if(void 0===t)n=((t,e)=>{const i=W(t),n=[];for(const r of i.outputs)(J(r)?_t:yt)(t,e,...r),n.push(r[0]);return i.outputs.clear(),n})(this,r);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw Ze();n=((t,e,i)=>{const n=W(t),r=[];for(const s of n.outputs)s[1]===i&&((J(s)?_t:yt)(t,e,...s),r.push(s[0]),n.outputs.delete(s));return r})(this,r,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw Ze();if(K(t)&&void 0!==i&&(i<0||i>=t.numberOfInputs))throw Ze();if(n=((e,i,n,r,s)=>{const o=W(e);return Array.from(o.outputs).filter(t=>!(t[0]!==n||void 0!==r&&t[1]!==r||void 0!==s&&t[2]!==s)).map(t=>((J(t)?_t:yt)(e,i,...t),o.outputs.delete(t),t[0]))})(this,r,t,e,i),0===n.length)throw Qe()}for(const t of n){const e=ti([this],t);ft(e,Je)}}}),rl=(Gi=Fe,Ui=V,Vi=Se,ji=ei=Le,Hi=si=Ge,class extends nl{constructor(t,e){var i=ji(t),e={...B,...e},e=Vi(i,e);super(t,!1,e,Hi(i)?Gi():null),this._nativeAnalyserNode=e}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){var e=this._nativeAnalyserNode.maxDecibels;if(!((this._nativeAnalyserNode.maxDecibels=t)>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,Ui()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){var e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,Ui()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}}),sl=new WeakSet,ol=null!==(Pl=Ee)&&Pl.hasOwnProperty("AudioBuffer")?Pl.AudioBuffer:null,al=(Xi=new Uint32Array(1),t=>(Xi[0]=t,Xi[0])),hl=(Yi=V,a=>{a.copyFromChannel=(e,t,i=0)=>{var n=qi(i),t=qi(t);if(t>=a.numberOfChannels)throw Yi();var r=a.length,s=a.getChannelData(t),o=e.length;for(let t=n<0?-n:0;t+n<r&&t<o;t+=1)e[t]=s[t+n]},a.copyToChannel=(e,t,i=0)=>{var n=qi(i),t=qi(t);if(t>=a.numberOfChannels)throw Yi();const r=a.length,s=a.getChannelData(t),o=e.length;for(let t=n<0?-n:0;t+n<r&&t<o;t+=1)s[t+n]=e[t]}}),ll=(zi=qi=al,n=>{var r,s;n.copyFromChannel=(s=n.copyFromChannel,(t,e,i=0)=>{i=zi(i),e=zi(e);if(i<n.length)return s.call(n,t,e,i)}),n.copyToChannel=(r=n.copyToChannel,(t,e,i=0)=>{i=zi(i),e=zi(e);if(i<n.length)return r.call(n,t,e,i)})}),ul=((r,s,o,a,h,l,u,c)=>{let p=null;return class e{constructor(t){if(null===h)throw new Error("Missing the native OfflineAudioContext constructor.");var{length:e,numberOfChannels:i,sampleRate:t}={...H,...t};null===p&&(p=new h(1,1,44100));const n=null!==a&&s(l,l)?new a({length:e,numberOfChannels:i,sampleRate:t}):p.createBuffer(i,e,t);if(0===n.numberOfChannels)throw o();return"function"!=typeof n.copyFromChannel?(u(n),j(n)):s(U,()=>U(n))||c(n),r.add(n),n}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===e.prototype||r.has(t)}}})(sl,Te,Jt,ol,Be,(Wi=ol,()=>{if(null===Wi)return!1;try{new Wi({length:1,sampleRate:44100})}catch{return!1}return!0}),hl,ll),cl=($i=Zt,(t,e)=>{const i=$i(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(i).connect(t.destination);const n=()=>{e.removeEventListener("ended",n),e.disconnect(i),i.disconnect()};e.addEventListener("ended",n)}),pl=(hn=ke,ln=$,un=ct,async(t,r,s,o)=>{t=ln(t);await Promise.all(Array.from(t.activeInputs).map(async([t,e])=>{const i=hn(t),n=await i.render(t,r,o);un(t)||n.connect(s,e)}))}),dl=(an=pl,(t,e,i,n)=>an(e,t,i,n)),fl=(Zi=cl,Qi=Te,Ki=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Ji=t=>{const e=t.createBufferSource(),i=t.createBuffer(1,1,44100);e.buffer=i;try{e.start(0,1)}catch{return!1}return!0},tn=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},en=ue,nn=ce,rn=pe,cn=he,sn=(i,t)=>{const n=t.createBuffer(1,1,44100);null===i.buffer&&(i.buffer=n),cn(i,"buffer",e=>()=>{var t=e.call(i);return t===n?null:t},e=>t=>e.call(i,null===t?n:t))},on=me,(t,e)=>{var r,s,o,i=t.createBufferSource();return Ut(i,e),jt(i,e,"playbackRate"),Gt(i,e,"buffer"),Gt(i,e,"loop"),Gt(i,e,"loopEnd"),Gt(i,e,"loopStart"),Qi(Ki,()=>Ki(t))||((o=i).start=(n=>{let r=!1;return(t=0,e=0,i)=>{if(r)throw Dt();n.call(o,t,e,i),r=!0}})(o.start)),Qi(Ji,()=>Ji(t))||((r=i).start=(s=r.start,(t=0,e=0,i)=>{var n=r.buffer,e=null===n?e:Math.min(n.duration,e);null!==n&&e>n.duration-.5/r.context.sampleRate?s.call(r,t,0,0):s.call(r,t,e,i)})),Qi(tn,()=>tn(t))||sn(i,t),Qi(en,()=>en(t))||Ht(i),Qi(nn,()=>nn(t))||on(i,t),Qi(rn,()=>rn(t))||Xt(i),Zi(t,i),i}),ml=(Mn=$,Rn=t=>{t=Mn(t);if(null===t.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return t.renderer},On=pl,(t,e,i,n)=>(Rn(e).replay(i),On(e,t,i,n))),gl=(Sn=dl,An=fl,wn=lt,Pn=ml,Cn=Ne,()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=wn(t);var r=G(n,e);if(!r){const Sn={buffer:n.buffer,channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,loop:n.loop,loopEnd:n.loopEnd,loopStart:n.loopStart,playbackRate:n.playbackRate.value};n=An(e,Sn),null!==o&&n.start(...o),null!==a&&n.stop(a)}return s.set(e,n),r?await Sn(e,t.playbackRate,n.playbackRate,i):await Pn(e,t.playbackRate,n.playbackRate,i),await Cn(t,e,n,i),n})(t,e,i)}}}),_l=(In=_,pn=(t,e)=>{In.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})},dn=je,fn=v,mn=y.createCancelAndHoldAutomationEvent,gn=y.createCancelScheduledValuesAutomationEvent,_n=y.createExponentialRampToValueAutomationEvent,yn=y.createLinearRampToValueAutomationEvent,vn=y.createSetTargetAutomationEvent,bn=y.createSetValueAutomationEvent,xn=y.createSetValueCurveAutomationEvent,Tn=Xe,En=le,(d,t,f,e=null,i=null)=>{const m=new y.AutomationEventList(f.defaultValue),g=t?(l=m,{replay(t){for(const e of l)if("exponentialRampToValue"===e.type){const{endTime:l,value:i}=e;t.exponentialRampToValueAtTime(i,l)}else if("linearRampToValue"===e.type){const{endTime:l,value:n}=e;t.linearRampToValueAtTime(n,l)}else if("setTarget"===e.type){const{startTime:l,target:r,timeConstant:s}=e;t.setTargetAtTime(r,l,s)}else if("setValue"===e.type){const{startTime:l,value:o}=e;t.setValueAtTime(o,l)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:l,startTime:a,values:h}=e;t.setValueCurveAtTime(h,a,l)}}}}):null,_={get defaultValue(){return f.defaultValue},get maxValue(){return null===e?f.maxValue:e},get minValue(){return null===i?f.minValue:i},get value(){return f.value},set value(t){f.value=t,_.setValueAtTime(t,d.context.currentTime)},cancelAndHoldAtTime(t){var e,i;return"function"==typeof f.cancelAndHoldAtTime?(null===g&&m.flush(d.context.currentTime),m.add(mn(t)),f.cancelAndHoldAtTime(t)):(e=Array.from(m).pop(),null===g&&m.flush(d.context.currentTime),m.add(mn(t)),i=Array.from(m).pop(),f.cancelScheduledValues(t),e!==i&&void 0!==i&&("exponentialRampToValue"===i.type?f.exponentialRampToValueAtTime(i.value,i.endTime):"linearRampToValue"===i.type?f.linearRampToValueAtTime(i.value,i.endTime):"setValue"===i.type?f.setValueAtTime(i.value,i.startTime):"setValueCurve"===i.type&&f.setValueCurveAtTime(i.values,i.startTime,i.duration))),_},cancelScheduledValues:t=>(null===g&&m.flush(d.context.currentTime),m.add(gn(t)),f.cancelScheduledValues(t),_),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===g&&m.flush(d.context.currentTime),m.add(_n(t,e)),f.exponentialRampToValueAtTime(t,e),_},linearRampToValueAtTime:(t,e)=>(null===g&&m.flush(d.context.currentTime),m.add(yn(t,e)),f.linearRampToValueAtTime(t,e),_),setTargetAtTime:(t,e,i)=>(null===g&&m.flush(d.context.currentTime),m.add(vn(t,e,i)),f.setTargetAtTime(t,e,i),_),setValueAtTime:(t,e)=>(null===g&&m.flush(d.context.currentTime),m.add(bn(t,e)),f.setValueAtTime(t,e),_),setValueCurveAtTime(t,e,i){var n=t instanceof Float32Array?t:new Float32Array(t);if(null!==Tn&&"webkitAudioContext"===Tn.name){const a=e+i,h=d.context.sampleRate,l=Math.ceil(e*h),u=Math.floor(a*h),c=u-l,p=new Float32Array(c);for(let t=0;t<c;t+=1){var r=(n.length-1)/i*((l+t)/h-e),s=Math.floor(r),o=Math.ceil(r);p[t]=s===o?n[s]:(1-(r-s))*n[s]+(1-(o-r))*n[o]}null===g&&m.flush(d.context.currentTime),m.add(xn(p,e,i)),f.setValueCurveAtTime(p,e,i);t=u/h;t<a&&En(_,p[p.length-1],t),En(_,n[n.length-1],a)}else null===g&&m.flush(d.context.currentTime),m.add(xn(n,e,i)),f.setValueCurveAtTime(n,e,i);return _}};var l;return fn.set(_,f),dn.set(_,d),pn(_,g),_}),yl=(Yn=gl,$n=Dt,Zn=fl,Jn=ge,class extends nl{constructor(t,e){var i=Qn(t),n={...Y,...e},r=Zn(i,n),e=Kn(i),i=e?Yn():null;super(t,!1,r,i),this._audioBufferSourceNodeRenderer=i,this._isBufferNullified=!1,this._isBufferSet=null!==n.buffer,this._nativeAudioBufferSourceNode=r,this._onended=null,this._playbackRate=Wn(this,e,r.playbackRate,z,X)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(null!==(this._nativeAudioBufferSourceNode.buffer=t)){if(this._isBufferSet)throw $n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){var e="function"==typeof t?Jn(this,t):null;this._nativeAudioBufferSourceNode.onended=e;var i=this._nativeAudioBufferSourceNode.onended;this._onended=null!==i&&i===e?t:i}get playbackRate(){return this._playbackRate}start(t=0,e=0,i){if(this._nativeAudioBufferSourceNode.start(t,e,i),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===i?[t,e]:[t,e,i]),"closed"!==this.context.state){D(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),q(this)&&N(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}}),vl=(Gn=V,Un=Dt,zn=Zt,qn=he,Vn=(t,e,i)=>{const n=t.destination;if(n.channelCount!==e)try{n.channelCount=e}catch{}i&&"explicit"!==n.channelCountMode&&(n.channelCountMode="explicit"),0===n.maxChannelCount&&Object.defineProperty(n,"maxChannelCount",{value:e});const r=zn(t,{channelCount:e,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,gain:1});return qn(r,"channelCount",t=>()=>t.call(r),t=>e=>{t.call(r,e);try{n.channelCount=e}catch(t){if(e>n.maxChannelCount)throw t}}),qn(r,"channelCountMode",t=>()=>t.call(r),e=>t=>{e.call(r,t),n.channelCountMode=t}),qn(r,"channelInterpretation",t=>()=>t.call(r),e=>t=>{e.call(r,t),n.channelInterpretation=t}),Object.defineProperty(r,"maxChannelCount",{get:()=>n.maxChannelCount}),r.connect(n),r},class extends nl{constructor(t,e){var i=jn(t),n=Hn(i),e=Vn(i,e,n);super(t,!1,e,n?(r=>{let n=null;return{render:(t,e,i)=>(null===n&&(n=(async(t,e,i)=>{const n=e.destination;return await r(t,e,n,i),n})(t,e,i)),n)}})(Xn):null),this._isNodeOfNativeOfflineAudioContext=n,this._nativeAudioDestinationNode=e}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw Un();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw Gn();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw Un();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}}),bl=(kn=dl,Fn=lt,Ln=ml,Bn=Xn=Ne,()=>{const s=new WeakMap;return{render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Fn(t);var r=G(n,e);if(!r){const kn={Q:n.Q.value,channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,detune:n.detune.value,frequency:n.frequency.value,gain:n.gain.value,type:n.type};n=Nn(e,kn)}return s.set(e,n),r?(await kn(e,t.Q,n.Q,i),await kn(e,t.detune,n.detune,i),await kn(e,t.frequency,n.frequency,i),await kn(e,t.gain,n.gain,i)):(await Ln(e,t.Q,n.Q,i),await Ln(e,t.detune,n.detune,i),await Ln(e,t.frequency,n.frequency,i),await Ln(e,t.gain,n.gain,i)),await Bn(t,e,n,i),n})(t,e,i)}}}),xl=(Dn=be,(t,e)=>Dn.set(t,e)),Tl=(tr=Wn=_l,er=bl,ir=kt,nr=Nn=qt,rr=jn=Qn=Le,sr=Hn=Kn=Ge,or=xl,class extends nl{constructor(t,e){var i=rr(t),e={...St,...e},e=nr(i,e),i=sr(i);super(t,!1,e,i?er():null),this._Q=tr(this,i,e.Q,z,X),this._detune=tr(this,i,e.detune,1200*Math.log2(z),-1200*Math.log2(z)),this._frequency=tr(this,i,e.frequency,t.sampleRate/2,0),this._gain=tr(this,i,e.gain,40*Math.log10(z),X),this._nativeBiquadFilterNode=e,or(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,i){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,i)}catch(t){if(11===t.code)throw ir();throw t}if(t.length!==e.length||e.length!==i.length)throw ir()}}),El=(ar=tt,hr=el,(s,r,o)=>{const a=new Set;var h,l;return s.connect=(h=s.connect,(e,i=0,n=0)=>{var t=0===a.size;if(hr(e))return h.call(s,e,i,n),ar(a,[e,i,n],t=>t[0]===e&&t[1]===i&&t[2]===n,!0),t&&r(),e;h.call(s,e,i),ar(a,[e,i],t=>t[0]===e&&t[1]===i,!0),t&&r()}),s.disconnect=(l=s.disconnect,(t,e,i)=>{var n=0<a.size;if(void 0===t)l.apply(s),a.clear();else if("number"==typeof t){l.call(s,t);for(const hr of a)hr[1]===t&&a.delete(hr)}else{hr(t)?l.call(s,t,e,i):l.call(s,t,e);for(const hr of a)hr[0]!==t||void 0!==e&&hr[1]!==e||void 0!==i&&hr[2]!==i||a.delete(hr)}var r=0===a.size;n&&r&&o()}),s}),Sl=(lr=Dt,(t,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw lr()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw lr()}});const n=t.createBufferSource();ur(i,()=>{var e=i.numberOfInputs;for(let t=0;t<e;t+=1)n.connect(i,0,t)},()=>n.disconnect(i))}),e=(ps=Xe,ds=Sl,(t,e)=>{var i=t.createChannelMerger(e.numberOfInputs);return null!==ps&&"webkitAudioContext"===ps.name&&ds(t,i),Ut(i,e),i}),i=(us=lt,ss=()=>{const r=new WeakMap;return{render(t,e,i){var n=r.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=us(t);if(!G(n,e)){const us={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,numberOfInputs:n.numberOfInputs};n=ls(e,us)}return r.set(e,n),await cs(t,e,n,i),n})(t,e,i)}}},class extends nl{constructor(t,e){var i=as(t),e={...At,...e};super(t,!1,os(i,e),hs(i)?ss():null)}}),Al=(ns=lt,Kr=()=>{const r=new WeakMap;return{render(t,e,i){var n=r.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=ns(t);if(!G(n,e)){const ns={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,numberOfOutputs:n.numberOfOutputs};n=is(e,ns)}return r.set(e,n),await rs(t,e,n,i),n})(t,e,i)}}},Jr=is=Yt,class extends nl{constructor(t,e){var i=ts(t),e={...e={...wt,...e},channelCount:e.numberOfOutputs};super(t,!1,Jr(i,e),es(i)?Kr():null)}}),wl=(Qr=ur=El,(t,{offset:e,...i})=>{const n=t.createBuffer(1,2,44100),r=$r(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=Zr(t,{...i,gain:e}),o=n.getChannelData(0);o[0]=1,o[1]=1,r.buffer=n,r.loop=!0;e={get bufferSize(){},get channelCount(){return s.channelCount},set channelCount(t){s.channelCount=t},get channelCountMode(){return s.channelCountMode},set channelCountMode(t){s.channelCountMode=t},get channelInterpretation(){return s.channelInterpretation},set channelInterpretation(t){s.channelInterpretation=t},get context(){return s.context},get inputs(){return[]},get numberOfInputs(){return r.numberOfInputs},get numberOfOutputs(){return s.numberOfOutputs},get offset(){return s.gain},get onended(){return r.onended},set onended(t){r.onended=t},addEventListener:(...t)=>r.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>r.dispatchEvent(t[0]),removeEventListener:(...t)=>r.removeEventListener(t[0],t[1],t[2]),start(t=0){r.start.call(r,t)},stop(t=0){r.stop.call(r,t)}};return Wr(t,r),Qr(Wt(e,s),()=>r.connect(s),()=>r.disconnect(s))}),Fe=(Hr=Wr=cl,Xr=Te,zr=wl,qr=ue,Yr=pe,(t,e)=>{if(void 0===t.createConstantSource)return zr(t,e);var i=t.createConstantSource();return Ut(i,e),jt(i,e,"offset"),Xr(qr,()=>qr(t))||Ht(i),Xr(Yr,()=>Yr(t))||Xt(i),Hr(t,i),i}),Pl=(Ur=lt,Dr=()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Ur(t);var r=G(n,e);if(!r){const Br={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,offset:n.offset.value};n=Gr(e,Br),null!==o&&n.start(o),null!==a&&n.stop(a)}return s.set(e,n),r?await Br(e,t.offset,n.offset,i):await Vr(e,t.offset,n.offset,i),await jr(t,e,n,i),n})(t,e,i)}}},Lr=ge,class extends nl{constructor(t,e){var i=Nr(t),n={...Pt,...e},e=kr(i,n),n=Fr(i),i=n?Dr():null;super(t,!1,e,i),this._constantSourceNodeRenderer=i,this._nativeConstantSourceNode=e,this._offset=Ir(this,n,e.offset,z,X),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){var e="function"==typeof t?Lr(this,t):null;this._nativeConstantSourceNode.onended=e;var i=this._nativeConstantSourceNode.onended;this._onended=null!==i&&i===e?t:i}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){D(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),q(this)&&N(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}}),al=(Mr=he,(t,e)=>{const i=t.createConvolver();if(Ut(i,e),e.disableNormalization===i.normalize&&(i.normalize=!e.disableNormalization),Gt(i,e,"buffer"),2<e.channelCount)throw Or();if(Mr(i,"channelCount",t=>()=>t.call(i),e=>t=>{if(2<t)throw Or();return e.call(i,t)}),"max"===e.channelCountMode)throw Or();return Mr(i,"channelCountMode",t=>()=>t.call(i),e=>t=>{if("max"===t)throw Or();return e.call(i,t)}),i}),ol=(Cr=lt,Tr=()=>{const r=new WeakMap;return{render(t,e,i){var n=r.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Cr(t);if(!G(n,e)){const Cr={buffer:n.buffer,channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,disableNormalization:!n.normalize};n=Pr(e,Cr)}return r.set(e,n),nt(n)?await Rr(t,e,n.inputs[0],i):await Rr(t,e,n,i),n})(t,e,i)}}},Er=Pr=al,class extends nl{constructor(t,e){var i=Sr(t),n={...Ct,...e},e=Er(i,n);super(t,!1,e,Ar(i)?Tr():null),this._isBufferNullified=!1,this._nativeConvolverNode=e,null!==n.buffer&&wr(this,n.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(null===(this._nativeConvolverNode.buffer=t)&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,wr(this,0)}else this._isBufferNullified=!1,wr(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}}),pl=(vr=lt,pr=s=>{const o=new WeakMap;return{render(t,e,i){var n=o.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=vr(t);var r=G(n,e);if(!r){const _r={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,delayTime:n.delayTime.value,maxDelayTime:s};n=yr(e,_r)}return o.set(e,n),r?await _r(e,t.delayTime,n.delayTime,i):await br(e,t.delayTime,n.delayTime,i),await xr(t,e,n,i),n})(t,e,i)}}},dr=yr=$t,class extends nl{constructor(t,e){var i=fr(t),n={...Rt,...e},e=dr(i,n),i=mr(i);super(t,!1,e,i?pr(n.maxDelayTime):null),this._delayTime=cr(this,i,e.delayTime),gr(this,n.maxDelayTime)}get delayTime(){return this._delayTime}}),je=(t,e)=>{t=t.createDynamicsCompressor();if(Ut(t,e),2<e.channelCount)throw fs();if("max"===e.channelCountMode)throw fs();return jt(t,e,"attack"),jt(t,e,"knee"),jt(t,e,"ratio"),jt(t,e,"release"),jt(t,e,"threshold"),t},gl=($s=lt,Vs=()=>{const s=new WeakMap;return{render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=$s(t);var r=G(n,e);if(!r){const Ys={attack:n.attack.value,channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,knee:n.knee.value,ratio:n.ratio.value,release:n.release.value,threshold:n.threshold.value};n=Ws(e,Ys)}return s.set(e,n),r?(await Ys(e,t.attack,n.attack,i),await Ys(e,t.knee,n.knee,i),await Ys(e,t.ratio,n.ratio,i),await Ys(e,t.release,n.release,i),await Ys(e,t.threshold,n.threshold,i)):(await Zs(e,t.attack,n.attack,i),await Zs(e,t.knee,n.knee,i),await Zs(e,t.ratio,n.ratio,i),await Zs(e,t.release,n.release,i),await Zs(e,t.threshold,n.threshold,i)),await Qs(t,e,n,i),n})(t,e,i)}}},js=Ws=je,class extends nl{constructor(t,e){var i=Xs(t),e={...Mt,...e},e=js(i,e),i=zs(i);super(t,!1,e,i?Vs():null),this._attack=Us(this,i,e.attack),this._knee=Us(this,i,e.knee),this._nativeDynamicsCompressorNode=e,this._ratio=Us(this,i,e.ratio),this._release=Us(this,i,e.release),this._threshold=Us(this,i,e.threshold),qs(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){var e=this._nativeDynamicsCompressorNode.channelCount;if(2<(this._nativeDynamicsCompressorNode.channelCount=t))throw this._nativeDynamicsCompressorNode.channelCount=e,Hs()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){var e=this._nativeDynamicsCompressorNode.channelCountMode;if("max"===(this._nativeDynamicsCompressorNode.channelCountMode=t))throw this._nativeDynamicsCompressorNode.channelCountMode=e,Hs()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}}),bl=(Ns=Ys=_r=Br=dl,Ls=lt,Bs=Zs=br=Vr=ml,Ms=()=>{const s=new WeakMap;return{render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Ls(t);var r=G(n,e);if(!r){const Ns={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,gain:n.gain.value};n=Fs(e,Ns)}return s.set(e,n),r?await Ns(e,t.gain,n.gain,i):await Bs(e,t.gain,n.gain,i),await Gs(t,e,n,i),n})(t,e,i)}}},class extends nl{constructor(t,e){var i=Ds(t),e={...It,...e},e=Is(i,e),i=ks(i);super(t,!1,e,i?Ms():null),this._gain=Os(this,i,e.gain,z,X)}get gain(){return this._gain}}),Sl=(ws=kt,Ps=Dt,Rs=Hs=fs=Or=Jt,(t,e,{channelCount:i,channelCountMode:n,channelInterpretation:r,feedback:s,feedforward:o})=>{const a=zt(e,t.sampleRate),u=s instanceof Float64Array?s:new Float64Array(s),c=o instanceof Float64Array?o:new Float64Array(o),h=u.length,l=c.length,p=Math.min(h,l);if(0===h||20<h)throw Rs();if(0===u[0])throw Ps();if(0===l||20<l)throw Rs();if(0===c[0])throw Ps();if(1!==u[0]){for(let t=0;t<l;t+=1)c[t]/=u[0];for(let t=1;t<h;t+=1)u[t]/=u[0]}const d=Cs(t,a,i,i);d.channelCount=i,d.channelCountMode=n,d.channelInterpretation=r;const f=[],m=[],g=[];for(let t=0;t<i;t+=1){f.push(0);const ws=new Float32Array(32),Ps=new Float32Array(32);ws.fill(0),Ps.fill(0),m.push(ws),g.push(Ps)}d.onaudioprocess=t=>{const e=t.inputBuffer,i=t.outputBuffer,n=e.numberOfChannels;for(let t=0;t<n;t+=1){const n=e.getChannelData(t),r=i.getChannelData(t);f[t]=Ft(u,h,c,l,p,m[t],g[t],f[t],32,n,r)}};const _=t.sampleRate/2;return Wt({get bufferSize(){return a},get channelCount(){return d.channelCount},set channelCount(t){d.channelCount=t},get channelCountMode(){return d.channelCountMode},set channelCountMode(t){d.channelCountMode=t},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(t){d.channelInterpretation=t},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},addEventListener:(...t)=>d.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>d.dispatchEvent(t[0]),getFrequencyResponse(e,i,n){if(e.length!==i.length||i.length!==n.length)throw ws();const r=e.length;for(let t=0;t<r;t+=1){const r=-Math.PI*(e[t]/_),h=[Math.cos(r),Math.sin(r)],l=(s=Qt(c,h),o=Qt(u,h),a=void 0,a=o[0]*o[0]+o[1]*o[1],[(s[0]*o[0]+s[1]*o[1])/a,(s[1]*o[0]-s[0]*o[1])/a]);i[t]=Math.sqrt(l[0]*l[0]+l[1]*l[1]),n[t]=Math.atan2(l[1],l[0])}var s,o,a},removeEventListener:(...t)=>d.removeEventListener(t[0],t[1],t[2])},d)}),wl=(bs=Te,Ss=xs=Is=Fs=Zr=Zt,As=Be,Es=()=>{if(null===As)return Promise.resolve(!1);const e=new As(1,1,44100),i=Ss(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(t=>{e.oncomplete=()=>{i.disconnect(),t(0!==e.currentTime)},e.startRendering()})},n=>bs(Bt,()=>Bt(n))?Promise.resolve(bs(Es,Es)).then(t=>{if(!t){const t=Ts(n,512,0,1);n.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>n.currentTime,t.connect(n.destination)}return n.startRendering()}):new Promise(e=>{const i=xs(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.oncomplete=t=>{i.disconnect(),e(t.renderedBuffer)},i.connect(n.destination),n.startRendering()})),al=(ms=$r=fl,gs=lt,_s=Be,ys=Gs=Qs=xr=Rr=jr=rs=cs=Ne,vs=wl,(o,a)=>{const h=new WeakMap;let l=null;return{render(t,e,i){var n=h.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=null,r=gs(t);var s=G(r,e);if(void 0===e.createIIRFilter?n=ms(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):s||(r=e.createIIRFilter(a,o)),h.set(e,null===n?r:n),null===n)return await ys(t,e,r,i),r;{if(null===l){if(null===_s)throw new Error("Missing the native OfflineAudioContext constructor.");const ms=new _s(t.context.destination.channelCount,t.context.length,e.sampleRate);l=(async()=>(await ys(t,ms,ms.destination,i),((e,t,i,n)=>{const r=i instanceof Float64Array?i:new Float64Array(i),s=n instanceof Float64Array?n:new Float64Array(n),o=r.length,a=s.length,h=Math.min(o,a);if(1!==r[0]){for(let t=0;t<o;t+=1)s[t]/=r[0];for(let t=1;t<a;t+=1)r[t]/=r[0]}const l=new Float32Array(32),u=new Float32Array(32),c=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),p=e.numberOfChannels;for(let t=0;t<p;t+=1){const i=e.getChannelData(t),n=c.getChannelData(t);l.fill(0),u.fill(0),Ft(r,o,s,a,h,l,u,0,32,i,n)}return c})(await vs(ms),e,o,a)))()}const ms=await l;return n.buffer=ms,n.start(0),n}})(t,e,i)}}}),je=(Ks=Sl,Po=(t,e,i)=>{if(void 0===t.createIIRFilter)return Ks(t,e,i);t=t.createIIRFilter(i.feedforward,i.feedback);return Ut(t,i),t},Co=al,Ro=Ds=Xs=fr=Sr=Nr=ts=as=Le,Mo=qs=gr=wr=xl,class extends nl{constructor(t,e){var n,r,i=Ro(t),s=Oo(i),e={...Nt,...e},i=Po(i,s?null:t.baseLatency,e);super(t,!1,i,s?Co(e.feedback,e.feedforward):null),(n=i).getFrequencyResponse=(r=n.getFrequencyResponse,(t,e,i)=>{if(t.length!==e.length||e.length!==i.length)throw kt();return r.call(n,t,e,i)}),this._nativeIIRFilterNode=i,Mo(this,1)}getFrequencyResponse(t,e,i){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,i)}}),Sl=(To=Os=Us=cr=Ir=_l,Eo=os=ls=e,So=kr=Gr=Fe,Ao=Ts=Cs=Kt,wo=Oo=ks=zs=mr=Ar=Fr=es=hs=Ge,(a,h)=>{const l=h.listener,{forwardX:t,forwardY:e,forwardZ:i,positionX:n,positionY:r,positionZ:s,upX:o,upY:u,upZ:c}=void 0===l.forwardX?(()=>{const n=Eo(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),r=wo(h),t=Ao(h,256,9,0),e=(t,e)=>{const i=So(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e});return i.connect(n,0,t),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>e}),To({context:a},r,i.offset,z,X)};let s=[0,0,-1,0,1,0],o=[0,0,0];return t.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some((t,e)=>t!==s[e])&&(l.setOrientation(...e),s=e);const i=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];i.some((t,e)=>t!==o[e])&&(l.setPosition(...i),o=i)},n.connect(t),{forwardX:e(0,0),forwardY:e(1,0),forwardZ:e(2,-1),positionX:e(6,0),positionY:e(7,0),positionZ:e(8,0),upX:e(3,0),upY:e(4,1),upZ:e(5,0)}})():l;return{get forwardX(){return t},get forwardY(){return e},get forwardZ(){return i},get positionX(){return n},get positionY(){return r},get positionZ(){return s},get upX(){return o},get upY(){return u},get upZ(){return c}}}),al=new WeakMap,vl=(_o=vl,yo=Sl,bo=al,class extends He{constructor(t,e){super(t),this._nativeContext=t,b.set(this,t),vo(t)&&bo.set(t,new Set),this._destination=new _o(this,e),this._listener=yo(this,t),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){var e="function"==typeof t?xo(this,t):null;this._nativeContext.onstatechange=e;var i=this._nativeContext.onstatechange;this._onstatechange=null!==i&&i===e?t:i}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}}),Sl=(uo=cl,co=Te,po=ue,fo=ce,mo=pe,go=me,(t,e)=>{const i=t.createOscillator();return Ut(i,e),jt(i,e,"detune"),jt(i,e,"frequency"),void 0!==e.periodicWave?i.setPeriodicWave(e.periodicWave):Gt(i,e,"type"),co(po,()=>po(t))||Ht(i),co(fo,()=>fo(t))||go(i,t),co(mo,()=>mo(t))||Xt(i),uo(t,i),i}),He=(oo=to=Sl,ao=lt,eo=()=>{const s=new WeakMap;let o=null,a=null,h=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){h=t},render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=ao(t);var r=G(n,e);if(!r){const so={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,detune:n.detune.value,frequency:n.frequency.value,periodicWave:null===o?void 0:o,type:n.type};n=oo(e,so),null!==a&&n.start(a),null!==h&&n.stop(h)}return s.set(e,n),r?(await so(e,t.detune,n.detune,i),await so(e,t.frequency,n.frequency,i)):(await ho(e,t.detune,n.detune,i),await ho(e,t.frequency,n.frequency,i)),await lo(t,e,n,i),n})(t,e,i)}}},ro=xo=ge,class extends nl{constructor(t,e){var i=io(t),n={...ee,...e},r=to(i,n),s=no(i),e=s?eo():null,i=t.sampleRate/2;super(t,!1,r,e),this._detune=Js(this,s,r.detune,153600,-153600),this._frequency=Js(this,s,r.frequency,i,-i),this._nativeOscillatorNode=r,this._onended=null,this._oscillatorNodeRenderer=e,null!==this._oscillatorNodeRenderer&&void 0!==n.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=n.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){var e="function"==typeof t?ro(this,t):null;this._nativeOscillatorNode.onended=e;var i=this._nativeOscillatorNode.onended;this._onended=null!==i&&i===e?t:i}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){D(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),q(this)&&N(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}}),cl=(Io=fl,(t,e)=>{const i=Io(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),n=t.createBuffer(1,2,44100);return i.buffer=n,i.loop=!0,i.connect(e),i.start(),()=>{i.stop(),i.disconnect(e)}}),Sl=(Zo=Dt,(s,{curve:t,oversample:e,...i})=>{const o=s.createWaveShaper(),a=s.createWaveShaper();Ut(o,i),Ut(a,i);const h=Qo(s,{...i,gain:1}),n=Qo(s,{...i,gain:-1}),r=Qo(s,{...i,gain:1}),l=Qo(s,{...i,gain:-1});let u=null,c=!1,p=null;const d={get bufferSize(){},get channelCount(){return o.channelCount},set channelCount(t){h.channelCount=t,n.channelCount=t,o.channelCount=t,r.channelCount=t,a.channelCount=t,l.channelCount=t},get channelCountMode(){return o.channelCountMode},set channelCountMode(t){h.channelCountMode=t,n.channelCountMode=t,o.channelCountMode=t,r.channelCountMode=t,a.channelCountMode=t,l.channelCountMode=t},get channelInterpretation(){return o.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,n.channelInterpretation=t,o.channelInterpretation=t,r.channelInterpretation=t,a.channelInterpretation=t,l.channelInterpretation=t},get context(){return o.context},get curve(){return p},set curve(e){if(null!==e&&e.length<2)throw Zo();if(null===e)o.curve=e,a.curve=e;else{const $o=e.length,Zo=new Float32Array($o+2-$o%2),Ko=new Float32Array($o+2-$o%2);Zo[0]=e[0],Ko[0]=-e[$o-1];const i=Math.ceil(($o+1)/2),s=($o+1)/2-1;for(let t=1;t<i;t+=1){const n=t/i*s,r=Math.floor(n),o=Math.ceil(n);Zo[t]=r===o?e[r]:(1-(n-r))*e[r]+(1-(o-n))*e[o],Ko[t]=r===o?-e[$o-1-r]:-(1-(n-r))*e[$o-1-r]-(1-(o-n))*e[$o-1-o]}Zo[i]=$o%2==1?e[i-1]:(e[i-2]+e[i-1])/2,o.curve=Zo,a.curve=Ko}p=e,c&&(Ko(p)&&null===u?u=$o(s,h):null!==u&&(u(),u=null))},get inputs(){return[h]},get numberOfInputs(){return o.numberOfInputs},get numberOfOutputs(){return o.numberOfOutputs},get oversample(){return o.oversample},set oversample(t){o.oversample=t,a.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==t&&(d.curve=t instanceof Float32Array?t:new Float32Array(t)),e!==d.oversample&&(d.oversample=e),Jo(Wt(d,r),()=>{h.connect(o).connect(r),h.connect(n).connect(a).connect(l).connect(r),c=!0,Ko(p)&&(u=$o(s,h))},()=>{h.disconnect(o),o.disconnect(r),h.disconnect(n),n.disconnect(a),a.disconnect(l),l.disconnect(r),c=!1,null!==u&&(u(),u=null)})}),cl=(jo=$o=cl,Ho=Dt,Xo=Sl,zo=Ko=ae,Yo=Xe,Wo=he,(i,t)=>{const n=i.createWaveShaper();if(null!==Yo&&"webkitAudioContext"===Yo.name&&void 0===i.createGain().gain.automationRate)return Xo(i,t);Ut(n,t);var e=null===t.curve||t.curve instanceof Float32Array?t.curve:new Float32Array(t.curve);if(null!==e&&e.length<2)throw Ho();Gt(n,{curve:e},"curve"),Gt(n,t,"oversample");let r=null,s=!1;return Wo(n,"curve",t=>()=>t.call(n),e=>t=>(e.call(n,t),s&&(zo(t)&&null===r?r=jo(i,n):zo(t)||null===r||(r(),r=null)),t)),qo(n,()=>{s=!0,zo(n.curve)&&(r=jo(i,n))},()=>{s=!1,null!==r&&(r(),r=null)})}),Sl=(Do=rt,ko=Dt,Lo=Kt,Bo=cl,Go=Jt,Uo=ht,Vo=qo=Jo=El,(t,{coneInnerAngle:e,coneOuterAngle:i,coneOuterGain:n,distanceModel:r,maxDistance:s,orientationX:o,orientationY:a,orientationZ:h,panningModel:l,positionX:u,positionY:c,positionZ:p,refDistance:d,rolloffFactor:f,...m})=>{const g=t.createPanner();if(2<m.channelCount)throw Go();if("max"===m.channelCountMode)throw Go();Ut(g,m);const _={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y=No(t,{..._,channelInterpretation:"speakers",numberOfInputs:6}),v=Fo(t,{...m,gain:1}),b=Fo(t,{..._,gain:1}),x=Fo(t,{..._,gain:0}),T=Fo(t,{..._,gain:0}),E=Fo(t,{..._,gain:0}),S=Fo(t,{..._,gain:0}),A=Fo(t,{..._,gain:0}),w=Lo(t,256,6,1),P=Bo(t,{..._,curve:new Float32Array([1,1]),oversample:"none"});let C=[o,a,h],R=[u,c,p];w.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some((t,e)=>t!==C[e])&&(g.setOrientation(...e),C=e);const i=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];i.some((t,e)=>t!==R[e])&&(g.setPosition(...i),R=i)},Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(T.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0});const O={get bufferSize(){},get channelCount(){return g.channelCount},set channelCount(t){if(2<t)throw Go();v.channelCount=t,g.channelCount=t},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){if("max"===t)throw Go();v.channelCountMode=t,g.channelCountMode=t},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t,g.channelInterpretation=t},get coneInnerAngle(){return g.coneInnerAngle},set coneInnerAngle(t){g.coneInnerAngle=t},get coneOuterAngle(){return g.coneOuterAngle},set coneOuterAngle(t){g.coneOuterAngle=t},get coneOuterGain(){return g.coneOuterGain},set coneOuterGain(t){if(t<0||1<t)throw ko();g.coneOuterGain=t},get context(){return g.context},get distanceModel(){return g.distanceModel},set distanceModel(t){g.distanceModel=t},get inputs(){return[v]},get maxDistance(){return g.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;g.maxDistance=t},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get orientationX(){return b.gain},get orientationY(){return x.gain},get orientationZ(){return T.gain},get panningModel(){return g.panningModel},set panningModel(t){g.panningModel=t},get positionX(){return E.gain},get positionY(){return S.gain},get positionZ(){return A.gain},get refDistance(){return g.refDistance},set refDistance(t){if(t<0)throw new RangeError;g.refDistance=t},get rolloffFactor(){return g.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;g.rolloffFactor=t},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])};return e!==O.coneInnerAngle&&(O.coneInnerAngle=e),i!==O.coneOuterAngle&&(O.coneOuterAngle=i),n!==O.coneOuterGain&&(O.coneOuterGain=n),r!==O.distanceModel&&(O.distanceModel=r),s!==O.maxDistance&&(O.maxDistance=s),o!==O.orientationX.value&&(O.orientationX.value=o),a!==O.orientationY.value&&(O.orientationY.value=a),h!==O.orientationZ.value&&(O.orientationZ.value=h),l!==O.panningModel&&(O.panningModel=l),u!==O.positionX.value&&(O.positionX.value=u),c!==O.positionY.value&&(O.positionY.value=c),p!==O.positionZ.value&&(O.positionZ.value=p),d!==O.refDistance&&(O.refDistance=d),f!==O.rolloffFactor&&(O.rolloffFactor=f),1===C[0]&&0===C[1]&&0===C[2]||g.setOrientation(...C),0===R[0]&&0===R[1]&&0===R[2]||g.setPosition(...R),Vo(Wt(O,g),()=>{v.connect(g),Do(v,P,0,0),P.connect(b).connect(y,0,0),P.connect(x).connect(y,0,1),P.connect(T).connect(y,0,2),P.connect(E).connect(y,0,3),P.connect(S).connect(y,0,4),P.connect(A).connect(y,0,5),y.connect(w).connect(t.destination)},()=>{v.disconnect(g),Uo(v,P,0,0),P.disconnect(b),b.disconnect(y),P.disconnect(x),x.disconnect(y),P.disconnect(T),T.disconnect(y),P.disconnect(E),E.disconnect(y),P.disconnect(S),S.disconnect(y),P.disconnect(A),A.disconnect(y),y.disconnect(w),w.disconnect(t.destination)})}),Sl=(ta=Sl,(t,e)=>{var i=t.createPanner();return void 0===i.orientationX?ta(t,e):(Ut(i,e),jt(i,e,"orientationX"),jt(i,e,"orientationY"),jt(i,e,"orientationZ"),jt(i,e,"positionX"),jt(i,e,"positionY"),jt(i,e,"positionZ"),Gt(i,e,"coneInnerAngle"),Gt(i,e,"coneOuterAngle"),Gt(i,e,"coneOuterGain"),Gt(i,e,"distanceModel"),Gt(i,e,"maxDistance"),Gt(i,e,"panningModel"),Gt(i,e,"refDistance"),Gt(i,e,"rolloffFactor"),i)});const Cl=(Bh=Js=_l,Xh=so=dl,zh=No=e,qh=Fe,Yh=Fo=Qo=Zt,Wh=Gh=Sl,$h=lt,Zh=Be,Qh=ho=ml,Kh=lo=Ne,Jh=wl,Uh=()=>{const u=new WeakMap;let c=null;return{render(t,e,i){var n=u.get(e);return void 0!==n?Promise.resolve(n):(async(t,s,o)=>{let a=null,e=$h(t);var h={channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation},l={...h,coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,panningModel:e.panningModel,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor},i=G(e,s);if("bufferSize"in e)a=Yh(s,{...h,gain:1});else if(!i){const Xh={...l,orientationX:e.orientationX.value,orientationY:e.orientationY.value,orientationZ:e.orientationZ.value,positionX:e.positionX.value,positionY:e.positionY.value,positionZ:e.positionZ.value};e=Wh(s,Xh)}if(u.set(s,null===a?e:a),null===a)return i?(await Xh(s,t.orientationX,e.orientationX,o),await Xh(s,t.orientationY,e.orientationY,o),await Xh(s,t.orientationZ,e.orientationZ,o),await Xh(s,t.positionX,e.positionX,o),await Xh(s,t.positionY,e.positionY,o),await Xh(s,t.positionZ,e.positionZ,o)):(await Qh(s,t.orientationX,e.orientationX,o),await Qh(s,t.orientationY,e.orientationY,o),await Qh(s,t.orientationZ,e.orientationZ,o),await Qh(s,t.positionX,e.positionX,o),await Qh(s,t.positionY,e.positionY,o),await Qh(s,t.positionZ,e.positionZ,o)),nt(e)?await Kh(t,s,e.inputs[0],o):await Kh(t,s,e,o),e;{if(null===c){if(null===Zh)throw new Error("Missing the native OfflineAudioContext constructor.");const Xh=new Zh(6,t.context.length,s.sampleRate),Yh=zh(Xh,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Yh.connect(Xh.destination),c=(async()=>{const e=await Promise.all([t.orientationX,t.orientationY,t.orientationZ,t.positionX,t.positionY,t.positionZ].map(async(t,e)=>{e=qh(Xh,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===e?1:0});return await Qh(Xh,t,e.offset,o),e}));for(let t=0;t<6;t+=1)e[t].connect(Yh,0,t),e[t].start(0);return Jh(Xh)})()}const Xh=await c,$h=Yh(s,{...h,gain:1});await Kh(t,s,$h,o);const u=[];for(let t=0;t<Xh.numberOfChannels;t+=1)u.push(Xh.getChannelData(t));let i=[u[0][0],u[1][0],u[2][0]],n=[u[3][0],u[4][0],u[5][0]],e=Yh(s,{...h,gain:1}),r=Wh(s,{...l,orientationX:i[0],orientationY:i[1],orientationZ:i[2],positionX:n[0],positionY:n[1],positionZ:n[2]});$h.connect(e).connect(r.inputs[0]),r.connect(a);for(let t=128;t<Xh.length;t+=128){const Xh=[u[0][t],u[1][t],u[2][t]],qh=[u[3][t],u[4][t],u[5][t]];if(Xh.some((t,e)=>t!==i[e])||qh.some((t,e)=>t!==n[e])){i=Xh,n=qh;const Zh=t/s.sampleRate;e.gain.setValueAtTime(0,Zh),e=Yh(s,{...h,gain:0}),r=Wh(s,{...l,orientationX:i[0],orientationY:i[1],orientationZ:i[2],positionX:n[0],positionY:n[1],positionZ:n[2]}),e.gain.setValueAtTime(1,Zh),$h.connect(e).connect(r.inputs[0]),r.connect(a)}}return a}})(t,e,i)}}},jh=no=vo=Ge,Hh=xl,class extends nl{constructor(t,e){var i=Vh(t),e={...ie,...e},e=Gh(i,e),i=jh(i);super(t,!1,e,i?Uh():null),this._nativePannerNode=e,this._orientationX=Bh(this,i,e.orientationX,z,X),this._orientationY=Bh(this,i,e.orientationY,z,X),this._orientationZ=Bh(this,i,e.orientationZ,z,X),this._positionX=Bh(this,i,e.positionX,z,X),this._positionY=Bh(this,i,e.positionY,z,X),this._positionZ=Bh(this,i,e.positionZ,z,X),Hh(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}}),Rl=(Lh=V,kh=(t,{disableNormalization:e,imag:i,real:n})=>{var r=i instanceof Float32Array?i:new Float32Array(i),n=n instanceof Float32Array?n:new Float32Array(n),e=t.createPeriodicWave(n,r,{disableNormalization:e});if(Array.from(i).length<2)throw Lh();return e},Nh=Vh=io=Le,Fh=new WeakSet,class fg{constructor(t,e){t=Nh(t),e=(t=>{const{imag:e,real:i}=t;return void 0===e?void 0===i?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(i,()=>0),real:i}:void 0===i?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:i}})({...ne,...e}),e=kh(t,e);return Fh.add(e),e}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===fg.prototype||Fh.has(t)}}),Ol=(Ih=((c,v,b,x,p,d)=>{const T=new Float32Array([1,1]),E=Math.PI/2,S={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A={...S,oversample:"none"},f=(t,e,i,n,r)=>{if(1===e)return((t,e,i,n)=>{const r=new Float32Array(16385),s=new Float32Array(16385);for(let t=0;t<16385;t+=1){const e=t/16384*E;r[t]=Math.cos(e),s[t]=Math.sin(e)}const o=b(t,{...S,gain:0}),a=x(t,{...A,curve:r}),h=x(t,{...A,curve:T}),l=b(t,{...S,gain:0}),u=x(t,{...A,curve:s});return{connectGraph(){e.connect(o),e.connect(void 0===h.inputs?h:h.inputs[0]),e.connect(l),h.connect(i),i.connect(void 0===a.inputs?a:a.inputs[0]),i.connect(void 0===u.inputs?u:u.inputs[0]),a.connect(o.gain),u.connect(l.gain),o.connect(n,0,0),l.connect(n,0,1)},disconnectGraph(){e.disconnect(o),e.disconnect(void 0===h.inputs?h:h.inputs[0]),e.disconnect(l),h.disconnect(i),i.disconnect(void 0===a.inputs?a:a.inputs[0]),i.disconnect(void 0===u.inputs?u:u.inputs[0]),a.disconnect(o.gain),u.disconnect(l.gain),o.disconnect(n,0,0),l.disconnect(n,0,1)}}})(t,i,n,r);if(2===e)return((t,e,i,n)=>{const r=new Float32Array(16385),s=new Float32Array(16385),o=new Float32Array(16385),a=new Float32Array(16385),h=Math.floor(8192.5);for(let t=0;t<16385;t+=1)if(t>h){const v=(t-h)/(16384-h)*E;r[t]=Math.cos(v),s[t]=Math.sin(v),o[t]=0,a[t]=1}else{const v=t/(16384-h)*E;r[t]=1,s[t]=0,o[t]=Math.cos(v),a[t]=Math.sin(v)}const l=v(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),u=b(t,{...S,gain:0}),c=x(t,{...A,curve:r}),p=b(t,{...S,gain:0}),d=x(t,{...A,curve:s}),f=x(t,{...A,curve:T}),m=b(t,{...S,gain:0}),g=x(t,{...A,curve:o}),_=b(t,{...S,gain:0}),y=x(t,{...A,curve:a});return{connectGraph(){e.connect(l),e.connect(void 0===f.inputs?f:f.inputs[0]),l.connect(u,0),l.connect(p,0),l.connect(m,1),l.connect(_,1),f.connect(i),i.connect(void 0===c.inputs?c:c.inputs[0]),i.connect(void 0===d.inputs?d:d.inputs[0]),i.connect(void 0===g.inputs?g:g.inputs[0]),i.connect(void 0===y.inputs?y:y.inputs[0]),c.connect(u.gain),d.connect(p.gain),g.connect(m.gain),y.connect(_.gain),u.connect(n,0,0),m.connect(n,0,0),p.connect(n,0,1),_.connect(n,0,1)},disconnectGraph(){e.disconnect(l),e.disconnect(void 0===f.inputs?f:f.inputs[0]),l.disconnect(u,0),l.disconnect(p,0),l.disconnect(m,1),l.disconnect(_,1),f.disconnect(i),i.disconnect(void 0===c.inputs?c:c.inputs[0]),i.disconnect(void 0===d.inputs?d:d.inputs[0]),i.disconnect(void 0===g.inputs?g:g.inputs[0]),i.disconnect(void 0===y.inputs?y:y.inputs[0]),c.disconnect(u.gain),d.disconnect(p.gain),g.disconnect(m.gain),y.disconnect(_.gain),u.disconnect(n,0,0),m.disconnect(n,0,0),p.disconnect(n,0,1),_.disconnect(n,0,1)}}})(t,i,n,r);throw p()};return(e,{channelCount:t,channelCountMode:i,pan:n,...r})=>{if("max"===i)throw p();const s=c(e,{...r,channelCount:1,channelCountMode:i,numberOfInputs:2}),o=b(e,{...r,channelCount:t,channelCountMode:i,gain:1}),a=b(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:n});let{connectGraph:h,disconnectGraph:l}=f(e,t,o,a,s);Object.defineProperty(a.gain,"defaultValue",{get:()=>0}),Object.defineProperty(a.gain,"maxValue",{get:()=>1}),Object.defineProperty(a.gain,"minValue",{get:()=>-1});t={get bufferSize(){},get channelCount(){return o.channelCount},set channelCount(t){o.channelCount!==t&&(u&&l(),{connectGraph:h,disconnectGraph:l}=f(e,t,o,a,s),u&&h()),o.channelCount=t},get channelCountMode(){return o.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw p();o.channelCountMode=t},get channelInterpretation(){return o.channelInterpretation},set channelInterpretation(t){o.channelInterpretation=t},get context(){return o.context},get inputs(){return[o]},get numberOfInputs(){return o.numberOfInputs},get numberOfOutputs(){return o.numberOfOutputs},get pan(){return a.gain},addEventListener:(...t)=>o.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>o.dispatchEvent(t[0]),removeEventListener:(...t)=>o.removeEventListener(t[0],t[1],t[2])};let u=!1;return d(Wt(t,s),()=>{h(),u=!0},()=>{l(),u=!1})}})(e,Yt,Zt,cl,Jt,El),Dh=Jt,(t,e)=>{const i=e.channelCountMode;if("clamped-max"===i)throw Dh();if(void 0===t.createStereoPanner)return Ih(t,e);t=t.createStereoPanner();return Ut(t,e),jt(t,e,"pan"),Object.defineProperty(t,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw Dh()}}),t}),Ml=(Th=_l,Ph=dl,Ch=Eh=Ol,Rh=lt,Oh=ml,Sh=()=>{const s=new WeakMap;return{render(t,e,i){var n=s.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=Rh(t);var r=G(n,e);if(!r){const Ph={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,pan:n.pan.value};n=Ch(e,Ph)}return s.set(e,n),r?await Ph(e,t.pan,n.pan,i):await Oh(e,t.pan,n.pan,i),nt(n)?await Mh(t,e,n.inputs[0],i):await Mh(t,e,n,i),n})(t,e,i)}}},class extends nl{constructor(t,e){var i=Ah(t),e={...re,...e},e=Eh(i,e),i=wh(i);super(t,!1,e,i?Sh():null),this._pan=Th(this,i,e.pan)}get pan(){return this._pan}}),Il=(bh=lt,xh=Mh=Ne,()=>{const r=new WeakMap;return{render(t,e,i){var n=r.get(e);return void 0!==n?Promise.resolve(n):(async(t,e,i)=>{let n=bh(t);if(!G(n,e)){const bh={channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation,curve:n.curve,oversample:n.oversample};n=vh(e,bh)}return r.set(e,n),nt(n)?await xh(t,e,n.inputs[0],i):await xh(t,e,n,i),n})(t,e,i)}}}),Dl=(dh=Dt,fh=vh=cl,mh=Il,gh=Ah=Le,_h=wh=Ge,yh=xl,class extends nl{constructor(t,e){var i=gh(t),e={...oe,...e},e=fh(i,e);super(t,!0,e,_h(i)?mh():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=e,yh(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw dh();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}}),kl=null!==(xl=Ee)&&xl.isSecureContext,Nl=(ph=Ee,(t,e,i)=>{Object.defineProperties(ph,{currentFrame:{configurable:!0,get:()=>Math.round(t*e)},currentTime:{configurable:!0,get:()=>t}});try{return i()}finally{null!==ph&&(delete ph.currentFrame,delete ph.currentTime)}}),Fl=new WeakMap,Ll=(uh=Fl,ch=Be,t=>{let e=uh.get(t);if(void 0!==e)return e;if(null===ch)throw new Error("Missing the native OfflineAudioContext constructor.");return e=new ch(1,1,8e3),uh.set(t,e),e}),Bl=null!==(xl=Ee)&&xl.hasOwnProperty("AudioWorkletNode")?xl.AudioWorkletNode:null,Gl=kl?($a=Te,Za=Jt,lh=Ee,Qa=r=>new Promise((t,s)=>{if(null!==lh){const e=lh.document.head;if(null===e)s(new SyntaxError);else{const i=lh.document.createElement("script"),n=new Blob([r],{type:"application/javascript"}),o=URL.createObjectURL(n),a=lh.onerror,h=()=>{lh.onerror=a,URL.revokeObjectURL(o)};lh.onerror=(t,e,i,n,r)=>e===o||e===lh.location.href&&1===i&&1===n?(h(),s(r),!1):null!==a?a(t,e,i,n,r):void 0,i.onerror=()=>{h(),s(new SyntaxError)},i.onload=()=>{h(),t()},i.src=o,i.type="module",e.appendChild(i)}}else s(new SyntaxError)}),Ka=Nl,Ja=async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")},th=Le,eh=Ll,ih=Ge,nh=new WeakMap,rh=new WeakMap,ah=Bl,hh=Be,sh=async()=>{if(null===ah)return!0;if(null===hh)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),e=new hh(1,128,8e3),i=URL.createObjectURL(t);let n=!1,r=!1;try{await e.audioWorklet.addModule(i);const hh=new ah(e,"a",{numberOfOutputs:0}),t=e.createOscillator();hh.port.onmessage=()=>n=!0,hh.onprocessorerror=()=>r=!0,t.connect(hh),await e.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return n&&!r},oh=Ee,(e,i,h={credentials:"omit"})=>{const l=th(e);if(void 0!==l.audioWorklet)return Promise.all([Ja(i),Promise.resolve($a(sh,sh))]).then(([[t,e],i])=>{const[n,r]=w(t,e),s=i?r:r.replace(/\s+extends\s+AudioWorkletProcessor\s*{/," extends (class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}){"),o=new Blob([n+`;(registerProcessor=>{${s}
})((n,p)=>registerProcessor(n,class extends p{${i?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${i?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}))`],{type:"application/javascript; charset=utf-8"}),a=URL.createObjectURL(o);return l.audioWorklet.addModule(a,h).then(()=>{if(!ih(l))return eh(l).audioWorklet.addModule(a,h)}).finally(()=>URL.revokeObjectURL(a))});const t=rh.get(e);if(void 0!==t&&t.has(i))return Promise.resolve();const n=nh.get(e);if(void 0!==n){const $a=n.get(i);if(void 0!==$a)return $a}const r=Ja(i).then(([t,e])=>{var[t,e]=w(t,e);return Qa(t+`;((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${e}
})})(window,'_AWGS')`)}).then(()=>{const t=oh._AWGS.pop();if(void 0===t)throw new SyntaxError;Ka(l.currentTime,l.sampleRate,()=>t(class{},void 0,(t,e)=>{if(""===t.trim())throw Za();const i=E.get(l);if(void 0!==i){if(i.has(t))throw Za();C(e),P(e.parameterDescriptors),i.set(t,e)}else C(e),P(e.parameterDescriptors),E.set(l,new Map([[t,e]]))},l.sampleRate,void 0,void 0))});return void 0===n?nh.set(e,new Map([[i,r]])):n.set(i,r),r.then(()=>{const t=rh.get(e);void 0===t?rh.set(e,new Set([i])):t.add(i)}).finally(()=>{const t=nh.get(e);void 0!==t&&t.delete(i)}),r}):void 0,Ul=(Ya=ze,Wa=Ge,t=>Ya(t)||Wa(t)),Vl=(va=Gl,ba=rl,xa=ul,Ta=yl,Ea=Tl,Sa=i,Aa=Al,wa=Pl,Pa=ol,Ba=sl,Ga=Te,Ua=new WeakSet,ja=Ul,Ha=U,Xa=Bt,za=hl,qa=ll,Ca=(t,s)=>{const o=ja(t)?t:Va(t);if(Ua.has(s)){const Ba=new DOMException("","DataCloneError");return Promise.reject(Ba)}try{Ua.add(s)}catch{}return Ga(Xa,()=>Xa(o))?o.decodeAudioData(s).then(t=>(Ga(Ha,()=>Ha(t))||qa(t),Ba.add(t),t)):new Promise((e,i)=>{const n=()=>{try{(t=>{const e=(new MessageChannel)["port1"];e.postMessage(t,[t])})(s)}catch{}},r=t=>{i(t),n()};try{o.decodeAudioData(s,t=>{"function"!=typeof t.copyFromChannel&&(za(t),j(t)),Ba.add(t),n(),e(t)},t=>{r(null===t?new DOMException("","EncodingError"):t)})}catch(t){r(t)}})},Ra=pl,Oa=gl,Ma=bl,Ia=je,Da=He,ka=Cl,Na=Rl,Fa=Ml,La=Dl,class extends vl{constructor(t,e){super(t,e),this._nativeContext=t,this._audioWorklet=void 0===va?void 0:{addModule:(t,e)=>va(this,t,e)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new ba(this)}createBiquadFilter(){return new Ea(this)}createBuffer(t,e,i){return new xa({length:e,numberOfChannels:t,sampleRate:i})}createBufferSource(){return new Ta(this)}createChannelMerger(t=6){return new Sa(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new Aa(this,{numberOfOutputs:t})}createConstantSource(){return new wa(this)}createConvolver(){return new Pa(this)}createDelay(t=1){return new Ra(this,{maxDelayTime:t})}createDynamicsCompressor(){return new Oa(this)}createGain(){return new Ma(this)}createIIRFilter(t,e){return new Ia(this,{feedback:e,feedforward:t})}createOscillator(){return new Da(this)}createPanner(){return new ka(this)}createPeriodicWave(t,e,i={disableNormalization:!1}){return new Na(this,{...i,imag:e,real:t})}createStereoPanner(){return new Fa(this)}createWaveShaper(){return new La(this)}decodeAudioData(t,e,i){return Ca(this._nativeContext,t).then(t=>("function"==typeof e&&e(t),t)).catch(t=>{throw"function"==typeof i&&i(t),t})}}),jl=class extends nl{constructor(t,e){var i=_a(t),e=i.createMediaElementSource(e.mediaElement);if(ya(i))throw TypeError();super(t,!0,e,null),this._nativeMediaElementAudioSourceNode=e}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},Hl=class extends nl{constructor(t,e){var i=ma(t);if(ga(i))throw new TypeError;e=((t,e)=>{const i=t.createMediaStreamDestination();return Ut(i,e),1===i.numberOfOutputs&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i})(i,{...Lt,...e});super(t,!1,e,null),this._nativeMediaStreamAudioDestinationNode=e}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Xl=class extends nl{constructor(t,e){var i=da(t),e=((t,{mediaStream:e})=>{const i=e.getAudioTracks();i.sort((t,e)=>t.id<e.id?-1:t.id>e.id?1:0);const n=i.slice(0,1),r=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(r,"mediaStream",{value:e}),r})(i,e);if(fa(i))throw new TypeError;super(t,!0,e,null),this._nativeMediaStreamAudioSourceNode=e}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},zl=(ca=Dt,pa=fa=ga=ya=Ge,la=(t,{mediaStreamTrack:e})=>{if("function"==typeof t.createMediaStreamTrackSource)return t.createMediaStreamTrackSource(e);var i=new MediaStream([e]),i=t.createMediaStreamSource(i);if("audio"!==e.kind)throw ca();if(pa(t))throw new TypeError;return i},ua=da=ma=_a=Va=Le,class extends nl{constructor(t,e){var i=ua(t);super(t,!0,la(i,e),null)}}),ql=(vl=Vl,ea=Dt,ia=Jt,na=se,ra=jl,sa=Hl,oa=Xl,aa=zl,ha=Xe,class extends vl{constructor(t={}){if(null===ha)throw new Error("Missing the native AudioContext constructor.");const e=new ha(t);if(null===e)throw na();if(void 0!==(i=t.latencyHint)&&"number"!=typeof i&&("string"!=typeof i||"balanced"!==i&&"interactive"!==i&&"playback"!==i))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw ia();super(e,2);var i=t["latencyHint"],t=e["sampleRate"];if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/t:"interactive"===i||void 0===i?256/t:"playback"===i?1024/t:128*Math.max(2,Math.min(128,Math.round(i*t/128)))/t,this._nativeAudioContext=e,"webkitAudioContext"===ha.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const n=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",n)};e.addEventListener("statechange",n)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw ea()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Q(this)}))}createMediaElementSource(t){return new ra(this,{mediaElement:t})}createMediaStreamDestination(){return new sa(this)}createMediaStreamSource(t){return new oa(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new aa(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise((t,e)=>{const i=()=>{this._nativeAudioContext.removeEventListener("statechange",i),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",i)}):this._nativeAudioContext.resume().catch(t=>{if(void 0===t||15===t.code)throw ea();throw t})}suspend(){return this._nativeAudioContext.suspend().catch(t=>{if(void 0===t)throw ea();throw t})}}),Yl=(tl=al,t=>{t=tl.get(t);if(void 0===t)throw new Error("The context has no set of AudioWorkletNodes.");return t});var Wl,$l,Zl,Ql,Kl,Jl,tu,eu,iu,nu,ru,su,ou,au,hu,lu,uu,cu,pu,du,fu,mu,gu,_u,yu,vu,bu,xu,Tu,Eu,Su,Au,wu,Pu,Cu,Ru,Ou,Mu,Iu,Du,ku,Nu,Fu,Lu,Bu,Gu,Uu,Vu,ju,Hu,Xu,zu,qu,Yu,Wu,$u,Zu,Qu,Ku,Ju,tc,ec,ic,nc,rc,sc,oc,al=(t,e)=>{Wl(t).add(e)};const ac=(tc=V,(t,e,i=0,n=0)=>{const r=t[i];if(void 0===r)throw tc();return mt(e)?r.connect(e,0,n):r.connect(e,0)}),hc=(Ju=Wl=Yl,(t,e)=>{Ju(t).delete(e)}),lc=(Ku=V,(t,e,i,n=0)=>void 0===e?t.forEach(t=>t.disconnect()):"number"==typeof e?Ot(Ku,t,e).disconnect():mt(e)?void 0===i?t.forEach(t=>t.disconnect(e)):void 0===n?Ot(Ku,t,i).disconnect(e,0):Ot(Ku,t,i).disconnect(e,0,n):void 0===i?t.forEach(t=>t.disconnect(e)):Ot(Ku,t,i).disconnect(e,0)),uc=new WeakMap,cc=(Zu=uc,Qu=R,t=>Qu(Zu,t)),pc=(Bu=V,Gu=Dt,Xu=Kt,Wu=cc,(o,t,e,a)=>{if(0===a.numberOfInputs&&0===a.numberOfOutputs)throw zu();const h=Array.isArray(a.outputChannelCount)?a.outputChannelCount:Array.from(a.outputChannelCount);if(h.some(t=>t<1))throw zu();if(h.length!==a.numberOfOutputs)throw Bu();if("explicit"!==a.channelCountMode)throw zu();const l=a.channelCount*a.numberOfInputs,i=h.reduce((t,e)=>t+e,0),n=void 0===e.parameterDescriptors?0:e.parameterDescriptors.length;if(6<l+n||6<i)throw zu();const r=new MessageChannel,u=[],c=[];for(let t=0;t<a.numberOfInputs;t+=1)u.push(Hu(o,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1})),c.push(Vu(o,{channelCount:a.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:a.channelCount}));const p=[];if(void 0!==e.parameterDescriptors)for(const{defaultValue:Lu,maxValue:Bu,minValue:Gu,name:Uu}of e.parameterDescriptors){const Vu=ju(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==a.parameterData[Uu]?a.parameterData[Uu]:void 0===Lu?0:Lu});Object.defineProperties(Vu.offset,{defaultValue:{get:()=>void 0===Lu?0:Lu},maxValue:{get:()=>void 0===Bu?z:Bu},minValue:{get:()=>void 0===Gu?X:Gu}}),p.push(Vu)}const d=Uu(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,l+n)}),f=zt(t,o.sampleRate),m=Xu(o,f,l+n,Math.max(1,i)),s=Vu(o,{channelCount:Math.max(1,i),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,i)}),g=[];for(let t=0;t<a.numberOfOutputs;t+=1)g.push(Uu(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:h[t]}));for(let e=0;e<a.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<a.channelCount;t+=1)c[e].connect(d,t,e*a.channelCount+t)}const _=new vt(void 0===e.parameterDescriptors?[]:e.parameterDescriptors.map(({name:t},e)=>{const i=p[e];return i.connect(d,0,l+e),i.start(0),[t,i.offset]}));d.connect(m);let y=a.channelInterpretation,v=null;const b=0===a.numberOfOutputs?[m]:g,x={get bufferSize(){return f},get channelCount(){return a.channelCount},set channelCount(t){throw Gu()},get channelCountMode(){return a.channelCountMode},set channelCountMode(t){throw Gu()},get channelInterpretation(){return y},set channelInterpretation(t){for(const e of u)e.channelInterpretation=t;y=t},get context(){return m.context},get inputs(){return u},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return a.numberOfOutputs},get onprocessorerror(){return v},set onprocessorerror(t){"function"==typeof v&&x.removeEventListener("processorerror",v),v="function"==typeof t?t:null,"function"==typeof v&&x.addEventListener("processorerror",v)},get parameters(){return _},get port(){return r.port2},addEventListener:(...t)=>m.addEventListener(t[0],t[1],t[2]),connect:Lu.bind(null,b),disconnect:qu.bind(null,b),dispatchEvent:(...t)=>m.dispatchEvent(t[0]),removeEventListener:(...t)=>m.removeEventListener(t[0],t[1],t[2])},T=new Map;var E,S;r.port1.addEventListener=(E=r.port1.addEventListener,(...t)=>{if("message"===t[0]){const i="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;var e;null!==i&&(void 0!==(e=T.get(t[1]))?t[1]=e:(t[1]=t=>{Yu(o.currentTime,o.sampleRate,()=>i(t))},T.set(i,t[1])))}return E.call(r.port1,t[0],t[1],t[2])}),r.port1.removeEventListener=(S=r.port1.removeEventListener,(...t)=>{var e;return"message"!==t[0]||void 0!==(e=T.get(t[1]))&&(T.delete(t[1]),t[1]=e),S.call(r.port1,t[0],t[1],t[2])});let A=null;Object.defineProperty(r.port1,"onmessage",{get:()=>A,set:t=>{"function"==typeof A&&r.port1.removeEventListener("message",A),A="function"==typeof t?t:null,"function"==typeof A&&(r.port1.addEventListener("message",A),r.port1.start())}}),e.prototype.port=r.port1;let w=null;((t,e,i,n)=>{let r=L.get(t);void 0===r&&(r=new WeakMap,L.set(t,r));n=(async(t,e)=>new t(await(t=>new Promise((e,i)=>{const{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:t})=>{n.close(),r.close(),e(t)},n.onmessageerror=({data:t})=>{n.close(),r.close(),i(t)},r.postMessage(t)}))(e)))(i,n);return r.set(e,n),n})(o,x,e,a).then(t=>w=t);const P=Et(a.numberOfInputs,a.channelCount),C=Et(a.numberOfOutputs,h),R=void 0===e.parameterDescriptors?[]:e.parameterDescriptors.reduce((t,{name:e})=>({...t,[e]:new Float32Array(128)}),{});let O=!0;const M=()=>{0<a.numberOfOutputs&&m.disconnect(s);for(let e=0,i=0;e<a.numberOfOutputs;e+=1){var n=g[e];for(let t=0;t<h[e];t+=1)s.disconnect(n,i+t,t);i+=h[e]}},I=new Map;let D=!(m.onaudioprocess=({inputBuffer:i,outputBuffer:r})=>{if(null!==w){const s=Wu(x);for(let n=0;n<f;n+=128){for(let e=0;e<a.numberOfInputs;e+=1)for(let t=0;t<a.channelCount;t+=1)xt(i,P[e],t,t,n);void 0!==e.parameterDescriptors&&e.parameterDescriptors.forEach(({name:t},e)=>{xt(i,R,t,l+e,n)});for(let e=0;e<a.numberOfInputs;e+=1)for(let t=0;t<h[e];t+=1)0===C[e][t].byteLength&&(C[e][t]=new Float32Array(128));try{const i=P.map((t,e)=>{if(0<s[e].size)return I.set(e,f/128),t;var i=I.get(e);return void 0===i?[]:(t.every(t=>t.every(t=>0===t))&&(1===i?I.delete(e):I.set(e,i-1)),t)}),t=Yu(o.currentTime+n/o.sampleRate,o.sampleRate,()=>w.process(i,C,R));O=t;for(let e=0,i=0;e<a.numberOfOutputs;e+=1){for(let t=0;t<h[e];t+=1)Tt(r,C[e],t,i+t,n);i+=h[e]}}catch(i){O=!1,x.dispatchEvent(new ErrorEvent("processorerror",{colno:i.colno,filename:i.filename,lineno:i.lineno,message:i.message}))}if(!O){for(let e=0;e<a.numberOfInputs;e+=1){u[e].disconnect(c[e]);for(let t=0;t<a.channelCount;t+=1)c[n].disconnect(d,t,e*a.channelCount+t)}if(void 0!==e.parameterDescriptors){const i=e.parameterDescriptors.length;for(let t=0;t<i;t+=1){const i=p[t];i.disconnect(d,0,l+t),i.stop()}}d.disconnect(m),m.onaudioprocess=null,(D?M:F)();break}}}});const k=Hu(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),N=()=>m.connect(k).connect(o.destination),F=()=>{m.disconnect(k),k.disconnect()};return N(),$u(x,()=>{if(O){F(),0<a.numberOfOutputs&&m.connect(s);for(let e=0,i=0;e<a.numberOfOutputs;e+=1){var n=g[e];for(let t=0;t<h[e];t+=1)s.connect(n,i+t,t);i+=h[e]}}D=!0},()=>{O&&(N(),M()),D=!1})}),dc=(Iu=Dt,Du=pc,Nu=zu=Jt,Fu=$u=El,(t,e,i,n,r,s)=>{if(null!==i)try{const Du=new i(t,n,s),Nu=new Map;let e=null;if(Object.defineProperties(Du,{channelCount:{get:()=>s.channelCount,set:()=>{throw Iu()}},channelCountMode:{get:()=>"explicit",set:()=>{throw Iu()}},onprocessorerror:{get:()=>e,set:t=>{"function"==typeof e&&Du.removeEventListener("processorerror",e),e="function"==typeof t?t:null,"function"==typeof e&&Du.addEventListener("processorerror",e)}}}),Du.addEventListener=(a=Du.addEventListener,(...e)=>{if("processorerror"===e[0]){const Du="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;var t;null!==Du&&(void 0!==(t=Nu.get(e[1]))?e[1]=t:(e[1]=t=>{"error"===t.type?(Object.defineProperties(t,{type:{value:"processorerror"}}),Du(t)):Du(new ErrorEvent(e[0],{...t}))},Nu.set(Du,e[1])))}return a.call(Du,"error",e[1],e[2]),a.call(Du,...e)}),Du.removeEventListener=(o=Du.removeEventListener,(...t)=>{if("processorerror"===t[0]){const Du=Nu.get(t[1]);void 0!==Du&&(Nu.delete(t[1]),t[1]=Du)}return o.call(Du,"error",t[1],t[2]),o.call(Du,t[0],t[1],t[2])}),0===s.numberOfOutputs)return Du;{const Iu=ku(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return Du.connect(Iu).connect(t.destination),Fu(Du,()=>Iu.disconnect(),()=>Iu.connect(t.destination))}}catch(t){if(11===t.code)throw Nu();throw t}var o,a;if(void 0===r)throw Nu();return(t=>{const e=(new MessageChannel)["port1"];try{e.postMessage(t)}finally{e.close()}})(s),Du(t,e,r,s)}),fc=(gu=dl,_u=Lu=ac,yu=fl,vu=Uu=e,bu=Vu=Yt,xu=ju=Fe,Tu=ku=Hu=Zt,Eu=hc,Su=qu=lc,Au=Yu=Nl,wu=lt,Pu=Bl,Cu=Be,Ru=ml,Ou=Ne,Mu=wl,(s,h,l)=>{const u=new WeakMap;let c=null;return{render(t,e,i){Eu(e,t);var n=u.get(e);return void 0!==n?Promise.resolve(n):(async(o,e,a)=>{let t=wu(o),i=null;const n=G(t,e),r=Array.isArray(h.outputChannelCount)?h.outputChannelCount:Array.from(h.outputChannelCount);if(null===Pu){const gu=r.reduce((t,e)=>t+e,0),yu=bu(e,{channelCount:Math.max(1,gu),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,gu)}),xu=[];for(let t=0;t<o.numberOfOutputs;t+=1)xu.push(vu(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:r[t]}));const Au=Tu(e,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});Au.connect=_u.bind(null,xu),Au.disconnect=Su.bind(null,xu),i=[yu,xu,Au]}else n||(t=new Pu(e,s));if(u.set(e,null===i?t:i[2]),null!==i){if(null===c){if(void 0===l)throw new Error("Missing the processor constructor.");if(null===Cu)throw new Error("Missing the native OfflineAudioContext constructor.");const gu=o.channelCount*o.numberOfInputs,_u=void 0===l.parameterDescriptors?0:l.parameterDescriptors.length,yu=gu+_u,Su=async()=>{const i=new Cu(yu,128*Math.ceil(o.context.length/128),e.sampleRate),n=[],r=[];for(let t=0;t<h.numberOfInputs;t+=1)n.push(Tu(i,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1})),r.push(bu(i,{channelCount:h.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:h.channelCount}));const t=await Promise.all(Array.from(o.parameters.values()).map(async t=>{var e=xu(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await Ru(i,t,e.offset,a),e})),s=vu(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,gu+_u)});for(let e=0;e<h.numberOfInputs;e+=1){n[e].connect(r[e]);for(let t=0;t<h.channelCount;t+=1)r[e].connect(s,t,e*h.channelCount+t)}for(const[_u,yu]of t.entries())yu.connect(s,0,gu+_u),yu.start(0);return s.connect(i.destination),await Promise.all(n.map(t=>Ou(o,i,t,a))),Mu(i)};c=(async(t,i,e,r,s,o,a)=>{const h=null===i?128*Math.ceil(t.context.length/128):i.length,l=r.channelCount*r.numberOfInputs,n=s.reduce((t,e)=>t+e,0),u=0===n?null:e.createBuffer(n,h,e.sampleRate);if(void 0===o)throw new Error("Missing the processor constructor.");const c=W(t),p=await((t,e)=>{t=R(L,t),e=lt(e);return R(t,e)})(e,t),d=Et(r.numberOfInputs,r.channelCount),f=Et(r.numberOfOutputs,s),m=Array.from(t.parameters.keys()).reduce((t,e)=>({...t,[e]:new Float32Array(128)}),{});for(let n=0;n<h;n+=128){if(0<r.numberOfInputs&&null!==i)for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<r.channelCount;t+=1)xt(i,d[e],t,t,n);void 0!==o.parameterDescriptors&&null!==i&&o.parameterDescriptors.forEach(({name:t},e)=>{xt(i,m,t,l+e,n)});for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<s[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const t=d.map((t,e)=>0===c.activeInputs[e].size?[]:t),i=a(n/e.sampleRate,e.sampleRate,()=>p.process(t,f,m));if(null!==u)for(let e=0,i=0;e<r.numberOfOutputs;e+=1){for(let t=0;t<s[e];t+=1)Tt(u,f[e],t,i+t,n);i+=s[e]}if(!i)break}catch(i){t.dispatchEvent(new ErrorEvent("processorerror",{colno:i.colno,filename:i.filename,lineno:i.lineno,message:i.message}));break}}return u})(o,0===yu?null:await Su(),e,h,r,l,Au)}const gu=await c,_u=yu(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[Su,wu,Pu]=i;null!==gu&&(_u.buffer=gu,_u.start(0)),_u.connect(Su);for(let e=0,i=0;e<o.numberOfOutputs;e+=1){const yu=wu[e];for(let t=0;t<r[e];t+=1)Su.connect(yu,i+t,t);i+=r[e]}return Pu}if(n)for(const[_u,yu]of o.parameters.entries())await gu(e,yu,t.parameters.get(_u),a);else for(const[gu,_u]of o.parameters.entries())await Ru(e,_u,t.parameters.get(gu),a);return await Ou(o,e,t,a),t})(t,e,i)}}}),mc=(mu=Fl,t=>mu.get(t)),gc=(fu=uc,(t,e)=>{fu.set(t,e)}),_c=kl?(nu=al,ru=_l,su=fc,ou=dc,au=W,hu=mc,lu=Le,uu=Ge,cu=Bl,pu=gc,du=ge,class extends nl{constructor(t,e,i){var n;const r=lu(t),s=uu(r),o={...i={...bt,...i},outputChannelCount:void 0!==i.outputChannelCount?i.outputChannelCount:1===i.numberOfInputs&&1===i.numberOfOutputs?[i.channelCount]:Array.from({length:i.numberOfOutputs},()=>1)},a=E.get(r),h=null==a?void 0:a.get(e),l=!s&&"closed"===r.state&&null!==(n=hu(r))&&void 0!==n?n:r,u=ou(l,s?null:t.baseLatency,cu,e,h,o);super(t,!0,u,s?su(e,o,h):null);const c=[];u.parameters.forEach((t,e)=>{t=ru(this,s,t);c.push([e,t])}),this._nativeAudioWorkletNode=u,this._onprocessorerror=null,this._parameters=new vt(c),s&&nu(r,this);var e=au(this)["activeInputs"];pu(u,e)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){var e="function"==typeof t?du(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;var i=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==i&&i===e?t:i}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}}):void 0,yc=(Dt,Xe,eu=Jt,iu=Be,(t,e,i)=>{if(null===iu)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new iu(t,e,i)}catch(t){if("SyntaxError"===t.name)throw eu();throw t}}),vc=((i,n,r,s,o,a,h,l)=>{const u=[];return(t,e)=>r(t).render(t,e,u).then(()=>Promise.all(Array.from(s(e)).map(t=>r(t).render(t,e,u)))).then(()=>o(e)).then(t=>("function"!=typeof t.copyFromChannel?(h(t),j(t)):n(a,()=>a(t))||l(t),i.add(t),t))})(sl,Te,ke,Yl,wl,U,hl,ll),bc=(Te,Dt,Ql=Te,Kl=Dt,Jl=yc,tu=vc,class extends Vl{constructor(t,e,i){let n;if("number"==typeof t&&void 0!==e&&void 0!==i)n={length:e,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");n=t}const{length:r,numberOfChannels:s,sampleRate:o}={...te,...n},a=Jl(s,r,o);Ql(Bt,()=>Bt(a))||a.addEventListener("statechange",(()=>{let e=0;const i=t=>{"running"===this._state&&(0<e?(a.removeEventListener("statechange",i),t.stopImmediatePropagation(),this._waitForThePromiseToSettle(t)):e+=1)};return i})()),super(a,s),this._length=r,this._nativeOfflineAudioContext=a,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(Kl()):(this._state="running",tu(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Q(this)}))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout(()=>this._waitForThePromiseToSettle(t))}}),xc=($l=b,Zl=ze,t=>{var e=$l.get(t);return Zl(e)||Zl(t)}),Tc=(ec=g,ic=el,t=>ec.has(t)||ic(t)),Ec=(nc=v,rc=il,t=>nc.has(t)||rc(t)),Sc=(sc=b,oc=Ge,t=>{var e=sc.get(t);return oc(e)||oc(t)}),Ac=()=>(async(t,e,i,n,r,s,o,a,h,l,u,c,p,d,f,m)=>!!(t(e,e)&&t(i,i)&&t(r,r)&&t(s,s)&&t(a,a)&&t(h,h)&&t(l,l)&&t(u,u)&&t(c,c)&&t(p,p)&&t(d,d))&&(await Promise.all([t(n,n),t(o,o),t(f,f),t(m,m)])).every(t=>t))(Te,(i=>()=>{if(null===i)return!1;const t=new i(1,1,44100).createBuffer(1,1,44100);if(void 0===t.copyToChannel)return!0;var e=new Float32Array(2);try{t.copyFromChannel(e,0,0)}catch{return!1}return!0})(Be),(i=>()=>{if(null===i)return!1;if(void 0!==i.prototype&&void 0!==i.prototype.close)return!0;const t=new i,e=void 0!==t.close;try{t.close()}catch{}return e})(Xe),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);return new Promise(e=>{let i=!0;var t=t=>{i&&(i=!1,r.startRendering(),e(t instanceof TypeError))};let n;try{n=r.decodeAudioData(null,()=>{},t)}catch(e){t(e)}void 0!==n&&n.catch(t)})})(Be),(e=>()=>{if(null===e)return!1;let t;try{t=new e({latencyHint:"balanced"})}catch{return!1}return t.close(),!0})(Xe),(i=>()=>{if(null===i)return!1;const t=new i(1,1,44100).createGain(),e=t.connect(t)===t;return t.disconnect(t),e})(Be),((r,s)=>async()=>{if(null===r)return!0;if(null===s)return!1;const t=new Blob(['class A extends AudioWorkletProcessor{process(){this.port.postMessage(0)}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),e=new s(1,128,8e3),i=URL.createObjectURL(t);let n=!1;try{await e.audioWorklet.addModule(i);const s=new r(e,"a",{numberOfOutputs:0}),t=e.createOscillator();s.port.onmessage=()=>n=!0,t.connect(s),t.start(0),await e.startRendering(),n||await new Promise(t=>setTimeout(t,5))}catch{}finally{URL.revokeObjectURL(i)}return n})(Bl,Be),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createChannelMerger();if("max"===t.channelCountMode)return!0;try{t.channelCount=2}catch{return!0}return!1})(Be),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100);return void 0===t.createConstantSource||t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Be),(i=>()=>{if(null===i)return!1;const t=new i(1,1,44100),e=t.createConvolver();e.buffer=t.createBuffer(1,1,t.sampleRate);try{e.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(Be),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(Be),de,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(Ee),(e=>()=>{if(null===e)return!1;const t=new e;try{return t.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(Xe),(n=>()=>{if(null===n)return Promise.resolve(!1);const t=new n(1,1,44100);if(void 0===t.createStereoPanner)return Promise.resolve(!0);if(void 0===t.createConstantSource)return Promise.resolve(!0);const e=t.createConstantSource(),i=t.createStereoPanner();return e.channelCount=1,e.offset.value=1,i.channelCount=1,e.start(),e.connect(i).connect(t.destination),t.startRendering().then(t=>1!==t.getChannelData(0)[0])})(Be),fe);function wc(t,e){if(!t)throw new Error(e)}function Pc(t,e,i=1/0){if(!(e<=t&&t<=i))throw new RangeError(`Value must be within [${e}, ${i}], got: `+t)}function Cc(t){t.isOffline||"running"===t.state||Ic('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Rc=console;function Oc(t){Rc=t}function Mc(...t){Rc.log(...t)}function Ic(...t){Rc.warn(...t)}function Dc(t){return void 0===t}function kc(t){return!Dc(t)}function Nc(t){return"function"==typeof t}function Fc(t){return"number"==typeof t}function Lc(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Bc(t){return"boolean"==typeof t}function Gc(t){return Array.isArray(t)}function Uc(t){return"string"==typeof t}function Vc(t){return Uc(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const jc="object"==typeof self?self:null,Hc=jc&&(jc.hasOwnProperty("AudioContext")||jc.hasOwnProperty("webkitAudioContext"));function Xc(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(o=(s<3?r(o):3<s?r(e,i,o):r(e,i))||o);return 3<s&&o&&Object.defineProperty(e,i,o),o}function zc(t,o,a,h){return new(a=a||Promise)(function(i,e){function n(t){try{s(h.next(t))}catch(t){e(t)}}function r(t){try{s(h.throw(t))}catch(t){e(t)}}function s(t){var e;t.done?i(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(n,r)}s((h=h.apply(t,o||[])).next())})}Object.create,Object.create;class qc{constructor(t,e,i){this._callback=t,this._type=e,this._updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Yc(t){return Ec(t)}function Wc(t){return Tc(t)}function $c(t){return Sc(t)}function Zc(t){return xc(t)}function Qc(t){return t instanceof AudioBuffer}function Kc(t,...e){if(!e.length)return t;var i,n,r=e.shift();if(Lc(t)&&Lc(r))for(const e in r)i=e,n=r[e],"value"===i||Yc(n)||Wc(n)||Qc(n)?t[e]=r[e]:Lc(r[e])?(t[e]||Object.assign(t,{[e]:{}}),Kc(t[e],r[e])):Object.assign(t,{[e]:r[e]});return Kc(t,...e)}function Jc(e,t,i=[],n){const r={},s=Array.from(t);if(Lc(s[0])&&n&&!Reflect.has(s[0],n)&&(Object.keys(s[0]).some(t=>Reflect.has(e,t))||(Kc(r,{[n]:s[0]}),i.splice(i.indexOf(n),1),s.shift())),1===s.length&&Lc(s[0]))Kc(r,s[0]);else for(let t=0;t<i.length;t++)kc(s[t])&&(r[i[t]]=s[t]);return Kc(e,r)}function tp(t,e){return Dc(t)?e:t}function ep(e,t){return t.forEach(t=>{Reflect.has(e,t)&&delete e[t]}),e}class ip{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||jc&&this.toString()===jc.TONE_DEBUG_CLASS)&&Mc(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}function np(t,e){return e+1e-6<t}function rp(t,e){return e+1e-6<t||sp(t,e)}function sp(t,e){return Math.abs(t-e)<1e-6}function op(t,e,i){return Math.max(Math.min(t,i),e)}ip.version=s;class ap extends ip{constructor(){super(),this.name="Timeline",this._timeline=[];var t=Jc(ap.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){var e;if(wc(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length?(e=this._timeline[this.length-1],wc(rp(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)):(e=this._search(t.time),this._timeline.splice(e+1,0,t)),this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){t=this._timeline.indexOf(t);return-1!==t&&this._timeline.splice(t,1),this}get(t,e="time"){e=this._search(t,e);return-1!==e?this._timeline[e]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){e=this._search(t,e);return e+1<this._timeline.length?this._timeline[e+1]:null}getBefore(t){var e=this._timeline.length;if(0<e&&this._timeline[e-1].time<t)return this._timeline[e-1];t=this._search(t);return 0<=t-1?this._timeline[t-1]:null}cancel(i){if(1<this._timeline.length){let e=this._search(i);if(0<=e)if(sp(this._timeline[e].time,i)){for(let t=e;0<=t&&sp(this._timeline[t].time,i);t--)e=t;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&rp(this._timeline[0].time,i)&&(this._timeline=[]);return this}cancelBefore(t){t=this._search(t);return 0<=t&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(t){t=this._timeline.indexOf(t);return 0<t?this._timeline[t-1]:null}_search(i,n="time"){if(0===this._timeline.length)return-1;let t=0;var e=this._timeline.length;let r=e;if(0<e&&this._timeline[e-1][n]<=i)return e-1;for(;t<r;){let e=Math.floor(t+(r-t)/2);var s=this._timeline[e],o=this._timeline[e+1];if(sp(s[n],i)){for(let t=e;t<this._timeline.length&&sp(this._timeline[t][n],i);t++)e=t;return e}if(s[n]+1e-6<i&&np(o[n],i))return e;np(s[n],i)?r=e:t=e+1}return-1}_iterate(t,e=0,i=this._timeline.length-1){this._timeline.slice(e,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){t=this._search(t);return-1!==t&&this._iterate(e,0,t),this}forEachAfter(t,e){t=this._search(t);return this._iterate(e,t+1),this}forEachBetween(t,e,i){let n=this._search(t),r=this._search(e);return-1!==n&&-1!==r?(this._timeline[n].time!==t&&(n+=1),this._timeline[r].time===e&&--r,this._iterate(i,n,r)):-1===n&&this._iterate(i,0,r),this}forEachFrom(t,e){let i=this._search(t);for(;0<=i&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this}forEachAtTime(i,n){var r=this._search(i);if(-1!==r&&sp(this._timeline[r].time,i)){let e=r;for(let t=r;0<=t&&sp(this._timeline[t].time,i);t--)e=t;this._iterate(t=>{n(t)},e,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const hp=[];function lp(t){hp.push(t)}const up=[];function cp(t){up.push(t)}class pp extends ip{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(t=>{Dc(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)}),this}once(e,i){const n=(...t)=>{i(...t),this.off(e,n)};return this.on(e,n),this}off(t,i){return t.split(/\W+/).forEach(e=>{if(Dc(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Dc(i))this._events[t]=[];else{const e=this._events[t];for(let t=e.length-1;0<=t;t--)e[t]===i&&e.splice(t,1)}}),this}emit(t,...i){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,e=n.length;t<e;t++)n[t].apply(this,i)}return this}static mixin(i){["on","once","off","emit"].forEach(t=>{var e=Object.getOwnPropertyDescriptor(pp.prototype,t);Object.defineProperty(i.prototype,t,e)})}dispose(){return super.dispose(),this._events=void 0,this}}class dp extends pp{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class fp extends dp{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new ap,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;var t,e=Jc(fp.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=(t={latencyHint:e.latencyHint},new ql(t)),this._ticker=new qc(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,hp.forEach(t=>t(e)),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,i){return this._context.createBuffer(t,e,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,i){return this._context.createPeriodicWave(t,e,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return wc(Zc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return wc(Zc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return wc(Zc(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){wc(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){wc(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){wc(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){wc(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return i=this.rawContext,t=t,e=e,wc(kc(_c),"This node only works in a secure context (https or localhost)"),new _c(i,t,e);var i}addAudioWorkletModule(t,e){return zc(this,void 0,void 0,function*(){wc(kc(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)})}workletsAreReady(){return zc(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(t=>e.push(t)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(Uc(this._latencyHint=t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Zc(this._context)?this._context.resume():Promise.resolve()}close(){return zc(this,void 0,void 0,function*(){var e;Zc(this._context)&&(yield this._context.close()),this._initialized&&(e=this,up.forEach(t=>t(e)))})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),i=t.getChannelData(0);for(let t=0;t<i.length;t++)i[t]=e;const n=this._context.createBufferSource();return n.channelCount=1,n.channelCountMode="explicit",n.buffer=t,n.loop=!0,n.start(0),this._constants.set(e,n),n}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){var t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;var i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+e}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(t=>{t.id===e&&this._timeouts.remove(t)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(e,i){const n=++this._timeoutIds,r=()=>{var t=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:t+i})};return r(),n}}function mp(e,t){Gc(t)?t.forEach(t=>mp(e,t)):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function gp(e,t){Gc(t)?t.forEach(t=>gp(e,t)):Object.defineProperty(e,t,{writable:!0})}const _p=()=>{};class yp extends ip{constructor(){super(),this.name="ToneAudioBuffer",this.onload=_p;var t=Jc(yp.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Qc(t.url)||t.url instanceof yp?this.set(t.url):Uc(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:_p,onload:_p,reverse:!1}}get sampleRate(){return(this._buffer||Tp()).sampleRate}set(t){return t instanceof yp?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return zc(this,void 0,void 0,function*(){var t=yp.load(e).then(t=>{this.set(t),this.onload(this)});yp.downloads.push(t);try{yield t}finally{const e=yp.downloads.indexOf(t);yp.downloads.splice(e,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Gc(t)&&0<t[0].length,i=e?t.length:1,n=(e?t[0]:t).length,r=Tp(),s=r.createBuffer(i,n,r.sampleRate),o=e||1!==i?t:[t];for(let t=0;t<i;t++)s.copyToChannel(o[t],t);return this._buffer=s,this}toMono(t){if(Fc(t))this.fromArray(this.toArray(t));else{let e=new Float32Array(this.length);const n=this.numberOfChannels;for(let t=0;t<n;t++){var i=this.toArray(t);for(let t=0;t<i.length;t++)e[t]+=i[t]}e=e.map(t=>t/n),this.fromArray(e)}return this}toArray(e){if(Fc(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){var i=Math.floor(t*this.sampleRate),n=Math.floor(e*this.sampleRate);wc(i<n,"The start time must be less than the end time");const r=n-i,s=Tp().createBuffer(this.numberOfChannels,r,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)s.copyToChannel(this.getChannelData(t).subarray(i,n),t);return new yp(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return 0<this.length}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new yp).fromArray(t)}static fromUrl(e){return zc(this,void 0,void 0,function*(){const t=new yp;return yield t.load(e)})}static load(r){return zc(this,void 0,void 0,function*(){const e=r.match(/\[([^\]\[]+\|.+)\]$/);if(e){const i=e[1].split("|");let t=i[0];for(const r of i)if(yp.supportsType(r)){t=r;break}r=r.replace(e[0],t)}const i=""===yp.baseUrl||yp.baseUrl.endsWith("/")?yp.baseUrl:yp.baseUrl+"/",t=yield fetch(i+r);if(!t.ok)throw new Error("could not load url: "+r);var n=yield t.arrayBuffer();return yield Tp().decodeAudioData(n)})}static supportsType(t){t=t.split("."),t=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+t)}static loaded(){return zc(this,void 0,void 0,function*(){for(yield Promise.resolve();yp.downloads.length;)yield yp.downloads[0]})}}yp.baseUrl="",yp.downloads=[];class vp extends fp{constructor(){var t,e,i;super({clockSource:"offline",context:$c(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],i=arguments[2],new bc(t,e,i)),lookAhead:0,updateInterval:$c(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=$c(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(i){return zc(this,void 0,void 0,function*(){let t=0;for(;0<=this._duration-this._currentTime;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;var e=Math.floor(this.sampleRate/128);i&&t%e==0&&(yield new Promise(t=>setTimeout(t,1)))}})}render(e=!0){return zc(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);var t=yield this._context.startRendering();return new yp(t)})}close(){return Promise.resolve()}}const bp=new class extends dp{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return zc(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let xp=bp;function Tp(){return xp===bp&&Hc&&Ep(new fp),xp}function Ep(t){xp=Zc(t)?new fp(t):$c(t)?new vp(t):t}function Sp(){return xp.resume()}if(jc&&!jc.TONE_SILENCE_LOGGING){let t="v";"dev"===s&&(t="");const mg=` * Tone.js ${t}${s} * `;console.log("%c"+mg,"background: #000; color: #fff")}function Ap(t){return Math.pow(10,t/20)}function wp(t){return Math.log(t)/Math.LN10*20}function Pp(t){return Math.pow(2,t/12)}let Cp=440;function Rp(t){return Math.round(Op(t))}function Op(t){return 69+12*Math.log2(t/Cp)}function Mp(t){return Cp*Math.pow(2,(t-69)/12)}class Ip extends ip{constructor(t,e,i){super(),this.defaultUnits="s",this._val=e,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{t=parseInt(t,10),e="."===e?1.5:1;return 1===t?this._beatsToUnits(this._getTimeSignature())*e:this._beatsToUnits(4/t)*e},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{t=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,i)=>{let n=0;return t&&"0"!==t&&(n+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n+=this._beatsToUnits(parseFloat(i)/4)),n},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ip&&this.fromType(this._val),Dc(this._val))return this._noArg();if(Uc(this._val)&&Dc(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Lc(this._val)){let t=0;for(const i in this._val){var e;kc(this._val[i])&&(e=this._val[i],t+=new this.constructor(this.context,i).valueOf()*e)}return t}if(kc(this._units)){const n=this._expressions[this._units],r=this._val.toString().trim().match(n.regexp);return r?n.method.apply(this,r.slice(1)):n.method.call(this,this._val)}return Uc(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Dp extends Ip{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{t=new Dp(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(t,e=1){var i=new this.constructor(this.context,t).valueOf(),t=this.valueOf();return t+(Math.round(t/i)*i-t)*e}toNotation(){const i=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],r=new Dp(this.context,e[0]).toSeconds();return e.forEach(t=>{var e=new Dp(this.context,t).toSeconds();Math.abs(e-i)<Math.abs(r-i)&&(n=t,r=e)}),n}toBarsBeatsSixteenths(){var t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const i=Math.floor(e/this._getTimeSignature());let n=e%1*4;e=Math.floor(e)%this._getTimeSignature();t=n.toString();return 3<t.length&&(n=parseFloat(parseFloat(t).toFixed(3))),[i,e,n].join(":")}toTicks(){var t=this._beatsToUnits(1),t=this.valueOf()/t;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Rp(this.toFrequency())}_now(){return this.context.now()}}function kp(t,e){return new Dp(Tp(),t,e)}class Np extends Dp{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Cp}static set A4(t){t=t,Cp=t}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Np.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){e=Fp[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?e:Np.mtof(e)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,i){let n=1;return t&&"0"!==t&&(n*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(n*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(n*=this._beatsToUnits(parseFloat(i)/4)),n}}})}transpose(t){return new Np(this.context,this.valueOf()*Pp(t))}harmonize(t){return t.map(t=>this.transpose(t))}toMidi(){return Rp(this.valueOf())}toNote(){var t=this.toFrequency(),t=Math.log2(t/Np.A4);let e=Math.round(12*t)+57;const i=Math.floor(e/12);return i<0&&(e+=-12*i),Lp[e%12]+i.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){var t=this._beatsToUnits(1),t=this.valueOf()/t;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return Mp(t)}static ftom(t){return Rp(t)}}const Fp={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Lp=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Bp(t,e){return new Np(Tp(),t,e)}class Gp extends Dp{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Up(t,e){return new Gp(Tp(),t,e)}class Vp extends ip{constructor(){super();var t=Jc(Vp.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Tp()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Dp(this.context,t).toSeconds()}toFrequency(t){return new Np(this.context,t).toFrequency()}toTicks(t){return new Gp(this.context,t).toTicks()}_getPartialProperties(e){const i=this.get();return Object.keys(i).forEach(t=>{Dc(e[t])&&delete i[t]}),i}get(){const i=this.constructor.getDefaults();return Object.keys(i).forEach(t=>{if(Reflect.has(this,t)){const e=this[t];kc(e)&&kc(e.value)&&kc(e.setValueAtTime)?i[t]=e.value:e instanceof Vp?i[t]=e._getPartialProperties(i[t]):Gc(e)||Fc(e)||Uc(e)||Bc(e)?i[t]=e:delete i[t]}}),i}set(e){return Object.keys(e).forEach(t=>{Reflect.has(this,t)&&kc(this[t])&&(this[t]&&kc(this[t].value)&&kc(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Vp?this[t].set(e[t]):this[t]=e[t])}),this}}class jp extends ap{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){t=this.get(t);return null!==t?t.state:this._initial}setStateAtTime(t,e,i){return Pc(e,0),this.add(Object.assign({},i,{state:t,time:e})),this}getLastState(e,i){for(let t=this._search(i);0<=t;t--){const i=this._timeline[t];if(i.state===e)return i}}getNextState(e,t){const i=this._search(t);if(-1!==i)for(let t=i;t<this._timeline.length;t++){const i=this._timeline[t];if(i.state===e)return i}}}class Hp extends Vp{constructor(){super(Jc(Hp.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Jc(Hp.getDefaults(),arguments,["param","units","convert"]);for(wc(kc(t.param)&&(Yc(t.param)||t.param instanceof Hp),"param must be an AudioParam");!Yc(t.param);)t.param=t.param._param;this._swappable=!!kc(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new ap(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,kc(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Vp.getDefaults(),{convert:!0,units:"number"})}get value(){var t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return kc(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return kc(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return kc(this.maxValue)&&kc(this.minValue)&&Pc(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ap(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?wp(t):t}setValueAtTime(t,e){var i=this.toSeconds(e),n=this._fromType(t);return wc(isFinite(n)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, `+JSON.stringify(e)),this._assertRange(n),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,i),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),i=this._events.getAfter(e),n=this._events.get(e);let r=this._initialValue;if(null===n)r=this._initialValue;else if("setTargetAtTime"!==n.type||null!==i&&"setValueAtTime"!==i.type)if(null===i)r=n.value;else if("linearRampToValueAtTime"===i.type||"exponentialRampToValueAtTime"===i.type){let t=n.value;if("setTargetAtTime"===n.type){const e=this._events.getBefore(n.time);t=null===e?this._initialValue:e.value}r="linearRampToValueAtTime"===i.type?this._linearInterpolate(n.time,t,i.time,i.value,e):this._exponentialInterpolate(n.time,t,i.time,i.value,e)}else r=n.value;else{const s=this._events.getBefore(n.time);t=null===s?this._initialValue:s.value;"setTargetAtTime"===n.type&&(r=this._exponentialApproach(n.time,t,n.value,n.constant,e))}return this._toType(r)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){var i=this._fromType(t),n=this.toSeconds(e);return wc(isFinite(i)&&isFinite(n),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, `+JSON.stringify(e)),this._assertRange(i),this._events.add({time:n,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,n),this._param.linearRampToValueAtTime(i,n),this}exponentialRampToValueAtTime(t,e){let i=this._fromType(t);i=sp(i,0)?this._minOutput:i,this._assertRange(i);var n=this.toSeconds(e);return wc(isFinite(i)&&isFinite(n),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, `+JSON.stringify(e)),this._events.add({time:n,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,n),this._param.exponentialRampToValueAtTime(i,n),this}exponentialRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this}linearRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this}targetRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this}exponentialApproachValueAtTime(t,e,i){e=this.toSeconds(e),i=this.toSeconds(i);var n=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,e,n),this.cancelAndHoldAtTime(e+.9*i),this.linearRampToValueAtTime(t,e+i),this}setTargetAtTime(t,e,i){var n=this._fromType(t);wc(isFinite(i)&&0<i,"timeConstant must be a number greater than 0");var r=this.toSeconds(e);return this._assertRange(n),wc(isFinite(n)&&isFinite(r),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, `+JSON.stringify(e)),this._events.add({constant:i,time:r,type:"setTargetAtTime",value:n}),this.log(this.units,"setTargetAtTime",t,r,i),this._param.setTargetAtTime(n,r,i),this}setValueCurveAtTime(e,i,t,n=1){t=this.toSeconds(t),i=this.toSeconds(i);const r=this._fromType(e[0])*n;this.setValueAtTime(this._toType(r),i);var s=t/(e.length-1);for(let t=1;t<e.length;t++){const r=this._fromType(e[t])*n;this.linearRampToValueAtTime(this._toType(r),i+t*s)}return this}cancelScheduledValues(t){var e=this.toSeconds(t);return wc(isFinite(e),"Invalid argument to cancelScheduledValues: "+JSON.stringify(t)),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){var e=this.toSeconds(t),i=this._fromType(this.getValueAtTime(e));wc(isFinite(e),"Invalid argument to cancelAndHoldAtTime: "+JSON.stringify(t)),this.log(this.units,"cancelAndHoldAtTime",e,"value="+i);var n=this._events.get(e),t=this._events.getAfter(e);return n&&sp(n.time,e)?t?(this._param.cancelScheduledValues(t.time),this._events.cancel(t.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):t&&(this._param.cancelScheduledValues(t.time),this._events.cancel(t.time),"linearRampToValueAtTime"===t.type?this.linearRampToValueAtTime(this._toType(i),e):"exponentialRampToValueAtTime"===t.type&&this.exponentialRampToValueAtTime(this._toType(i),e)),this._events.add({time:e,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,e),this}rampTo(t,e=.1,i){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this}apply(e){var i=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(i),i);var t=this._events.get(i);if(t&&"setTargetAtTime"===t.type){var t=this._events.getAfter(t.time),n=t?t.time:i+2,r=(n-i)/10;for(let t=i;t<n;t+=r)e.linearRampToValueAtTime(this.getValueAtTime(t),t)}return this._events.forEachAfter(this.context.currentTime,t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)}),this}setParam(t){wc(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,i,n,r){return i+(e-i)*Math.exp(-(r-t)/n)}_linearInterpolate(t,e,i,n,r){return e+(r-t)/(i-t)*(n-e)}_exponentialInterpolate(t,e,i,n,r){return e*Math.pow(n/e,(r-t)/(i-t))}}class Xp extends Vp{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return kc(this.input)?Yc(this.input)||this.input instanceof Hp?1:this.input.numberOfInputs:0}get numberOfOutputs(){return kc(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return kc(t)&&(t instanceof Xp||Wc(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(e){this._getInternalNodes().forEach(t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){var t=this._getInternalNodes();wc(0<t.length,"ToneAudioNode does not have any internal nodes");t=t[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){var e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){var e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){var e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,i=0){return qp(this,t,e,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ic("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,i=0){return Yp(this,t,e,i),this}chain(...t){return zp(this,...t),this}fan(...t){return t.forEach(t=>this.connect(t)),this}dispose(){return super.dispose(),kc(this.input)&&(this.input instanceof Xp?this.input.dispose():Wc(this.input)&&this.input.disconnect()),kc(this.output)&&(this.output instanceof Xp?this.output.dispose():Wc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function zp(...t){var e=t.shift();t.reduce((t,e)=>(t instanceof Xp?t.connect(e):Wc(t)&&qp(t,e),e),e)}function qp(t,e,i=0,n=0){for(wc(kc(t),"Cannot connect from undefined node"),wc(kc(e),"Cannot connect to undefined node"),(e instanceof Xp||Wc(e))&&wc(0<e.numberOfInputs,"Cannot connect to node with no inputs"),wc(0<t.numberOfOutputs,"Cannot connect from node with no outputs");e instanceof Xp||e instanceof Hp;)kc(e.input)&&(e=e.input);for(;t instanceof Xp;)kc(t.output)&&(t=t.output);Yc(e)?t.connect(e,i):t.connect(e,i,n)}function Yp(t,e,i=0,n=0){if(kc(e))for(;e instanceof Xp;)e=e.input;for(;!Wc(t);)kc(t.output)&&(t=t.output);Yc(e)?t.disconnect(e,i):Wc(e)?t.disconnect(e,i,n):t.disconnect()}class Wp extends Xp{constructor(){super(Jc(Wp.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;var t=Jc(Wp.getDefaults(),arguments,["gain","units"]);this.gain=new Hp({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),mp(this,"gain")}static getDefaults(){return Object.assign(Xp.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class $p extends Xp{constructor(t){super(t),this.onended=_p,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Wp({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){t=this.toSeconds(t);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(Xp.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:_p})}_startGain(t,e=1){wc(-1===this._startTime,"Source cannot be started more than once");var i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),0<i?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+i):this._gainNode.gain.exponentialApproachValueAtTime(e,t,i)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){wc(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),0<e?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{var t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){var t;this.onended===_p||(this.onended(this),this.onended=_p,this.context.isOffline)||(t=()=>this.dispose(),void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3))}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),wc(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Zp extends $p{constructor(){super(Jc(Zp.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();var t=Jc(Zp.getDefaults(),arguments,["offset"]);qp(this._source,this._gainNode),this.offset=new Hp({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign($p.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){t=this.toSeconds(t);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Qp extends Xp{constructor(){super(Jc(Qp.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;var t=Jc(Qp.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Zp({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Xp.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,i=0){return Kp(this,t,e,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,i){return this._param.exponentialRampTo(t,e,i),this}linearRampTo(t,e,i){return this._param.linearRampTo(t,e,i),this}targetRampTo(t,e,i){return this._param.targetRampTo(t,e,i),this}exponentialApproachValueAtTime(t,e,i){return this._param.exponentialApproachValueAtTime(t,e,i),this}setTargetAtTime(t,e,i){return this._param.setTargetAtTime(t,e,i),this}setValueCurveAtTime(t,e,i,n){return this._param.setValueCurveAtTime(t,e,i,n),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,i){return this._param.rampTo(t,e,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Kp(t,e,i,n){(e instanceof Hp||Yc(e)||e instanceof Qp&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Qp&&(e.overridden=!0)),qp(t,e,i,n)}class Jp extends Hp{constructor(){super(Jc(Jp.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new ap(1/0),this._multiplier=1;var t=Jc(Jp.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Hp.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,i){e=this.toSeconds(e),this.setRampPoint(e);const n=this._fromType(t),r=this._events.get(e),s=Math.round(Math.max(1/i,1));for(let t=0;t<=s;t++){const s=i*t+e,o=this._exponentialApproach(r.time,r.value,n,i,s);this.linearRampToValueAtTime(this._toType(o),s)}return this}setValueAtTime(t,e){var i=this.toSeconds(e);super.setValueAtTime(t,e);const n=this._events.get(i),r=this._events.previousEvent(n),s=this._getTicksUntilEvent(r,i);return n.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){var i=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const n=this._events.get(i),r=this._events.previousEvent(n),s=this._getTicksUntilEvent(r,i);return n.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const i=this._fromType(t),n=this._events.get(e),r=Math.round(Math.max(10*(e-n.time),1)),s=(e-n.time)/r;for(let t=0;t<=r;t++){const r=s*t+n.time,o=this._exponentialInterpolate(n.time,n.value,e,i,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Dc(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}var i=this._fromType(this.getValueAtTime(t.time));let n=this._fromType(this.getValueAtTime(e));var r=this._events.get(e);return r&&r.time===e&&"setValueAtTime"===r.type&&(n=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(i+n)+t.ticks}getTicksAtTime(t){var e=this.toSeconds(t),t=this._events.get(e);return Math.max(this._getTicksUntilEvent(t,e),0)}getDurationOfTicks(t,e){var i=this.toSeconds(e),e=this.getTicksAtTime(e);return this.getTimeOfTick(e+t)-i}getTimeOfTick(t){var e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&"linearRampToValueAtTime"===i.type&&e.value!==i.value){var n=this._fromType(this.getValueAtTime(e.time)),r=(this._fromType(this.getValueAtTime(i.time))-n)/(i.time-e.time),s=Math.sqrt(Math.pow(n,2)-2*r*(e.ticks-t)),i=(-n+s)/r;return(0<i?i:(-n-s)/r)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){var i=this.toSeconds(e),e=this.toSeconds(t),t=this.getTicksAtTime(i);return this.getTicksAtTime(i+e)-t}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){var e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class td extends Qp{constructor(){super(Jc(td.getDefaults(),arguments,["value"])),this.name="TickSignal";var t=Jc(td.getDefaults(),arguments,["value"]);this.input=this._param=new Jp({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Qp.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ed extends Vp{constructor(){super(Jc(ed.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new jp,this._tickOffset=new ap;var t=Jc(ed.getDefaults(),arguments,["frequency"]);this.frequency=new td({context:this.context,units:t.units,value:t.frequency}),mp(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Vp.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){t=this.toSeconds(t);return"started"!==this._state.getValueAtTime(t)&&(this._state.setStateAtTime("started",t),kc(e)&&this.setTicksAtTime(e,t)),this}stop(t){t=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&0<e.time&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(t){t=this.toSeconds(t);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){var e=this.toSeconds(t),i=this._state.getLastState("stopped",e),t={state:"paused",time:e};this._state.add(t);let n=i,r=0;return this._state.forEachBetween(i.time,e+this.sampleTime,t=>{let e=n.time;var i=this._tickOffset.get(t.time);i&&i.time>=n.time&&(r=i.ticks,e=i.time),"started"===n.state&&"started"!==t.state&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),n=t}),this._state.remove(t),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){var e=this.now(),t=this.frequency.timeToTicks(t,e);this.setTicksAtTime(t,e)}getSecondsAtTime(t){t=this.toSeconds(t);var e=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);let n=e,r=0;return this._state.forEachBetween(e.time,t+this.sampleTime,t=>{let e=n.time;var i=this._tickOffset.get(t.time);i&&i.time>=n.time&&(r=i.seconds,e=i.time),"started"===n.state&&"started"!==t.state&&(r+=t.time-e),n=t}),this._state.remove(i),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){var i=this._tickOffset.get(e),e=this._state.get(e),e=Math.max(i.time,e.time),i=this.frequency.getTicksAtTime(e)+t-i.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(i,n,r){let s=this._state.get(i);this._state.forEachBetween(i,n,t=>{s&&"started"===s.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(s.time,i),t.time-this.sampleTime,r),s=t});let o=null;if(s&&"started"===s.state){var a=Math.max(s.time,i),h=this.frequency.getTicksAtTime(a),a=h-this.frequency.getTicksAtTime(s.time);let t=Math.ceil(a)-a;t=sp(t,1)?0:t;let e=this.frequency.getTimeOfTick(h+t);for(;e<n;){try{r(e,Math.round(this.getTicksAtTime(e)))}catch(i){o=i;break}e+=this.frequency.getDurationOfTicks(1,e)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class id extends Vp{constructor(){super(Jc(id.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=_p,this._lastUpdate=0,this._state=new jp("stopped"),this._boundLoop=this._loop.bind(this);var t=Jc(id.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new ed({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,mp(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Vp.getDefaults(),{callback:_p,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Cc(this.context);t=this.toSeconds(t);return this.log("start",t),"started"!==this._state.getValueAtTime(t)&&(this._state.setStateAtTime("started",t),this._tickSource.start(t,e),t<this._lastUpdate&&this.emit("start",t,e)),this}stop(t){t=this.toSeconds(t);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(t){t=this.toSeconds(t);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){var i=this.toSeconds(e),e=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(e+t,i)}_loop(){var t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,t=>{switch(t.state){case"started":var e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}}),this._tickSource.forEachTickBetween(t,e,(t,e)=>{this.callback(t,e)}))}getStateAtTime(t){t=this.toSeconds(t);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}pp.mixin(id);class nd extends Xp{constructor(){super(Jc(nd.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";var t=Jc(nd.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Hp({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),mp(this,"delayTime")}static getDefaults(){return Object.assign(Xp.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function rd(n,r,s=2,o=Tp().sampleRate){return zc(this,void 0,void 0,function*(){const t=Tp(),e=new vp(s,r,o);Ep(e),yield n(e);var i=e.render();Ep(t);i=yield i;return new yp(i)})}class sd extends ip{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const i=Jc(sd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=i.baseUrl,Object.keys(i.urls).forEach(t=>{this._loadingCount++;var e=i.urls[t];this.add(t,e,this._bufferLoaded.bind(this,i.onload),i.onerror)})}static getDefaults(){return{baseUrl:"",onerror:_p,onload:_p,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return wc(this.has(t),"ToneAudioBuffers has no buffer named: "+t),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every(([,t])=>t.loaded)}add(t,e,i=_p,n=_p){return Uc(e)?this._buffers.set(t.toString(),new yp(this.baseUrl+e,i,n)):this._buffers.set(t.toString(),new yp(e,i,n)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class od extends Np{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Rp(super._frequencyToUnits(t))}_ticksToUnits(t){return Rp(super._ticksToUnits(t))}_beatsToUnits(t){return Rp(super._beatsToUnits(t))}_secondsToUnits(t){return Rp(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return Mp(this.toMidi())}transpose(t){return new od(this.context,this.toMidi()+t)}}function ad(t,e){return new od(Tp(),t,e)}class hd extends Gp{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function ld(t,e){return new hd(Tp(),t,e)}class ud extends Vp{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new ap,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){for(var t=this.context.currentTime;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}0<this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}lp(t=>{t.draw=new ud({context:t})}),cp(t=>{t.draw.dispose()});class cd extends ip{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){wc(kc(t.time),"Events must have a time property"),wc(kc(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new pd(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){var e=[];this._root.search(t.time,e);for(const i of e)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,t=>this.remove(t)),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(i){if(null===i.left&&null===i.right)this._replaceNodeInParent(i,null);else if(null===i.right)this._replaceNodeInParent(i,i.left);else if(null===i.left)this._replaceNodeInParent(i,i.right);else{let t,e=null;if(0<i.getBalance())if(null===i.left.right)t=i.left,t.right=i.right,e=t;else{for(t=i.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,e=t.parent,t.left=i.left,t.right=i.right)}else if(null===i.right.left)t=i.right,t.left=i.left,e=t;else{for(t=i.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,e=t.parent,t.left=i.left,t.right=i.right)}null!==i.parent?i.isLeftChild()?i.parent.left=t:i.parent.right=t:this._setRoot(t),e&&this._rebalance(e)}i.dispose()}_rotateLeft(t){const e=t.parent,i=t.isLeftChild(),n=t.right;n&&(t.right=n.left,n.left=t),null!==e?i?e.left=n:e.right=n:this._setRoot(n)}_rotateRight(t){const e=t.parent,i=t.isLeftChild(),n=t.left;n&&(t.left=n.right,n.right=t),null!==e?i?e.left=n:e.right=n:this._setRoot(n)}_rebalance(t){var e=t.getBalance();1<e&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(0<t.right.getBalance()?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){var i=[];if(this._root.search(t,i),0<i.length){let e=i[0];for(let t=1;t<i.length;t++)i[t].low>e.low&&(e=i[t]);return e.event}}return null}forEach(e){if(null!==this._root){const i=[];this._root.traverse(t=>i.push(t)),i.forEach(t=>{t.event&&e(t.event)})}return this}forEachAtTime(t,e){if(null!==this._root){const i=[];this._root.search(t,i),i.forEach(t=>{t.event&&e(t.event)})}return this}forEachFrom(t,e){if(null!==this._root){const i=[];this._root.searchAfter(t,i),i.forEach(t=>{t.event&&e(t.event)})}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class pd{constructor(t,e,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){null!==(this._left=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){null!==(this._right=t)&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class dd extends Xp{constructor(){super(Jc(dd.getDefaults(),arguments,["volume"])),this.name="Volume";var t=Jc(dd.getDefaults(),arguments,["volume"]);this.input=this.output=new Wp({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,mp(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(Xp.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class fd extends Xp{constructor(){super(Jc(fd.getDefaults(),arguments)),this.name="Destination",this.input=new dd({context:this.context}),this.output=new Wp({context:this.context}),this.volume=this.input.volume;var t=Jc(fd.getDefaults(),arguments);zp(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Xp.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),zp(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}lp(t=>{t.destination=new fd({context:t})}),cp(t=>{t.destination.dispose()});class md extends ip{constructor(t){super(),this.name="TimelineValue",this._timeline=new ap({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){t=this._timeline.get(t);return t?t.value:this._initialValue}}class gd{constructor(t,e){this.id=gd._eventId++;e=Object.assign(gd.getDefaults(),e);this.transport=t,this.callback=e.callback,this._once=e.once,this.time=e.time}static getDefaults(){return{callback:_p,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}gd._eventId=0;class _d extends gd{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);e=Object.assign(_d.getDefaults(),e);this.duration=new hd(t.context,e.duration).valueOf(),this._interval=new hd(t.context,e.interval).valueOf(),this._nextTick=e.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},gd.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){t=this.transport.getTicksAtTime(t);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new hd(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;t=this.transport.getTicksAtTime(t);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new hd(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new hd(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class yd extends Vp{constructor(){super(Jc(yd.getDefaults(),arguments)),this.name="Transport",this._loop=new md(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new ap,this._repeatedEvents=new cd,this._syncedSignals=[],this._swingAmount=0;var t=Jc(yd.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new id({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),mp(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Vp.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){var i;this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),0<this._swingAmount&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0&&(i=t%(2*this._swingTicks)/(2*this._swingTicks),i=Math.sin(i*Math.PI)*this._swingAmount,e+=new hd(this.context,2*this._swingTicks/3).toSeconds()*i),this._timeline.forEachAtTime(t,t=>t.invoke(e))}schedule(t,e){e=new gd(this,{callback:t,time:new Gp(this.context,e).toTicks()});return this._addEvent(e,this._timeline)}scheduleRepeat(t,e,i,n=1/0){i=new _d(this,{callback:t,duration:new Dp(this.context,n).toTicks(),interval:new Dp(this.context,e).toTicks(),time:new Gp(this.context,i).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){e=new gd(this,{callback:t,once:!0,time:new Gp(this.context,e).toTicks()});return this._addEvent(e,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){t=this.toTicks(t);return this._timeline.forEachFrom(t,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(t,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new hd(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let i;return kc(e)&&(i=this.toTicks(e)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Gc(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Dp(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Dp(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new hd(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){var t=this.now(),t=this._clock.getTicksAtTime(t);return new hd(this.context,t).toBarsBeatsSixteenths()}set position(t){t=this.toTicks(t);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(t){var e=this.now(),e=this._clock.frequency.timeToTicks(t,e);this.ticks=e}get progress(){if(this.loop){var t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){var e,i;this._clock.ticks!==t&&(e=this.now(),"started"===this.state?(i=this._clock.getTicksAtTime(e),i=e+this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,e),this.emit("stop",i),this._clock.setTicksAtTime(t,i),this.emit("start",i,this._clock.getSecondsAtTime(i))):this._clock.setTicksAtTime(t,e))}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;var e=this.now(),t=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(t,e)}syncSignal(t,e){if(!e){const n=this.now();var i;e=0!==t.getValueAtTime(n)?(i=1/(60/this.bpm.getValueAtTime(n)/this.PPQ),t.getValueAtTime(n)/i):0}const n=new Wp(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;0<=t;t--){const i=this._syncedSignals[t];i.signal===e&&(i.ratio.dispose(),i.signal.value=i.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),gp(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}pp.mixin(yd),lp(t=>{t.transport=new yd({context:t})}),cp(t=>{t.transport.dispose()});class vd extends Xp{constructor(t){super(t),this.input=void 0,this._state=new jp("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=_p,this._syncedStop=_p,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new dd({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,mp(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(Xp.getDefaults(),{mute:!1,onstop:_p,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,i){var n=Dc(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t),n=this._clampToCurrentTime(n);if(this._synced||"started"!==this._state.getValueAtTime(n))if(this.log("start",n),this._state.setStateAtTime("started",n),this._synced){const r=this._state.get(n);r&&(r.offset=this.toSeconds(tp(e,0)),r.duration=i?this.toSeconds(i):void 0);t=this.context.transport.schedule(t=>{this._start(t,e,i)},n);this._scheduled.push(t),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>n&&this._syncedStart(this.now(),this.context.transport.seconds)}else Cc(this.context),this._start(n,e,i);else wc(np(n,this._state.get(n).time),"Start time must be strictly greater than previous start time"),this._state.cancel(n),this._state.setStateAtTime("started",n),this.log("restart",n),this.restart(n,e,i);return this}stop(t){t=Dc(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t),t=this._clampToCurrentTime(t);if("started"===this._state.getValueAtTime(t)||kc(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(t,e,i){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,i)=>{if(0<i){var n=this._state.get(i);if(n&&"started"===n.state&&n.time!==i){i=i-this.toSeconds(n.time);let t;n.duration&&(t=this.toSeconds(n.duration)-i),this._start(e,this.toSeconds(n.offset)+i,t)}}},this._syncedStop=t=>{var e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=_p,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class bd extends $p{constructor(){super(Jc(bd.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;var t=Jc(bd.getDefaults(),arguments,["url","onload"]);qp(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Hp({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new yp(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign($p.getDefaults(),{url:new yp,loop:!1,loopEnd:0,loopStart:0,onload:_p,onerror:_p,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,i,n=1){wc(this.buffer.loaded,"buffer is either not set or not loaded");t=this.toSeconds(t);this._startGain(t,n),e=this.loop?tp(e,this.loopStart):tp(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const s=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),o=s-e;rp(r,s)&&(r=(r-e)%o+e),sp(r,this.buffer.duration)&&(r=0)}return this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,r+1e-6<this.buffer.duration&&(this._sourceStarted=!0,this._source.start(t,r)),kc(i)&&(i=this.toSeconds(i),i=Math.max(i,0),this.stop(t+i)),this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class xd extends vd{constructor(){super(Jc(xd.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;var t=Jc(xd.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(vd.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(wc(t in Ed,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){var e=Ed[this._type];this._source=new bd({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Td={brown:null,pink:null,white:null},Ed={get brown(){if(!Td.brown){const n=[];for(let t=0;t<2;t++){const r=new Float32Array(220500);n[t]=r;let e=0;for(let t=0;t<220500;t++){var i=2*Math.random()-1;r[t]=(e+.02*i)/1.02,e=r[t],r[t]*=3.5}}Td.brown=(new yp).fromArray(n)}return Td.brown},get pink(){if(!Td.pink){const l=[];for(let t=0;t<2;t++){const u=new Float32Array(220500);let e,i,n,r,s,o,a;l[t]=u;for(let t=e=i=n=r=s=o=a=0;t<220500;t++){var h=2*Math.random()-1;e=.99886*e+.0555179*h,i=.99332*i+.0750759*h,n=.969*n+.153852*h,r=.8665*r+.3104856*h,s=.55*s+.5329522*h,o=-.7616*o-.016898*h,u[t]=e+i+n+r+s+o+a+.5362*h,u[t]*=.11,a=.115926*h}}Td.pink=(new yp).fromArray(l)}return Td.pink},get white(){if(!Td.white){const e=[];for(let t=0;t<2;t++){const i=new Float32Array(220500);e[t]=i;for(let t=0;t<220500;t++)i[t]=2*Math.random()-1}Td.white=(new yp).fromArray(e)}return Td.white}};class Sd extends Xp{constructor(){super(Jc(Sd.getDefaults(),arguments,["volume"])),this.name="UserMedia";var t=Jc(Sd.getDefaults(),arguments,["volume"]);this._volume=this.output=new dd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,mp(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(Xp.getDefaults(),{mute:!1,volume:0})}open(n){return zc(this,void 0,void 0,function*(){wc(Sd.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const t=yield Sd.enumerateDevices();Fc(n)?this._device=t[n]:(this._device=t.find(t=>t.label===n||t.deviceId===n),!this._device&&0<t.length&&(this._device=t[0]),wc(kc(this._device),"No matching device "+n));const e={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(e.audio.deviceId=this._device.deviceId);var i=yield navigator.mediaDevices.getUserMedia(e);if(!this._stream){this._stream=i;const n=this.context.createMediaStreamSource(i);qp(n,this.output),this._mediaStream=n}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return zc(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(t=>"audioinput"===t.kind)})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return kc(navigator.mediaDevices)&&kc(navigator.mediaDevices.getUserMedia)}}function Ad(i,n){return zc(this,void 0,void 0,function*(){const t=n/i.context.sampleRate,e=new vp(1,t,i.context.sampleRate);return new i.constructor(Object.assign(i.get(),{frequency:2/t,detune:0,context:e})).toDestination().start(0),(yield e.render()).getChannelData(0)})}class wd extends $p{constructor(){super(Jc(wd.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];var t=Jc(wd.getDefaults(),arguments,["frequency","type"]);qp(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Hp({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Hp({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),mp(this,["frequency","detune"])}static getDefaults(){return Object.assign($p.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){t=this.toSeconds(t);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Pd extends vd{constructor(){super(Jc(Pd.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Jc(Pd.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency}),mp(this,"frequency"),this.detune=new Qp({context:this.context,units:"cents",value:t.detune}),mp(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(vd.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){var e=this.toSeconds(t),t=new wd({context:this.context,onended:()=>this.onstop(this)});this._oscillator=t,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){t=this.toSeconds(t);this._oscillator&&this._oscillator.stop(t)}_restart(t){t=this.toSeconds(t);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Pd._periodicWaveCache.find(t=>{return t.phase===this._phase&&(t=t.partials,i=this._partials,t.length===i.length&&t.every((t,e)=>i[e]===t));var i});var t=Pd._periodicWaveCache.find(t=>t.type===this._type&&t.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(kc(e)){const{partials:t,wave:i}=e;this._wave=i,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Pd._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),100<Pd._periodicWaveCache.length&&Pd._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Pc(t,0);let i=this._type;var e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(e&&(i=e[1]),"custom"!==this._type)this.type=0===t?i:i+t.toString();else{const i=new Float32Array(t);this._partials.forEach((t,e)=>i[e]=t),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(i,n){let r=2048;const s=new Float32Array(r),o=new Float32Array(r);let a=1;if("custom"===i){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,0===this._partials.length)return[s,o]}else{const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(i);n?(a=parseInt(n[2],10)+1,this._partialCount=parseInt(n[2],10),i=n[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let e=1;e<r;++e){const r=2/(e*Math.PI);let t;switch(i){case"sine":t=e<=a?1:0,this._partials[e-1]=t;break;case"square":t=1&e?2*r:0,this._partials[e-1]=t;break;case"sawtooth":t=r*(1&e?1:-1),this._partials[e-1]=t;break;case"triangle":t=1&e?r*r*2*(e-1>>1&1?-1:1):0,this._partials[e-1]=t;break;case"custom":t=this._partials[e-1];break;default:throw new TypeError("Oscillator: invalid type: "+i)}0!==t?(s[e]=-t*Math.sin(n*e),o[e]=t*Math.cos(n*e)):(s[e]=0,o[e]=0)}return[s,o]}_inverseFFT(e,i,n){let r=0;var s=e.length;for(let t=0;t<s;t++)r+=e[t]*Math.cos(t*n)+i[t]*Math.sin(t*n);return r}getInitialValue(){var[e,i]=this._getRealImaginary(this._type,0);let n=0;var r=2*Math.PI;for(let t=0;t<32;t++)n=Math.max(this._inverseFFT(e,i,t/32*r),n);return op(-this._inverseFFT(e,i,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Pd._periodicWaveCache=[];class Cd extends Xp{constructor(){super(Object.assign(Jc(Cd.getDefaults(),arguments,["context"])))}connect(t,e=0,i=0){return Kp(this,t,e,i),this}}class Rd extends Cd{constructor(){super(Object.assign(Jc(Rd.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;var t=Jc(Rd.getDefaults(),arguments,["mapping","length"]);Gc(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Nc(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Qp.getDefaults(),{length:1024})}setMap(i,n=1024){const r=new Float32Array(n);for(let t=0,e=n;t<e;t++){const n=t/(e-1)*2-1;r[t]=i(n,t)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(e){wc(["none","2x","4x"].some(t=>t.includes(e)),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Od extends Cd{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Rd({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Md extends Qp{constructor(){super(Object.assign(Jc(Md.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;var t=Jc(Md.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Wp({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Qp.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Id extends vd{constructor(){super(Jc(Id.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Od({context:this.context}),this._modulationNode=new Wp({context:this.context});var t=Jc(Id.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Pd({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Pd({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Md({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),mp(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Pd.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Dd extends vd{constructor(){super(Jc(Dd.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Wp({context:this.context,gain:0});var t=Jc(Dd.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Pd({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Pd({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Md({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Md({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),mp(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Pd.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class kd extends vd{constructor(){super(Jc(kd.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Wp({context:this.context,gain:0}),this._thresh=new Rd({context:this.context,mapping:t=>t<=0?-1:1});var t=Jc(kd.getDefaults(),arguments,["frequency","width"]);this.width=new Qp({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Pd({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),mp(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(vd.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nd extends vd{constructor(){super(Jc(Nd.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];var t=Jc(Nd.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qp({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,mp(this,["frequency","detune"])}static getDefaults(){return Object.assign(Pd.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(t=>t.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(t=>t.stop(e))}_restart(e){this._forEach(t=>t.restart(e))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach(t=>t.type=e)}get spread(){return this._spread}set spread(t){if(this._spread=t,1<this._oscillators.length){const i=-t/2,n=t/(this._oscillators.length-1);this._forEach((t,e)=>t.detune.value=i+n*e)}}get count(){return this._oscillators.length}set count(e){if(Pc(e,1),this._oscillators.length!==e){this._forEach(t=>t.dispose()),this._oscillators=[];for(let t=0;t<e;t++){const i=new Pd({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):_p});"custom"===this.type&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[t]=i}this.spread=this._spread,"started"===this.state&&this._forEach(t=>t.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((t,e)=>t.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(t=>t.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(t=>t.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(t=>t.partialCount=e),this._type=this._oscillators[0].type}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Fd extends vd{constructor(){super(Jc(Fd.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Md({context:this.context,value:2});var t=Jc(Fd.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new kd({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Pd({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),mp(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(vd.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ld={am:Id,fat:Nd,fm:Dd,oscillator:Pd,pulse:kd,pwm:Fd};class Bd extends vd{constructor(){super(Jc(Bd.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";var t=Jc(Bd.getDefaults(),arguments,["frequency","type"]);this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qp({context:this.context,units:"cents",value:t.detune}),mp(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Pd.getDefaults(),Dd.getDefaults(),Id.getDefaults(),Nd.getDefaults(),kd.getDefaults(),Fd.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(t=>this._sourceType===t)&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Ld[t],i=this.now();if(this._oscillator){const t=this._oscillator;t.stop(i),this.context.setTimeout(()=>t.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Ld[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Fc(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Fc(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Uc(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return zc(this,void 0,void 0,function*(){return Ad(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Gd extends Qp{constructor(){super(Object.assign(Jc(Gd.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Wp({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,zp(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Qp.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Ud extends Cd{constructor(){super(Object.assign(Jc(Ud.getDefaults(),arguments,["min","max"]))),this.name="Scale";var t=Jc(Ud.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Md({context:this.context,value:t.max-t.min}),this._add=this.output=new Gd({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Cd.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Vd extends Cd{constructor(){super(Object.assign(Jc(Vd.getDefaults(),arguments))),this.name="Zero",this._gain=new Wp({context:this.context}),this.output=this._gain,this.input=void 0,qp(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Yp(this.context.getConstant(0),this._gain),this}}class jd extends Xp{constructor(){super(Jc(jd.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Hp.prototype._fromType,this._toType=Hp.prototype._toType,this._is=Hp.prototype._is,this._clampValue=Hp.prototype._clampValue;var t=Jc(jd.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Pd(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Wp({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Qp({context:this.context,units:"audioRange",value:0}),this._zeros=new Vd({context:this.context}),this._a2g=new Od({context:this.context}),this._scaler=this.output=new Ud({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),mp(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Pd.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){var e=this.min,i=this.max;this._units=t,this.min=e,this.max=i}get state(){return this._oscillator.state}connect(t,e,i){return(t instanceof Hp||t instanceof Qp)&&(this.convert=t.convert,this.units=t.units),Kp(this,t,e,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Hd(i,n=1/0){const r=new WeakMap;return function(t,e){Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r.get(this)},set:function(t){Pc(t,i,n),r.set(this,t)}})}}function Xd(i,n=1/0){const r=new WeakMap;return function(t,e){Reflect.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return r.get(this)},set:function(t){Pc(this.toSeconds(t),i,n),r.set(this,t)}})}}class zd extends vd{constructor(){super(Jc(zd.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;var t=Jc(zd.getDefaults(),arguments,["url","onload"]);this._buffer=new yp({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(vd.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:_p,onerror:_p,playbackRate:1,reverse:!1})}load(t){return zc(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=_p){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,i){return super.start(t,e,i),this}_start(t,e,i){e=this._loop?tp(e,this._loopStart):tp(e,0);var n=this.toSeconds(e),e=i;i=tp(i,Math.max(this._buffer.duration-n,0));i=this.toSeconds(i);i/=this._playbackRate,t=this.toSeconds(t);const r=new bd({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+i),this._state.setStateAtTime("stopped",t+i,{implicitEnd:!0})),this._activeSources.add(r),this._loop&&Dc(e)?r.start(t,n):r.start(t,n,i-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(t=>t.stop(e))}restart(t,e,i){return super.restart(t,e,i),this}_restart(t,e,i){this._stop(t),this._start(t,e,i)}seek(t,e){e=this.toSeconds(e);if("started"===this._state.getValueAtTime(e)){const i=this.toSeconds(t);this._stop(e),this._start(e,i)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Pc(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Pc(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(t=>{t.loopEnd=e})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(t=>{t.loop=e}),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const i=this.now(),t=this._state.getNextState("stopped",i);t&&t.implicitEnd&&(this._state.cancel(t.time),this._activeSources.forEach(t=>t.cancelStop())),this._activeSources.forEach(t=>{t.playbackRate.setValueAtTime(e,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Xc([Xd(0)],zd.prototype,"fadeIn",void 0),Xc([Xd(0)],zd.prototype,"fadeOut",void 0);class qd extends Xp{constructor(){super(Jc(qd.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;var t=Jc(qd.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new dd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,mp(this,"volume"),this._buffers=new sd({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(vd.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:_p,onerror:_p,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._players.forEach(t=>{t.fadeIn=e})}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._players.forEach(t=>{t.fadeOut=e})}get state(){return Array.from(this._players).some(([,t])=>"started"===t.state)?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){var e;return wc(this.has(t),`No Player with the name ${t} exists on this object`),this._players.has(t)||(e=new zd({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output),this._players.set(t,e)),this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,i){return wc(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,i),this}stopAll(e){return this._players.forEach(t=>t.stop(e)),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach(t=>t.dispose()),this._buffers.dispose(),this}}class Yd extends vd{constructor(){super(Jc(Yd.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];var t=Jc(Yd.getDefaults(),arguments,["url","onload"]);this.buffer=new yp({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new id({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(vd.getDefaults(),{onload:_p,onerror:_p,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,i){e=tp(e,0),e=this.toSeconds(e),t=this.toSeconds(t);var n=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/n),i&&this.stop(t+this.toSeconds(i))}restart(t,e,i){return super.restart(t,e,i),this}_restart(t,e,i){this._stop(t),this._start(t,e,i)}_stop(t){this._clock.stop(t)}_onstop(e){this._activeSources.forEach(t=>{t.fadeOut=0,t.stop(e)}),this.onstop(this)}_tick(t){var e=this._clock.getTicksAtTime(t),i=e*this._grainSize;if(this.log("offset",i),!this.loop&&i>this.buffer.duration)this.stop(t);else{const n=i<this._overlap?0:this._overlap,r=new bd({context:this.context,url:this.buffer,fadeIn:n,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Pp(this.detune/100)}).connect(this.output);r.start(t,this._grainSize*e),r.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(r),r.onended=()=>{var t=this._activeSources.indexOf(r);-1!==t&&this._activeSources.splice(t,1)}}}get playbackRate(){return this._playbackRate}set playbackRate(t){Pc(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&Pc(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&Pc(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){t=this.toSeconds(t);Pc(t,0),this._overlap=t}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach(t=>t.dispose()),this}}class Wd extends Cd{constructor(){super(...arguments),this.name="Abs",this._abs=new Rd({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class $d extends Cd{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Rd({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Zd extends Cd{constructor(){super(...arguments),this.name="Negate",this._multiply=new Md({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Qd extends Qp{constructor(){super(Object.assign(Jc(Qd.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Wp({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Zd({context:this.context}),this.subtrahend=this._param,zp(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Qp.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Kd extends Cd{constructor(){super(Object.assign(Jc(Kd.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Rd({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new Md({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Jd extends Qp{constructor(){super(Object.assign(Jc(Jd.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;var t=Jc(Jd.getDefaults(),arguments,["value"]);this._subtract=this.input=new Qd({context:this.context,value:t.value}),this._gtz=this.output=new Kd({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,mp(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Qp.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class tf extends Cd{constructor(){super(Object.assign(Jc(tf.getDefaults(),arguments,["value"]))),this.name="Pow";var t=Jc(tf.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Rd({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Cd.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ef extends Ud{constructor(){super(Object.assign(Jc(ef.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";var t=Jc(ef.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new tf({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Ud.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class nf extends Qp{constructor(){super(Jc(Qp.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;var t=Jc(Qp.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Zp({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){var e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){var e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){t=new Gp(this.context,t).toSeconds();return super.getValueAtTime(t)}setValueAtTime(t,e){e=new Gp(this.context,e).toSeconds();return super.setValueAtTime(t,e),this}linearRampToValueAtTime(t,e){e=new Gp(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){e=new Gp(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,e),this}setTargetAtTime(t,e,i){e=new Gp(this.context,e).toSeconds();return super.setTargetAtTime(t,e,i),this}cancelScheduledValues(t){t=new Gp(this.context,t).toSeconds();return super.cancelScheduledValues(t),this}setValueCurveAtTime(t,e,i,n){e=new Gp(this.context,e).toSeconds();return i=this.toSeconds(i),super.setValueCurveAtTime(t,e,i,n),this}cancelAndHoldAtTime(t){t=new Gp(this.context,t).toSeconds();return super.cancelAndHoldAtTime(t),this}setRampPoint(t){t=new Gp(this.context,t).toSeconds();return super.setRampPoint(t),this}exponentialRampTo(t,e,i){i=new Gp(this.context,i).toSeconds();return super.exponentialRampTo(t,e,i),this}linearRampTo(t,e,i){i=new Gp(this.context,i).toSeconds();return super.linearRampTo(t,e,i),this}targetRampTo(t,e,i){i=new Gp(this.context,i).toSeconds();return super.targetRampTo(t,e,i),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class rf extends Xp{constructor(){super(Jc(rf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Qp({context:this.context,value:0}),this.output=this._sig,this.input=void 0;var t=Jc(rf.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(Xp.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,i){if(Uc(e))return e;{let t;for(t in sf)if(sf[t][i]===e)return t;return e}}_setCurve(t,e,i){if(Uc(i)&&Reflect.has(sf,i)){var n=sf[i];Lc(n)?"_decayCurve"!==t&&(this[t]=n[e]):this[t]=n}else{if(!Gc(i)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+i);this[t]=i}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(e){wc(["linear","exponential"].some(t=>t===e),"Invalid envelope curve: "+e),this._decayCurve=e}triggerAttack(t,i=1){this.log("triggerAttack",t,i),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const e=this.toSeconds(this.decay),r=this.getValueAtTime(t);if(0<r&&(n=(1-r)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(i,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(i,n,t);else{this._sig.cancelAndHoldAtTime(t);let e=this._attackCurve;for(let t=1;t<e.length;t++)if(e[t-1]<=r&&r<=e[t]){e=this._attackCurve.slice(t),e[0]=r;break}this._sig.setValueCurveAtTime(e,t,n,i)}if(e&&this.sustain<1){const r=i*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(r,e+s):this._sig.exponentialApproachValueAtTime(r,s,e)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);var e,i=this.getValueAtTime(t);return 0<i&&((e=this.toSeconds(this.release))<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,e,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,e,t):(wc(Gc(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,e,i))),this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,i=0){return Kp(this,t,e,i),this}asArray(a=1024){return zc(this,void 0,void 0,function*(){const t=a/this.context.sampleRate,e=new vp(1,t,this.context.sampleRate),i=this.toSeconds(this.attack)+this.toSeconds(this.decay),n=i+this.toSeconds(this.release),r=.1*n,s=n+r,o=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/s,decay:t*this.toSeconds(this.decay)/s,release:t*this.toSeconds(this.release)/s,context:e}));return o._sig.toDestination(),o.triggerAttackRelease(t*(i+r)/s,0),(yield e.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Xc([Xd(0)],rf.prototype,"attack",void 0),Xc([Xd(0)],rf.prototype,"decay",void 0),Xc([Hd(0,1)],rf.prototype,"sustain",void 0),Xc([Xd(0)],rf.prototype,"release",void 0);const sf=(()=>{let t,e;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const n=[];for(t=0;t<127;t++){e=t/127;const i=Math.sin(e*(2*Math.PI)*6.4-Math.PI/2)+1;n[t]=i/10+.83*e}n[127]=1;const r=[];for(t=0;t<128;t++)r[t]=Math.ceil(t/127*5)/5;const s=[];for(t=0;t<128;t++)e=t/127,s[t]=.5*(1-Math.cos(Math.PI*e));const o=[];for(t=0;t<128;t++){e=t/127;const i=4*Math.pow(e,3)+.2,n=Math.cos(i*Math.PI*2*e);o[t]=Math.abs(n*(1-e))}function a(e){const i=new Array(e.length);for(let t=0;t<e.length;t++)i[t]=1-e[t];return i}return{bounce:{In:a(o),Out:o},cosine:{In:i,Out:i.slice(0).reverse()},exponential:"exponential",linear:"linear",ripple:{In:n,Out:a(n)},sine:{In:s,Out:a(s)},step:{In:r,Out:a(r)}}})();class of extends Xp{constructor(){super(Jc(of.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;var t=Jc(of.getDefaults(),arguments);this._volume=this.output=new dd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,mp(this,"volume")}static getDefaults(){return Object.assign(Xp.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){const n=this["_original_"+t]=this[t];this[t]=(...e)=>{var t=e[i],t=this.context.transport.schedule(t=>{e[i]=t,n.apply(this,e)},t);this._scheduledEvents.push(t)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,i,n){i=this.toSeconds(i),e=this.toSeconds(e);return this.triggerAttack(t,i,n),this.triggerRelease(i+e),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class af extends of{constructor(){super(Jc(af.getDefaults(),arguments));var t=Jc(af.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(of.getDefaults(),{detune:0,onsilence:_p,portamento:0})}triggerAttack(t,e,i=1){this.log("triggerAttack",t,e,i);e=this.toSeconds(e);return this._triggerEnvelopeAttack(e,i),this.setNote(t,e),this}triggerRelease(t){this.log("triggerRelease",t);t=this.toSeconds(t);return this._triggerEnvelopeRelease(t),this}setNote(t,e){e=this.toSeconds(e),t=t instanceof Np?t.toFrequency():t;if(0<this.portamento&&.05<this.getLevelAtTime(e)){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(t,i,e)}else this.frequency.setValueAtTime(t,e);return this}}Xc([Xd(0)],af.prototype,"portamento",void 0);class hf extends rf{constructor(){super(Jc(hf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Wp({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class lf extends af{constructor(){super(Jc(lf.getDefaults(),arguments)),this.name="Synth";var t=Jc(lf.getDefaults(),arguments);this.oscillator=new Bd(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new hf(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),mp(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(af.getDefaults(),{envelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(ep(Bd.getDefaults(),[...Object.keys(vd.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+i)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class uf extends af{constructor(){super(Jc(uf.getDefaults(),arguments)),this.name="ModulationSynth";var t=Jc(uf.getDefaults(),arguments);this._carrier=new lf({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new lf({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Qp({context:this.context,units:"frequency"}),this.detune=new Qp({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Md({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Wp({context:this.context,gain:0}),mp(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(af.getDefaults(),{harmonicity:3,oscillator:Object.assign(ep(Bd.getDefaults(),[...Object.keys(vd.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(ep(Bd.getDefaults(),[...Object.keys(vd.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class cf extends uf{constructor(){super(Jc(cf.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Od({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class pf extends Xp{constructor(){super(Jc(pf.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";var t=Jc(pf.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Hp({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Hp({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Hp({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Hp({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(Xp.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){wc(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),"Invalid filter type: "+t),this._filter.type=t}getFrequencyResponse(e=128){const i=new Float32Array(e);for(let t=0;t<e;t++){const n=19980*Math.pow(t/e,2)+20;i[t]=n}const t=new Float32Array(e),n=new Float32Array(e),r=this.context.createBiquadFilter();return r.type=this.type,r.Q.value=this.Q.value,r.frequency.value=this.frequency.value,r.gain.value=this.gain.value,r.getFrequencyResponse(i,t,n),t}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class df extends Xp{constructor(){super(Jc(df.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this._filters=[];var t=Jc(df.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Qp({context:this.context,units:"positive",value:t.Q}),this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Qp({context:this.context,units:"cents",value:t.detune}),this.gain=new Qp({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,mp(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){wc(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),"Invalid filter type: "+e),this._type=e,this._filters.forEach(t=>t.type=e)}get rolloff(){return this._rolloff}set rolloff(t){const e=Fc(t)?t:parseInt(t,10),i=[-12,-24,-48,-96];var n=i.indexOf(e);wc(-1!==n,"rolloff can only be "+i.join(", ")),n+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach(t=>t.disconnect()),this._filters=new Array(n);for(let t=0;t<n;t++){const e=new pf({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,zp(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new pf({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{e.getFrequencyResponse(t).forEach((t,e)=>i[e]*=t)}),e.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),gp(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class ff extends rf{constructor(){super(Jc(ff.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";var t=Jc(ff.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new tf({context:this.context,value:t.exponent}),this._scale=this.output=new Ud({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(rf.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){t=this.toFrequency(t);Pc(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class mf extends af{constructor(){super(Jc(mf.getDefaults(),arguments)),this.name="MonoSynth";var t=Jc(mf.getDefaults(),arguments);this.oscillator=new Bd(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new df(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new ff(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new hf(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),mp(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(af.getDefaults(),{envelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(ep(df.getDefaults(),Object.keys(Xp.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(ep(ff.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(ep(Bd.getDefaults(),Object.keys(vd.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),i=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+i)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class gf extends af{constructor(){super(Jc(gf.getDefaults(),arguments)),this.name="DuoSynth";var t=Jc(gf.getDefaults(),arguments);this.voice0=new mf(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new mf(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Md({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new jd({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Wp({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Qp({context:this.context,units:"frequency",value:440}),this.detune=new Qp({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),mp(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Kc(af.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Kc(ep(mf.getDefaults(),Object.keys(af.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Kc(ep(mf.getDefaults(),Object.keys(af.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class _f extends uf{constructor(){super(Jc(_f.getDefaults(),arguments)),this.name="FMSynth";var t=Jc(_f.getDefaults(),arguments);this.modulationIndex=new Md({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(uf.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const yf=[1,1.483,1.932,2.546,2.63,3.897];class vf extends af{constructor(){super(Jc(vf.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];var e=Jc(vf.getDefaults(),arguments);this.detune=new Qp({context:this.context,units:"cents",value:e.detune}),this.frequency=new Qp({context:this.context,units:"frequency"}),this._amplitude=new Wp({context:this.context,gain:0}).connect(this.output),this._highpass=new df({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let t=0;t<yf.length;t++){const n=new Dd({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:0===t?()=>this.onsilence(this):_p,type:"square"});n.connect(this._highpass),this._oscillators[t]=n;var i=new Md({context:this.context,value:yf[t]});this._freqMultipliers[t]=i,this.frequency.chain(i,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Ud({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new rf({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Kc(af.getDefaults(),{envelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,t=1){return this.envelope.triggerAttack(e,t),this._oscillators.forEach(t=>t.start(e)),0===this.envelope.sustain&&this._oscillators.forEach(t=>{t.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(t=>t.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(t=>t.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(t=>t.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach(t=>t.dispose()),this._freqMultipliers.forEach(t=>t.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class bf extends lf{constructor(){super(Jc(bf.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;var t=Jc(bf.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,mp(this,["oscillator","envelope"])}static getDefaults(){return Kc(af.getDefaults(),lf.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){var i=this.toSeconds(e),e=this.toFrequency(t instanceof Np?t.toFrequency():t),t=e*this.octaves;return this.oscillator.frequency.setValueAtTime(t,i),this.oscillator.frequency.exponentialRampToValueAtTime(e,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xc([Hd(0)],bf.prototype,"octaves",void 0),Xc([Xd(0)],bf.prototype,"pitchDecay",void 0);class xf extends of{constructor(){super(Jc(xf.getDefaults(),arguments)),this.name="NoiseSynth";var t=Jc(xf.getDefaults(),arguments);this.noise=new xd(Object.assign({context:this.context},t.noise)),this.envelope=new hf(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(of.getDefaults(),{envelope:Object.assign(ep(rf.getDefaults(),Object.keys(Xp.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(ep(xd.getDefaults(),Object.keys(vd.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,i),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Tf=new Set;function Ef(t){Tf.add(t)}function Sf(t,e){e=`registerProcessor("${t}", ${e})`;Tf.add(e)}class Af extends Xp{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=_p;const e=URL.createObjectURL(new Blob([Array.from(Tf).join("\n")],{type:"text/javascript"})),i=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,i).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(i,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}Ef('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Ef("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Ef("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n"),Sf("feedback-comb-filter",'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class wf extends Af{constructor(){super(Jc(wf.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";var t=Jc(wf.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this.delayTime=new Hp({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Hp({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),mp(this,["resonance","delayTime"])}_audioWorkletName(){return"feedback-comb-filter"}static getDefaults(){return Object.assign(Xp.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){zp(this.input,t,this.output);var e=t.parameters.get("delayTime");this.delayTime.setParam(e);t=t.parameters.get("feedback");this.resonance.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Pf extends Xp{constructor(){super(Jc(Pf.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";var t=Jc(Pf.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Xp.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),i=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(i*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(i*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(t),t.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(e=128){const i=new Float32Array(e);for(let t=0;t<e;t++){const n=19980*Math.pow(t/e,2)+20;i[t]=n}const t=new Float32Array(e),n=new Float32Array(e);return this._filter.getFrequencyResponse(i,t,n),t}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Cf extends Xp{constructor(){super(Jc(Cf.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";var t=Jc(Cf.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new wf({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Pf({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Xp.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Rf extends of{constructor(){super(Jc(Rf.getDefaults(),arguments)),this.name="PluckSynth";var t=Jc(Rf.getDefaults(),arguments);this._noise=new xd({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Cf({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Kc(of.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){t=this.toFrequency(t);e=this.toSeconds(e);t=1/t;return this._lfcf.delayTime.setValueAtTime(t,e),this._noise.start(e),this._noise.stop(e+t*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Of extends of{constructor(){super(Jc(Of.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Jc(Of.getDefaults(),arguments,["voice","options"]);wc(!Fc(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");var e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();e=this._voices.indexOf(this._dummyVoice);this._voices.splice(e,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(of.getDefaults(),{maxPolyphony:32,options:{},voice:lf})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);var t=this._activeVoices.findIndex(t=>t.voice===e);this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}Ic("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,n,r){t.forEach(t=>{const e=new od(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,n,r),this._activeVoices.push({midi:e,voice:i,released:!1}),this.log("triggerAttack",t,n))})}_triggerRelease(t,n){t.forEach(t=>{const i=new od(this.context,t).toMidi(),e=this._activeVoices.find(({midi:t,released:e})=>t===i&&!e);e&&(e.voice.triggerRelease(n),e.released=!0,this.log("triggerRelease",t,n))})}_scheduleEvent(t,e,i,n){wc(!this.disposed,"Synth was already disposed"),i<=this.now()?"attack"===t?this._triggerAttack(e,i,n):this._triggerRelease(e,i):this.context.setTimeout(()=>{this._scheduleEvent(t,e,i,n)},i-this.now())}triggerAttack(t,e,i){Array.isArray(t)||(t=[t]);e=this.toSeconds(e);return this._scheduleEvent("attack",t,e,i),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);e=this.toSeconds(e);return this._scheduleEvent("release",t,e),this}triggerAttackRelease(e,i,t,n){var r=this.toSeconds(t);if(this.triggerAttack(e,r,n),Gc(i)){wc(Gc(e),"If the duration is an array, the notes must also be an array");for(let t=0;t<e.length;t++){const n=i[Math.min(t,i.length-1)],s=this.toSeconds(n);wc(0<s,"The duration must be greater than 0"),this.triggerRelease(e[t],r+s)}}else{const t=this.toSeconds(i);wc(0<t,"The duration must be greater than 0"),this.triggerRelease(e,r+t)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=ep(t,["onsilence","context"]);return this.options=Kc(this.options,e),this._voices.forEach(t=>t.set(e)),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach(({voice:t})=>{t.triggerRelease(e)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Mf extends of{constructor(){super(Jc(Mf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const i=Jc(Mf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(i.urls).forEach(t=>{const e=parseInt(t,10);if(wc(Vc(t)||Fc(e)&&isFinite(e),"url key is neither a note or midi pitch: "+t),Vc(t)){const e=new Np(this.context,t).toMidi();n[e]=i.urls[t]}else Fc(e)&&isFinite(e)&&(n[e]=i.urls[e])}),this._buffers=new sd({urls:n,onload:i.onload,baseUrl:i.baseUrl,onerror:i.onerror}),this.attack=i.attack,this.release=i.release,this.curve=i.curve,this._buffers.loaded&&Promise.resolve().then(i.onload)}static getDefaults(){return Object.assign(of.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:_p,onerror:_p,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error("No available buffers for note: "+t)}triggerAttack(t,l,u=1){return this.log("triggerAttack",t,l,u),(t=!Array.isArray(t)?[t]:t).forEach(t=>{const e=Op(new Np(this.context,t).toFrequency()),i=Math.round(e),n=e-i,r=this._findClosest(i),s=i-r,o=this._buffers.get(s),a=Pp(r+n),h=new bd({url:o,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:a}).connect(this.output);h.start(l,0,o.duration/a,u),Gc(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(h);-1!==e&&t.splice(e,1)}}}),this}triggerRelease(t,i){return this.log("triggerRelease",t,i),(t=!Array.isArray(t)?[t]:t).forEach(t=>{t=new Np(this.context,t).toMidi();if(this._activeSources.has(t)&&this._activeSources.get(t).length){const e=this._activeSources.get(t);i=this.toSeconds(i),e.forEach(t=>{t.stop(i)}),this._activeSources.set(t,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,i,e,n=1){const r=this.toSeconds(e);return this.triggerAttack(t,r,n),Gc(i)?(wc(Gc(t),"notes must be an array when duration is array"),t.forEach((t,e)=>{e=i[Math.min(e,i.length-1)];this.triggerRelease(t,r+this.toSeconds(e))})):this.triggerRelease(t,r+this.toSeconds(i)),this}add(t,e,i){var n;return wc(Vc(t)||isFinite(t),"note must be a pitch or midi: "+t),Vc(t)?(n=new Np(this.context,t).toMidi(),this._buffers.add(n,e,i)):this._buffers.add(t,e,i),this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(t=>t.dispose())}),this._activeSources.clear(),this}}Xc([Xd(0)],Mf.prototype,"attack",void 0),Xc([Xd(0)],Mf.prototype,"release",void 0);class If extends Vp{constructor(){super(Jc(If.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new jp("stopped"),this._startOffset=0;var t=Jc(If.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Vp.getDefaults(),{callback:_p,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,t=>{let e;var i,n;"started"===t.state&&(-1!==t.id&&this.context.transport.clear(t.id),i=t.time+Math.round(this.startOffset/this._playbackRate),!0===this._loop||Fc(this._loop)&&1<this._loop?(e=1/0,Fc(this._loop)&&(e=this._loop*this._getLoopDuration()),null!==(n=this._state.getAfter(i))&&(e=Math.min(e,n.time-i)),e!==1/0&&(this._state.setStateAtTime("stopped",i+e+1,{id:-1}),e=new hd(this.context,e)),n=new hd(this.context,this._getLoopDuration()),t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),n,new hd(this.context,i),e)):t.id=this.context.transport.schedule(this._tick.bind(this),new hd(this.context,i)))})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){t=this.toTicks(t);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);e=this.toTicks(e);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const i=this._state.getBefore(e);let t=e;null!==i&&(t=i.time),this._rescheduleEvents(t)}return this}cancel(t){t=tp(t,-1/0);t=this.toTicks(t);return this._state.forEachFrom(t,t=>{this.context.transport.clear(t.id)}),this._state.cancel(t),this}_tick(e){var t=this.context.transport.getTicksAtTime(e);if(!(this.mute||"started"!==this._state.getValueAtTime(t)||this.probability<1&&Math.random()>this.probability)){if(this.humanize){let t=.02;Bc(this.humanize)||(t=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*t}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new hd(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new hd(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){var t=this.context.transport.ticks,e=this._state.get(t);if(null===e||"started"!==e.state)return 0;var i=this._getLoopDuration();return(t-e.time)%i/i}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Df extends Vp{constructor(){super(Jc(Df.getDefaults(),arguments,["callback","interval"])),this.name="Loop";var t=Jc(Df.getDefaults(),arguments,["callback","interval"]);this._event=new If({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(Vp.getDefaults(),{interval:"4n",callback:_p,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class kf extends If{constructor(){super(Jc(kf.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new jp("stopped"),this._events=new Set;const t=Jc(kf.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach(t=>{Gc(t)?this.add(t[0],t[1]):this.add(t)})}static getDefaults(){return Object.assign(If.getDefaults(),{events:[]})}start(e,t){const i=this.toTicks(e);if("started"!==this._state.getValueAtTime(i)){t=tp(t,this._loop?this._loopStart:0),t=this._loop?tp(t,this._loopStart):tp(t,0);const e=this.toTicks(t);this._state.add({id:-1,offset:e,state:"started",time:i}),this._forEach(t=>{this._startNote(t,i,e)})}return this}_startNote(t,e,i){e-=i,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<i&&(e+=this._getLoopDuration()),t.start(new hd(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=i&&(t.loop=!1,t.start(new hd(this.context,e))):t.startOffset>=i&&t.start(new hd(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach(t=>{t.startOffset+=this._startOffset})}stop(e){var t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach(t=>{t.stop(e)}),this}at(t,e){const i=new Gp(this.context,t).toTicks(),n=new hd(this.context,1).toSeconds(),r=this._events.values();let s=r.next();for(;!s.done;){const t=s.value;if(Math.abs(i-t.startOffset)<n)return kc(e)&&(t.value=e),t;s=r.next()}return kc(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);t=this.toTicks(t);let i;return e instanceof If?(i=e,i.callback=this._tick.bind(this)):i=new If({callback:this._tick.bind(this),context:this.context,value:e}),i.startOffset=t,i.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(i),this._restartEvent(i),this}_restartEvent(e){this._state.forEach(t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new hd(this.context,t.time))})}remove(e,i){return Lc(e)&&e.hasOwnProperty("time")&&(e=(i=e).time),e=this.toTicks(e),this._events.forEach(t=>{t.startOffset===e&&(Dc(i)||kc(i)&&t.value===i)&&(this._events.delete(t),t.dispose())}),this}clear(){return this._forEach(t=>t.dispose()),this._events.clear(),this}cancel(e){return this._forEach(t=>t.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(t=>{t instanceof kf?t._forEach(e):e(t)}),this}_setAll(e,i){this._forEach(t=>{t[e]=i})}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)})}get loopEnd(){return new hd(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(t=>{t.loopEnd=e,this._testLoopBoundries(t)})}get loopStart(){return new hd(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach(t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)})}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Nf(t){let e=0;for(;e<t.length;)e=Bf(e,t),yield t[e],e++}function*Ff(t){let e=t.length-1;for(;0<=e;)e=Bf(e,t),yield t[e],e--}function*Lf(t,e){for(;;)yield*e(t)}function Bf(t,e){return op(t,0,e.length-1)}function*Gf(t,e){let i=e?0:t.length-1;for(;;)i=Bf(i,t),yield t[i],e?(i++,i>=t.length-1&&(e=!1)):(i--,i<=0&&(e=!0))}function*Uf(t){let e=0,i=0;for(;e<t.length;)e=Bf(e,t),yield t[e],i++,e+=i%2?2:-1}function*Vf(t){let e=t.length-1,i=0;for(;0<=e;)e=Bf(e,t),yield t[e],i++,e+=i%2?-2:1}function*jf(e){const i=[];for(let t=0;t<e.length;t++)i.push(t);for(;0<i.length;)yield e[Bf(i.splice(Math.floor(i.length*Math.random()),1)[0],e)]}function*Hf(t,e="up"){switch(wc(0<t.length,"The array must have more than one value in it"),e){case"up":yield*Lf(t,Nf);case"down":yield*Lf(t,Ff);case"upDown":yield*Gf(t,!0);case"downUp":yield*Gf(t,!1);case"alternateUp":yield*Lf(t,Uf);case"alternateDown":yield*Lf(t,Vf);case"random":yield*function*(t){for(;;)yield t[Math.floor(Math.random()*t.length)]}(t);case"randomOnce":yield*Lf(t,jf);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0!==e&&(e===t.length-1||Math.random()<.5)?e--:e++,yield t[e]}(t)}}class Xf extends Df{constructor(){super(Jc(Xf.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";var t=Jc(Xf.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=Hf(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Df.getDefaults(),{pattern:"up",values:[],callback:_p})}_tick(t){var e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=Hf(this._values,this._type)}}class zf extends If{constructor(){super(Jc(zf.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new kf({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];var t=Jc(zf.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(ep(If.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e&&this._indexTime(e)),this}stop(t){return this._part.stop(t),this}get subdivision(){return new hd(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,i)=>(Uc(e)&&isFinite(parseInt(e,10))&&Gc(i)?t[e]=this._createSequence(i):t[e]=i,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,i,n){t.forEach((t,e)=>{e=e*i+n;if(Gc(t))this._rescheduleSequence(t,i/t.length,e);else{const i=new hd(this.context,e,"i").toSeconds();this._part.add(i,t)}})}_indexTime(t){return new hd(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class qf extends Xp{constructor(){super(Object.assign(Jc(qf.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new $d({context:this.context}),this.a=new Wp({context:this.context,gain:0}),this.b=new Wp({context:this.context,gain:0}),this.output=new Wp({context:this.context}),this._internalChannels=[this.a,this.b];var t=Jc(qf.getDefaults(),arguments,["fade"]);this.fade=new Qp({context:this.context,units:"normalRange",value:t.fade}),mp(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",qp(this._split,this.a.gain,0),qp(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Xp.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Yf extends Xp{constructor(t){super(t),this.name="Effect",this._dryWet=new qf({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Wp({context:this.context}),this.effectReturn=new Wp({context:this.context}),this.input=new Wp({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],mp(this,"wet")}static getDefaults(){return Object.assign(Xp.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Wf extends Yf{constructor(t){super(t),this.name="LFOEffect",this._lfo=new jd({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,mp(this,["frequency","depth"])}static getDefaults(){return Object.assign(Yf.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class $f extends Wf{constructor(){super(Jc($f.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";var t=Jc($f.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new df(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(Wf.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Zf extends Xp{constructor(){super(Object.assign(Jc(Zf.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;var t=Jc(Zf.getDefaults(),arguments,["pan"]);this.pan=new Hp({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",mp(this,"pan")}static getDefaults(){return Object.assign(Xp.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Qf extends Wf{constructor(){super(Jc(Qf.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";var t=Jc(Qf.getDefaults(),arguments,["frequency"]);this._panner=new Zf({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Wf.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Kf extends Xp{constructor(){super(Jc(Kf.getDefaults(),arguments,["smoothing"])),this.name="Follower";var t=Jc(Kf.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new Wd({context:this.context}),this._lowpass=this.output=new Pf({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(Xp.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Jf extends Yf{constructor(){super(Jc(Jf.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";var t=Jc(Jf.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Kf({context:this.context,smoothing:t.follower}),this._sweepRange=new ef({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Wp({context:this.context}),this._bandpass=new df({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new df({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,mp(this,["gain","Q"])}static getDefaults(){return Object.assign(Yf.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return wp(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Ap(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}Sf("bit-crusher","\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class tm extends Yf{constructor(){super(Jc(tm.getDefaults(),arguments,["bits"])),this.name="BitCrusher";var t=Jc(tm.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new em({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Yf.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class em extends Af{constructor(){super(Jc(em.getDefaults(),arguments)),this.name="BitCrusherWorklet";var t=Jc(em.getDefaults(),arguments);this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this.bits=new Hp({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Af.getDefaults(),{bits:12})}_audioWorkletName(){return"bit-crusher"}onReady(t){zp(this.input,t,this.output);t=t.parameters.get("bits");this.bits.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class im extends Yf{constructor(){super(Jc(im.getDefaults(),arguments,["order"])),this.name="Chebyshev";var t=Jc(im.getDefaults(),arguments,["order"]);this._shaper=new Rd({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Yf.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,i){return i.has(e)||(0===e?i.set(e,0):1===e?i.set(e,t):i.set(e,2*t*this._getCoefficient(t,e-1,i)-this._getCoefficient(t,e-2,i))),i.get(e)}get order(){return this._order}set order(e){this._order=e,this._shaper.setMap(t=>this._getCoefficient(t,e,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class nm extends Xp{constructor(){super(Jc(nm.getDefaults(),arguments,["channels"])),this.name="Split";var t=Jc(nm.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Xp.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class rm extends Xp{constructor(){super(Jc(rm.getDefaults(),arguments,["channels"])),this.name="Merge";var t=Jc(rm.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(Xp.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class sm extends Xp{constructor(t){super(t),this.name="StereoEffect",this.input=new Wp({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new qf({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new nm({context:this.context,channels:2}),this._merge=new rm({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),mp(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),zp(...t),qp(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),zp(...t),qp(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Xp.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class om extends sm{constructor(t){super(t),this.feedback=new Qp({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new Wp({context:this.context}),this._feedbackR=new Wp({context:this.context}),this._feedbackSplit=new nm({context:this.context,channels:2}),this._feedbackMerge=new rm({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),mp(this,["feedback"])}static getDefaults(){return Object.assign(sm.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class am extends om{constructor(){super(Jc(am.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";var t=Jc(am.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new jd({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new jd({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new nd({context:this.context}),this._delayNodeR=new nd({context:this.context}),this.frequency=this._lfoL.frequency,mp(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(om.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;t=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-t,0),this._lfoL.max=this._delayTime+t,this._lfoR.min=Math.max(this._delayTime-t,0),this._lfoR.max=this._delayTime+t}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class hm extends Yf{constructor(){super(Jc(hm.getDefaults(),arguments,["distortion"])),this.name="Distortion";var t=Jc(hm.getDefaults(),arguments,["distortion"]);this._shaper=new Rd({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Yf.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){const e=100*(this._distortion=t),i=Math.PI/180;this._shaper.setMap(t=>Math.abs(t)<.001?0:(3+e)*t*20*i/(Math.PI+e*Math.abs(t)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class lm extends Yf{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Wp({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,mp(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Yf.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class um extends lm{constructor(){super(Jc(um.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";var t=Jc(um.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new nd({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),mp(this,"delayTime")}static getDefaults(){return Object.assign(lm.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class cm extends Xp{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this.offset90=new Wp({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),zp(this.input,...this._bank0,this._oneSampleDelay,this.output),zp(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map(t=>{t=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(t[0],t[1])})}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach(t=>t.disconnect()),this._bank1.forEach(t=>t.disconnect()),this._oneSampleDelay.disconnect(),this}}class pm extends Yf{constructor(){super(Jc(pm.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";var t=Jc(pm.getDefaults(),arguments,["frequency"]);this.frequency=new Qp({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new wd({context:this.context,type:"sine"}),this._cosine=new Pd({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Md({context:this.context}),this._cosineMultiply=new Md({context:this.context}),this._negate=new Zd({context:this.context}),this._add=new Gd({context:this.context}),this._phaseShifter=new cm({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);t=this.immediate();this._sine.start(t),this._cosine.start(t)}static getDefaults(){return Object.assign(Yf.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const dm=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],fm=[225,556,441,341];class mm extends sm{constructor(){super(Jc(mm.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const i=Jc(mm.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Qp({context:this.context,value:i.roomSize,units:"normalRange"}),this._allpassFiltersL=fm.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._allpassFiltersR=fm.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._combFilters=dm.map((t,e)=>{t=new Cf({context:this.context,dampening:i.dampening,delayTime:t});return e<dm.length/2?this.connectEffectLeft(t,...this._allpassFiltersL):this.connectEffectRight(t,...this._allpassFiltersR),this.roomSize.connect(t.resonance),t}),mp(this,["roomSize"])}static getDefaults(){return Object.assign(sm.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach(t=>t.dampening=e)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(t=>t.disconnect()),this._allpassFiltersR.forEach(t=>t.disconnect()),this._combFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this}}const gm=[.06748,.06404,.08212,.09004],_m=[.773,.802,.753,.733],ym=[347,113,37];class vm extends sm{constructor(){super(Jc(vm.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];var t=Jc(vm.getDefaults(),arguments,["roomSize"]);this.roomSize=new Qp({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new Ud({context:this.context,min:-.733,max:.197}),this._allpassFilters=ym.map(t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e}),this._feedbackCombFilters=gm.map((t,e)=>{const i=new wf({context:this.context,delayTime:t});return this._scaleRoomSize.connect(i.resonance),i.resonance.value=_m[e],e<gm.length/2?this.connectEffectLeft(...this._allpassFilters,i):this.connectEffectRight(...this._allpassFilters,i),i}),this.roomSize.connect(this._scaleRoomSize),mp(this,["roomSize"])}static getDefaults(){return Object.assign(sm.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(t=>t.disconnect()),this._feedbackCombFilters.forEach(t=>t.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class bm extends om{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),mp(this,["feedback"])}}class xm extends bm{constructor(){super(Jc(xm.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";var t=Jc(xm.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new nd({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new nd({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new nd({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Qp({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),mp(this,["delayTime"])}static getDefaults(){return Object.assign(bm.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class Tm extends lm{constructor(){super(Jc(Tm.getDefaults(),arguments,["pitch"])),this.name="PitchShift";var t=Jc(Tm.getDefaults(),arguments,["pitch"]);this._frequency=new Qp({context:this.context}),this._delayA=new nd({maxDelay:1,context:this.context}),this._lfoA=new jd({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new nd({maxDelay:1,context:this.context}),this._lfoB=new jd({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new qf({context:this.context}),this._crossFadeLFO=new jd({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new nd({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,mp(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(lm.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;e=t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,Pp(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,Pp(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Em extends sm{constructor(){super(Jc(Em.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";var t=Jc(Em.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new jd({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new jd({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Qp({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),mp(this,["frequency","Q"])}static getDefaults(){return Object.assign(sm.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,i){const n=[];for(let t=0;t<e;t++){const e=this.context.createBiquadFilter();e.type="allpass",this.Q.connect(e.Q),i.connect(e.frequency),n.push(e)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;t=this._baseFrequency*Math.pow(2,t);this._lfoL.max=t,this._lfoR.max=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach(t=>t.disconnect()),this._filtersR.forEach(t=>t.disconnect()),this.frequency.dispose(),this}}class Sm extends Yf{constructor(){super(Jc(Sm.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();var t=Jc(Sm.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Yf.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){Pc(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){Pc(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return zc(this,void 0,void 0,function*(){const t=this.ready,e=new vp(2,this._decay+this._preDelay,this.context.sampleRate),i=new xd({context:e}),n=new xd({context:e}),r=new rm({context:e});i.connect(r,0,0),n.connect(r,0,1);const s=new Wp({context:e}).toDestination();r.connect(s),i.start(0),n.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(_p),yield t,this._convolver.buffer=(yield o).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Am extends Xp{constructor(){super(Jc(Am.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new nm({channels:2,context:this.context}),this._midAdd=new Gd({context:this.context}),this.mid=new Md({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Qd({context:this.context}),this.side=new Md({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class wm extends Xp{constructor(){super(Jc(wm.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Wp({context:this.context}),this.side=new Wp({context:this.context}),this._left=new Gd({context:this.context}),this._leftMult=new Md({context:this.context,value:Math.SQRT1_2}),this._right=new Qd({context:this.context}),this._rightMult=new Md({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new rm({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Pm extends Yf{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new wm({context:this.context}),this._midSideSplit=new Am({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Cm extends Pm{constructor(){super(Jc(Cm.getDefaults(),arguments,["width"])),this.name="StereoWidener";var t=Jc(Cm.getDefaults(),arguments,["width"]);this.width=new Qp({context:this.context,value:t.width,units:"normalRange"}),mp(this,["width"]),this._twoTimesWidthMid=new Md({context:this.context,value:2}),this._twoTimesWidthSide=new Md({context:this.context,value:2}),this._midMult=new Md({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Qd({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),qp(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Md({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Pm.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Rm extends sm{constructor(){super(Jc(Rm.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";var t=Jc(Rm.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new jd({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new jd({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Wp({context:this.context}),this._amplitudeR=new Wp({context:this.context}),this.frequency=new Qp({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new Qp({context:this.context,value:t.depth,units:"normalRange"}),mp(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(sm.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Om extends Yf{constructor(){super(Jc(Om.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";var t=Jc(Om.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new nd({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new jd({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,mp(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Yf.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Mm extends Xp{constructor(){super(Jc(Mm.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];var e=Jc(Mm.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Wp({context:this.context}),this._split=new nm({context:this.context,channels:e.channels}),this.input.connect(this._split),Pc(e.channels,1);for(let t=0;t<e.channels;t++)this._analysers[t]=this.context.createAnalyser(),this._split.connect(this._analysers[t],t,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(Xp.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((t,e)=>{e=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(e):"waveform"===this._type&&t.getFloatTimeDomainData(e)}),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(i){this._analysers.forEach((t,e)=>{t.fftSize=2*i,this._buffers[e]=new Float32Array(i)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){wc("waveform"===t||"fft"===t,"Analyser: invalid type: "+t),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(t=>t.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Im extends Xp{constructor(){super(Jc(Im.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Mm({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Dm extends Im{constructor(){super(Jc(Dm.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;var t=Jc(Dm.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Mm({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Im.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Ic("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map(t=>{var e=t.reduce((t,e)=>t+e*e,0),t=Math.sqrt(e/t.length);return this._rms=Math.max(t,this._rms*this.smoothing),this.normalRange?this._rms:wp(this._rms)});return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class km extends Im{constructor(){super(Jc(km.getDefaults(),arguments,["size"])),this.name="FFT";var t=Jc(km.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(Xp.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map(t=>this.normalRange?Ap(t):t)}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return wc(0<=t&&t<this.size,"index must be greater than or equal to 0 and less than "+this.size),t*this.context.sampleRate/(2*this.size)}}class Nm extends Im{constructor(){super(Jc(Nm.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Fm extends Im{constructor(){super(Jc(Fm.getDefaults(),arguments,["size"])),this.name="Waveform";var t=Jc(Fm.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(Im.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Lm extends Xp{constructor(){super(Jc(Lm.getDefaults(),arguments,["solo"])),this.name="Solo";var t=Jc(Lm.getDefaults(),arguments,["solo"]);this.input=this.output=new Wp({context:this.context}),Lm._allSolos.has(this.context)||Lm._allSolos.set(this.context,new Set),Lm._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(Xp.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Lm._allSolos.get(this.context).forEach(t=>t._updateSolo())}get muted(){return 0===this.input.gain.value}_addSolo(){Lm._soloed.has(this.context)||Lm._soloed.set(this.context,new Set),Lm._soloed.get(this.context).add(this)}_removeSolo(){Lm._soloed.has(this.context)&&Lm._soloed.get(this.context).delete(this)}_isSoloed(){return Lm._soloed.has(this.context)&&Lm._soloed.get(this.context).has(this)}_noSolos(){return!Lm._soloed.has(this.context)||Lm._soloed.has(this.context)&&0===Lm._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Lm._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Lm._allSolos=new Map,Lm._soloed=new Map;class Bm extends Xp{constructor(){super(Jc(Bm.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";var t=Jc(Bm.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Zf({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new dd({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,mp(this,["pan","volume"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Gm extends Xp{constructor(){super(Jc(Gm.getDefaults(),arguments,["volume","pan"])),this.name="Channel";var t=Jc(Gm.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Lm({solo:t.solo,context:this.context}),this._panVol=this.output=new Bm({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),mp(this,["pan","volume"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Gm.buses.has(t)||Gm.buses.set(t,new Wp({context:this.context})),Gm.buses.get(t)}send(t,e=0){const i=this._getBus(t),n=new Wp({context:this.context,units:"decibels",gain:e});return this.connect(n),n.connect(i),n}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Gm.buses=new Map;class Um extends Xp{constructor(){super(Jc(Um.getDefaults(),arguments)),this.name="Mono",this.input=new Wp({context:this.context}),this._merge=this.output=new rm({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Vm extends Xp{constructor(){super(Jc(Vm.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Wp({context:this.context}),this.output=void 0,this.low=new df({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new df({context:this.context,frequency:0,type:"highpass"}),this.mid=new df({context:this.context,frequency:0,type:"lowpass"}),this.high=new df({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];var t=Jc(Vm.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Qp({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new Qp({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new Qp({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),mp(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),gp(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class jm extends Xp{constructor(){super(...arguments),this.name="Listener",this.positionX=new Hp({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Hp({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Hp({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Hp({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Hp({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Hp({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Hp({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Hp({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Hp({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Xp.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}lp(t=>{t.listener=new jm({context:t})}),cp(t=>{t.listener.dispose()});class Hm extends Xp{constructor(){super(Jc(Hm.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";var t=Jc(Hm.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Hp({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Hp({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Hp({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Hp({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Hp({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Hp({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(Xp.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,i){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=i,this}setOrientation(t,e,i){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=i,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Xm extends Xp{constructor(){super(Jc(Xm.getDefaults(),arguments)),this.name="Recorder";var t=Jc(Xm.getDefaults(),arguments);this.input=new Wp({context:this.context}),wc(Xm.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return Xp.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==jc&&Reflect.has(jc,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return zc(this,void 0,void 0,function*(){wc("started"!==this.state,"Recorder is already started");var t=new Promise(t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)});return this._recorder.start(),yield t})}stop(){return zc(this,void 0,void 0,function*(){wc("stopped"!==this.state,"Recorder is not started");var t=new Promise(e=>{const i=t=>{this._recorder.removeEventListener("dataavailable",i,!1),e(t.data)};this._recorder.addEventListener("dataavailable",i,!1)});return this._recorder.stop(),yield t})}pause(){return wc("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class zm extends Xp{constructor(){super(Jc(zm.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;var t=Jc(zm.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Hp({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Hp({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Hp({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Hp({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Hp({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),mp(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class qm extends Xp{constructor(){super(Object.assign(Jc(qm.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";var t=Jc(qm.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Kf({context:this.context,smoothing:t.smoothing}),this._gt=new Jd({context:this.context,value:Ap(t.threshold)}),this.input=new Wp({context:this.context}),this._gate=this.output=new Wp({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(Xp.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return wp(this._gt.value)}set threshold(t){this._gt.value=Ap(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Ym extends Xp{constructor(){super(Object.assign(Jc(Ym.getDefaults(),arguments,["threshold"]))),this.name="Limiter";var t=Jc(Ym.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new zm({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,mp(this,"threshold")}static getDefaults(){return Object.assign(Xp.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Wm extends Xp{constructor(){super(Object.assign(Jc(Wm.getDefaults(),arguments))),this.name="MidSideCompressor";var t=Jc(Wm.getDefaults(),arguments);this._midSideSplit=this.input=new Am({context:this.context}),this._midSideMerge=this.output=new wm({context:this.context}),this.mid=new zm(Object.assign(t.mid,{context:this.context})),this.side=new zm(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),mp(this,["mid","side"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class $m extends Xp{constructor(){super(Object.assign(Jc($m.getDefaults(),arguments))),this.name="MultibandCompressor";var t=Jc($m.getDefaults(),arguments);this._splitter=this.input=new Vm({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Wp({context:this.context}),this.low=new zm(Object.assign(t.low,{context:this.context})),this.mid=new zm(Object.assign(t.mid,{context:this.context})),this.high=new zm(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),mp(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Xp.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Zm extends Xp{constructor(){super(Jc(Zm.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Wp({context:this.context}),this._internalChannels=[];var t=Jc(Zm.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Vm({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Wp({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new Wp({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new Wp({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),mp(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(Xp.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),gp(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Qm extends Xp{constructor(){super(Jc(Qm.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const e=Jc(Qm.getDefaults(),arguments,["url","onload"]);this._buffer=new yp(e.url,t=>{this.buffer=t,e.onload()}),this.input=new Wp({context:this.context}),this.output=new Wp({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(Xp.getDefaults(),{normalize:!0,onload:_p})}load(t){return zc(this,void 0,void 0,function*(){this.buffer=yield this._buffer.load(t)})}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));t=this._buffer.get();this._convolver.buffer=t||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Km(){return Tp().now()}function Jm(){return Tp().immediate()}const tg=Tp().transport;function eg(){return Tp().transport}const ig=Tp().destination,ng=Tp().destination;function rg(){return Tp().destination}const sg=Tp().listener;function og(){return Tp().listener}const ag=Tp().draw;function hg(){return Tp().draw}const lg=Tp();function ug(){return yp.loaded()}const cg=yp,pg=sd,dg=bd}],n={},r.m=i,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=9);function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var i,n},"object"==typeof i&&"object"==typeof e?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof i?i.Tone=r():n.Tone=r()},{}],66:[function(t,e,i){"use strict";var w=t("punycode"),P=t("./util");function x(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=r,i.resolve=function(t,e){return r(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},i.format=function(t){P.isString(t)&&(t=r(t));return t instanceof x?t.format():x.prototype.format.call(t)},i.Url=x;var C=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,R=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),O=["'"].concat(i),M=["%","/","?",";","#"].concat(O),I=["/","?","#"],D=/^[+a-z0-9A-Z_-]{0,63}$/,k=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},F={javascript:!0,"javascript:":!0},L={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},B=t("querystring");function r(t,e,i){if(t&&P.isObject(t)&&t instanceof x)return t;var n=new x;return n.parse(t,e,i),n}x.prototype.parse=function(t,e,i){if(!P.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=-1!==n&&n<t.indexOf("#")?"?":"#",n=t.split(r);n[0]=n[0].replace(/\\/g,"/");var s=(s=t=n.join(r)).trim();if(!i&&1===t.split("#").length){var o=R.exec(s);if(o)return this.path=s,this.href=s,this.pathname=o[1],o[2]?(this.search=o[2],this.query=e?B.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var a,o=C.exec(s);if(o&&(A=(o=o[0]).toLowerCase(),this.protocol=A,s=s.substr(o.length)),(i||o||s.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(a="//"===s.substr(0,2))||o&&F[o]||(s=s.substr(2),this.slashes=!0)),!F[o]&&(a||o&&!L[o])){for(var h=-1,l=0;l<I.length;l++)-1!==(u=s.indexOf(I[l]))&&(-1===h||u<h)&&(h=u);-1!==(x=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(T=s.slice(0,x),s=s.slice(x+1),this.auth=decodeURIComponent(T));for(var u,h=-1,l=0;l<M.length;l++)-1!==(u=s.indexOf(M[l]))&&(-1===h||u<h)&&(h=u);-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var c="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!c)for(var p=this.hostname.split(/\./),l=0,d=p.length;l<d;l++){var f=p[l];if(f&&!f.match(D)){for(var m="",g=0,_=f.length;g<_;g++)127<f.charCodeAt(g)?m+="x":m+=f[g];if(!m.match(D)){var y=p.slice(0,l),v=p.slice(l+1),b=f.match(k);b&&(y.push(b[1]),v.unshift(b[2])),v.length&&(s="/"+v.join(".")+s),this.hostname=y.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),c||(this.hostname=w.toASCII(this.hostname));var x=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+x,this.href+=this.host,c&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!N[A])for(l=0,d=O.length;l<d;l++){var E,S=O[l];-1!==s.indexOf(S)&&((E=encodeURIComponent(S))===S&&(E=escape(S)),s=s.split(S).join(E))}c=s.indexOf("#");-1!==c&&(this.hash=s.substr(c),s=s.slice(0,c));var A,c=s.indexOf("?");return-1!==c?(this.search=s.substr(c),this.query=s.substr(c+1),e&&(this.query=B.parse(this.query)),s=s.slice(0,c)):e&&(this.search="",this.query={}),s&&(this.pathname=s),L[A]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(x=this.pathname||"",A=this.search||"",this.path=x+A),this.href=this.format(),this},x.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&P.isObject(this.query)&&Object.keys(this.query).length&&(s=B.stringify(this.query));s=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||L[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r=r||"",n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+r+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+n},x.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},x.prototype.resolveObject=function(t){P.isString(t)&&((d=new x).parse(t,!1,!0),t=d);for(var e=new x,i=Object.keys(this),n=0;n<i.length;n++){var r=i[n];e[r]=this[r]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var a=s[o];"protocol"!==a&&(e[a]=t[a])}return L[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!L[t.protocol]){for(var h=Object.keys(t),l=0;l<h.length;l++){var u=h[l];e[u]=t[u]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||F[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}return e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,(e.pathname||e.search)&&(f=e.pathname||"",m=e.search||"",e.path=f+m),e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var p=e.pathname&&"/"===e.pathname.charAt(0),d=t.host||t.pathname&&"/"===t.pathname.charAt(0),f=d||p||e.host&&t.pathname,m=f,g=e.pathname&&e.pathname.split("/")||[],c=t.pathname&&t.pathname.split("/")||[],p=e.protocol&&!L[e.protocol];if(p&&(e.hostname="",e.port=null,e.host&&(""===g[0]?g[0]=e.host:g.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),f=f&&(""===c[0]||""===g[0])),d)e.host=(t.host||""===t.host?t:e).host,e.hostname=(t.hostname||""===t.hostname?t:e).hostname,e.search=t.search,e.query=t.query,g=c;else if(c.length)(g=g||[]).pop(),g=g.concat(c),e.search=t.search,e.query=t.query;else if(!P.isNullOrUndefined(t.search))return p&&(e.hostname=e.host=g.shift(),(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),e.search=t.search,e.query=t.query,P.isNull(e.pathname)&&P.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.href=e.format(),e;if(!g.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var _=g.slice(-1)[0],d=(e.host||t.host||1<g.length)&&("."===_||".."===_)||""===_,y=0,v=g.length;0<=v;v--)"."===(_=g[v])?g.splice(v,1):".."===_?(g.splice(v,1),y++):y&&(g.splice(v,1),y--);if(!f&&!m)for(;y--;)g.unshift("..");!f||""===g[0]||g[0]&&"/"===g[0].charAt(0)||g.unshift(""),d&&"/"!==g.join("/").substr(-1)&&g.push("");var b,d=""===g[0]||g[0]&&"/"===g[0].charAt(0);return p&&(e.hostname=e.host=!d&&g.length?g.shift():"",(b=!!(e.host&&0<e.host.indexOf("@"))&&e.host.split("@"))&&(e.auth=b.shift(),e.host=e.hostname=b.shift())),(f=f||e.host&&g.length)&&!d&&g.unshift(""),g.length?e.pathname=g.join("/"):(e.pathname=null,e.path=null),P.isNull(e.pathname)&&P.isNull(e.search)||(e.path=(e.pathname||"")+(e.search||"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},x.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":67,punycode:58,querystring:61}],67:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],68:[function(t,e,i){"use strict";function n(t){this._data=new DataView(t),this._offset=2===this.version?24:20}n.isCompatible=function(t){var e;if(e=t&&"object"==typeof t&&"byteLength"in t){t=new DataView(t).getInt32(0,!0);if(1!==t&&2!==t)throw new TypeError("This waveform data version not supported.")}return e},n.prototype={get version(){return this._data.getInt32(0,!0)},get bits(){return Boolean(this._data.getUint32(4,!0))?8:16},get channels(){return 2===this.version?this._data.getInt32(20,!0):1},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},get length(){return this._data.getUint32(16,!0)},at:function(t){return this._data.getInt8(this._offset+t)},concatBuffers:function(){for(var t=Array.prototype.slice.call(arguments),e=this._offset,i=e,n=0,r=[this].concat(t).map(function(t){return t._data.buffer}),s=0;s<r.length;s++){var o=r[s],a=new DataView(o).getInt32(16,!0);i+=o.byteLength-e,n+=a}var t=new ArrayBuffer(i),h=new DataView(r[0]),l=new DataView(t);for(s=0;s<e;s++)l.setUint8(s,h.getUint8(s));l.setInt32(16,n,!0);var u=0,c=new Uint8Array(t,e);for(s=0;s<r.length;s++)o=r[s],c.set(new Uint8Array(o,e),u),u+=o.byteLength-e;return t}},e.exports=n},{}],69:[function(t,e,i){"use strict";function n(t){this._data=t}n.isCompatible=function(t){return t&&"object"==typeof t&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t},n.prototype={get version(){return this._data.version||1},get bits(){return this._data.bits},get channels(){return this._data.channels||1},get sample_rate(){return this._data.sample_rate},get scale(){return this._data.samples_per_pixel},get length(){return this._data.length},at:function(t){var e=this._data.data;if(0<=t&&t<e.length)return e[t];throw new RangeError("Invalid index: "+t)},concatBuffers:function(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return t._data.data}),i=Object.assign({},this._data);return i.data=i.data.concat.apply(i.data,e),i.length+=t.reduce(function(t,e){return t+e.length},0),i}},e.exports=n},{}],70:[function(t,e,i){"use strict";var s=t("../core"),r=t("inline-worker");function o(t,i){var n=new r(function(){this.addEventListener("message",function t(e){for(var i,n,r=e.data.scale,s=e.data.amplitude_scale,o=e.data.split_channels,a=e.data.audio_buffer,h=a.channels,l=o?h.length:1,u=1===l?1:2,c=1==u?20:24,o=(i=a.length,e=r,o=Math.floor(i/e),0<i-o*e&&o++,o),p=new DataView(new ArrayBuffer(c+2*o*l)),d=0,f=a.length,m=c,g=new Array(l),_=new Array(l),y=0;y<l;y++)g[y]=1/0,_[y]=-1/0;for(p.setInt32(0,u,!0),p.setUint32(4,1,!0),p.setInt32(8,a.sampleRate,!0),p.setInt32(12,r,!0),p.setInt32(16,o,!0),2==u&&p.setInt32(20,l,!0),n=0;n<f;n++){var v=0;if(1===l){for(y=0;y<h.length;++y)v+=h[y][n];(v=Math.floor(127*v*s/h.length))<g[0]&&(g[0]=v,g[0]<-128&&(g[0]=-128)),v>_[0]&&(_[0]=v,127<_[0]&&(_[0]=127))}else for(y=0;y<l;++y)(v=Math.floor(127*h[y][n]*s))<g[y]&&(g[y]=v,g[y]<-128&&(g[y]=-128)),v>_[y]&&(_[y]=v,127<_[y]&&(_[y]=127));if(++d===r){for(y=0;y<l;y++)p.setInt8(m++,g[y]),p.setInt8(m++,_[y]),g[y]=1/0,_[y]=-1/0;d=0}}if(0<d)for(y=0;y<l;y++)p.setInt8(m++,g[y]),p.setInt8(m++,_[y]);this.postMessage(p),this.removeEventListener("message",t),this.close()})});n.addEventListener("message",function t(e){i(e.data),n.removeEventListener("message",t)}),n.postMessage(t)}e.exports=function(n,r){return function(e){for(var t={length:e.length,sampleRate:e.sampleRate,channels:[]},i=0;i<e.numberOfChannels;++i)t.channels[i]=e.getChannelData(i);o({scale:n.scale,amplitude_scale:n.amplitude_scale,split_channels:n.split_channels,audio_buffer:t},function(t){r(null,new s(t.buffer),e)})}}},{"../core":74,"inline-worker":46}],71:[function(t,e,i){"use strict";var n=512,r=1,s=!1;e.exports=function(t){if(Object.prototype.hasOwnProperty.call(t,"scale_adjuster"))throw new Error("Please rename the 'scale_adjuster' option to 'amplitude_scale'");return{scale:t.scale||n,amplitude_scale:t.amplitude_scale||r,split_channels:t.split_channels||s}}},{}],72:[function(t,e,i){"use strict";var r=t("./audiodecoder"),n=t("./options");function s(t,e,i,n){t.decodeAudioData(e,r(i,n),function(t){t=t||new DOMException("EncodingError"),n(t)})}e.exports=function(t,e){var i=n(t);if(t.audio_context&&t.array_buffer)return s(t.audio_context,t.array_buffer,i,e);if(t.audio_buffer)return t=t.audio_buffer,r(i,e)(t);throw new TypeError("Please pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")}},{"./audiodecoder":70,"./options":71}],73:[function(t,e,i){"use strict";function n(t,e){this._waveformData=t,this._channelIndex=e}n.prototype.min_sample=function(t){t=2*(t*this._waveformData.channels+this._channelIndex);return this._waveformData._adapter.at(t)},n.prototype.max_sample=function(t){t=2*(t*this._waveformData.channels+this._channelIndex)+1;return this._waveformData._adapter.at(t)},n.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex)},n.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex+1)},e.exports=n},{}],74:[function(t,e,i){"use strict";var n=t("./channel"),r=t("./adapters/object"),s=[t("./adapters/arraybuffer"),r];function b(t){var e=this._getAdapter(t);this._adapter=new e(t),this._channels=[];for(var i=0;i<this.channels;i++)this._channels[i]=new n(this,i)}b.create=function(t){return new b(t)},b.prototype={_getAdapter:function(e){var i=null;if(s.some(function(t){if(t.isCompatible(e))return i=t,!0}),null===i)throw new TypeError("Could not detect a WaveformData adapter from the input.");return i},resample:function(i){(i="number"==typeof i?{width:i}:i).input_index="number"==typeof i.input_index?i.input_index:null,i.output_index="number"==typeof i.output_index?i.output_index:null,i.scale="number"==typeof i.scale?i.scale:null,i.width="number"==typeof i.width?i.width:null;var t=Boolean(i.input_index)||Boolean(i.output_index);if(null!=i.input_index&&i.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+i.input_index+"]");if(null!=i.output_index&&i.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+i.output_index+"]");if(null!=i.width&&i.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+i.width+"]");if(null!=i.scale&&i.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+i.scale+"]");if(!i.scale&&!i.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var e=["width","scale","output_index","input_index"].reduce(function(t,e){return t+(null===i[e]?0:1)},0);if(t&&4!==e)throw new Error("Some partial resampling options are missing. You provided "+e+" of them over 4.");for(var n=[],r=i.scale||Math.floor(this.duration*this.sample_rate/i.width),s=this.scale,o=2*this.channels,a=this.length,h=i.input_index||0,l=i.output_index||0,u=this.channels,c=new Array(u),p=new Array(u),d=0;d<u;++d)0<a?(c[d]=this.channel(d).min_sample(h),p[d]=this.channel(d).max_sample(h)):(c[d]=0,p[d]=0);var f,m,g,_;if(r<s)throw new Error("Zoom level "+r+" too low, minimum: "+s);function y(t){return Math.floor(t*r)}function v(t,e){n.push(t,e)}for(;h<a;){for(;Math.floor(y(l)/s)<=h;){if(0<l)for(d=0;d<u;++d)v(c[d],p[d]);if(_=h,(f=y(++l))!==y(l-1))for(d=0;d<u;++d)c[d]=127,p[d]=-128}for(f=y(l),a<(m=Math.floor(f/s))&&(m=a);h<m;){for(d=0;d<u;++d)(g=this.channel(d).min_sample(h))<c[d]&&(c[d]=g),(g=this.channel(d).max_sample(h))>p[d]&&(p[d]=g);h++}if(t&&n.length/o>=i.width)break}if(t){if(n.length/o>i.width&&h!==_)for(d=0;d<u;++d)v(c[d],p[d])}else if(h!==_)for(d=0;d<u;++d)v(c[d],p[d]);return new b({version:this._adapter.version,bits:this.bits,samples_per_pixel:r,length:n.length/o,data:n,sample_rate:this.sample_rate,channels:u})},concat:function(){var e=this,t=Array.prototype.slice.call(arguments);t.forEach(function(t){if(e.channels!==t.channels||e.sample_rate!==t.sample_rate||e.scale!==t.scale||Object.getPrototypeOf(e._adapter)!==Object.getPrototypeOf(t._adapter)||e._adapter.version!==t._adapter.version)throw new Error("Waveforms are incompatible")});t=t.map(function(t){return t._adapter});return new b(this._adapter.concatBuffers.apply(this._adapter,t))},_offsetValues:function(t,e,i){var n=this._adapter,r=[],s=this.channels;i+=t*s*2;for(var o=0;o<e;o++)r.push(n.at(o*s*2+i));return r},get length(){return this._adapter.length},get bits(){return this._adapter.bits},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._adapter.channels},channel:function(t){if(0<=t&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._adapter.sample_rate},get scale(){return this._adapter.scale},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate}},e.exports=b},{"./adapters/arraybuffer":68,"./adapters/object":69,"./channel":73}],75:[function(t,e,i){"use strict";var n=t("./lib/core");n.createFromAudio=t("./lib/builders/webaudio"),e.exports=n},{"./lib/builders/webaudio":72,"./lib/core":74}],76:[function(t,e,i){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=d(t("lottie-web"));t("jquery-mousewheel"),t("jquery-ui");var s=n(t("pixi.js"));t("@pixi/math-extras");var a=n(t("tone")),h=d(t("waveform-data")),l=d(t("screenfull/dist/screenfull")),u=t("gsap"),c=t("@pixi-essentials/cull");function p(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(p=function(t){return t?i:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==o(t)&&"function"!=typeof t)return{default:t};e=p(e);if(e&&e.has(t))return e.get(t);var i,n,r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&((n=s?Object.getOwnPropertyDescriptor(t,i):null)&&(n.get||n.set)?Object.defineProperty(r,i,n):r[i]=t[i]);return r.default=t,e&&e.set(t,r),r}function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t("./audio/BackgroundAudio"),t("./audio/LegendAudio"),t("./data/DataSvg"),t("./data/LegendSvg"),t("./interactions/NavigationInteraction"),t("./interactions/PanAndZoomInteraction"),t("./interactions/LegendInteraction"),t("./interactions/SpeakerMicroInteraction"),i.default=function t(){m(this,t)},window.osmo=window.osmo||{},osmo.Scroll=function(){function t(){m(this,t),console.log("osmo.Scroll - constructor"),this.PIXI,this.TONE,this.WAVEFORMDATA,this.TWEENMAX,this.POWER4,this.MAINSCREEN,this.mainApp,this.mainStage,this.mainScroll,this.mainScrollScale,this.navContainer,this.legendContainer,this.maskContainer,this.pixiHeight,this.pixiWidth,this.splashWidth,this.loaded={HQimage:!1,svgdata:!1,backgroundaudio:!1,legendaudio:!1},this.datasets={},this.includeSpecialCase=!1,this.pixiScale=2,this.Volume_db={min:-24,max:6},this.refPopupSize={width:1440,height:821},this.hitPopupMode="hovering",this.prevBoundsCenter=null,this.prevZoom=null,this.tonecontext=null,this.started=!1,this.init,this.initPixi,this.initModal,this.start,this.addActionButtons,this.loadHQ,this.loadMQ}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("osmo.Scroll - init"),osmo.scroll.PIXI=s,osmo.scroll.TONE=a,osmo.scroll.WAVEFORMDATA=h.default,osmo.scroll.TWEENMAX=u.TweenMax,osmo.scroll.POWER4=u.Power4,this.initPixi(),this.initTone(),this.renderAnimations(),this.addActionButtons(),this.initModal(!1),osmo.bgaudio=new osmo.BackgroundAudio,osmo.bgaudio.loadAudio();var t="./assets/data/dataSummary.json?v="+window.version;console.log("dataURL: "+t),$.getJSON(t,function(t){console.log("Loaded datasets summary"),osmo.scroll.datasets=t,osmo.legendaudio=new osmo.LegendAudio,osmo.legendaudio.loadAudio(),osmo.legendsvg=new osmo.LegendSvg,osmo.legendsvg.init()}),osmo.pzinteract=new osmo.PanAndZoomInteraction,osmo.pzinteract.init(),osmo.navinteract=new osmo.NavigationInteraction,osmo.navinteract.init(),osmo.legendinteract=new osmo.LegendInteraction,osmo.legendinteract.init(),$(".head-actions").mouseenter(function(){document.body.style.cursor="auto",$(".cursor-pointer-wrapper").css("opacity",0)}),$(".head-actions").mouseleave(function(){document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1)}),$(".nav").mouseenter(function(){document.body.style.cursor="auto",$(".cursor-pointer-wrapper").css("opacity",0)}),$(".nav").mouseleave(function(){document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1)}),$("#show-info").click(function(){window.open("https://osmoscape.com","_blank").focus()})}},{key:"start",value:function(){console.log("Starting the audio context"),this.TONE.start(),this.started=!0,$("#start-btn").hide();$(".pg-loading-html").empty(),$(".pg-loading-html").append($.parseHTML('<div id="percentage" style="color: #fff; font-weight: 400; font-family: \'Roboto\';"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #fff"></div><div class="sk-child sk-bounce2" style="background-color: #fff"></div><div class="sk-child sk-bounce3" style="background-color: #fff"></div></div>')),this.loadHQ()}},{key:"initPixi",value:function(){var t=this,e=document.getElementById("main-scroll-canvas");this.pixiHeight=e.offsetHeight,this.pixiWidth=e.offsetWidth;e=new s.Application({width:this.pixiWidth*this.pixiScale,height:this.pixiHeight*this.pixiScale,antialias:!0,backgroundAlpha:0,view:e});this.mainApp=e,this.mainStage=this.mainApp.stage,this.mainStage.scale.set(this.pixiScale,this.pixiScale),this.mainApp.renderer.plugins.interaction.interactionFrequency=50;var i=new c.Cull({recursive:!0,toggle:"renderable"});i.add(this.mainStage),this.mainApp.renderer.on("prerender",function(){i.cull(t.mainApp.renderer.screen)})}},{key:"initTone",value:function(){this.tonecontext=new this.TONE.Context({latencyHint:"playback"}),this.TONE.setContext(this.tonecontext)}},{key:"initModal",value:function(t){var e=document.querySelector(".modal"),i=document.querySelector(".close-button"),n=this;i.addEventListener("click",n.toggleModal),window.addEventListener("click",function(t){t.target===e&&n.toggleModal()}),$(document).keydown(function(t){27==t.keyCode&&n.toggleModal()}),t&&n.toggleModal()}},{key:"toggleModal",value:function(){document.querySelector(".modal").classList.toggle("show-modal")}},{key:"renderAnimations",value:function(){r.default.loadAnimation({container:document.getElementById("headphones"),renderer:"svg",loop:!0,autoplay:!0,path:"assets/12308-headphone.json"})}},{key:"addActionButtons",value:function(){$("#enter-fullscreen").on("click",function(t){console.log("Fullscreen button clicked");var e=$("#enter-fullscreen");e.toggleClass("on"),e.hasClass("on")?(console.log("screenfull to be enabled"),e.text("fullscreen_exit")):e.text("fullscreen"),l.default.toggle()}),$("#smi").hide();var e=60,i=setInterval(function(){var t=osmo.scroll.loaded.backgroundaudio;--e,t?(console.log("Downloaded large files"),$("#preload_spinner").remove(),$("#start-btn").show(),clearInterval(i)):(console.log("Waiting for backgroundAudio files to download: "+t),e<0&&(clearInterval(i),$("#preload_spinner").remove(),$(".pg-loading-html").empty(),$(".pg-loading-html").append($.parseHTML('<div id="error" style="color: #b97941; font-weight: 400; font-family: \'Roboto\';">Failed to download files, please exit and reopen!</div>'))))},1e3)}},{key:"loadHQ",value:function(){console.log("osmo.scroll.loadHQ - called"),console.log("loading High Quality Image");for(var t=this,e="./assets/images/SCROLL_cs6_ver23_APP_final_150ppi-LOW-",i=[],n=0;n<8;n++){var r=e+"0"+(n+1)+"-or8.png";i.push(r),console.log("Download path: "+r)}osmo.scroll.PIXI.Loader.shared.add(i).load(function(){console.log("Loaded HQ image"),t.onScrollData(e)})}},{key:"onScrollData",value:function(t){osmo.datasvg=new osmo.DataSvg,osmo.datasvg.init("High"),osmo.datasvg.initSplash(osmo.scroll.splashWidth),osmo.datasvg.initSVGscroll(t),osmo.scroll.loaded.HQimage=!0;var r=setInterval(function(){var t=osmo.scroll.loaded.backgroundaudio,e=osmo.scroll.loaded.legendaudio,i=osmo.scroll.loaded.HQimage,n=osmo.scroll.loaded.svgdata;t&&i&&n&&!e&&$("#percentage").html("Loading audio..."),t&&e&&i&&n?(console.log("All required data loaded"),clearInterval(r),osmo.navinteract.loadNav(),osmo.navinteract.initNav(),osmo.legendinteract.initMaskInteractions(),window.loading_screen.finish(),osmo.bgaudio.start(),document.body.style.cursor="none",$(".cursor-pointer-wrapper").css("opacity",1)):console.log("Waiting for data to complete loading -- backgroundAudio: "+t+" legendAudio: "+e+" HQimage: "+i+" SVGdata: "+n)},500)}},{key:"map",value:function(t,e,i,n,r){return n+(t-e)/(i-e)*(r-n)}}])&&f(e.prototype,i),n&&f(e,n),t}()},{"./audio/BackgroundAudio":77,"./audio/LegendAudio":78,"./data/DataSvg":80,"./data/LegendSvg":81,"./interactions/LegendInteraction":83,"./interactions/NavigationInteraction":85,"./interactions/PanAndZoomInteraction":86,"./interactions/SpeakerMicroInteraction":87,"@pixi-essentials/cull":2,"@pixi/math-extras":22,gsap:45,"jquery-mousewheel":49,"jquery-ui":50,"lottie-web":53,"pixi.js":55,"screenfull/dist/screenfull":62,tone:65,"waveform-data":75}],77:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.BackgroundAudio=function(){function t(){s(this,t),console.log("osmo.BackgroundAudio - constructor"),this.TONE=osmo.scroll.TONE,this.allTracksCount=0,this.currentTrack,this.introTrack,this.baseTracks={},this.allBackgroundTrackPaths=[]}var e,i,n;return e=t,(i=[{key:"start",value:function(){console.log("Starting the audio context"),this.TONE.start(),this.currentTrack="intro",this.introTrack.start()}},{key:"loadAudio",value:function(){var n=this;console.log("osmo.BackgroundAudio - loadAudio");for(var r=this,s="./assets/audio/tracks/Baseline_",t=0;t<7;t++)!function(t){var e=t+1,i=s+e+".mp3";n.allBackgroundTrackPaths.push(i);t=new n.TONE.Player({url:i,loop:!0,fadeOut:10,fadeIn:2,onload:function(){r.allTracksCount++,console.log(r.allTracksCount+" of "+r.allBackgroundTrackPaths.length+" Loaded audio file: "+i),r.allTracksCount==r.allBackgroundTrackPaths.length&&(osmo.scroll.loaded.backgroundaudio=!0)}}).toDestination();n.baseTracks["base"+e]=t}(t);var e="./assets/audio/tracks/Baseline_1.mp3";this.allBackgroundTrackPaths.push(e),this.introTrack=new this.TONE.Player({url:e,loop:!0,loopStart:0,loopEnd:20,fadeOut:4,fadeIn:2,onload:function(){r.allTracksCount++,console.log(r.allTracksCount+" of "+r.allBackgroundTrackPaths.length+" Loaded audio file: "+e),r.allTracksCount==r.allBackgroundTrackPaths.length&&(osmo.scroll.loaded.backgroundaudio=!0)}}).toDestination()}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],78:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.LegendAudio=function(){function t(){s(this,t),console.log("osmo.LegendAudio - constructor"),this.TONE=osmo.scroll.TONE,this.allTracksLoadedCount=0,this.allAudioPaths=[],this.audioPlayerInstances={}}var e,i,n;return e=t,(i=[{key:"loadAudio",value:function(){var n=this;console.log("osmo.LegendAudio - loadAudio");var t,r=this;for(t in osmo.scroll.datasets)!function(t){console.log("Load audio for "+t);var e=osmo.scroll.datasets[t].audiofile;n.allAudioPaths.push(e);var i=new n.TONE.Player({url:e,loop:!0,fadeOut:1,fadeIn:1,onload:function(){r.allTracksLoadedCount++,console.log(r.allTracksLoadedCount+" Loaded audio file: "+e),r.allTracksLoadedCount==Object.keys(osmo.scroll.datasets).length&&(osmo.scroll.loaded.legendaudio=!0)}}).toDestination();n.audioPlayerInstances[t]=i}(t)}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],79:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.SoundEffects=function(){function t(){s(this,t),console.log("osmo.SoundEffects - constructor"),this.TONE=osmo.scroll.TONE,this.crossfade,this.player,this.grainplayer,this.pitchshift,this.vibrato,this.delay,this.fft,this.delayRange,this.delayMin,this.freqRange,this.freqMin,this.depthRange,this.depthMin,this.pitchRange,this.pitchMin,this.detuneRange,this.detuneMin,this.grainSizeRange,this.grainSizeMin,this.loopStartRange,this.loopStartMin,this.loopEndRange,this.loopEndMin,this.currentFocus,this.effectData,this.csvData}var e,i,n;return e=t,(i=[{key:"init",value:function(t){console.log("osmo.SoundEffects - init"),this.crossfade=new this.TONE.CrossFade({fade:0}),this.player=new this.TONE.Player({loop:!0}),this.grainplayer=new this.TONE.GrainPlayer({loop:!0}),this.pitchshift=new this.TONE.PitchShift,this.vibrato=new this.TONE.Vibrato,this.delay=new this.TONE.Delay,this.fft=new this.TONE.FFT({size:16,smoothing:.75,normalRange:!1}),this.currentFocus=t,"effectData"in osmo.scroll.datasets[t]?this.effectData=osmo.scroll.datasets[t].effectData:this.effectData=null,"csvData"in osmo.scroll.datasets[t]?this.csvData=osmo.scroll.datasets[t].csvData:this.csvData=null,this.makeEffectChain(),this.setParameterRange()}},{key:"makeEffectChain",value:function(){this.player.connect(this.crossfade.a),this.grainplayer.connect(this.delay),this.delay.connect(this.vibrato),this.vibrato.connect(this.pitchshift),this.pitchshift.connect(this.crossfade.b),this.crossfade.connect(this.TONE.getDestination()),this.TONE.getDestination().connect(this.fft)}},{key:"setParameterRange",value:function(){null!==this.effectData&&"delay"in this.effectData?(this.delayRange=this.effectData.delay.max-this.effectData.delay.min,this.delayMin=this.effectData.delay.min):(this.delayRange=.59,this.delayMin=.01),null!==this.effectData&&"freq"in this.effectData?(this.freqRange=this.effectData.freq.max-this.effectData.freq.min,this.freqMin=this.effectData.freq.min):(this.freqRange=9.7,this.freqMin=.3),null!==this.effectData&&"depth"in this.effectData?(this.depthRange=this.effectData.depth.max-this.effectData.depth.min,this.depthMin=this.effectData.depth.min):(this.depthRange=1,this.depthMin=0),null!==this.effectData&&"pitchshift"in this.effectData?(this.pitchRange=this.effectData.pitchshift.max-this.effectData.pitchshift.min,this.pitchMin=this.effectData.pitchshift.min):(this.pitchRange=48,this.pitchMin=-24),null!==this.effectData&&"detune"in this.effectData?(this.detuneRange=this.effectData.detune.max-this.effectData.detune.min,this.detuneMin=this.effectData.detune.min):(this.detuneRange=48,this.detuneMin=-24),null!==this.effectData&&"grainsize"in this.effectData?(this.grainSizeRange=this.effectData.grainsize.max-this.effectData.grainsize.min,this.grainSizeMin=this.effectData.grainsize.min):(this.grainSizeRange=2.99,this.grainSizeMin=.01),this.loopStartRange=this.grainplayer.buffer.length/2,this.loopStartMin=0,this.loopEndRange=this.grainplayer.buffer.length/2,this.loopEndMin=this.grainplayer.buffer.length/2}},{key:"changeParameters",value:function(t,e){null!==this.effectData&&"invertY"in this.effectData&&(t.ny=1-t.ny,t.navg=(t.nx+t.ny)/2),null!==this.effectData&&"invertX"in this.effectData&&(t.nx=1-t.nx,t.navg=(t.nx+t.ny)/2),console.log("Shape hit: ",e),e&&null!==this.csvData?(t.ny=this.csvData[e],t.nx=this.csvData[e],t.navg=this.csvData[e]):"1"===this.currentFocus&&(t.navg=(4*t.nx+t.ny)/5,t.nx=t.navg,t.ny=t.navg),this.delay.delayTime.rampTo(t.navg*this.delayRange+this.delayMin,.1),this.vibrato.frequency.rampTo(t.ny*this.freqRange+this.freqMin,.1),this.vibrato.depth.rampTo(t.nx*this.depthRange+this.depthMin,.1),this.pitchshift.pitch=t.ny*this.pitchRange+this.pitchMin,this.grainplayer.detune=t.nx*this.detuneRange+this.detuneMin,this.grainplayer.grainSize=t.ny*this.grainSizeRange+this.grainSizeMin}},{key:"setNewBuffer",value:function(t,e){var i=osmo.legendaudio.audioPlayerInstances[t].buffer,t=osmo.scroll.datasets[t].ch.slice(-1);console.log("chapter: ",t),this.grainplayer.buffer=i,this.player.buffer=i,this.grainplayer.volume.rampTo(this.effectData.loopVolume,1),this.player.volume.rampTo(this.effectData.loopVolume,1),this.player.start(),this.grainplayer.start()}},{key:"stopPlayers",value:function(){this.player.stop(),this.grainplayer.stop()}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],80:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.DataSvg=function(){function t(){s(this,t),console.log("osmo.DataSvg - constructor"),this.PIXI=osmo.scroll.PIXI,this.quality,this.scrollWidth,this.scrollHeight,this.scale,this.mainScroll,this.backgroundContainer,this.init,this.initSplash,this.createTriangle}var e,i,n;return e=t,(i=[{key:"init",value:function(t){console.log("osmo.DataSvg - init"),this.quality=t,this.backgroundContainer=new this.PIXI.Container,osmo.scroll.mainStage.addChild(this.backgroundContainer)}},{key:"initSVGscroll",value:function(t){var e=[];osmo.scroll.mainScroll={};for(var i=0;i<8;i++){var n=i+1,r=t+"0"+n+"-or8.png";console.log("Loading scroll part - "+r);r=new this.PIXI.Sprite(this.PIXI.Loader.shared.resources[r].texture);e.push(r),osmo.scroll.mainScroll["part"+n]=r}var s=osmo.scroll.pixiHeight/e[0].height;osmo.scroll.mainScrollScale=s,console.log("MAIN SCALE: "+s);for(var o=0;o<8;o++)e[o].scale.set(s,s);this.scrollWidth=8*e[0].width,this.scrollHeight=osmo.scroll.pixiHeight,e[0].x=3*osmo.scroll.pixiWidth/4;for(var a=1;a<8;a++)e[a].x=e[a-1].x+e[0].width;for(var h=0;h<8;h++)this.backgroundContainer.addChild(e[h])}},{key:"initSplash",value:function(i){console.log("osmo.DataSvg - initSplash");var n=this,r="./assets/images/OsmoSplashNew.png";n.PIXI.Loader.shared.add(r).load(function(){console.log("Loaded sprite");var t=new n.PIXI.Sprite(n.PIXI.Loader.shared.resources[r].texture);n.backgroundContainer.addChild(t);var e=i/t.width;t.scale.set(e,e),t.anchor.x=.5,t.anchor.y=.5,t.x=osmo.scroll.pixiWidth/2,t.y=osmo.scroll.pixiHeight/2})}},{key:"createTriangle",value:function(t,e,i,n){var r=new this.PIXI.Graphics;r.x=t,r.y=e;t=i,e=t,i=t/2;return r.beginFill(n,1),r.lineStyle(0,n,1),r.moveTo(t,0),r.lineTo(i,e),r.lineTo(0,0),r.lineTo(i,0),r.endFill(),r}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],81:[function(t,e,i){"use strict";function d(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(i="Object"===i&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,e=function(){};return{s:e,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,o=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){o=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(o)throw r}}}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.LegendSvg=function(){function t(){s(this,t),console.log("osmo.Legend - constructor"),this.PIXI=osmo.scroll.PIXI,this.TWEENMAX=osmo.scroll.TWEENMAX,this.POWER4=osmo.scroll.POWER4,this.mergedPolygons={},this.mergedSoundAreas={},this.allSVGDataPromises=[],this.popupBBoxes={},this.maskAreas=[],this.legendFiles=[],this.maskContainer,this.legendContainer,this.maskAlpha=0,this.highlightTweens=[],this.removeHighlightTweens=[],this.cursorTextTimeout=null,this.cursorLoading=null,this.legendClicksCount=0,this.highlightedLegendId=null,this.init,this.loadDatasets}var e,i,n;return e=t,(i=[{key:"init",value:function(){var e=this;console.log("osmo.Legend - init");var t=setInterval(function(){osmo.datasvg&&(null==osmo.scroll.mainScroll||jQuery.isEmptyObject(e.mergedPolygons)||jQuery.isEmptyObject(e.mergedSoundAreas)||(clearInterval(t),e.loadDatasets()))},1e3),i="./assets/data/mergedPolygons.json?v="+window.version;console.log("mergedPolygonsURL: "+i),$.getJSON(i,function(t){e.mergedPolygons=t,console.log("Loaded polygons file")});i="./assets/data/mergedSoundAreas.json?v="+window.version;console.log("mergedSoundAreasURL: "+i),$.getJSON(i,function(t){e.mergedSoundAreas=t,console.log("Loaded sound areas")}),this.legendContainer=new this.PIXI.Container,this.maskContainer=new this.PIXI.Container,this.maskContainer.sortableChildren=!0,this.maskContainer.visible=!0,this.legendContainer.visible=!1,osmo.scroll.mainStage.addChild(this.legendContainer,this.maskContainer)}},{key:"loadDataset",value:function(t){var e,i,n,r,s,o;osmo.scroll.datasets.hasOwnProperty(t)&&(console.log("Loading data for : "+t),e=JSON.parse(this.mergedPolygons[t]),o=osmo.scroll.datasets[t].legendpngpath,i=osmo.scroll.datasets[t].title,s=osmo.scroll.datasets[t].zorder,osmo.scroll.datasets[t].hasOwnProperty("popdimensions")&&osmo.scroll.datasets[t].hasOwnProperty("boundingbox")&&(console.log("Loading dimensions for : "+t),r=osmo.scroll.datasets[t].popdimensions,n=osmo.scroll.datasets[t].boundingbox,this.popupBBoxes[t]={mask:null,legend:null,paths:[],rects:[],boundingbox:n,dimensions:r,polygons:osmo.scroll.datasets[t].physics,maskScale:1,legendScale:1},r=this.popupBBoxes[t].dimensions.length,console.log("boxes: "+r),osmo.scroll.mainScrollScale,r=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height,console.log("pixi scale ratio: "+r),this.maskContainer.visible=!1),s=this.maskLoad(i,e,t,s),o=this.legendLoad(i,o,t),this.allSVGDataPromises.push(s),this.allSVGDataPromises.push(o),o=osmo.scroll.datasets[t].hasOwnProperty("speciallegend"),osmo.scroll.includeSpecialCase&&o&&(o=osmo.scroll.datasets[t].speciallegend,t=this.legendLoad(i,o,t+"_spl",!0),this.allSVGDataPromises.push(t)))}},{key:"loadDatasets",value:function(){for(var t in osmo.scroll.datasets)this.loadDataset(t,!0);Promise.all(this.allSVGDataPromises).then(function(t){console.log("Processing early datasets..."),$("#percentage").html("Processing datasets..."),setTimeout(function(){console.log("Loaded all datasets"),osmo.scroll.loaded.svgdata=!0},400)})}},{key:"correctMaskOrder",value:function(){}},{key:"maskLoad",value:function(t,l,u){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,p=this;return console.log("maskLoad called"),new Promise(function(t,e){if(null!=p.popupBBoxes[u]){var i=new p.PIXI.Graphics;if(i.beginFill(16753920),i.lineStyle(1,16711680),i.alpha=p.maskAlpha,i.zIndex=c,null!=l.shapes){var n,r=d(l.shapes);try{for(r.s();!(n=r.n()).done;){var s=n.value;i.drawPolygon(s.shape)}}catch(t){r.e(t)}finally{r.f()}}p.popupBBoxes[u].paths.push(i);var o=i;p.maskAreas.push(o),null==o.data&&(o.data={}),o.data.legendName="legend-"+u,o.data.maskName="mask-"+u,o.data.id=u,o.name="mask-"+u,o.data.order=c;var a=1;l.viewport&&(h=l.viewport.split(" ")[3],a=osmo.scroll.pixiHeight/h,p.popupBBoxes[u].maskScale=a),o.scale.set(a,a);var h=0,h="-1"===u?495:"0"===u?344:"64"===u?486:495;o.x=h*a+3*osmo.scroll.pixiWidth/4,p.popupBBoxes[u].mask=o,p.maskContainer.addChild(o),t("m"+u)}})}},{key:"legendLoad",value:function(t,e,l){var u=3<arguments.length&&void 0!==arguments[3]&&arguments[3],c=this;return new Promise(function(o,t){e="../"+e;var a=c.PIXI.Texture.from(e,{resolution:1}),h=!1;a.on("update",function(){var t,e,i,n,r,s;h||(t=new c.PIXI.Sprite(a),c.legendFiles.push(t),console.log("Loaded "+l+" legend"),e=parseFloat(c.maskAreas.length)/parseFloat(Object.keys(osmo.scroll.datasets).length),i=parseFloat(c.legendFiles.length)/parseFloat(Object.keys(osmo.scroll.datasets).length),n=parseFloat(osmo.legendaudio.allTracksLoadedCount)/parseFloat(Object.keys(osmo.scroll.datasets).length),n="&nbsp;&nbsp;"+parseInt((e+i+n)/3*100)+"%",$("#percentage").html(n),u?(r=l.replace("_spl",""),null!=c.popupBBoxes[r]&&(c.popupBBoxes[r].spllegend=t)):null!=c.popupBBoxes[l]&&(c.popupBBoxes[l].legend=t),null==t.data&&(t.data={}),t.data.legendName="legend-"+l,t.data.maskName="mask-"+l,t.name="legend-"+l,t.visible=!1,r=(u?(s=l.replace("_spl",""),c.popupBBoxes[s].boundingbox.height/623.5):c.popupBBoxes[l].boundingbox.height/623.5)/a.height*osmo.scroll.pixiHeight,t.scale.set(r,r),console.log("LEGEND SCALE: "+r),s=0,s="-1"===l?262:"0"===l?344:"64"===l?486:495,u?(r=l.replace("_spl",""),t.x=(c.popupBBoxes[r].boundingbox.x+s)*(osmo.scroll.pixiHeight/623.5)+3*osmo.scroll.pixiWidth/4,t.y=c.popupBBoxes[r].boundingbox.y*(osmo.scroll.pixiHeight/623.5)):(t.x=(c.popupBBoxes[l].boundingbox.x+s)*(osmo.scroll.pixiHeight/623.5)+3*osmo.scroll.pixiWidth/4,t.y=c.popupBBoxes[l].boundingbox.y*(osmo.scroll.pixiHeight/623.5)),c.legendContainer.addChild(t),o("l"+l)),h=!0})})}},{key:"updateChildLegend",value:function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n];r.data.legendName=e,r.data.titleName=i,null!=r.children&&this.updateChildLegend(r.children,e,i)}}},{key:"highlightLegend",value:function(t,e){if(0<this.removeHighlightTweens.length){for(var i in this.removeHighlightTweens)this.removeHighlightTweens[i].kill();this.removeHighlightTweens=[]}for(var n=Object.keys(osmo.scroll.mainScroll).length,r=0;r<n;r++)osmo.scroll.mainScroll["part"+(r+1)].alpha=1;this.legendContainer.alpha=0;this.highlightTweens.push(this.TWEENMAX.to(this.legendContainer,2,{alpha:1,ease:this.POWER4.easeInOut}));for(var s=0;s<n;s++)this.highlightTweens.push(this.TWEENMAX.to(osmo.scroll.mainScroll["part"+(s+1)],2,{alpha:.05,ease:this.POWER4.easeInOut}));var o=osmo.scroll.datasets[t].title;this.legendContainer.visible=!0;for(var a=0;a<this.legendFiles.length;a++)this.legendFiles[a].visible&&(this.legendFiles[a].visible=!1);if(this.popupBBoxes[t].legend.visible=!0,null!=this.cursorLoading&&clearTimeout(this.cursorLoading),(this.cursorLoading=null)!=this.cursorTextTimeout&&clearTimeout(this.cursorTextTimeout),(this.cursorTextTimeout=null)==this.cursorLoading){for(var h in osmo.scroll.datasets)osmo.legendaudio.audioPlayerInstances[h].stop();console.log("Now playing legend audio: "+t),osmo.legendaudio.audioPlayerInstances[t].start(),"intro"!==osmo.bgaudio.currentTrack&&osmo.bgaudio.baseTracks[osmo.bgaudio.currentTrack].volume.rampTo(-6,1),$(".cursor-pointer").css("border","none"),$(".cursor-loading").show(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").html('<p style="text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4); white-space: break-spaces; padding: 2px 2px;">'+o+"</p>"),$(".cursor-txt").fadeIn(1e3),this.reset_animation("cursor-clc","cursor-loading-circle"),this.reset_animation("cursor-cl","cursor-loading");var l=this;this.cursorLoading=setTimeout(function(){l.cursorLoading=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-pointer-dot").show(),l.legendClicksCount<2?($(".cursor-txt").html('<p style="text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4); white-space: break-spaces; padding: 2px 2px;">Click to open</p>'),$(".cursor-txt").fadeIn(2e3),l.cursorTextTimeout=setTimeout(function(){$(".cursor-txt").fadeOut(1e3),l.cursorTextTimeout=null},2e3)):$(".cursor-txt").fadeOut(1e3)},2e3),this.highlightedLegendId=t}}},{key:"reset_animation",value:function(t,e){var i=$("#"+t);i.removeClass(e),setTimeout(function(){i.addClass(e)},100)}},{key:"removeHighlight",value:function(){if(0<this.highlightTweens.length){for(var t in this.highlightTweens)this.highlightTweens[t].kill();this.highlightTweens=[]}for(var e,i=this,n=Object.keys(osmo.scroll.mainScroll).length,r=0;r<n;r++)this.removeHighlightTweens.push(this.TWEENMAX.to(osmo.scroll.mainScroll["part"+(r+1)],2,{alpha:1,ease:this.POWER4.easeInOut}));for(e in this.removeHighlightTweens.push(this.TWEENMAX.to(this.legendContainer,2,{alpha:0,ease:this.POWER4.easeInOut,onComplete:function(){i.legendContainer.visible=!1;for(var t=0;t<i.legendFiles.length;t++)i.legendFiles[t].visible&&(i.legendFiles[t].visible=!1)}})),osmo.scroll.datasets)osmo.legendaudio.audioPlayerInstances[e].stop();"intro"!==osmo.bgaudio.currentTrack&&osmo.bgaudio.baseTracks[osmo.bgaudio.currentTrack].volume.rampTo(0,1),null!=this.cursorLoading&&clearTimeout(this.cursorLoading),this.cursorLoading=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").hide(),this.dragMode=!1,this.isDragging=!1,this.highlightedLegendId=null}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],82:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.SoundInteractionArea=function(){function t(){s(this,t),console.log("osmo.SoundInteractionArea - constructor"),this.PIXI=osmo.scroll.PIXI,this.TONE=osmo.scroll.TONE,this.soundMaskAlpha=0,this.areaContainer}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("osmo.SoundInteractionArea - init"),this.areaContainer=new this.PIXI.Container}},{key:"setNew",value:function(t,e,i){this.loadNew(t),this.setInitialPositionAndScale(t,e,i)}},{key:"setInitialPositionAndScale",value:function(t,e,i){this.areaContainer.scale.set(e),this.areaContainer.position=i,this.currentBounds=this.areaContainer.getBounds()}},{key:"updatePositionAndScale",value:function(t,e,i){this.areaContainer.scale.set(e),this.areaContainer.position=i,this.currentBounds=this.areaContainer.getBounds()}},{key:"setNewPositionAndScale",value:function(t,e,i){this.areas[t].x=e,this.areas[t].y=i,this.currentBounds=this.areas[t].getBounds()}},{key:"loadNew",value:function(t){var r=this,e=t,i=osmo.scroll.datasets[t].hasOwnProperty("speciallegend");osmo.scroll.includeSpecialCase&&i&&(e=t+"_spl"),this.areaContainer.removeChildren();var n,s=JSON.parse(osmo.legendsvg.mergedSoundAreas[e]).shapes;for(n in s){console.log("Loading "+n+" sound area");var o=s[n].reduce(function(t,e,i,n){return t.beginFill(42325),t.alpha=r.soundMaskAlpha,t.drawPolygon(e.shape),i===n.length-1&&(t.endFill(),t.visible=!0),t},new this.PIXI.Graphics);this.areaContainer.addChild(o)}}},{key:"containsPoint",value:function(t){var e,i=this.areaContainer.children;for(e in i)if(i[e].containsPoint(t))return{contains:!0,shapeIndex:e};return{contains:!1}}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],83:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,t("../audio/SoundEffects"),t("../data/SoundInteractionArea"),t("../interactions/MoleculeController"),i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.LegendInteraction=function(){function t(){s(this,t),console.log("osmo.LegendInteraction - constructor"),this.PIXI=osmo.scroll.PIXI,this.TWEENMAX=osmo.scroll.TWEENMAX,this.POWER4=osmo.scroll.POWER4,this.prevHitResultName=null,this.currentFocus=null,this.dragMode=!1,this.loadingStage=null,this.prevBoundsCenter=null,this.prevZoom=null}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("osmo.LegendInteraction.init - started");var t=this;$("#popcancel").click(function(){t.closeLegendPopup(),osmo.pzinteract.resetZoom()}),$("#popup-info-toggle").click(function(){t.isSidebarOpen()?setTimeout(function(){t.closeSidebar()},100):setTimeout(function(){t.openSidebar()},100)}),$("#focused-info").mouseenter(function(){$("#cursor").hide()}),$("#focused-info").mouseleave(function(){$("#cursor").show()})}},{key:"openSidebar",value:function(){$("#popup-info-toggle").html("&lt;"),$("#focused-info").animate({left:"0%"},600);var t=osmo.scroll.pixiWidth/3,e=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y),t=osmo.pzinteract.calculateCenter(e,t,0,.5*osmo.scroll.pixiScale,!1);this.TWEENMAX.to(osmo.scroll.mainStage.position,.6,{x:t.x,ease:this.POWER4.easeInOut})}},{key:"closeSidebar",value:function(){$("#popup-info-toggle").html("&gt;"),$("#focused-info").animate({left:"-33%"},600);var t=osmo.scroll.pixiWidth/3*-1,e=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y),t=osmo.pzinteract.calculateCenter(e,t,0,.5*osmo.scroll.pixiScale,!1);this.TWEENMAX.to(osmo.scroll.mainStage.position,.6,{x:t.x,ease:this.POWER4.easeInOut})}},{key:"initMaskInteractions",value:function(){console.log("osmo.LegendInteraction.initMaskInteractions - started");var t,i=this;for(t in osmo.scroll.datasets)!function(t){var e;!osmo.legendsvg.popupBBoxes.hasOwnProperty(t)||null!=(e=osmo.legendsvg.popupBBoxes[t].mask)&&(e.interactive=!0,e.on("pointerdown",function(){console.log("Clicked inside hitArea for mask-"+t),null==osmo.legendsvg.cursorLoading&&(null!=osmo.legendsvg.cursorTextTimeout&&clearTimeout(osmo.legendsvg.cursorTextTimeout),osmo.legendsvg.cursorTextTimeout=null,osmo.pzinteract.isTrackpadDetected?i.showLegend(t):null==osmo.legendsvg.highlightedLegendId?setTimeout(function(){console.log("Hover on mask -"+t),osmo.legendsvg.highlightLegend(t,e)},100):osmo.legendsvg.highlightedLegendId==t&&(console.log("open legend -"+t),i.showLegend(t)))}),e.on("pointerover",function(){console.log("Hover on mask-"+t),osmo.legendsvg.highlightLegend(t,e)}),e.on("pointerout",function(){console.log("Hover out of mask-"+t),osmo.legendsvg.removeHighlight()}))}(t)}},{key:"isSidebarOpen",value:function(){return"&lt;"==$("#popup-info-toggle").html()}},{key:"showLegend",value:function(t){for(var e,i=0;i<osmo.legendsvg.legendFiles.length;i++)osmo.legendsvg.legendFiles[i].visible&&(osmo.legendsvg.legendFiles[i].visible=!1);for(e in console.log("Opening legend "+t),osmo.legendsvg.legendClicksCount++,osmo.scroll.datasets)osmo.legendaudio.audioPlayerInstances[e].stop();$("#focused-info").animate({left:"0px"},1200),$(".nav").hide(),$("#chapter-text").hide(),osmo.scroll.hitPopupMode="focused",osmo.datasvg.backgroundContainer.visible=!1,osmo.legendsvg.maskContainer.visible=!1,osmo.legendsvg.legendContainer.visible=!0,null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-pointer").css("border","none"),$(".cursor-loading-full").show(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").hide(),this.dragMode=!1;var n=this;this.loadingStage=setTimeout(function(){null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").show(),osmo.legendsvg.legendClicksCount<2&&($(".cursor-txt").html("Click & drag"),$(".cursor-txt").fadeIn(1e3),setTimeout(function(){$(".cursor-txt").html("Pinch to zoom")},4e3),setTimeout(function(){$(".cursor-txt").fadeOut()},8e3)),n.dragMode=!0},1e3),this.currentFocus=t,console.log("Focused on: "+this.currentFocus),$("#focused-heading").text(osmo.scroll.datasets[this.currentFocus].title);var r='\n      <br>\n      <span style="font-weight: 400;">Sound description:</span>\n      <p style="margin-top: 0;">'.concat(osmo.scroll.datasets[this.currentFocus].sounddesc,'</p>\n      <br>\n      <span style="font-weight: 400;">Data description:</span>\n      <p style="margin-top: 0;">').concat(osmo.scroll.datasets[this.currentFocus].desc,"</p>");$("#focused-description").html(r),setTimeout(function(){var t=$("#focused-heading").height();$("#focused-description").height("calc(100% - ".concat(t,"px)"))},50),$("#head-normal-view").hide(),$("#focused-cta").show(),$("#focused-info").show();var s=osmo.legendsvg.popupBBoxes[this.currentFocus].legend,o=osmo.legendsvg.popupBBoxes[t].spllegend;(s=osmo.scroll.includeSpecialCase&&o?osmo.legendsvg.popupBBoxes[this.currentFocus].spllegend:s).visible=!0;var a=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].x),h=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].y),l=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].width),r=parseInt(osmo.legendsvg.popupBBoxes[this.currentFocus].dimensions[0].height),t=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height;a*=t,h*=t,l*=t,r*=t;o=-1*(a+=3*osmo.scroll.pixiWidth/4),s=.33*osmo.scroll.pixiWidth,t=osmo.scroll.pixiWidth*(1-.33),a=t/2-l/2;this.prevBoundsCenter=new this.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y);r=new this.PIXI.Point((o+s+a)*osmo.scroll.pixiScale,(-1*h+(osmo.scroll.pixiHeight-r)/2)*osmo.scroll.pixiScale);osmo.scroll.mainStage.position=r,this.prevZoom=osmo.scroll.mainStage.scale.x;var u,c,r=(s+t/2)*osmo.scroll.pixiScale,s=osmo.scroll.pixiHeight/2*osmo.scroll.pixiScale,p=this.prevZoom;p=osmo.scroll.datasets[this.currentFocus].hasOwnProperty("zoom")?(t=osmo.scroll.datasets[this.currentFocus].zoom.default,u=osmo.scroll.datasets[this.currentFocus].zoom.min,c=osmo.scroll.datasets[this.currentFocus].zoom.max,p=t/osmo.pzinteract.defaultZoom*osmo.scroll.pixiScale,t=100*(1-(p/=100)),osmo.pzinteract.changeZoomAt(r,s,t,!0,u/100,c/100)):(u=.5*osmo.scroll.pixiWidth/l,c=osmo.pzinteract.minZoom*u/osmo.scroll.pixiScale,l=osmo.pzinteract.maxZoom*u/osmo.scroll.pixiScale,osmo.pzinteract.changeZoomAt(r,s,-1*(u-1)*100*.75,!0,c,l)),$("#dragmol").click(function(){null==osmo.mc&&n.createMoleculeInteraction(p)}),$("#addcomp").click(function(){window.open("https://app.osmoscape.com/nonlinear-composition","_blank").focus()}),$("body").css("background-color","#A3BDC7")}},{key:"closeLegendPopup",value:function(){osmo.legendsvg.removeHighlight(),osmo.pzinteract.isDragging=!1,$("dragmol").unbind(),this.destroyMoleculeInteraction(),$("#focused-description").height("100%"),$("#head-normal-view").show(),$("#focused-cta").hide(),$("#popup-info-toggle").html("&lt;"),$("#focused-info").animate({left:"-33%"},600),$("#focused-info").hide(),$("#zoom-level").text("100%"),$(".nav").show(),$("#chapter-text").show(),$("body").css("background-color","#b5ced5"),osmo.datasvg.backgroundContainer.visible=!0,osmo.legendsvg.maskContainer.visible=!0,osmo.legendsvg.legendContainer.visible=!1;for(var t=0;t<osmo.legendsvg.legendFiles.length;t++)osmo.legendsvg.legendFiles[t].visible&&(osmo.legendsvg.legendFiles[t].visible=!1);null!=this.loadingStage&&clearTimeout(this.loadingStage),this.loadingStage=null,$(".cursor-pointer").css("border","2px solid white"),$(".cursor-loading").hide(),$(".cursor-loading-full").hide(),$(".cursor-pointer-dot").hide(),$(".cursor-txt").html(""),$(".cursor-txt").hide(),this.dragMode=!1;var e=this.prevBoundsCenter,i=(this.prevZoom,e.x-osmo.scroll.mainStage.position.x),n=-(e.y-osmo.scroll.mainStage.position.y),e=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y);osmo.scroll.mainStage.position=osmo.pzinteract.calculateCenter(e,i,n,1.005),this.currentFocus=null,osmo.scroll.hitPopupMode="hovering"}},{key:"createMoleculeInteraction",value:function(t){osmo.soundareas=new osmo.SoundInteractionArea,osmo.soundareas.init(),osmo.scroll.mainStage.addChild(osmo.soundareas.areaContainer);var e=osmo.legendsvg.popupBBoxes[this.currentFocus].maskScale,i=0,i="-1"===this.currentFocus?495:"0"===this.currentFocus?344:"64"===this.currentFocus?486:495;i-=2,osmo.soundareas.setNew(this.currentFocus,e,new this.PIXI.Point(i*e+3*osmo.scroll.pixiWidth/4,0)),osmo.soundeffects=new osmo.SoundEffects,osmo.soundeffects.init(this.currentFocus),osmo.soundeffects.setNewBuffer(this.currentFocus,osmo.scroll.datasets[this.currentFocus].audiofile);e=osmo.bgaudio.currentTrack;"intro"!==e&&("base3"===e?osmo.bgaudio.baseTracks[e].volume.rampTo(-18,1):"base5"===e?osmo.bgaudio.baseTracks[e].volume.rampTo(-12,1):osmo.bgaudio.baseTracks[e].volume.rampTo(-6,1)),osmo.mc=new osmo.MoleculeController,osmo.mc.init(osmo.scroll.mainStage.position),osmo.scroll.mainStage.addChild(osmo.mc.moleculeContainer),osmo.scroll.mainApp.ticker.add(osmo.mc.animateMolecule);t/=osmo.pzinteract.defaultZoom;this.TWEENMAX.to(osmo.mc.moleculeContainer.scale,.5,{x:1/t,y:1/t,ease:this.POWER4.easeInOut})}},{key:"destroyMoleculeInteraction",value:function(){"intro"!==osmo.bgaudio.currentTrack&&osmo.bgaudio.baseTracks[osmo.bgaudio.currentTrack].volume.rampTo(0,1),osmo.mc&&(osmo.scroll.mainApp.ticker.remove(osmo.mc.animateMolecule),osmo.scroll.mainStage.removeChild(osmo.mc.moleculeContainer),osmo.mc.moleculeContainer=null,osmo.mc=null,delete osmo.mc),osmo.soundeffects&&osmo.soundeffects.stopPlayers(),osmo.soundareas&&(osmo.scroll.mainStage.removeChild(osmo.soundareas.areaContainer),osmo.soundareas=null,delete osmo.soundareas)}}])&&r(e.prototype,i),n&&r(e,n),t}()},{"../audio/SoundEffects":79,"../data/SoundInteractionArea":82,"../interactions/MoleculeController":84}],84:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.MoleculeController=function(){function t(){s(this,t),console.log("osmo.MoleculeController - constructor"),this.TONE=osmo.scroll.TONE,this.PIXI=osmo.scroll.PIXI,this.moleculeContainer,this.molecule,this.fftvisualizer,this.dragging,this.data,this.alpha,this.x,this.y,this.tick=0}var e,i,n;return e=t,(i=[{key:"init",value:function(t){console.log("osmo.MoleculeController - init"),this.moleculeContainer=new this.PIXI.Container,this.moleculeContainer.interactive=!0,this.moleculeContainer.buttonMode=!0,this.molecule=(new this.PIXI.Graphics).beginFill(15397363,.5).lineStyle(2,11957049,1).drawCircle(0,0,137.5).endFill().drawCircle(0,0,132.5).drawCircle(0,0,127.5).drawCircle(0,0,122.5).moveTo(97.22,-97.22).lineTo(145.72,-145.72).moveTo(97.22,97.22).lineTo(145.72,145.72).drawCircle(172.22,-172.22,37.5).drawCircle(172.22,172.22,37.5).lineStyle(2,16777215,1).drawCircle(172.22,-172.22,12.5).drawCircle(172.22,172.22,12.5),this.molecule.scale.set(.5,.5),this.shadow=new this.PIXI.Graphics,this.shadow.lineStyle(5,2236962,.5),this.shadow.drawCircle(0,0,137.5),this.shadow.moveTo(97.22,-97.22),this.shadow.lineTo(145.72,-145.72),this.shadow.moveTo(97.22,97.22),this.shadow.lineTo(145.72,145.72),this.shadow.drawCircle(172.22,-172.22,37.5),this.shadow.drawCircle(172.22,172.22,37.5),this.shadow.filters=[new this.PIXI.filters.BlurFilter(4)],this.shadow.x+=2,this.shadow.y+=2,this.fftVisualizer=new this.PIXI.Graphics,this.fftVisualizer.scale.set(.75,.75),this.fftVisualizer.lineStyle(1,16777215,1),this.molecule.addChild(this.shadow),this.moleculeContainer.addChild(this.molecule),this.moleculeContainer.addChild(this.fftVisualizer),this.moleculeContainer.on("pointerdown",this.onDragStart).on("pointerup",this.onDragEnd).on("pointerupoutside",this.onDragEnd).on("pointermove",this.onDragMove);var e=osmo.scroll.mainStage.scale.x/osmo.scroll.pixiScale;this.moleculeContainer.x=osmo.scroll.pixiWidth/2+osmo.scroll.pixiWidth/6-t.x/osmo.scroll.pixiScale,this.moleculeContainer.y=osmo.scroll.pixiHeight/2-t.y/osmo.scroll.pixiScale,this.moleculeContainer.x/=e,this.moleculeContainer.y/=e,this.dragging=!1}},{key:"onDragStart",value:function(t){this.data=t.data,this.dragging=!0,osmo.mc.dragging=!0}},{key:"onDragEnd",value:function(){this.alpha=1,this.dragging=!1,osmo.mc.dragging=!1,this.data=null}},{key:"onDragMove",value:function(){var t,e;this.dragging&&(e=this.data.global,this.x=(e.x-osmo.scroll.mainStage.x)/osmo.scroll.mainStage.scale.x,this.y=(e.y-osmo.scroll.mainStage.y)/osmo.scroll.mainStage.scale.y,osmo.soundeffects.crossfade.fade.rampTo(0,1),(t=osmo.soundareas.containsPoint(e)).contains&&(osmo.soundeffects.crossfade.fade.rampTo(1,1),e=osmo.mc.getNormalizedPosition(e),osmo.soundeffects.changeParameters(e,t.shapeIndex)))}},{key:"getNormalizedPosition",value:function(t){var e={};return e.x=t.x-osmo.soundareas.currentBounds.x,e.y=t.y-osmo.soundareas.currentBounds.y,e.nx=e.x/osmo.soundareas.currentBounds.width,e.ny=e.y/osmo.soundareas.currentBounds.height,e.navg=(e.nx+e.ny)/2,e}},{key:"animateMolecule",value:function(){osmo.mc.fftVisualizer.clear(),osmo.mc.fftVisualizer.lineStyle(1,16777215,1);var t=osmo.soundeffects.fft.getValue().map(function(t){return t+140});t.forEach(function(t,e){e%2?osmo.mc.fftVisualizer.lineStyle(1,11957049,1):osmo.mc.fftVisualizer.lineStyle(1,16777215,1),osmo.mc.fftVisualizer.drawCircle(0,0,t),5<e&&e<8&&(osmo.mc.fftVisualizer.lineStyle(1,16777215,1),osmo.mc.fftVisualizer.drawCircle(114.72,-114.72,t/4),osmo.mc.fftVisualizer.drawCircle(114.72,114.72,t/4))}),osmo.mc.molecule.clear(),osmo.mc.molecule.beginFill(15397363,.5).lineStyle(2,11957049,1).drawCircle(0,0,137.5).endFill().drawCircle(0,0,132.5).drawCircle(0,0,127.5).drawCircle(0,0,122.5).lineStyle(2,11957049,1).moveTo(97.22,-97.22).lineTo(97.22+t[6],-97.22-t[6]).moveTo(97.22,97.22).lineTo(97.22+t[6],97.22+t[6]).lineStyle(2,11957049,1).drawCircle(172.22,-172.22,37.5+t[6]/4).drawCircle(172.22,172.22,37.5+t[6]/4),osmo.mc.shadow.clear(),osmo.mc.shadow.lineStyle(.7,2236962,.5).drawCircle(0,0,137.5).lineStyle(2,2236962,.5).moveTo(97.22,-97.22).lineTo(146.72-t[6]/4,t[6]/4-146.72).moveTo(97.22,97.22).lineTo(146.72-t[6]/4,146.72-t[6]/4).drawCircle(172.22,-172.22,37.5+t[6]/4).drawCircle(172.22,172.22,37.5+t[6]/4)}},{key:"updateMoleculeScale",value:function(t){this.moleculeContainer.scale.x=this.moleculeContainer.scale.y=t}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],85:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=t("@pixi-essentials/svg");function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d={ch1:"Ch1 : In the Beginning",ch2:"Ch2 : The Human Civilisation, Aka, The Anthropocene",ch3:"Ch3 : Carbon and Climate Crisis",ch4:"Ch4 : The Bane of Industrial Farming",ch5:"Ch5 : Grand Design and their Grand Failings",ch6:"Ch6 : The Quest for Unpolluted Water",ch7:"Ch7 : The Vast Ocean"};i.default=function t(){o(this,t)},window.osmo=window.osmo||{},osmo.NavigationInteraction=function(){function t(){o(this,t),console.log("osmo.NavigationInteraction - constructor"),this.PIXI=osmo.scroll.PIXI,this.TONE=osmo.scroll.TONE,this.TWEENMAX=osmo.scroll.TWEENMAX,this.POWER4=osmo.scroll.POWER4,this.BGAUDIO=osmo.bgaudio,this.mousePos,this.currentNavLoc=-1,this.navigationFile="./assets/data/ChapterNavigation.svg",this.navContainer,this.navScene,this.navScale,this.navChapters,this.isOnDiv=!1,this.init,this.update}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("Initlaizing Navigation");var t=this;this.navContainer=new this.PIXI.Container,this.navContainer.visible=!1,osmo.scroll.mainStage.addChild(this.navContainer),$(".nav").mouseenter(function(){t.isOnDiv=!0}),$(".nav").mouseleave(function(){t.isOnDiv=!1})}},{key:"loadNav",value:function(){console.log("Loading nav sections");var e=this;$.get(this.navigationFile,function(t){t=t.documentElement;e.navScene=new r.SVGScene(t),e.navChapters=e.navScene.content.children[4].children,e.navScale=osmo.scroll.pixiHeight/e.navScene.height,console.log("Navigation SCALE: "+e.navScale),e.navScene.x=3*osmo.scroll.pixiWidth/4,e.navScene.scale.set(e.navScale,e.navScale),e.navScene.alpha=1})}},{key:"initNav",value:function(){console.log("Initializing navigation");var c=this,p=osmo.scroll.pixiWidth;$(".jump").click(function(t){osmo.pzinteract.disableMaskInteractions();var e=parseInt($(t.currentTarget).attr("data-id")),i=$.grep($(c.navChapters),function(t){return t.id=="nav-ch"+e}),n=-1*parseFloat($(i).attr("x"))*c.navScale*osmo.scroll.pixiScale,t=parseFloat($(i).attr("width"))*c.navScale*osmo.scroll.pixiScale;n-=p<t?p/2:t/2;i=2e3,t=Math.abs(n-osmo.scroll.mainStage.position.x);t<p&&(i=parseInt(2e3*(t/p)))<350&&(i=350),c.TWEENMAX.to(osmo.scroll.mainStage.position,i/1e3,{x:n,ease:c.POWER4.easeInOut});for(var r=$(".jump"),s=e,o=0;o<r.length;o++){var a=$(r[o]),h=parseInt(a.attr("data-id"));if(a.hasClass("selected")&&(a.removeClass("selected"),a.find("img")[0].src=a.find("img")[0].src.replace("_selected","_default")),h==s){for(var l in console.log("Updated - "+s),c.currentNavLoc=s,a.addClass("selected"),d)"ch"+h=="".concat(l)&&$("#chapter-text").text("".concat(d[l]));this.currentNavLoc=s,a.find("img")[0].src=a.find("img")[0].src.replace("_default","_selected")}}for(var u=0;u<7;u++)c.BGAUDIO.baseTracks["base"+(u+1)].stop();setTimeout(function(){console.log("Completed scroll for - "+e),console.log("Changing base track..."),c.BGAUDIO.currentTrack="base"+e,console.log("Now playing : "+c.BGAUDIO.currentTrack),c.BGAUDIO.baseTracks[c.BGAUDIO.currentTrack].start(),osmo.legendsvg.maskContainer.visible=!0},i),console.log(e+" clicked -- scroll to: "+n+" in duration: "+i)})}},{key:"updateBasetrack",value:function(){if(-1!=this.currentNavLoc&&this.BGAUDIO.currentTrack!="base"+this.currentNavLoc){console.log("Changing base track - Haven't scrolled in 250ms!"),this.BGAUDIO.currentTrack="base"+this.currentNavLoc;for(var t=0;t<7;t++)this.BGAUDIO.baseTracks["base"+(t+1)].stop();console.log("Now playing : "+this.BGAUDIO.currentTrack),this.BGAUDIO.baseTracks[this.BGAUDIO.currentTrack].start()}}},{key:"scrollNavEffect",value:function(){for(var t=0;t<this.navChapters.length-1;t++){var e=parseFloat($(this.navChapters[t]).attr("x"))*this.navScale*osmo.scroll.pixiScale,i=parseFloat($(this.navChapters[t+1]).attr("x"))*this.navScale*osmo.scroll.pixiScale;if(Math.abs(osmo.scroll.mainStage.position.x)>e&&Math.abs(osmo.scroll.mainStage.position.x)<i){i=this.navChapters[t].id;if(i.includes("nav-ch")){-1==this.currentNavLoc&&($(".nav").fadeIn(),$("#chapter-text").fadeIn(),this.BGAUDIO.introTrack.stop(),this.BGAUDIO.currentTrack="none");var n=parseInt(i.replace("nav-ch",""));if(this.currentNavLoc!=n){console.log("currentNavLoc not same - "+this.currentNavLoc+" "+n);for(var r=$(".jump"),s=0;s<r.length;s++){var o=$(r[s]),a=parseInt(o.attr("data-id"));if(o.hasClass("selected")&&(o.removeClass("selected"),o.find("img")[0].src=o.find("img")[0].src.replace("_selected","_default")),a==n){for(var h in console.log("Updated - "+n),this.currentNavLoc=n,o.addClass("selected"),d)"ch"+a=="".concat(h)&&$("#chapter-text").text("".concat(d[h]));o.find("img")[0].src=o.find("img")[0].src.replace("_default","_selected")}}}}if(i.includes("intro")&&($(".nav").fadeOut(),$("#chapter-text").fadeOut(),this.currentNavLoc=-1,"intro"!=this.BGAUDIO.currentTrack)){for(var l=0;l<7;l++)this.BGAUDIO.baseTracks["base"+(l+1)].stop();this.BGAUDIO.introTrack.start(),this.BGAUDIO.currentTrack="intro"}}}osmo.pzinteract.navScrolledUpdate=!0}}])&&s(e.prototype,i),n&&s(e,n),t}()},{"@pixi-essentials/svg":4}],86:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.PanAndZoomInteraction=function(){function t(){s(this,t),console.log("osmo.PanAndZoomInteraction - constructor"),this.PIXI=osmo.scroll.PIXI,this.TWEENMAX=osmo.scroll.TWEENMAX,this.POWER4=osmo.scroll.POWER4,this.defaultZoom=null,this.minZoom=1,this.maxZoom=1,this.isCompletedDetecting=!1,this.isTrackpadDetected=!1,this.navScrolledUpdate=!0,this.deltaValX=0,this.deltaValY=0,this.isDragging=!1,this.prevMouseLoc=null,this.mouseLoc=null,this.init}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("Initlaizing Pan & Zoom interactions");var o=this;this.detectMouseType(),this.defaultZoom=osmo.scroll.mainStage.scale.x,this.setZoomRange(1,6);var t=parseInt(osmo.scroll.mainStage.scale.x/this.defaultZoom*100).toString()+"%";$("#zoom-level").text(t),$("#zoom-in").on("click",function(){var t=osmo.scroll.pixiWidth/2*osmo.scroll.pixiScale,e=osmo.scroll.pixiHeight/2*osmo.scroll.pixiScale;osmo.legendinteract.isSidebarOpen()&&(t=(.33*osmo.scroll.pixiWidth+osmo.scroll.pixiWidth*(1-.33)/2)*osmo.scroll.pixiScale,e=osmo.scroll.pixiHeight/2*osmo.scroll.pixiScale);var i,n,r=osmo.legendinteract.currentFocus;osmo.scroll.datasets[r].hasOwnProperty("zoom")?(osmo.scroll.datasets[r].zoom.default,i=osmo.scroll.datasets[r].zoom.min,n=osmo.scroll.datasets[r].zoom.max,osmo.pzinteract.changeZoomAt(t,e,-50,!0,i/100,n/100)):(n=parseInt(osmo.legendsvg.popupBBoxes[r].dimensions[0].width),n*=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height,r=.5*osmo.scroll.pixiWidth/n,n=o.minZoom*r/osmo.scroll.pixiScale,r=o.maxZoom*r/osmo.scroll.pixiScale,osmo.pzinteract.changeZoomAt(t,e,-50,!0,n,r))}),$("#zoom-out").on("click",function(){var t=osmo.scroll.pixiWidth/2*osmo.scroll.pixiScale,e=osmo.scroll.pixiHeight/2*osmo.scroll.pixiScale;osmo.legendinteract.isSidebarOpen()&&(t=(.33*osmo.scroll.pixiWidth+osmo.scroll.pixiWidth*(1-.33)/2)*osmo.scroll.pixiScale,e=osmo.scroll.pixiHeight/2*osmo.scroll.pixiScale);var i,n,r=osmo.legendinteract.currentFocus;osmo.scroll.datasets[r].hasOwnProperty("zoom")?(osmo.scroll.datasets[r].zoom.default,i=osmo.scroll.datasets[r].zoom.min,n=osmo.scroll.datasets[r].zoom.max,osmo.pzinteract.changeZoomAt(t,e,50,!0,i/100,n/100)):(n=parseInt(osmo.legendsvg.popupBBoxes[r].dimensions[0].width),n*=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height,r=.5*osmo.scroll.pixiWidth/n,n=o.minZoom*r/osmo.scroll.pixiScale,r=o.maxZoom*r/osmo.scroll.pixiScale,osmo.pzinteract.changeZoomAt(t,e,50,!0,n,r))}),document.addEventListener("mousemove",function(t){osmo.pzinteract.isTrackpadDetected&&(o.prevMouseLoc=o.mouseLoc,o.mouseLoc=new osmo.scroll.PIXI.Point(t.pageX,t.pageY),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"))}),document.addEventListener("mousedown",function(t){osmo.pzinteract.isTrackpadDetected&&"focused"==osmo.scroll.hitPopupMode&&(o.isDragging=!0)}),document.addEventListener("mouseup",function(t){osmo.pzinteract.isTrackpadDetected&&"focused"==osmo.scroll.hitPopupMode&&(o.isDragging=!1)}),document.addEventListener("mousemove",function(t){var e,i,n;"focused"==osmo.scroll.hitPopupMode&&osmo.legendinteract.dragMode&&o.isDragging&&(n=!0,(n=null!=osmo.mc&&osmo.mc.dragging?!1:n)&&(e=o.mouseLoc.x-o.prevMouseLoc.x,i=-1*(o.mouseLoc.y-o.prevMouseLoc.y),n=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y),osmo.scroll.mainStage.position=osmo.pzinteract.calculateCenter(n,e,i,1.005*osmo.scroll.pixiScale,!1)))});for(var e=["focused-info","focused-cta","zoom-level"],i=0;i<e.length;i++)$("#"+e[i]).on("touchstart touchmove touchend",function(t){t.preventDefault()});for(var n=["popcancel","zoom-in","zoom-out","addcomp","dragmol","popup-info-toggle","show-info"],r=0;r<n.length;r++)!function(e){$("#"+n[e]).on("touchstart touchmove touchend",function(t){t.preventDefault(),$("#"+n[e]).trigger("click")})}(r);for(var s=["jump"],a=0;a<s.length;a++)$("."+s[a]).on("touchstart touchmove touchend",function(t){t.preventDefault(),$(this).trigger("click")});var h=new o.PIXI.Point(0,0),l=new o.PIXI.Point(0,0),u=new o.PIXI.Point(0,0);$(document).on("touchstart",function(t){1==t.touches.length&&(o.prevMouseLoc=o.mouseLoc,o.mouseLoc=new osmo.scroll.PIXI.Point(t.touches[0].clientX,t.touches[0].clientY),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),"focused"==osmo.scroll.hitPopupMode&&(o.isDragging=!0),osmo.legendsvg.highlightedLegendId&&"focused"!=osmo.scroll.hitPopupMode&&setTimeout(function(){osmo.legendsvg.removeHighlight()},100)),2==t.touches.length&&(o.prevMouseLoc=new osmo.scroll.PIXI.Point(-1,-1),o.mouseLoc=new osmo.scroll.PIXI.Point(-1,-1),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),"focused"==osmo.scroll.hitPopupMode&&(o.isDragging=!1),h.x=(t.touches[0].clientX+t.touches[1].clientX)/2,h.y=(t.touches[0].clientY+t.touches[1].clientY)/2)}),$(document).on("touchmove",function(t){var e,i,n,r,s;1==t.touches.length&&(o.prevMouseLoc=o.mouseLoc,o.mouseLoc=new osmo.scroll.PIXI.Point(t.touches[0].clientX,t.touches[0].clientY),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),"focused"==osmo.scroll.hitPopupMode&&osmo.legendinteract.dragMode&&o.isDragging&&(e=!0,(e=null!=osmo.mc&&osmo.mc.dragging?!1:e)&&(i=o.mouseLoc.x-o.prevMouseLoc.x,n=-1*(o.mouseLoc.y-o.prevMouseLoc.y),e=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y),osmo.scroll.mainStage.position=osmo.pzinteract.calculateCenter(e,i,n,1.005*osmo.scroll.pixiScale,!1)))),2==t.touches.length&&(i=new o.PIXI.Point(0,0),n=t,"focused"!=osmo.scroll.hitPopupMode?(o.prevMouseLoc=new osmo.scroll.PIXI.Point(-1,-1),o.mouseLoc=new osmo.scroll.PIXI.Point(-1,-1),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),i.x=(t.touches[0].clientX+t.touches[1].clientX)/2,i.y=(t.touches[0].clientY+t.touches[1].clientY)/2,r=h.x-i.x,s=h.y-i.y,h.x=i.x,h.y=i.y,l.x=-1,l.y=-1,u.x=-1,u.y=-1,n.type="mousewheel",n.deltaX=r,n.deltaY=s):(o.isDragging=!1,i.x=(t.touches[0].clientX+t.touches[1].clientX)/2,i.y=(t.touches[0].clientY+t.touches[1].clientY)/2,o.prevMouseLoc=o.mouseLoc,o.mouseLoc=new osmo.scroll.PIXI.Point(i.x,i.y),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),-1==l.x&&(l.x=t.touches[0].clientX),-1==l.y&&(l.y=t.touches[0].clientY),-1==u.x&&(u.x=t.touches[1].clientX),-1==u.y&&(u.y=t.touches[1].clientY),r=l.x-t.touches[0].clientX,s=l.y-t.touches[0].clientY,r=-1*(u.x-t.touches[1].clientX-r)/2,s=-1*(u.y-t.touches[1].clientY-s)/2,h.x=i.x,h.y=i.y,l.x=t.touches[0].clientX,l.y=t.touches[0].clientY,u.x=t.touches[1].clientX,u.y=t.touches[1].clientY,n.type="mousewheel",n.deltaX=r,n.deltaY=s),n.originalEvent=JSON.parse(JSON.stringify(t)),o.onOsmoScroll(o,n))}),$(document).on("touchend touchcancel",function(t){1==t.touches.length&&(o.prevMouseLoc=new osmo.scroll.PIXI.Point(-1,-1),o.mouseLoc=new osmo.scroll.PIXI.Point(-1,-1),$(".cursor-pointer-wrapper").css("transform","translate3d("+o.mouseLoc.x+"px, "+o.mouseLoc.y+"px, 0px)"),"focused"==osmo.scroll.hitPopupMode&&(o.isDragging=!1))}),$("#main-scroll-canvas").on("wheel",function(t){o.onOsmoScroll(o,t)}),document.addEventListener("keydown",this.onKeyDown)}},{key:"onOsmoScroll",value:function(t,e){var i,n,r,s,o;osmo.scroll.started&&osmo.scroll.loaded.svgdata&&osmo.scroll.loaded.HQimage&&($("#scrollm").is(":visible")&&$("#scrollm").hide(),t.disableMaskInteractions(),t.navScrolledUpdate&&"focused"!=osmo.scroll.hitPopupMode&&(t.navScrolledUpdate=!1,setTimeout(function(){osmo.navinteract.scrollNavEffect()},50),clearTimeout($.data(this,"scrollTimer")),$.data(this,"scrollTimer",setTimeout(function(){osmo.navinteract.updateBasetrack()},250)),clearTimeout($.data(this,"scrollTimerLong")),$.data(this,"scrollTimerLong",setTimeout(function(){osmo.pzinteract.enableMaskInteractions()},500))),e=window.isMobile?e:e.originalEvent,"focused"!=osmo.scroll.hitPopupMode?(s=Math.abs(e.deltaY)>Math.abs(e.deltaX)?(r=e.deltaY,e.deltaY):(r=e.deltaX,e.deltaX),n=r,osmo.pzinteract.isTrackpadDetected||(n*=-1),i=new osmo.scroll.PIXI.Point(osmo.scroll.mainStage.position.x,osmo.scroll.mainStage.position.y),osmo.scroll.mainStage.position=osmo.pzinteract.calculateCenter(i,n,0,1.005*osmo.scroll.pixiScale)):(r=e.deltaX,s=e.deltaY,i=osmo.pzinteract.mouseLoc.x*osmo.scroll.pixiScale,n=osmo.pzinteract.mouseLoc.y*osmo.scroll.pixiScale,r=s,osmo.pzinteract.isTrackpadDetected||(r*=-1),e=osmo.legendinteract.currentFocus,osmo.scroll.datasets[e].hasOwnProperty("zoom")?(osmo.scroll.datasets[e].zoom.default,s=osmo.scroll.datasets[e].zoom.min,o=osmo.scroll.datasets[e].zoom.max,osmo.pzinteract.changeZoomAt(i,n,r,!1,s/100,o/100)):(o=parseInt(osmo.legendsvg.popupBBoxes[e].dimensions[0].width),o*=osmo.scroll.pixiHeight/osmo.scroll.refPopupSize.height,e=.5*osmo.scroll.pixiWidth/o,o=t.minZoom*e/osmo.scroll.pixiScale,e=t.maxZoom*e/osmo.scroll.pixiScale,osmo.pzinteract.changeZoomAt(i,n,r,!1,o,e))))}},{key:"onKeyDown",value:function(t){var e,i;!t.ctrlKey&&!t.metaKey||"61"!=t.which&&"107"!=t.which&&"173"!=t.which&&"109"!=t.which&&"187"!=t.which&&"189"!=t.which||(console.log("Pressed "+t.which+" - disabling zoom"),t.preventDefault(),osmo.pzinteract,"focused"==osmo.scroll.hitPopupMode&&(i=!1,e=0,!t.ctrlKey&&!t.metaKey||"="!==t.key&&"+"!==t.key||(console.log("Zooming in"),e=-50,i=!0),!t.ctrlKey&&!t.metaKey||"-"!==t.key&&"_"!==t.key||(console.log("Zooming out"),e=50,i=!0),i&&(t=osmo.pzinteract.mouseLoc.x*osmo.scroll.pixiScale,i=osmo.pzinteract.mouseLoc.y*osmo.scroll.pixiScale,osmo.pzinteract.changeZoomAt(t,i,e,!0))))}},{key:"averageDelta",value:function(){}},{key:"disableMaskInteractions",value:function(){if(osmo.legendsvg.maskContainer.visible){osmo.legendsvg.removeHighlight();for(var t=Object.keys(osmo.scroll.mainScroll).length,e=0;e<t;e++)osmo.scroll.mainScroll["part"+(e+1)].alpha=1;osmo.legendsvg.maskContainer.visible=!1,osmo.legendsvg.legendContainer.visible=!1;for(var i=0;i<osmo.legendsvg.legendFiles.length;i++)osmo.legendsvg.legendFiles[i].visible&&(osmo.legendsvg.legendFiles[i].visible=!1)}}},{key:"enableMaskInteractions",value:function(){0==osmo.legendsvg.maskContainer.visible&&(osmo.legendsvg.maskContainer.visible=!0,console.log("Enabled mask after 500ms"))}},{key:"calculateCenter",value:function(t,e,i,n){var r=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=osmo.datasvg.scrollWidth,o=osmo.scroll.pixiWidth,a=osmo.scroll.pixiScale,i=new this.PIXI.Point(e,-i);return i.multiplyScalar(n,i),t.add(i,t),r&&(0<t.x&&(t.x=0),t.x<-1*(s*a-3*o/4)&&(t.x=-1*(s*a-3*o/4))),t}},{key:"calculateZoom",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length?arguments[3]:void 0,r=4<arguments.length?arguments[4]:void 0,s=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];i+=Math.abs(.01*e);t=0<e?t/i:e<0?t*i:t;return t=s&&(t=t<=this.defaultZoom*n?this.defaultZoom*n:t)>this.defaultZoom*r?this.defaultZoom*r:t}},{key:"changeZoomAt",value:function(t,e,i){var n,r,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:this.minZoom,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:this.maxZoom,h=osmo.scroll.mainStage.scale.x,i=osmo.pzinteract.calculateZoom(h,i,1,o,a,!0),h=new osmo.scroll.PIXI.Point((t-osmo.scroll.mainStage.x)/h,(e-osmo.scroll.mainStage.y)/h),h=new osmo.scroll.PIXI.Point(h.x*i+osmo.scroll.mainStage.x,h.y*i+osmo.scroll.mainStage.y);return s?(n=i/this.defaultZoom,this.TWEENMAX.to(osmo.scroll.mainStage.position,.5,{x:osmo.scroll.mainStage.x-(h.x-t),y:osmo.scroll.mainStage.y-(h.y-e),ease:this.POWER4.easeInOut}),this.TWEENMAX.to(osmo.scroll.mainStage.scale,.5,{x:i,y:i,ease:this.POWER4.easeInOut}),osmo.mc&&this.TWEENMAX.to(osmo.mc.moleculeContainer.scale,.5,{x:1/n,y:1/n,ease:this.POWER4.easeInOut}),r=this,setTimeout(function(){$("#zoom-level").text(parseInt(100*n).toString()+"%"),r.updateSoundArea(),console.log(n+" "+o+" "+a),n<=o?($("#zoom-out").attr("disabled",!0),$("#zoom-out").removeClass("zoom-active"),$("#zoom-out").addClass("zoom-inactive")):a<=n?($("#zoom-in").attr("disabled",!0),$("#zoom-in").removeClass("zoom-active"),$("#zoom-in").addClass("zoom-inactive")):($("#zoom-in").is(":disabled")&&($("#zoom-in").attr("disabled",!1),$("#zoom-in").removeClass("zoom-inactive"),$("#zoom-in").addClass("zoom-active")),$("#zoom-out").is(":disabled")&&($("#zoom-out").attr("disabled",!1),$("#zoom-out").removeClass("zoom-inactive"),$("#zoom-out").addClass("zoom-active")))},500)):(osmo.scroll.mainStage.x-=h.x-t,osmo.scroll.mainStage.y-=h.y-e,osmo.scroll.mainStage.scale.x=osmo.scroll.mainStage.scale.y=i,e=osmo.scroll.mainStage.scale.x/this.defaultZoom,$("#zoom-level").text(parseInt(100*e).toString()+"%"),e<=o?($("#zoom-out").attr("disabled",!0),$("#zoom-out").removeClass("zoom-active"),$("#zoom-out").addClass("zoom-inactive")):a<=e?($("#zoom-in").attr("disabled",!0),$("#zoom-in").removeClass("zoom-active"),$("#zoom-in").addClass("zoom-inactive")):($("#zoom-in").is(":disabled")&&($("#zoom-in").attr("disabled",!1),$("#zoom-in").removeClass("zoom-inactive"),$("#zoom-in").addClass("zoom-active")),$("#zoom-out").is(":disabled")&&($("#zoom-out").attr("disabled",!1),$("#zoom-out").removeClass("zoom-inactive"),$("#zoom-out").addClass("zoom-active"))),osmo.mc&&osmo.mc.updateMoleculeScale(1/e),this.updateSoundArea()),i}},{key:"updateSoundArea",value:function(){var t,e,i=osmo.legendinteract.currentFocus;null!=i&&(t=osmo.legendsvg.popupBBoxes[i].maskScale,e=0,e="-1"===i?495:"0"===i?344:"64"===i?486:495,e-=2,osmo.soundareas&&osmo.soundareas.updatePositionAndScale(i,t,new osmo.scroll.PIXI.Point(e*t+3*osmo.scroll.pixiWidth/4,0)))}},{key:"resetZoom",value:function(){osmo.scroll.mainStage.scale.x=osmo.scroll.mainStage.scale.y=this.defaultZoom}},{key:"setZoomRange",value:function(t,e){this.minZoom=t,this.maxZoom=e}},{key:"detectTrackPad",value:function(t){var e=!1;t.wheelDeltaY?t.wheelDeltaY===-3*t.deltaY&&(e=!0):0===t.deltaMode&&(e=!0),console.log(e?"Trackpad detected":"Mousewheel detected"),osmo.pzinteract.isCompletedDetecting=!0,osmo.pzinteract.isTrackpadDetected=e,document.removeEventListener("wheel",osmo.pzinteract.detectTrackPad,!1),document.removeEventListener("DOMMouseScroll",osmo.pzinteract.detectTrackPad,!1)}},{key:"detectMouseType",value:function(){window.isMobile?(this.isCompletedDetecting=!0,this.isTrackpadDetected=!0):(document.addEventListener("wheel",osmo.pzinteract.detectTrackPad,!1),document.addEventListener("DOMMouseScroll",osmo.pzinteract.detectTrackPad,!1))}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],87:[function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default=function t(){s(this,t)},window.osmo=window.osmo||{},osmo.SpeakerMicroInteraction=function(){function t(){s(this,t),console.log("osmo.SpeakerMicroInteraction - constructor")}var e,i,n;return e=t,(i=[{key:"init",value:function(){console.log("init SpeakerMicroInteraction"),$(document).ready(function(){var t=!1,e=!1;$(".vlCtrl").mouseenter(function(){t=!0}),$(".vlCtrl").mouseleave(function(){t=!1,e||$(".vlCtrl").hide()}),$(".speaker").hover(function(){e=!0,$(".vlCtrl").show()},function(){e=!1,console.log("speaker off-hover, now check for vlCtrl"),setTimeout(function(){t&&!e||$(".vlCtrl").fadeOut()},1500)});function i(){return document.querySelector(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")}function d(t,e){return t+(e-t)*(2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)}var n=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{x:(+t.getAttribute("x1")+ +t.getAttribute("x2"))/2,y:(+t.getAttribute("y1")+ +t.getAttribute("y2"))/2}},r=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])){var e=t.getBBox();return{x:e.x+e.width/2,y:e.y+e.height/2}}t=t.getBoundingClientRect();return{x:t.width/2,y:t.height/2}},f={speakB:i("#speakB"),arcBigB:i("#arcBigB"),arcSmB:i("#arcSmB"),speakF:i("#speakF"),arcBigF:i("#arcBigF"),arcSmF:i("#arcSmF"),crossLtRb:i("#crossLtRb"),crossLbRt:i("#crossLbRt"),ctrlCirce:i("#ctrlCirce"),ctrlLineF:i("#ctrlLineF"),ctrlLineB:i("#ctrlLineB")},m={arcBigLen:f.arcBigF.getTotalLength(),arcSmLen:f.arcSmF.getTotalLength(),speakLen:f.speakF.getTotalLength()},g=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"px";return"translate(".concat(t).concat(i,", ").concat(e).concat(i,")")},_=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return"scale(".concat(t,", ").concat(e,")")},y=function(t,e,i,n){var r=(t/=n)*t,n=r*t;return e+i*(1.7*n*r-2.05*r*r+1.5*n-.2*r+.05*t)},v=function(t,e,i,n){var r=(t/=n)*t,n=r*t;return e+i*(33*n*r+-106*r*r+126*n+-67*r+15*t)},b=function(t,e,i,n){var r=(t/=n)*t,n=r*t;return e+i*(81*n*r+-210*r*r+190*n+-70*r+10*t)},x={dx:.2,ds:.03,flag:!0,step:0,speed:5,curPosBig:{x:0,y:0,scale:1},curPosSm:{x:0,y:0,scale:1},curPos:1,prevPos:1,off:!1,offCurStep:100,offMaxStep:100,offSpeed:2,offRefresh:function(){this.offCurStep=this.offMaxStep,this.off=!0},on:!1,onCurStep:0,onMaxStep:20,onSpeed:2,onRefresh:function(){this.off=!1,this.onCurStep=0,this.on=!0},pointLbRt:n(f.crossLbRt),pointLtRb:n(f.crossLtRb),animation:function(){var t,e,i,r,n,s,o,a,h,l,u,c,p=this;this.off?(osmo.scroll.TONE.getDestination().mute=!0,[f.arcBigB,f.arcBigF,f.arcSmB,f.arcSmF].forEach(function(t){t.setAttribute("visibility","hidden")}),[f.crossLbRt,f.crossLtRb].forEach(function(t){t.setAttribute("visibility","visible")}),t=m.speakLen,n=this.offMaxStep-20,this.offCurStep>=this.offMaxStep-20&&(e=(20+this.offCurStep-this.offMaxStep)/20,i=d(1,.7,1-e),f.speakF.setAttribute("stroke-dasharray",t*e+","+1.05*t),f.speakF.setAttribute("stroke-dashoffset",-t*(1-e)/2+""),f.speakB.setAttribute("stroke-dasharray",t*i+","+1.05*t),f.speakB.setAttribute("stroke-dashoffset",-t*(1-i)/2+"")),this.offCurStep<n&&this.offCurStep>=n-20&&(i=1-(this.offCurStep-n+20)/20,i=d(.7,1,i),f.speakB.setAttribute("stroke-dasharray",t*i+","+1.05*t),f.speakB.setAttribute("stroke-dashoffset",-t*(1-i)/2+"")),this.offCurStep<n&&0<=this.offCurStep&&(f.speakF.setAttribute("visibility","hidden"),r=this.offCurStep/n,[f.crossLbRt,f.crossLtRb].forEach(function(t,e){var i=v(1-r,0,1,1),n=0==e?b(1-r,-3,3,1):b(1-r,-2,2,1),e=0==e?b(1-r,-2,2,1):b(1-r,2,-2,1),n=-p.pointLbRt.x*(i-1)+n,e=-p.pointLbRt.y*(i-1)+e;t.setAttribute("transform",g(n,e,"")+_(i,i))})),this.offCurStep+=-this.offSpeed):(this.on&&([f.speakF,f.arcBigB,f.arcSmB,f.arcSmF].forEach(function(t){t.setAttribute("visibility","visible")}),[f.crossLbRt,f.crossLtRb].forEach(function(t){t.setAttribute("visibility","hidden"),t.setAttribute("transform","scale(0)")}),l=this.onCurStep/this.onMaxStep,f.speakF.setAttribute("stroke-dasharray",(n=m.speakLen)*l+","+1.05*n),f.speakF.setAttribute("stroke-dashoffset",-n*(1-l)/2+""),this.onCurStep+=this.onSpeed),this.step>=this.speed&&(this.flag=!this.flag,this.step=0),l=this.step/this.speed,u=1-y(1-this.curPos,0,1,.5),c=1-y(1-this.curPos,0,1,1),this.curPos<.5&&(u=0),(c<=0||!c)&&(c=0),osmo.scroll.TONE.getDestination().mute&&(osmo.scroll.TONE.getDestination().mute=!1),this.prevPos!=this.curPos&&(console.log("Changed volume - "+this.curPos),osmo.scroll.TONE.getDestination().volume.value=osmo.scroll.map(this.curPos,0,1,osmo.scroll.Volume_db.min,osmo.scroll.Volume_db.max),localStorage.setItem("master_volume",this.curPos)),this.prevPos=this.curPos,h=this.flag?(s=d(0,3*this.dx,l),o=d(0,2*-this.dx,l),a=d(0,this.ds,l),d(0,-this.ds,l)):(s=d(3*this.dx,0,l),o=d(2*-this.dx,0,l),a=d(this.ds,0,l),d(-this.ds,0,l)),[f.arcBigF,f.arcBigB].forEach(function(t){var e=p.curPosBig.scale+a*u,i=-T.pointBig.y*(e-1)*1.5;t.setAttribute("transform",g(p.curPosBig.x+s*u,i,"")+_(e,e))}),[f.arcSmF,f.arcSmB].forEach(function(t){var e=p.curPosSm.scale+h*c,i=-T.pointSm.y*(e-1)*3;t.setAttribute("transform",g(p.curPosSm.x+o*c,i,"")+_(e,e))}),this.step++),requestAnimationFrame(this.animation.bind(x))}};requestAnimationFrame(x.animation.bind(x));var T={dx:0,maxX:+f.ctrlLineB.getAttribute("x2"),minX:+f.ctrlLineB.getAttribute("x1"),curCx:+f.ctrlCirce.getAttribute("cx"),pointBig:r(f.arcBigF),pointSm:r(f.arcSmF),interact:!1,animateDrag:function(){var e=this;this.curCx+=this.dx;var t=this.curCx,i=m.arcSmLen,n=m.arcBigLen,r=((t=(t=t>this.maxX?this.maxX:t)<this.minX?this.minX:t)-this.minX)/(this.maxX-this.minX);x.curPos=r,f.ctrlCirce.setAttribute("cx",t),f.ctrlLineF.setAttribute("x2",t);var s,o=d(1,.85,1-r),a=d(0,-3,1-r),h=d(0,-1,1-r);[f.arcBigF,f.arcBigB].forEach(function(t){x.curPosBig.x=-e.pointBig.x*(o-1)+a,x.curPosBig.y=-e.pointBig.y*(o-1)*1.5,x.curPosBig.scale=o,t.setAttribute("transform",g(x.curPosBig.x,x.curPosBig.y,"")+_(o,o))}),[f.arcSmF,f.arcSmB].forEach(function(t){x.curPosSm.x=-e.pointSm.x*(o-1)+h,x.curPosSm.y=-e.pointSm.y*(o-1)*3,x.curPosSm.scale=o,t.setAttribute("transform",g(x.curPosSm.x,x.curPosSm.y,"")+_(o,o))}),.5<r&&(x.off&&x.onRefresh(),s=d(1,-1,1-r),f.arcBigF.setAttribute("visibility","visible"),f.arcSmF.setAttribute("visibility","visible"),f.arcBigF.setAttribute("stroke-dasharray",n*s+","+1.05*n),f.arcBigF.setAttribute("stroke-dashoffset",-n*(1-s)/2+""),f.arcSmF.setAttribute("stroke-dasharray",i+""),f.arcSmF.setAttribute("stroke-dashoffset","0")),r<=.5&&0<r&&(x.off&&x.onRefresh(),s=d(1,0,1-2*r),f.arcBigF.setAttribute("visibility","hidden"),f.arcSmF.setAttribute("visibility","visible"),f.arcSmF.setAttribute("stroke-dasharray",i*s+","+1.05*i),f.arcSmF.setAttribute("stroke-dashoffset",-i*(1-s)/2+"")),r<=0&&(f.arcSmF.setAttribute("visibility","hidden"),0==x.off&&x.offRefresh())}},n=localStorage.getItem("master_volume");null==n?n=(T.curCx-T.minX)/(T.maxX-T.minX):(r=(T.maxX-T.minX)*n,f.ctrlLineF.setAttribute("x2",r),f.ctrlCirce.setAttribute("cx",r),T.curCx=r),console.log("Current Volume = "+n),osmo.scroll.TONE.getDestination().volume.value=osmo.scroll.map(n,0,1,osmo.scroll.Volume_db.min,osmo.scroll.Volume_db.max),$(document).on("mousedown touchstart","#ctrlCirce, #ctrlLineB, #ctrlLineF",function(t){var e=-1*(t.pageY||t.originalEvent.touches[0].pageY);T.interact=!0,this!=f.ctrlLineB&&this!=f.ctrlLineF||(t=((t=f.ctrlCirce.getBoundingClientRect()).left+t.right)/2,T.dx=e-t,T.animateDrag()),$(document).on("mousemove touchmove",function(t){t=-1*(t.pageY||t.originalEvent.touches[0].pageY);T.dx=t-e,e=t,T.animateDrag()}),$(document).on("mouseup touchend",function(t){T.curCx<T.minX&&(T.curCx=T.minX),T.curCx>T.maxX&&(T.curCx=T.maxX),setTimeout(function(){$(".vlCtrl").fadeOut()},1500)})});var s={flag:!0,last:0};$(document).on("mousedown touchstart",".speaker",function(t){T.interact=!0,T.dx=0,s.flag?(s.flag=!1,s.last=T.curCx,T.curCx=0):(s.flag=!0,T.curCx=s.last),T.animateDrag()})})}}])&&r(e.prototype,i),n&&r(e,n),t}()},{}],88:[function(t,e,i){"use strict";var n,r=(n=t("jquery"))&&n.__esModule?n:{default:n};window.jQuery=r.default,window.$=r.default},{jquery:51}],89:[function(t,e,i){"use strict";var n;t("./jquery-global.js"),t("./OsmoScroll"),window.osmo=window.osmo||{},window.isMobile=(n=!1,function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n),window.onload=function(){console.log("Window loaded"),window.version=$("#versionid").text();var t='<div id="preload_spinner"><div id="percentage" style="color: #fff; font-weight: 400; font-family: \'Roboto\';"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #fff"></div><div class="sk-child sk-bounce2" style="background-color: #fff"></div><div class="sk-child sk-bounce3" style="background-color: #fff"></div></div></div>';!window.isMobile?(console.log("Loading screen for desktop"),window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:'<div id="main-inner-choice" style="display: block;font-family: \'Roboto\'; font-weight: 300;"><div id="preload_spinner"><div id="percentage" style="color: #fff; font-weight: 400; font-family: \'Roboto\';"></div><br><div class="sk-three-bounce"><div class="sk-child sk-bounce1" style="background-color: #fff"></div><div class="sk-child sk-bounce2" style="background-color: #fff"></div><div class="sk-child sk-bounce3" style="background-color: #fff"></div></div></div><button type="button" class="start-action-button" id="start-btn" style="display: none;">Start</button></div>'})):(console.log("Loading screen for mobile"),window.loading_screen=window.pleaseWait({logo:"assets/images/OsmoSplash.png",backgroundColor:"#b4d2da",loadingHtml:t}),osmo.scroll.loadMQ()),osmo.scroll=new osmo.Scroll,osmo.scroll.init();t=$(".pg-loading-logo");osmo.scroll.splashWidth=t.outerWidth(),$("#start-btn").on("click",function(){osmo.scroll.start()}),$(window).on("resize",function(){window.location.reload(!0)})}},{"./OsmoScroll":76,"./jquery-global.js":88}]},{},[89]);